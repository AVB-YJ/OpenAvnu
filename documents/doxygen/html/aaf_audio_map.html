<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenAvnu: AAF audio Mapping</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenAvnu
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'검색');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>메인&#160;페이지</span></a></li>
      <li class="current"><a href="pages.html"><span>관련된&#160;페이지</span></a></li>
      <li><a href="modules.html"><span>모듈</span></a></li>
      <li><a href="namespaces.html"><span>네임스페이스</span></a></li>
      <li><a href="annotated.html"><span>데이타&#160;구조</span></a></li>
      <li><a href="files.html"><span>파일들</span></a></li>
      <li><a href="examples.html"><span>예제</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="검색" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('aaf_audio_map.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">AAF audio Mapping </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Description</h1>
<p>Implements AAF (or "AVTP Audio Format") as described in IEEE-1722a.</p>
<p>Works with the ALSA interface and the WAV file interface.</p>
<h1>Mapping module configuration parameters</h1>
<table class="doxtable">
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>map_nv_item_count </td><td>The number of Media Queue items to hold. </td></tr>
<tr>
<td>map_nv_tx_rate or map_nv_tx_interval </td><td>Transmit interval in frames per second. \ </td></tr>
</table>
<p>0 = default for talker class. <br />
 The transmit rate for \ the mapping module should be set according to the sample \ rate, so that the transmit interval meets the suggested \ values in 1722a </p><ul>
<li>
sample rate which are multiple of \ 8000Hz <ul>
<li>
8000 for class <b>A</b></li>
<li>
4000 for \ class <b>B</b></li>
</ul>
</li>
<li>
sample rate which are \ multiple of 44100Hz<ul>
<li>
7350 for class <b>A</b> \ </li>
<li>
3675 for class <b>B</b></li>
</ul>
</li>
</ul>
<p>map_nv_packing_factor|How many AVTP packets worth of audio data to accept in one Media Queue item</p>
<p><br />
 </p><h1>Notes</h1>
<p>There are additional parameters that have to be set by the interface module during the configuration process to ensure all sizes and rates calculate properly inside the mapping module. Those variables have to be set before <em>map_gen_init_cb</em> is being called. Commonly these additional values are set during the interface module configuration which does occur before the gen_init_cb.</p>
<p>These are the fields of the <a class="el" href="structmedia__q__pub__map__uncmp__audio__info__t.html">media_q_pub_map_uncmp_audio_info_t</a> structure that have to be set during the interface module configuration:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>audioRate </td><td>Rate of the audio <a class="el" href="openavb__audio__pub_8h.html#a6070f1cfbb6824de6f0b2524cd306903">avb_audio_rate_t</a> </td></tr>
<tr>
<td>audioType </td><td>How the data is organized - what is the data type of \ </td></tr>
</table>
<p>samples <a class="el" href="openavb__audio__pub_8h.html#a680efa0db2b29a63c5a0e8f11975682f">avb_audio_type_t</a> audioBitDepth |What is the bit depth of audio <a class="el" href="openavb__audio__pub_8h.html#ae64ee32f6ac9a6b2cf607f46ee4160bd">avb_audio_bit_depth_t</a> audioChannels |How many channels there are <a class="el" href="openavb__audio__pub_8h.html#a8cc6b9a1352da050ead620139f49acc4">avb_audio_channels_t</a> sparseMode |Timestamping mode <a class="el" href="openavb__map__aaf__audio_8c.html#af4359f8edef6a32baf92eb80ec13176a">avb_audio_sparse_mode_t</a></p>
<p>Below you can find description of how to set up those variables in interfaces</p><ul>
<li><a class="el" href="wav_file_intf.html">wav file interface</a></li>
<li><a class="el" href="alsa_intf.html">alsa interface</a></li>
</ul>
<p><b>Note</b>: If any of these fields are not set correct the mapping module will not configure the Media Queue correctly.</p>
<p><b>Note</b>: Both the talker and listener must be configured with matching audio parameters. If the received data on the listener does not match the configured parameters the stream will still be started and data will still flow but no audio will be played. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">다음에 의해 생성됨 : 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
