<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenAvnu: CppUTest</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenAvnu
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'검색');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>메인&#160;페이지</span></a></li>
      <li class="current"><a href="pages.html"><span>관련된&#160;페이지</span></a></li>
      <li><a href="modules.html"><span>모듈</span></a></li>
      <li><a href="namespaces.html"><span>네임스페이스</span></a></li>
      <li><a href="annotated.html"><span>데이타&#160;구조</span></a></li>
      <li><a href="files.html"><span>파일들</span></a></li>
      <li><a href="examples.html"><span>예제</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="검색" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_thirdparty_cpputest_README.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CppUTest </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CppUTest unit testing and mocking framework for C/C++</p>
<p><a href="http://cpputest.github.com">More information on the project page</a></p>
<p>Travis Linux build status: <a href="https://travis-ci.org/cpputest/cpputest"></a></p>
<p>AppVeyor Windows build status: <a href="https://ci.appveyor.com/project/basvodde/cpputest"></a></p>
<p>Coverage: <a href="https://coveralls.io/github/cpputest/cpputest?branch=master"></a></p>
<h2>Getting Started</h2>
<p>You'll need to do the following to get started:</p>
<p>Building from source (unix-based, cygwin, MacOSX):</p>
<ul>
<li>Download latest version</li>
<li>autogen.sh</li>
<li>configure</li>
<li>make</li>
<li>make check</li>
<li>You can use "make install" if you want to install CppUTest system-wide</li>
</ul>
<p>You can also use CMake, which also works for Windows Visual Studio.</p>
<ul>
<li>Download latest version</li>
<li>cmake CMakeList.txt</li>
<li>make</li>
</ul>
<p>Then to get started, you'll need to do the following:</p><ul>
<li>Add the include path to the Makefile. Something like:<ul>
<li>CPPFLAGS += -I(CPPUTEST_HOME)/include</li>
</ul>
</li>
<li>Add the memory leak macros to your Makefile (needed for additional debug info!). Something like:<ul>
<li>CXXFLAGS += -include /include/CppUTest/MemoryLeakDetectorNewMacros.h</li>
<li>CFLAGS += -include /include/CppUTest/MemoryLeakDetectorMallocMacros.h</li>
</ul>
</li>
<li>Add the library linking to your Makefile. Something like:<ul>
<li>LD_LIBRARIES = -L/lib -lCppUTest -lCppUTestExt</li>
</ul>
</li>
</ul>
<p>After this, you can write your first test:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{C++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TEST_GROUP(FirstTestGroup)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;};</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;TEST(FirstTestGroup, FirstTest)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;   FAIL(&quot;Fail me!&quot;);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div></div><!-- fragment --><h2>Command line switches</h2>
<ul>
<li>-v verbose, print each test name as it runs</li>
<li>-r# repeat the tests some number of times, default is one, default if # is not specified is 2. This is handy if you are experiencing memory leaks related to statics and caches.</li>
<li>-g group only run test whose group contains the substring group</li>
<li>-n name only run test whose name contains the substring name</li>
</ul>
<h2>Test Macros</h2>
<ul>
<li><a class="el" href="_utest_macros_8h.html#a13fb650bc56807117ccc8c53d4c957c9">TEST(group, name)</a> - define a test</li>
<li><a class="el" href="_utest_macros_8h.html#aa11fb982f62c73d1fd75103b428c3213">IGNORE_TEST(group, name)</a> - turn off the execution of a test</li>
<li><a class="el" href="_utest_macros_8h.html#a109b3c7ca51a87da0abc0a229663d7fd">TEST_GROUP(group)</a> - Declare a test group to which certain tests belong. This will also create the link needed from another library.</li>
<li><a class="el" href="_utest_macros_8h.html#a6fc66592d3cf110552a1c2a896ece04d" title="Define a group of tests. ">TEST_GROUP_BASE(group, base)</a> - Same as TEST_GROUP, just use a different base class than <a class="el" href="class_utest.html">Utest</a></li>
<li><a class="el" href="_utest_macros_8h.html#abb5b7b11b5ba4cbee48b5ba704eaf322">TEST_SETUP()</a> - Declare a void setup method in a TEST_GROUP - this is the same as declaring void setup()</li>
<li><a class="el" href="_utest_macros_8h.html#a87441b01f60d9bdae8f0a74b9c429a56">TEST_TEARDOWN()</a> - Declare a void setup method in a TEST_GROUP</li>
<li><a class="el" href="_utest_macros_8h.html#a54a7b59102557310a5b8fe7e26a7045e">IMPORT_TEST_GROUP(group)</a> - Export the name of a test group so it can be linked in from a library. Needs to be done in main.</li>
</ul>
<h2>Set up and tear down support</h2>
<ul>
<li>Each TEST_GROUP may contain a setup and/or a teardown method.</li>
<li>setup() is called prior to each TEST body and teardown() is called after the test body.</li>
</ul>
<h2>Assertion Macros</h2>
<p>The failure of one of these macros causes the current test to immediately exit</p>
<ul>
<li><a class="el" href="_utest_macros_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK(boolean condition)</a> - checks any boolean result</li>
<li><a class="el" href="_utest_macros_8h.html#a92bdfb028cbcf7f3afb0c0646f75bd51">CHECK_TRUE(boolean condition)</a> - checks for true</li>
<li><a class="el" href="_utest_macros_8h.html#a09b0ff9e6719b11399ebfa571d397a04">CHECK_FALSE(boolean condition)</a> - checks for false</li>
<li><a class="el" href="_utest_macros_8h.html#ad8fa79f5d491cc01af302832785e90fe">CHECK_EQUAL(expected, actual)</a> - checks for equality between entities using ==. So if you have a class that supports <a class="el" href="_simple_string_8cpp.html#a8bb3fb55107a2023bb828539fa6fe045">operator==()</a> you can use this macro to compare two instances.</li>
<li><a class="el" href="_utest_macros_8h.html#ade1dda09c948fee9ceb853bc6dd5f3cb">STRCMP_EQUAL(expected, actual)</a> - check const char* strings for equality using strcmp</li>
<li><a class="el" href="_utest_macros_8h.html#a7921a0c4f152a7879e78fe6fc2905590">LONGS_EQUAL(expected, actual)</a> - Compares two numbers</li>
<li><a class="el" href="_utest_macros_8h.html#ab5c5a937e779cb320e847355f40107b0">BYTES_EQUAL(expected, actual)</a> - Compares two numbers, eight bits wide</li>
<li><a class="el" href="_utest_macros_8h.html#a90ab7c47dd5332b46f916b8976c5a242">POINTERS_EQUAL(expected, actual)</a> - Compares two const void *</li>
<li><a class="el" href="_utest_macros_8h.html#a64bb32929e2c1f2ed5521a27e775327e">DOUBLES_EQUAL(expected, actual, tolerance)</a> - Compares two doubles within some tolerance</li>
<li><a class="el" href="_utest_macros_8h.html#a5b870ba9f143d10f76df4fa5aa01d58f">FAIL(text)</a> - always fails</li>
<li>TEST_EXIT - Exit the test without failure - useful for contract testing (implementing an assert fake)</li>
</ul>
<p>Customize CHECK_EQUAL to work with your types that support <a class="el" href="_simple_string_8cpp.html#a8bb3fb55107a2023bb828539fa6fe045">operator==()</a></p>
<ul>
<li>Create the function: <code><a class="el" href="class_simple_string.html">SimpleString</a> StringFrom(const yourType&amp;)</code></li>
</ul>
<p>The Extensions directory has a few of these.</p>
<h2>Building default checks with <a class="el" href="class_test_plugin.html">TestPlugin</a></h2>
<ul>
<li>CppUTest can support extra checking functionality by inserting TestPlugins</li>
<li><a class="el" href="class_test_plugin.html">TestPlugin</a> is derived from the <a class="el" href="class_test_plugin.html">TestPlugin</a> class and can be inserted in the <a class="el" href="class_test_registry.html">TestRegistry</a> via the installPlugin method.</li>
<li>TestPlugins can be used for, for example, system stability and resource handling like files, memory or network connection clean-up.</li>
<li>In CppUTest, the memory leak detection is done via a default enabled <a class="el" href="class_test_plugin.html">TestPlugin</a></li>
</ul>
<p>Example of a main with a <a class="el" href="class_test_plugin.html">TestPlugin</a>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{C++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;int main(int ac, char** av)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   LogPlugin logPlugin;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   TestRegistry::getCurrentRegistry()-&gt;installPlugin(&amp;logPlugin);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;   int result = CommandLineTestRunner::RunAllTests(ac, av);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;   TestRegistry::getCurrentRegistry()-&gt;resetPlugins();</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;   return result;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div></div><!-- fragment --><p>Memory leak detection</p>
<ul>
<li>A platform specific memory leak detection mechanism is provided.</li>
<li>If a test fails and has allocated memory prior to the fail and that memory is not cleaned up by TearDown, a memory leak is reported. It is best to only chase memory leaks when other errors have been eliminated.</li>
<li>Some code uses lazy initialization and appears to leak when it really does not (for example: gcc stringstream used to in an earlier release). One cause is that some standard library calls allocate something and do not free it until after main (or never). To find out if a memory leak is due to lazy initialization set the -r switch to run tests twice. The signature of this situation is that the first run shows leaks and the second run shows no leaks. When both runs show leaks, you have a leak to find.</li>
</ul>
<h2>How is memory leak detection implemented?</h2>
<ul>
<li>Before setup() a memory usage checkpoint is recorded</li>
<li>After teardown() another checkpoint is taken and compared to the original checkpoint</li>
<li>In Visual Studio the MS debug heap capabilities are used</li>
<li>For GCC a simple new/delete count is used in overridden operators new, new[], delete and delete[]</li>
</ul>
<p>If you use some leaky code that you can't or won't fix you can tell a TEST to ignore a certain number of leaks as in this example:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{C++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;TEST(MemoryLeakWarningTest, Ignore1)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    EXPECT_N_LEAKS(1);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    char* arrayToLeak1 = new char[100];</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div></div><!-- fragment --><h2>Example Main</h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{C++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &quot;CppUTest/CommandLineTestRunner.h&quot;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;int main(int ac, char** av)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  return RUN_ALL_TESTS(ac, av);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div></div><!-- fragment --><h2>Example Test</h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{C++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &quot;CppUTest/TestHarness.h&quot;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;#include &quot;ClassName.h&quot;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;TEST_GROUP(ClassName)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  ClassName* className;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  void setup()</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    className = new ClassName();</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  }</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  void teardown()</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    delete className;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;TEST(ClassName, Create)</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  CHECK(0 != className);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  CHECK(true);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  CHECK_EQUAL(1,1);</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  LONGS_EQUAL(1,1);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  DOUBLES_EQUAL(1.000, 1.001, .01);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  STRCMP_EQUAL(&quot;hello&quot;, &quot;hello&quot;);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  FAIL(&quot;The prior tests pass, but this one doesn&#39;t&quot;);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div></div><!-- fragment --><p>There are some scripts that are helpful in creating your initial h, cpp, and Test files. See scripts/README.TXT </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">다음에 의해 생성됨 : 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
