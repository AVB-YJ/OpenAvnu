\hypertarget{packet_8cpp}{}\section{daemons/gptp/windows/daemon\+\_\+cl/packet.cpp 파일 참조}
\label{packet_8cpp}\index{daemons/gptp/windows/daemon\+\_\+cl/packet.\+cpp@{daemons/gptp/windows/daemon\+\_\+cl/packet.\+cpp}}
{\ttfamily \#include \char`\"{}packet.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}platform.\+hpp\char`\"{}}\\*
{\ttfamily \#include $<$pcap.\+h$>$}\\*
{\ttfamily \#include \char`\"{}iphlpapi.\+h\char`\"{}}\\*
packet.\+cpp에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8cpp__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpacket__handle}{packet\+\_\+handle}
\end{DoxyCompactItemize}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}~96
\item 
\#define \hyperlink{packet_8cpp_aa3576fdd7d3351cb720ad2ade6e6dfc2}{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX}~\char`\"{}rpcap\+://\textbackslash{}\textbackslash{}Device\textbackslash{}\textbackslash{}\+N\+P\+F\+\_\+\char`\"{}
\item 
\#define \hyperlink{packet_8cpp_a40de24833d10a9063ccc50589c785186}{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}~20
\item 
\#define \hyperlink{packet_8cpp_a86119875910fd0cd93ca079a99c9552a}{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}~38
\item 
\#define \hyperlink{packet_8cpp_a239266ad4e0bcfa53eb9fef2151b5539}{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH}~\hyperlink{packet_8cpp_a40de24833d10a9063ccc50589c785186}{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}+\hyperlink{packet_8cpp_a86119875910fd0cd93ca079a99c9552a}{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\+\_\+error\+\_\+t} \hyperlink{packet_8cpp_a690d2b722b8729de51e1b9a47b0611cc}{malloc\+Packet\+Handle} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$$\ast$phandle)
\item 
void \hyperlink{packet_8cpp_a2b76c3d59907f953f29eb88fe9c1d2b5}{free\+Packet\+Handle} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
\hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\+\_\+error\+\_\+t} \hyperlink{packet_8cpp_a31fcce4e604707ab63353ca20a923768}{open\+Interface\+By\+Addr} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle}, \hyperlink{structpacket__addr__t}{packet\+\_\+addr\+\_\+t} $\ast$addr, int \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout})
\item 
void \hyperlink{packet_8cpp_ab5df25239dc1de14858c163e5f9c683c}{close\+Interface} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$pfhandle)
\item 
\hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\+\_\+error\+\_\+t} \hyperlink{packet_8cpp_acd8c9e210db20c3a7ff00f5dfe3076bf}{send\+Frame} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle}, \hyperlink{structpacket__addr__t}{packet\+\_\+addr\+\_\+t} $\ast$addr, uint16\+\_\+t \hyperlink{rawsock__tx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype}, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$payload, size\+\_\+t length)
\item 
\hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\+\_\+error\+\_\+t} \hyperlink{packet_8cpp_a1b3c89cf335c66684896187ccbbec3fc}{packet\+Bind} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle}, uint16\+\_\+t \hyperlink{rawsock__tx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype})
\begin{DoxyCompactList}\small\item\em Set filters for packet handler. \end{DoxyCompactList}\item 
\hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\+\_\+error\+\_\+t} \hyperlink{packet_8cpp_a94b6be1e30ff3ec7c10bdf0b0b77d847}{recv\+Frame} (struct \hyperlink{structpacket__handle}{packet\+\_\+handle} $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle}, \hyperlink{structpacket__addr__t}{packet\+\_\+addr\+\_\+t} $\ast$addr, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$payload, size\+\_\+t \&length)
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{packet.\+cpp@{packet.\+cpp}!M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}}
\index{M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}{MAX_FRAME_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE~96}\hypertarget{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{}\label{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}


packet.\+cpp 파일의 41 번째 라인에서 정의되었습니다.

\index{packet.\+cpp@{packet.\+cpp}!W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH}}
\index{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH}{WINPCAP_INTERFACENAME_LENGTH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+TH~{\bf W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}+{\bf W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}}\hypertarget{packet_8cpp_a239266ad4e0bcfa53eb9fef2151b5539}{}\label{packet_8cpp_a239266ad4e0bcfa53eb9fef2151b5539}


packet.\+cpp 파일의 46 번째 라인에서 정의되었습니다.

\index{packet.\+cpp@{packet.\+cpp}!W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX}}
\index{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX}{WINPCAP_INTERFACENAMEPREFIX}}]{\setlength{\rightskip}{0pt plus 5cm}\#define W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+IX~\char`\"{}rpcap\+://\textbackslash{}\textbackslash{}Device\textbackslash{}\textbackslash{}\+N\+P\+F\+\_\+\char`\"{}}\hypertarget{packet_8cpp_aa3576fdd7d3351cb720ad2ade6e6dfc2}{}\label{packet_8cpp_aa3576fdd7d3351cb720ad2ade6e6dfc2}


packet.\+cpp 파일의 43 번째 라인에서 정의되었습니다.

\index{packet.\+cpp@{packet.\+cpp}!W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}}
\index{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}{WINPCAP_INTERFACENAMEPREFIX_LENGTH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+P\+R\+E\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH~20}\hypertarget{packet_8cpp_a40de24833d10a9063ccc50589c785186}{}\label{packet_8cpp_a40de24833d10a9063ccc50589c785186}


packet.\+cpp 파일의 44 번째 라인에서 정의되었습니다.

\index{packet.\+cpp@{packet.\+cpp}!W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}}
\index{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH@{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH}{WINPCAP_INTERFACENAMESUFFIX_LENGTH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define W\+I\+N\+P\+C\+A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+N\+A\+M\+E\+S\+U\+F\+F\+I\+X\+\_\+\+L\+E\+N\+G\+TH~38}\hypertarget{packet_8cpp_a86119875910fd0cd93ca079a99c9552a}{}\label{packet_8cpp_a86119875910fd0cd93ca079a99c9552a}


packet.\+cpp 파일의 45 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{packet.\+cpp@{packet.\+cpp}!close\+Interface@{close\+Interface}}
\index{close\+Interface@{close\+Interface}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{close\+Interface(struct packet\+\_\+handle $\ast$pfhandle)}{closeInterface(struct packet_handle *pfhandle)}}]{\setlength{\rightskip}{0pt plus 5cm}void close\+Interface (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$}]{pfhandle}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_ab5df25239dc1de14858c163e5f9c683c}{}\label{packet_8cpp_ab5df25239dc1de14858c163e5f9c683c}


packet.\+cpp 파일의 125 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
125                                                       \{
126     \textcolor{keywordflow}{if}( pfhandle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface} != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) pcap\_close( pfhandle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface} );
127 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8cpp_ab5df25239dc1de14858c163e5f9c683c_icgraph}
\end{center}
\end{figure}


\index{packet.\+cpp@{packet.\+cpp}!free\+Packet\+Handle@{free\+Packet\+Handle}}
\index{free\+Packet\+Handle@{free\+Packet\+Handle}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{free\+Packet\+Handle(struct packet\+\_\+handle $\ast$handle)}{freePacketHandle(struct packet_handle *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}void free\+Packet\+Handle (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_a2b76c3d59907f953f29eb88fe9c1d2b5}{}\label{packet_8cpp_a2b76c3d59907f953f29eb88fe9c1d2b5}


packet.\+cpp 파일의 78 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
78                                                       \{
79     CloseHandle( handle->\hyperlink{structpacket__handle_a010ab438d7d926a405d3e65b0f36923a}{capture\_lock} );
80     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}((\textcolor{keywordtype}{void} *) handle );
81 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8cpp_a2b76c3d59907f953f29eb88fe9c1d2b5_icgraph}
\end{center}
\end{figure}


\index{packet.\+cpp@{packet.\+cpp}!malloc\+Packet\+Handle@{malloc\+Packet\+Handle}}
\index{malloc\+Packet\+Handle@{malloc\+Packet\+Handle}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{malloc\+Packet\+Handle(struct packet\+\_\+handle $\ast$$\ast$phandle)}{mallocPacketHandle(struct packet_handle **phandle)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf packet\+\_\+error\+\_\+t} malloc\+Packet\+Handle (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$$\ast$}]{phandle}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_a690d2b722b8729de51e1b9a47b0611cc}{}\label{packet_8cpp_a690d2b722b8729de51e1b9a47b0611cc}


packet.\+cpp 파일의 58 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
58                                                                     \{
59     \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\_error\_t} ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a1d7065f5b2e237a9ae36fafa1557ef31}{PACKET\_NO\_ERROR};
60 
61     \hyperlink{structpacket__handle}{packet\_handle} *\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle} = (\textcolor{keyword}{struct }\hyperlink{structpacket__handle}{packet\_handle} *) 
      \hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}((\textcolor{keywordtype}{size\_t}) \textcolor{keyword}{sizeof}( *handle ));
62     \textcolor{keywordflow}{if}( handle == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \{
63         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a1e29cb5cd8121e71b5cbe91642df2d3e}{PACKET\_NOMEMORY\_ERROR};
64         \textcolor{keywordflow}{goto} fnexit;
65     \}
66     *phandle = \hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle};
67 
68     \textcolor{keywordflow}{if}(( handle->\hyperlink{structpacket__handle_a010ab438d7d926a405d3e65b0f36923a}{capture\_lock} = CreateMutex( \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )) == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \{
69         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a78dbb7eadc2a877206e4953211f16d39}{PACKET\_CREATEMUTEX\_ERROR};
70         \textcolor{keywordflow}{goto} fnexit;
71     \}
72     handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
73 
74 fnexit:
75     \textcolor{keywordflow}{return} ret;
76 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8cpp_a690d2b722b8729de51e1b9a47b0611cc_icgraph}
\end{center}
\end{figure}


\index{packet.\+cpp@{packet.\+cpp}!open\+Interface\+By\+Addr@{open\+Interface\+By\+Addr}}
\index{open\+Interface\+By\+Addr@{open\+Interface\+By\+Addr}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{open\+Interface\+By\+Addr(struct packet\+\_\+handle $\ast$handle, packet\+\_\+addr\+\_\+t $\ast$addr, int timeout)}{openInterfaceByAddr(struct packet_handle *handle, packet_addr_t *addr, int timeout)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf packet\+\_\+error\+\_\+t} open\+Interface\+By\+Addr (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$}]{handle, }
\item[{{\bf packet\+\_\+addr\+\_\+t} $\ast$}]{addr, }
\item[{int}]{timeout}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_a31fcce4e604707ab63353ca20a923768}{}\label{packet_8cpp_a31fcce4e604707ab63353ca20a923768}


packet.\+cpp 파일의 83 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
83                                                                                                      \{
84     \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\_error\_t} ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a1d7065f5b2e237a9ae36fafa1557ef31}{PACKET\_NO\_ERROR};
85     \textcolor{keywordtype}{char} name[\hyperlink{packet_8cpp_a239266ad4e0bcfa53eb9fef2151b5539}{WINPCAP\_INTERFACENAME\_LENGTH}+1] = \textcolor{stringliteral}{"\(\backslash\)0"};
86 
87     PIP\_ADAPTER\_ADDRESSES pAdapterAddress;
88     IP\_ADAPTER\_ADDRESSES AdapterAddress[32];       \textcolor{comment}{// Allocate information for up to 32 NICs}
89     DWORD dwBufLen = \textcolor{keyword}{sizeof}(AdapterAddress);  \textcolor{comment}{// Save memory size of buffer}
90 
91     DWORD dwStatus = GetAdaptersAddresses( AF\_UNSPEC, 0, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, AdapterAddress, &dwBufLen);
92 
93     \textcolor{keywordflow}{if}( dwStatus != ERROR\_SUCCESS ) \{
94         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27aab5a7d4cb28bb8a0c2ad073d2d7a9657}{PACKET\_IFLOOKUP\_ERROR};
95         \textcolor{keywordflow}{goto} fnexit;
96     \}
97 
98     \textcolor{keywordflow}{for}( pAdapterAddress = AdapterAddress; pAdapterAddress != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}; pAdapterAddress = pAdapterAddress->
      Next ) \{
99         \textcolor{keywordflow}{if}( pAdapterAddress->PhysicalAddressLength == \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS} &&
100             memcmp( pAdapterAddress->PhysicalAddress, addr->\hyperlink{structpacket__addr__t_ab8af51bba340e97aebc45b9c943fb17c}{addr}, 
      \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS} ) == 0 ) \{
101             \textcolor{keywordflow}{break};
102         \}
103     \}
104 
105     \textcolor{keywordflow}{if}( pAdapterAddress != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \{
106         strcpy\_s( name, \hyperlink{packet_8cpp_aa3576fdd7d3351cb720ad2ade6e6dfc2}{WINPCAP\_INTERFACENAMEPREFIX} );
107         strncpy\_s( name+\hyperlink{packet_8cpp_a40de24833d10a9063ccc50589c785186}{WINPCAP\_INTERFACENAMEPREFIX\_LENGTH}, 
      \hyperlink{packet_8cpp_a86119875910fd0cd93ca079a99c9552a}{WINPCAP\_INTERFACENAMESUFFIX\_LENGTH}+1, pAdapterAddress->AdapterName, 
      \hyperlink{packet_8cpp_a86119875910fd0cd93ca079a99c9552a}{WINPCAP\_INTERFACENAMESUFFIX\_LENGTH} );
108         printf( \textcolor{stringliteral}{"Opening: %s\(\backslash\)n"}, name );
109         handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface} = pcap\_open(  name, \hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE}, 
      PCAP\_OPENFLAG\_MAX\_RESPONSIVENESS | PCAP\_OPENFLAG\_PROMISCUOUS | PCAP\_OPENFLAG\_NOCAPTURE\_LOCAL,
110                                     \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, handle->\hyperlink{structpacket__handle_a41891cad090df07cd9360f1d8a9f1396}{errbuf} );
111         \textcolor{keywordflow}{if}( handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface} == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \{
112             ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27aab5a7d4cb28bb8a0c2ad073d2d7a9657}{PACKET\_IFLOOKUP\_ERROR};
113             \textcolor{keywordflow}{goto} fnexit;
114         \}
115         handle->\hyperlink{structpacket__handle_a1f4b910af694f84948acbe7e6008f524}{iface\_addr} = *addr;
116     \} \textcolor{keywordflow}{else} \{
117         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27aac557f43e7d03ab7edda1d3c789a6cb8}{PACKET\_IFNOTFOUND\_ERROR};
118         \textcolor{keywordflow}{goto} fnexit;
119     \}
120 
121 fnexit:
122     \textcolor{keywordflow}{return} ret;
123 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8cpp_a31fcce4e604707ab63353ca20a923768_icgraph}
\end{center}
\end{figure}


\index{packet.\+cpp@{packet.\+cpp}!packet\+Bind@{packet\+Bind}}
\index{packet\+Bind@{packet\+Bind}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{packet\+Bind(struct packet\+\_\+handle $\ast$handle, uint16\+\_\+t ethertype)}{packetBind(struct packet_handle *handle, uint16_t ethertype)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf packet\+\_\+error\+\_\+t} packet\+Bind (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$}]{handle, }
\item[{uint16\+\_\+t}]{ethertype}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_a1b3c89cf335c66684896187ccbbec3fc}{}\label{packet_8cpp_a1b3c89cf335c66684896187ccbbec3fc}


Set filters for packet handler. 


\begin{DoxyParams}{매개변수}
{\em handle} & \mbox{[}in\mbox{]} packet interface handler \\
\hline
{\em ethertype} & Ethertype \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
packet\+\_\+error\+\_\+t error codes 
\end{DoxyReturn}


packet.\+cpp 파일의 153 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
153                                                                               \{
154     \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\_error\_t} ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a1d7065f5b2e237a9ae36fafa1557ef31}{PACKET\_NO\_ERROR};
155     \textcolor{keywordtype}{char} filter\_expression[32] = \textcolor{stringliteral}{"ether proto 0x"};
156 
157     sprintf\_s( filter\_expression+strlen(filter\_expression), 31-strlen(filter\_expression), \textcolor{stringliteral}{"%hx"}, 
      \hyperlink{avtp__rx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype} );
158     \textcolor{keywordflow}{if}( pcap\_compile( handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface}, &handle->\hyperlink{structpacket__handle_a4e4620e4c59a458d81a0a62a78d7c712}{filter}, filter\_expression, 1, 0 ) == -1 ) \{
159         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27af452af4ac107d3eb69abc79f1243cec2}{PACKET\_BIND\_ERROR};
160         \textcolor{keywordflow}{goto} fnexit;
161     \}
162     \textcolor{keywordflow}{if}( pcap\_setfilter( handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface}, &handle->\hyperlink{structpacket__handle_a4e4620e4c59a458d81a0a62a78d7c712}{filter} ) == -1 ) \{
163         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27af452af4ac107d3eb69abc79f1243cec2}{PACKET\_BIND\_ERROR};
164         \textcolor{keywordflow}{goto} fnexit;
165     \}
166 
167     handle->\hyperlink{structpacket__handle_aa9296c58dc24c63c4ee927db394a97d7}{ethertype} = \hyperlink{avtp__rx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype};
168 
169 fnexit:
170     \textcolor{keywordflow}{return} ret;
171 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=341pt]{packet_8cpp_a1b3c89cf335c66684896187ccbbec3fc_icgraph}
\end{center}
\end{figure}


\index{packet.\+cpp@{packet.\+cpp}!recv\+Frame@{recv\+Frame}}
\index{recv\+Frame@{recv\+Frame}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{recv\+Frame(struct packet\+\_\+handle $\ast$handle, packet\+\_\+addr\+\_\+t $\ast$addr, uint8\+\_\+t $\ast$payload, size\+\_\+t \&length)}{recvFrame(struct packet_handle *handle, packet_addr_t *addr, uint8_t *payload, size_t &length)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf packet\+\_\+error\+\_\+t} recv\+Frame (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$}]{handle, }
\item[{{\bf packet\+\_\+addr\+\_\+t} $\ast$}]{addr, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{payload, }
\item[{size\+\_\+t \&}]{length}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_a94b6be1e30ff3ec7c10bdf0b0b77d847}{}\label{packet_8cpp_a94b6be1e30ff3ec7c10bdf0b0b77d847}


packet.\+cpp 파일의 175 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
175                                                                                                            
           \{
176     \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\_error\_t} ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a1d7065f5b2e237a9ae36fafa1557ef31}{PACKET\_NO\_ERROR};
177     \textcolor{keyword}{struct }pcap\_pkthdr *hdr\_r;
178     u\_char *data;
179 
180     \textcolor{keywordtype}{int} pcap\_result;
181     DWORD wait\_result;
182 
183     wait\_result = WaitForSingleObject( handle->\hyperlink{structpacket__handle_a010ab438d7d926a405d3e65b0f36923a}{capture\_lock}, 1000 );
184     \textcolor{keywordflow}{if}( wait\_result != WAIT\_OBJECT\_0 ) \{
185         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27aaa661e0e712500ccbec1c5a3739fddff}{PACKET\_GETMUTEX\_ERROR};
186         \textcolor{keywordflow}{goto} fnexit;
187     \}
188 
189     pcap\_result = pcap\_next\_ex( handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface}, &hdr\_r, (\textcolor{keyword}{const} u\_char **) &data );
190     \textcolor{keywordflow}{if}( pcap\_result == 0 ) \{
191         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27af586fe85410e021b2519495b8a658533}{PACKET\_RECVTIMEOUT\_ERROR};
192     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( pcap\_result < 0 ) \{
193         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27acb811c76292fe5826bfe5c8071fd946f}{PACKET\_RECVFAILED\_ERROR};
194     \} \textcolor{keywordflow}{else} \{
195         length = hdr\_r->len-\hyperlink{packet_8hpp_ab5ceecbb052975c83dedabcfc5e4f5a9}{PACKET\_HDR\_LENGTH} >= length ? length : hdr\_r->len-
      \hyperlink{packet_8hpp_ab5ceecbb052975c83dedabcfc5e4f5a9}{PACKET\_HDR\_LENGTH};
196         memcpy( payload, data+\hyperlink{packet_8hpp_ab5ceecbb052975c83dedabcfc5e4f5a9}{PACKET\_HDR\_LENGTH}, length );
197         memcpy( addr->\hyperlink{structpacket__addr__t_ab8af51bba340e97aebc45b9c943fb17c}{addr}, data+\hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS}, 
      \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS} );
198     \}
199     
200     \textcolor{keywordflow}{if}( !ReleaseMutex( handle->\hyperlink{structpacket__handle_a010ab438d7d926a405d3e65b0f36923a}{capture\_lock} )) \{
201         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a40a3c13d228d5a8d6d95b2fc7e4abf8f}{PACKET\_RLSMUTEX\_ERROR};
202         \textcolor{keywordflow}{goto} fnexit;
203     \}
204 
205 fnexit:
206     \textcolor{keywordflow}{return} ret;
207 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{packet_8cpp_a94b6be1e30ff3ec7c10bdf0b0b77d847_icgraph}
\end{center}
\end{figure}


\index{packet.\+cpp@{packet.\+cpp}!send\+Frame@{send\+Frame}}
\index{send\+Frame@{send\+Frame}!packet.\+cpp@{packet.\+cpp}}
\subsubsection[{\texorpdfstring{send\+Frame(struct packet\+\_\+handle $\ast$handle, packet\+\_\+addr\+\_\+t $\ast$addr, uint16\+\_\+t ethertype, uint8\+\_\+t $\ast$payload, size\+\_\+t length)}{sendFrame(struct packet_handle *handle, packet_addr_t *addr, uint16_t ethertype, uint8_t *payload, size_t length)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf packet\+\_\+error\+\_\+t} send\+Frame (
\begin{DoxyParamCaption}
\item[{struct {\bf packet\+\_\+handle} $\ast$}]{handle, }
\item[{{\bf packet\+\_\+addr\+\_\+t} $\ast$}]{addr, }
\item[{uint16\+\_\+t}]{ethertype, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{payload, }
\item[{size\+\_\+t}]{length}
\end{DoxyParamCaption}
)}\hypertarget{packet_8cpp_acd8c9e210db20c3a7ff00f5dfe3076bf}{}\label{packet_8cpp_acd8c9e210db20c3a7ff00f5dfe3076bf}


packet.\+cpp 파일의 130 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
130                                                                                                            
                              \{
131     \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27}{packet\_error\_t} ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a1d7065f5b2e237a9ae36fafa1557ef31}{PACKET\_NO\_ERROR};
132     uint16\_t ethertype\_no = \hyperlink{linux_2src_2platform_8cpp_aa89fc0aa7465274c200da69771d2a043}{PLAT\_htons}( \hyperlink{avtp__rx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype} );
133     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *payload\_ptr = payload;
134 
135     \textcolor{keywordflow}{if}( length < \hyperlink{packet_8hpp_ab5ceecbb052975c83dedabcfc5e4f5a9}{PACKET\_HDR\_LENGTH} ) \{
136         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27ad7623d7920b83a0c9fbbf9ed033cf295}{PACKET\_BADBUFFER\_ERROR};
137     \}
138 
139     \textcolor{comment}{// Build Header}
140     memcpy( payload\_ptr, addr->\hyperlink{structpacket__addr__t_ab8af51bba340e97aebc45b9c943fb17c}{addr}, \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS} ); payload\_ptr+= 
      \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS};
141     memcpy( payload\_ptr, handle->\hyperlink{structpacket__handle_a1f4b910af694f84948acbe7e6008f524}{iface\_addr}.\hyperlink{structpacket__addr__t_ab8af51bba340e97aebc45b9c943fb17c}{addr}, 
      \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS} ); payload\_ptr+= \hyperlink{ptptypes_8hpp_ab81d402a4929723091a6731508845125}{ETHER\_ADDR\_OCTETS};
142     memcpy( payload\_ptr, &ethertype\_no, \textcolor{keyword}{sizeof}( ethertype\_no ));
143 
144     \textcolor{keywordflow}{if}( pcap\_sendpacket( handle->\hyperlink{structpacket__handle_ac520eed8a1cbae3624457d41e5407f1d}{iface}, payload, (\textcolor{keywordtype}{int}) length+
      \hyperlink{packet_8hpp_ab5ceecbb052975c83dedabcfc5e4f5a9}{PACKET\_HDR\_LENGTH} ) != 0 ) \{
145         ret = \hyperlink{packet_8hpp_ab3fbaeb946a71bfe3ce597df43a5dc27a37d161c248d323e7ee7ae7c3c8b943f8}{PACKET\_XMIT\_ERROR};
146         \textcolor{keywordflow}{goto} fnexit;
147     \}
148 
149 fnexit:
150     \textcolor{keywordflow}{return} ret;
151 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{packet_8cpp_acd8c9e210db20c3a7ff00f5dfe3076bf_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=341pt]{packet_8cpp_acd8c9e210db20c3a7ff00f5dfe3076bf_icgraph}
\end{center}
\end{figure}


