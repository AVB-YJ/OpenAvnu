\hypertarget{mrpw_8h}{}\section{daemons/mrpd/mrpw.h 파일 참조}
\label{mrpw_8h}\index{daemons/mrpd/mrpw.\+h@{daemons/mrpd/mrpw.\+h}}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{mrpw_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mrpw_8h_a525214e1cf56e556f7f377500721036f}{\+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{mrpw_8h_a0315e6f711caf027b6f18fea9f52afd2}{mrpw\+\_\+cleanup} (void)
\item 
int \hyperlink{mrpw_8h_aab3c897dbd7370fb8d9200888c390807}{mrpw\+\_\+init\+\_\+protocols} (void)
\item 
int \hyperlink{mrpw_8h_abd516b2adb743e329475e3dc16abb71c}{mrpw\+\_\+run\+\_\+once} (void)
\item 
int \hyperlink{mrpw_8h_a9111b9d8ad7715088291ffa006c3a119}{mrpw\+\_\+init\+\_\+threads} (void)
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{mrpw.\+h@{mrpw.\+h}!\+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+@{\+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+}}
\index{\+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+@{\+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+}!mrpw.\+h@{mrpw.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+}{_MPRW_H_}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+M\+P\+R\+W\+\_\+\+H\+\_\+}\hypertarget{mrpw_8h_a525214e1cf56e556f7f377500721036f}{}\label{mrpw_8h_a525214e1cf56e556f7f377500721036f}


mrpw.\+h 파일의 35 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{mrpw.\+h@{mrpw.\+h}!mrpw\+\_\+cleanup@{mrpw\+\_\+cleanup}}
\index{mrpw\+\_\+cleanup@{mrpw\+\_\+cleanup}!mrpw.\+h@{mrpw.\+h}}
\subsubsection[{\texorpdfstring{mrpw\+\_\+cleanup(void)}{mrpw_cleanup(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void mrpw\+\_\+cleanup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mrpw_8h_a0315e6f711caf027b6f18fea9f52afd2}{}\label{mrpw_8h_a0315e6f711caf027b6f18fea9f52afd2}


mrpw.\+c 파일의 971 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
972 \{
973     WSACleanup();
974 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{mrpw_8h_a0315e6f711caf027b6f18fea9f52afd2_icgraph}
\end{center}
\end{figure}


\index{mrpw.\+h@{mrpw.\+h}!mrpw\+\_\+init\+\_\+protocols@{mrpw\+\_\+init\+\_\+protocols}}
\index{mrpw\+\_\+init\+\_\+protocols@{mrpw\+\_\+init\+\_\+protocols}!mrpw.\+h@{mrpw.\+h}}
\subsubsection[{\texorpdfstring{mrpw\+\_\+init\+\_\+protocols(void)}{mrpw_init_protocols(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpw\+\_\+init\+\_\+protocols (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mrpw_8h_aab3c897dbd7370fb8d9200888c390807}{}\label{mrpw_8h_aab3c897dbd7370fb8d9200888c390807}


mrpw.\+c 파일의 905 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
906 \{
907     uint16\_t ether\_types[4];
908     WSADATA wsa\_data;
909     \textcolor{keywordtype}{int} rc;
910 
911     \hyperlink{mrpw_8c_ac5d426d6e3922546d2824f6f8948b167}{mrpd\_port} = \hyperlink{mrpd_8h_a957ecb95a01b342339073f6422eb2bf9}{MRPD\_PORT\_DEFAULT};
912     \hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable} = 1;
913     \hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable} = 1;
914     \hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable} = 1;
915     \hyperlink{mrpw_8c_a33859e291ba549473023e0ff9fc6bca2}{logging\_enable} = 1;
916 
917     WSAStartup(MAKEWORD(1, 1), &wsa\_data);
918 
919     \textcolor{comment}{/* open our network interface and set the capture ethertype to MRP types */}
920     \hyperlink{mrpw_8c_a5cc977ed1a8aa84968c166553e31f25f}{net\_if} = \hyperlink{mrpw_8c_a8e890dcb64441152519423bb14f75994}{netif\_open}(\hyperlink{mrpw_8c_aa4a5c0ebf019527a3fe36bfc83fb3460}{TIME\_PERIOD\_25\_MILLISECONDS});    \textcolor{comment}{// time
       out is 25ms}
921     \textcolor{keywordflow}{if} (!\hyperlink{mrpw_8c_a5cc977ed1a8aa84968c166553e31f25f}{net\_if}) \{
922         fprintf(stderr, \textcolor{stringliteral}{"ERROR - opening network interface\(\backslash\)n"});
923         \textcolor{keywordflow}{return} -1;
924     \}
925 
926     ether\_types[0] = \hyperlink{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}{MVRP\_ETYPE};
927     ether\_types[1] = \hyperlink{mmrp_8h_adea7aaa34d3ac34bc388b49c079758a9}{MMRP\_ETYPE};
928     ether\_types[2] = \hyperlink{msrp_8h_aa7e86b03530c32b55bd7498078a10755}{MSRP\_ETYPE};
929     \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_acce90c8f6cda1c86a2ec91256fa975c3}{netif\_set\_capture\_ethertype}(\hyperlink{mrpw_8c_a5cc977ed1a8aa84968c166553e31f25f}{net\_if}, ether\_types, 3)) \{
930         fprintf(stderr, \textcolor{stringliteral}{"ERROR - setting netif capture ethertype\(\backslash\)n"});
931         \textcolor{keywordflow}{return} -1;
932     \}
933 
934     rc = \hyperlink{mrp_8c_a5396c032a7efad48c8c58b20277c941f}{mrp\_init}();
935     \textcolor{keywordflow}{if} (rc)
936         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
937 
938     rc = \hyperlink{mrpw_8c_a3f681ced4968ad45ebeb1b744b4989f3}{init\_local\_ctl}();
939     \textcolor{keywordflow}{if} (rc)
940         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
941 
942     \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable}) \{
943         rc = \hyperlink{mmrp_8c_a5b29834ea6559ef166c451cd001841bd}{mmrp\_init}(\hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable});
944         \textcolor{keywordflow}{if} (rc)
945             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
946     \}
947 
948     \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable}) \{
949         rc = \hyperlink{mvrp_8c_ad47f57aadab06ad5d8fd73656beaedb7}{mvrp\_init}(\hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable});
950         \textcolor{keywordflow}{if} (rc)
951             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
952     \}
953 
954     \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable}) \{
955         rc = \hyperlink{msrp_8c_abbb51df9457d02837c27d6f0375ba50b}{msrp\_init}(\hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable}, 
      \hyperlink{msrp_8h_a91c5fd0ba46a6f654394f67f8ca0c729}{MSRP\_INTERESTING\_STREAM\_ID\_COUNT}, 0);
956         \textcolor{keywordflow}{if} (rc)
957             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
958     \}
959 
960     rc = \hyperlink{mrpw_8c_a40d9254969e58bd9d0047bd352d58752}{init\_timers}();
961     \textcolor{keywordflow}{if} (rc)
962         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
963 
964     \textcolor{keywordflow}{return} 0;
965 
966  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
967     \textcolor{keywordflow}{return} -1;
968 
969 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mrpw_8h_aab3c897dbd7370fb8d9200888c390807_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{mrpw_8h_aab3c897dbd7370fb8d9200888c390807_icgraph}
\end{center}
\end{figure}


\index{mrpw.\+h@{mrpw.\+h}!mrpw\+\_\+init\+\_\+threads@{mrpw\+\_\+init\+\_\+threads}}
\index{mrpw\+\_\+init\+\_\+threads@{mrpw\+\_\+init\+\_\+threads}!mrpw.\+h@{mrpw.\+h}}
\subsubsection[{\texorpdfstring{mrpw\+\_\+init\+\_\+threads(void)}{mrpw_init_threads(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpw\+\_\+init\+\_\+threads (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mrpw_8h_a9111b9d8ad7715088291ffa006c3a119}{}\label{mrpw_8h_a9111b9d8ad7715088291ffa006c3a119}


mrpw.\+c 파일의 724 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
725 \{
726     HANDLE hThread1, hThread2;
727     DWORD dwThreadID1, dwThreadID2;
728     \textcolor{keyword}{struct }avb\_avtpdu *avtpdu = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
729     \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t} src\_mac\_address = 0;
730     \textcolor{keywordtype}{int} i;
731 
732     \hyperlink{mrpw_8c_a9ff7f27f7cd3b7de922903c1593c8ea1}{timer\_check\_tick} = \hyperlink{mrpw_8c_a10261079d5a8ac144d272b8f2bf276e8}{mrpd\_timer\_create}();
733     \hyperlink{mrpw_8c_a07123f13700611dc4e8d553a4624aec9}{mrpd\_timer\_start\_interval}(\hyperlink{mrpw_8c_a9ff7f27f7cd3b7de922903c1593c8ea1}{timer\_check\_tick}, 100, 100);
734 
735     \hyperlink{mrpw_8c_a1564cc0a2d217fccefbd60142a533fa0}{que\_wpcap} = \hyperlink{que_8c_ad7fc66fadb0edad9376edc027b63e45c}{que\_new}(256, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structnetif__thread__data}{netif\_thread\_data}));
736     \hyperlink{mrpw_8c_a1b27f05d6b948bfa6dbca45d028672f1}{que\_localhost} = \hyperlink{que_8c_ad7fc66fadb0edad9376edc027b63e45c}{que\_new}(256, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} 
      \hyperlink{structctl__thread__params}{ctl\_thread\_params}));
737 
738     \hyperlink{mrpw_8c_a4d95ba25c746583a03e04328f101bf02}{sem\_kill\_wpcap\_thread} = CreateSemaphore(\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, 32767, 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
739     \hyperlink{mrpw_8c_a29583df1023714b8da35d001ce5eef6b}{sem\_kill\_localhost\_thread} = CreateSemaphore(\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, 32767, 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
740     \textcolor{keywordflow}{for} (i = \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57a0ab9f4eb2a2b5ebfb1b091a37e12862b}{pkt\_event\_wpcap\_timeout}; i <= \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57aae7be117c6f5a0e09fd1747acfd2b475}{loop\_time\_tick}; i++) \{
741         \hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}[i] = CreateEvent(\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
742         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}[i] == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
743             fprintf(stderr, \textcolor{stringliteral}{"CreateEvent error: %d\(\backslash\)n"},
744                 GetLastError());
745             ExitProcess(0);
746         \}
747     \}
748     \hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}[\hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57a0d5f08ca5b32548df70038cb720d10db}{pkt\_event\_wpcap}] = 
      \hyperlink{que_8c_a4f8ca4d264fb8ecf6f34ed01f2a17ac4}{que\_data\_available\_object}(\hyperlink{mrpw_8c_a1564cc0a2d217fccefbd60142a533fa0}{que\_wpcap});
749     \hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}[\hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57a6163f6fe4eb14b9e4a33ccf59f4ede6c}{pkt\_event\_localhost}] =
750         \hyperlink{que_8c_a4f8ca4d264fb8ecf6f34ed01f2a17ac4}{que\_data\_available\_object}(\hyperlink{mrpw_8c_a1b27f05d6b948bfa6dbca45d028672f1}{que\_localhost});
751 
752     \textcolor{comment}{// Create threads}
753     hThread1 = CreateThread(\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},   \textcolor{comment}{// default security attributes}
754                 0,  \textcolor{comment}{// default stack size}
755                 (LPTHREAD\_START\_ROUTINE) \hyperlink{mrpw_8c_a737803cef506c99c568afa1d3e3b11b8}{netif\_thread}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},    \textcolor{comment}{// no thread function
       arguments}
756                 0,  \textcolor{comment}{// default creation flags}
757                 &dwThreadID1);  \textcolor{comment}{// receive thread identifier}
758 
759     \textcolor{keywordflow}{if} (hThread1 == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
760         fprintf(stderr, \textcolor{stringliteral}{"CreateThread error: %d\(\backslash\)n"}, GetLastError());
761         \textcolor{keywordflow}{return} -1;
762     \}
763 
764     hThread2 = CreateThread(\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},   \textcolor{comment}{// default security attributes}
765                 0,  \textcolor{comment}{// default stack size}
766                 (LPTHREAD\_START\_ROUTINE) \hyperlink{mrpw_8c_af50d5780f830ddf91914a60fa6506461}{ctl\_thread}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},    \textcolor{comment}{// no thread function arguments}
767                 0,  \textcolor{comment}{// default creation flags}
768                 &dwThreadID2);  \textcolor{comment}{// receive thread identifier}
769 
770     \textcolor{keywordflow}{if} (hThread2 == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
771         fprintf(stderr, \textcolor{stringliteral}{"CreateThread error: %d\(\backslash\)n"}, GetLastError());
772         \textcolor{keywordflow}{return} -1;
773     \}
774     \textcolor{keywordflow}{return} 0;
775 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mrpw_8h_a9111b9d8ad7715088291ffa006c3a119_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{mrpw_8h_a9111b9d8ad7715088291ffa006c3a119_icgraph}
\end{center}
\end{figure}


\index{mrpw.\+h@{mrpw.\+h}!mrpw\+\_\+run\+\_\+once@{mrpw\+\_\+run\+\_\+once}}
\index{mrpw\+\_\+run\+\_\+once@{mrpw\+\_\+run\+\_\+once}!mrpw.\+h@{mrpw.\+h}}
\subsubsection[{\texorpdfstring{mrpw\+\_\+run\+\_\+once(void)}{mrpw_run_once(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpw\+\_\+run\+\_\+once (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mrpw_8h_abd516b2adb743e329475e3dc16abb71c}{}\label{mrpw_8h_abd516b2adb743e329475e3dc16abb71c}


mrpw.\+c 파일의 777 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
778 \{
779     \textcolor{keyword}{struct }\hyperlink{structnetif__thread__data}{netif\_thread\_data} wpcap\_pkt;
780     \textcolor{keyword}{struct }\hyperlink{structctl__thread__params}{ctl\_thread\_params} localhost\_pkt;
781     uint16\_t length = 0;
782     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *payload;
783     uint16\_t protocol;
784     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *proto;
785 
786     DWORD dwEvent =
787         WaitForMultipleObjects(\textcolor{keyword}{sizeof}(\hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}) / \textcolor{keyword}{sizeof}(HANDLE),
788                    \hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events},
789                    \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE},
790                    100);    \textcolor{comment}{/* 100ms wait */}
791 
792     \textcolor{comment}{/* special exit case */}
793     \textcolor{keywordflow}{if} (WAIT\_OBJECT\_0 + \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57ad3fa3ef31ee45a9a4f7df32fcf38b10b}{app\_event\_kill\_all} == dwEvent)
794         \textcolor{keywordflow}{return} -1;
795 
796     \textcolor{keywordflow}{switch} (dwEvent) \{
797     \textcolor{keywordflow}{case} WAIT\_TIMEOUT:
798     \textcolor{keywordflow}{case} WAIT\_OBJECT\_0 + \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57aae7be117c6f5a0e09fd1747acfd2b475}{loop\_time\_tick}:
799         \textcolor{comment}{/* timeout - run protocols */}
800         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable}) \{
801             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a63013eac35405517020e4681a260d06d}{lva\_timer}))
802                 \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(\hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
803             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_afb0e407756ab2688bbd60efbbdcc66d4}{lv\_timer}))
804                 \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(\hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
805             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a55eea88044cf545b4b60f7a851e2ca4e}{join\_timer}))
806                 \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(\hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
807         \}
808 
809         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable}) \{
810             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a63013eac35405517020e4681a260d06d}{lva\_timer}))
811                 \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}(\hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
812             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_afb0e407756ab2688bbd60efbbdcc66d4}{lv\_timer}))
813                 \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}(\hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
814             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a55eea88044cf545b4b60f7a851e2ca4e}{join\_timer}))
815                 \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}(\hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
816         \}
817 
818         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable}) \{
819             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a63013eac35405517020e4681a260d06d}{lva\_timer}))
820                 \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
821             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_afb0e407756ab2688bbd60efbbdcc66d4}{lv\_timer}))
822                 \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
823             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a55eea88044cf545b4b60f7a851e2ca4e}{join\_timer}))
824                 \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
825         \}
826 
827         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_af88f400fec5cb09e035b149aa9bcff4d}{periodic\_timer})) \{
828             \textcolor{comment}{//printf("mrpd\_timer\_timeout(periodic\_timer)\(\backslash\)n");}
829             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable})
830                 \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(\hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
831             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable})
832                 \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}(\hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
833             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable})
834                 \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
835             \hyperlink{mrpw_8c_a0aa88cd38f0c2252a18bce5027285697}{mrpd\_timer\_restart}(\hyperlink{mrpw_8c_af88f400fec5cb09e035b149aa9bcff4d}{periodic\_timer});
836         \}
837         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(\hyperlink{mrpw_8c_abf254d0c64007ea3cae8d94cee94c6a8}{gc\_timer})) \{
838             \hyperlink{mrpw_8c_ade9e7ae018e5aa62281e7e3d1f09d124}{mrpd\_reclaim}();
839         \}
840         \hyperlink{mrpw_8c_a0aa88cd38f0c2252a18bce5027285697}{mrpd\_timer\_restart}(\hyperlink{mrpw_8c_a9ff7f27f7cd3b7de922903c1593c8ea1}{timer\_check\_tick});
841         \textcolor{keywordflow}{break};
842 
843     \textcolor{keywordflow}{case} WAIT\_OBJECT\_0 + \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57a0d5f08ca5b32548df70038cb720d10db}{pkt\_event\_wpcap}:
844         \hyperlink{que_8c_afb8951e9ab296a98eea1bde8342ea4f9}{que\_pop\_nowait}(\hyperlink{mrpw_8c_a1564cc0a2d217fccefbd60142a533fa0}{que\_wpcap}, &wpcap\_pkt);
845         proto = &wpcap\_pkt.frame[12];
846         protocol = (uint16\_t) proto[0] << 8 | (uint16\_t) proto[1];
847         payload = proto + 2;
848 
849         \hyperlink{mrpw_8c_a421e94742210cb464d86ac82cf866d9b}{last\_pdu\_buffer} = wpcap\_pkt.frame;
850         \hyperlink{mrpw_8c_a1f85060549f67cfec5c072795047d27d}{last\_pdu\_buffer\_size} = wpcap\_pkt.length;
851 
852         \textcolor{keywordflow}{switch} (protocol) \{
853         \textcolor{keywordflow}{case} \hyperlink{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}{MVRP\_ETYPE}:
854             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable})
855                 \hyperlink{mvrp_8c_abc8ecd8b4fb3b7fc7442c162f0a893e7}{mvrp\_recv\_msg}();
856             \textcolor{keywordflow}{break};
857 
858         \textcolor{keywordflow}{case} \hyperlink{mmrp_8h_adea7aaa34d3ac34bc388b49c079758a9}{MMRP\_ETYPE}:
859             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable})
860                 \hyperlink{mmrp_8c_a4ee9f804f3087ebe0175fa6b252af230}{mmrp\_recv\_msg}();
861             \textcolor{keywordflow}{break};
862 
863         \textcolor{keywordflow}{case} \hyperlink{msrp_8h_aa7e86b03530c32b55bd7498078a10755}{MSRP\_ETYPE}:
864             \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable})
865                 \hyperlink{msrp_8c_ab9b686db38f7cc0e2137156ee6fbe1ce}{msrp\_recv\_msg}();
866             \textcolor{keywordflow}{break};
867         \}
868         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(&\hyperlink{mrpw_8c_a9ff7f27f7cd3b7de922903c1593c8ea1}{timer\_check\_tick})) \{
869             \textcolor{keywordflow}{if} (!SetEvent(\hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}[\hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57aae7be117c6f5a0e09fd1747acfd2b475}{loop\_time\_tick}])) \{
870                 printf(\textcolor{stringliteral}{"SetEvent loop\_time\_tick failed (%d)\(\backslash\)n"},
871                        GetLastError());
872                 exit(-1);
873             \}
874         \}
875         \textcolor{keywordflow}{break};
876 
877     \textcolor{keywordflow}{case} WAIT\_OBJECT\_0 + \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57a0ab9f4eb2a2b5ebfb1b091a37e12862b}{pkt\_event\_wpcap\_timeout}:
878         \textcolor{comment}{//printf("pkt\_event\_wpcap\_timeout\(\backslash\)n");}
879         \textcolor{keywordflow}{break};
880 
881     \textcolor{keywordflow}{case} WAIT\_OBJECT\_0 + \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57a6163f6fe4eb14b9e4a33ccf59f4ede6c}{pkt\_event\_localhost}:
882         \hyperlink{que_8c_afb8951e9ab296a98eea1bde8342ea4f9}{que\_pop\_nowait}(\hyperlink{mrpw_8c_a1b27f05d6b948bfa6dbca45d028672f1}{que\_localhost}, &localhost\_pkt);
883         \hyperlink{mrpw_8c_a2718f426181044574c66149d44325166}{process\_ctl\_msg}(localhost\_pkt.msgbuf,
884                 localhost\_pkt.bytes, (\textcolor{keyword}{struct} sockaddr\_in *)
885                 &localhost\_pkt.client\_addr);
886         \textcolor{keywordflow}{if} (\hyperlink{mrpw_8c_ade93aa7051a36894e294b79da453d78c}{mrpd\_timer\_timeout}(&\hyperlink{mrpw_8c_a9ff7f27f7cd3b7de922903c1593c8ea1}{timer\_check\_tick})) \{
887             \textcolor{keywordflow}{if} (!SetEvent(\hyperlink{mrpw_8c_aabb6f0d78cb7d2986f3ff29232170d5d}{pkt\_events}[loop\_time\_tick])) \{
888                 printf(\textcolor{stringliteral}{"SetEvent loop\_time\_tick failed (%d)\(\backslash\)n"},
889                        GetLastError());
890                 exit(-1);
891             \}
892         \}
893         \textcolor{keywordflow}{break};
894 
895     \textcolor{keywordflow}{case} WAIT\_OBJECT\_0 + \hyperlink{mrpw_8c_ab04a0655cd1e3bcac5e8f48c18df1a57ac7af1f4d8289185ee48add52ad64c8a4}{pkt\_event\_localhost\_timeout}:
896         \textcolor{comment}{//printf("pkt\_event\_localhost\_timeout\(\backslash\)n");}
897         \textcolor{keywordflow}{break};
898 
899     \textcolor{keywordflow}{default}:
900         printf(\textcolor{stringliteral}{"Unknown event %d\(\backslash\)n"}, dwEvent);
901     \}
902     \textcolor{keywordflow}{return} 0;
903 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mrpw_8h_abd516b2adb743e329475e3dc16abb71c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mrpw_8h_abd516b2adb743e329475e3dc16abb71c_icgraph}
\end{center}
\end{figure}


