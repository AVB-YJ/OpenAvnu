\hypertarget{avtp_2openavb__avtp__time__pub_8h}{}\section{lib/avtp\+\_\+pipeline/avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.h 파일 참조}
\label{avtp_2openavb__avtp__time__pub_8h}\index{lib/avtp\+\_\+pipeline/avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{lib/avtp\+\_\+pipeline/avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
{\ttfamily \#include \char`\"{}openavb\+\_\+platform\+\_\+pub.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openavb\+\_\+types\+\_\+pub.\+h\char`\"{}}\\*
openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{avtp_2openavb__avtp__time__pub_8h__incl}
\end{center}
\end{figure}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{avtp_2openavb__avtp__time__pub_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{타입정의}
\begin{DoxyCompactItemize}
\item 
typedef struct timespec \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\+\_\+t}
\begin{DoxyCompactList}\small\item\em standard timespec type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$ \hyperlink{avtp_2openavb__avtp__time__pub_8h_a01fb9b87610e84d6d5b82b9ea022a59b}{openavb\+Avtp\+Time\+Create} (\hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} max\+Latency\+Usec)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_ab1bc38a482f352386349dd193f6c16c5}{openavb\+Avtp\+Time\+Delete} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a56b2ae4c29078846b941284d161f7d88}{openavb\+Avtp\+Time\+Set\+To\+Wall\+Time} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a1a2a32ea6ece04fb1a15150ad0b830c4}{openavb\+Avtp\+Time\+Set\+To\+System\+Time} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_ab1d229e70e6a888f8daf7c2ddafd2976}{openavb\+Avtp\+Time\+Set\+To\+Timestamp} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} timestamp)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a868c86644961df707f765d680071dfd2}{openavb\+Avtp\+Time\+Set\+To\+Timespec} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\+\_\+t} $\ast$timestamp)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a7ce613779ddf5c8954300d7c4e417ed0}{openavb\+Avtp\+Time\+Set\+To\+Timestamp\+NS} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} time\+NS)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a7d647de77165c1907244fbaedc333ad4}{openavb\+Avtp\+Time\+Push\+M\+CR} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} timestamp)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa246209297862b2796f9a716261ed310}{openavb\+Avtp\+Time\+Set\+Timestamp\+Valid} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} valid\+Flag)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_aef5fb8e14af27b6e771caff167658e21}{openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} uncertain\+Flag)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a7cce1a0fb475285772362a09aa2d086c}{openavb\+Avtp\+Time\+Add\+U\+Sec} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, long u\+Sec)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a32d9c5b72cee6f52a22dc7dd213ffaed}{openavb\+Avtp\+Time\+Add\+N\+Sec} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, long n\+Sec)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_a005d476243dfa586bbae2dc51ec27de9}{openavb\+Avtp\+Time\+Sub\+U\+Sec} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, long u\+Sec)
\item 
void \hyperlink{avtp_2openavb__avtp__time__pub_8h_ac0a8c36f59bb38ca848fe245a39ba9db}{openavb\+Avtp\+Time\+Sub\+N\+Sec} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, long n\+Sec)
\item 
\hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a5847af407bcf3d0e8d7b6106842eeb8d}{openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
\hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a98ed694a81fcadf1e8ad41a37c002f7f}{openavb\+Avtp\+Time\+Get\+Avtp\+Time\+NS} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a973567b6644bfa4f94229022f808a876}{openavb\+Avtp\+Time\+Timestamp\+Is\+Valid} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a19d62055ab8b11f88053afa7918cbf37}{openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a7a1184d100f059c352f85ca26024944b}{openavb\+Avtp\+Time\+Is\+Past} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{avtp_2openavb__avtp__time__pub_8h_add39d728e411ba7e463477ac747229a8}{openavb\+Avtp\+Time\+Is\+Past\+Time} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} n\+Sec\+Time)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a3f5647279a0b5fcbef6fe68e4fa30ee5}{openavb\+Avtp\+Time\+Usec\+Till} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} $\ast$p\+Usec\+Till)
\item 
\hyperlink{openavb__types__base__pub_8h_a39c786017723555afb9e8b85accec0de}{S32} \hyperlink{avtp_2openavb__avtp__time__pub_8h_a84b8926595c2bab2eb51ff6cf6700657}{openavb\+Avtp\+Time\+Usec\+Delta} (\hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} $\ast$p\+Avtp\+Time)
\end{DoxyCompactItemize}


\subsection{상세한 설명}
A\+V\+TP Time public interface. 

\subsection{타입정의 문서화}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!timespec\+\_\+t@{timespec\+\_\+t}}
\index{timespec\+\_\+t@{timespec\+\_\+t}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{timespec\+\_\+t}{timespec_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct timespec {\bf timespec\+\_\+t}}\hypertarget{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{}\label{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}


standard timespec type. 



openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h 파일의 47 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Add\+N\+Sec@{openavb\+Avtp\+Time\+Add\+N\+Sec}}
\index{openavb\+Avtp\+Time\+Add\+N\+Sec@{openavb\+Avtp\+Time\+Add\+N\+Sec}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Add\+N\+Sec(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, long n\+Sec)}{openavbAvtpTimeAddNSec(avtp_time_t *pAvtpTime, long nSec)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Add\+N\+Sec (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{long}]{n\+Sec}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a32d9c5b72cee6f52a22dc7dd213ffaed}{}\label{avtp_2openavb__avtp__time__pub_8h_a32d9c5b72cee6f52a22dc7dd213ffaed}
Add nanoseconds to the time.

Add the number of nanoseconds passed in to the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t}.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em n\+Sec} & Number of nanoseconds to add to the stored time. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 99 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
100 \{
101     \textcolor{keywordflow}{if} (pAvtpTime) \{
102         pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} += nSec;
103     \}
104     \textcolor{keywordflow}{else} \{
105         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
106     \}
107 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Add\+U\+Sec@{openavb\+Avtp\+Time\+Add\+U\+Sec}}
\index{openavb\+Avtp\+Time\+Add\+U\+Sec@{openavb\+Avtp\+Time\+Add\+U\+Sec}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Add\+U\+Sec(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, long u\+Sec)}{openavbAvtpTimeAddUSec(avtp_time_t *pAvtpTime, long uSec)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Add\+U\+Sec (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{long}]{u\+Sec}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a7cce1a0fb475285772362a09aa2d086c}{}\label{avtp_2openavb__avtp__time__pub_8h_a7cce1a0fb475285772362a09aa2d086c}
Add microseconds to the time.

Add the number of microseconds passed in to the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t}.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em u\+Sec} & Number of microseconds to add to the stored time. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 89 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
90 \{
91     \textcolor{keywordflow}{if} (pAvtpTime) \{
92         pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} += uSec * \hyperlink{maap__helper__linux_8h_a3b2779e65a68758ef2bfe4875b41e091}{NANOSECONDS\_PER\_USEC};
93     \}
94     \textcolor{keywordflow}{else} \{
95         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
96     \}
97 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Create@{openavb\+Avtp\+Time\+Create}}
\index{openavb\+Avtp\+Time\+Create@{openavb\+Avtp\+Time\+Create}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Create(\+U32 max\+Latency\+Usec)}{openavbAvtpTimeCreate(U32 maxLatencyUsec)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf avtp\+\_\+time\+\_\+t}$\ast$ openavb\+Avtp\+Time\+Create (
\begin{DoxyParamCaption}
\item[{{\bf U32}}]{max\+Latency\+Usec}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a01fb9b87610e84d6d5b82b9ea022a59b}{}\label{avtp_2openavb__avtp__time__pub_8h_a01fb9b87610e84d6d5b82b9ea022a59b}
Create a \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure.

Allocate storage for a \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. When a media queue items are created an \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure is allocated for each item. Interface modules do not need to be concerned with doing this.


\begin{DoxyParams}{매개변수}
{\em max\+Latency\+Usec} & Maximum Latency (in usec) for the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. Timestamps greater than now + maximum latency are considered uncertain. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. Returns N\+U\+LL if the memory could not be allocated. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 60 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
61 \{
62     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a334e73bfab6a61fde8f77d617e19fcd5}{AVB\_TRACE\_AVTP\_TIME});
63 
64     \hyperlink{structavtp__time__t}{avtp\_time\_t} *pAvtpTime = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, \textcolor{keyword}{sizeof}(\hyperlink{structavtp__time__t}{avtp\_time\_t}));
65 
66     \textcolor{keywordflow}{if} (pAvtpTime) \{
67         pAvtpTime->\hyperlink{structavtp__time__t_a4f0c56f80049057fe9f41d4b15a3d127}{maxLatencyNsec} = maxLatencyUsec * 
      \hyperlink{maap__helper__linux_8h_a3b2779e65a68758ef2bfe4875b41e091}{NANOSECONDS\_PER\_USEC};
68     \}
69 
70     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a334e73bfab6a61fde8f77d617e19fcd5}{AVB\_TRACE\_AVTP\_TIME});
71     \textcolor{keywordflow}{return} pAvtpTime;
72 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Delete@{openavb\+Avtp\+Time\+Delete}}
\index{openavb\+Avtp\+Time\+Delete@{openavb\+Avtp\+Time\+Delete}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Delete(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeDelete(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Delete (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_ab1bc38a482f352386349dd193f6c16c5}{}\label{avtp_2openavb__avtp__time__pub_8h_ab1bc38a482f352386349dd193f6c16c5}
Delete the time struct.

Delete the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure and any additional allocations it owns.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 74 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
75 \{
76     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a334e73bfab6a61fde8f77d617e19fcd5}{AVB\_TRACE\_AVTP\_TIME});
77 
78     \textcolor{keywordflow}{if} (pAvtpTime) \{
79         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pAvtpTime);
80         pAvtpTime = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
81     \}
82     \textcolor{keywordflow}{else} \{
83         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
84     \}
85 
86     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a334e73bfab6a61fde8f77d617e19fcd5}{AVB\_TRACE\_AVTP\_TIME});
87 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Get\+Avtp\+Time\+NS@{openavb\+Avtp\+Time\+Get\+Avtp\+Time\+NS}}
\index{openavb\+Avtp\+Time\+Get\+Avtp\+Time\+NS@{openavb\+Avtp\+Time\+Get\+Avtp\+Time\+NS}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Get\+Avtp\+Time\+N\+S(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeGetAvtpTimeNS(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U64} openavb\+Avtp\+Time\+Get\+Avtp\+Time\+NS (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a98ed694a81fcadf1e8ad41a37c002f7f}{}\label{avtp_2openavb__avtp__time__pub_8h_a98ed694a81fcadf1e8ad41a37c002f7f}
Get A\+V\+TP timestamp in nanoseconds

Get the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} and return it as a full time value in nanoseconds


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns an integer (U64) of the full walltime in nanoseconds. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 282 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
283 \{
284     \textcolor{keywordflow}{if} (pAvtpTime) \{
285         \textcolor{keywordflow}{return} pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec};
286     \}
287     \textcolor{keywordflow}{else} \{
288         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
289         \textcolor{keywordflow}{return} 0;
290     \}
291 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp@{openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp}}
\index{openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp@{openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeGetAvtpTimestamp(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U32} openavb\+Avtp\+Time\+Get\+Avtp\+Timestamp (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a5847af407bcf3d0e8d7b6106842eeb8d}{}\label{avtp_2openavb__avtp__time__pub_8h_a5847af407bcf3d0e8d7b6106842eeb8d}
Get A\+V\+TP timestamp

Get the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} and return it in an A\+V\+TP timestamp format


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns an integer (U32) in the same format as a 1722 A\+V\+TP \hyperlink{class_timestamp}{Timestamp}. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 271 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
272 \{
273     \textcolor{keywordflow}{if} (pAvtpTime) \{
274         \textcolor{keywordflow}{return} \hyperlink{openavb__avtp__time_8c_af78b5748dc6bbf189a380cb647e6c8d2}{x\_getTimestamp}(pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec});
275     \}
276     \textcolor{keywordflow}{else} \{
277         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
278         \textcolor{keywordflow}{return} 0;
279     \}
280 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Is\+Past@{openavb\+Avtp\+Time\+Is\+Past}}
\index{openavb\+Avtp\+Time\+Is\+Past@{openavb\+Avtp\+Time\+Is\+Past}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Is\+Past(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeIsPast(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Avtp\+Time\+Is\+Past (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a7a1184d100f059c352f85ca26024944b}{}\label{avtp_2openavb__avtp__time__pub_8h_a7a1184d100f059c352f85ca26024944b}
Check if time is in the past.

Checks if the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} is past the P\+TP wall time.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE if time is in the past otherwise F\+A\+L\+SE. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 317 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
318 \{
319     \textcolor{keywordflow}{if} (pAvtpTime) \{
320         \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\_t} tmNow;
321 
322         \textcolor{keywordflow}{if} (!pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} || pAvtpTime->
      \hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain}) \{
323             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};    \textcolor{comment}{// If timestamp can't be trusted assume time is past.}
324         \}
325 
326         \textcolor{keywordflow}{if} (\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_adcbbf5c8513dfa6442d6669d5b190b7e}{CLOCK\_GETTIME}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &tmNow)) \{
327             \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nsNow = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(&tmNow);
328 
329             \textcolor{keywordflow}{if} (nsNow >= pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec}) \{
330                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};    \textcolor{comment}{// Normal timestamp time reached.}
331             \}
332 
333             \textcolor{keywordflow}{if} (nsNow + pAvtpTime->\hyperlink{structavtp__time__t_a4f0c56f80049057fe9f41d4b15a3d127}{maxLatencyNsec} < pAvtpTime->
      \hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec}) \{
334                 \hyperlink{maap__log_8h_ae9decd5440c360a6d0ab5175c9cf08be}{IF\_LOG\_INTERVAL}(100) \{
335                     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a2be7e90c7cb63f12b221ed1cd4999185}{AVB\_LOGF\_INFO}(\textcolor{stringliteral}{"Timestamp out of range: Now:%"} 
      \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{" TSTime%"} \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{" MaxLatency:%"} \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{"ns Delta:%"} 
      \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{"ns"}, nsNow, pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec}, pAvtpTime->\hyperlink{structavtp__time__t_a4f0c56f80049057fe9f41d4b15a3d127}{maxLatencyNsec}, pAvtpTime->
      \hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} - nsNow);
336                 \}
337                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
338             \}
339 
340             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
341         \}
342         \textcolor{keywordflow}{else} \{
343             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};    \textcolor{comment}{// If timestamp can't be retrieved assume time is past to keep data
       flowing. }
344         \}
345     \}
346     \textcolor{keywordflow}{else} \{
347         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
348         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
349     \}
350 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Is\+Past\+Time@{openavb\+Avtp\+Time\+Is\+Past\+Time}}
\index{openavb\+Avtp\+Time\+Is\+Past\+Time@{openavb\+Avtp\+Time\+Is\+Past\+Time}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Is\+Past\+Time(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, U64 n\+Sec\+Time)}{openavbAvtpTimeIsPastTime(avtp_time_t *pAvtpTime, U64 nSecTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Avtp\+Time\+Is\+Past\+Time (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf U64}}]{n\+Sec\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_add39d728e411ba7e463477ac747229a8}{}\label{avtp_2openavb__avtp__time__pub_8h_add39d728e411ba7e463477ac747229a8}
Check if time is in the past a specific time (P\+TP time)

Checks if the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} is past the time passed in.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em n\+Sec\+Time} & Time in nanoseconds to compare against. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE if time is in the past otherwise F\+A\+L\+SE. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 352 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
353 \{
354     \textcolor{keywordflow}{if} (pAvtpTime) \{
355 
356         \textcolor{keywordflow}{if} (!pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} || pAvtpTime->
      \hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain}) \{
357             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};    \textcolor{comment}{// If timestamp can't be trusted assume time is past.}
358         \}
359 
360         \textcolor{keywordflow}{if} (nSecTime >= pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec}) \{
361             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};    \textcolor{comment}{// Normal timestamp time reached.}
362         \}
363 
364         \textcolor{keywordflow}{if} (nSecTime + pAvtpTime->\hyperlink{structavtp__time__t_a4f0c56f80049057fe9f41d4b15a3d127}{maxLatencyNsec} < pAvtpTime->
      \hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec}) \{
365             \hyperlink{maap__log_8h_ae9decd5440c360a6d0ab5175c9cf08be}{IF\_LOG\_INTERVAL}(100) \{
366                 \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a2be7e90c7cb63f12b221ed1cd4999185}{AVB\_LOGF\_INFO}(\textcolor{stringliteral}{"Timestamp out of range: Now:%"} 
      \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{"TSTime%"} \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{" MaxLatency:%"} \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{" ns Delta:%"} 
      \hyperlink{mmrp__tests_8cpp_ac582131d7a7c8ee57e73180d1714f9d5}{PRIu64} \textcolor{stringliteral}{"ns"}, nSecTime, pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec}, pAvtpTime->
      \hyperlink{structavtp__time__t_a4f0c56f80049057fe9f41d4b15a3d127}{maxLatencyNsec}, pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} - nSecTime);
367             \}
368             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
369         \}
370 
371         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
372 \}
373     \textcolor{keywordflow}{else} \{
374         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
375         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
376     \}
377 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Push\+M\+CR@{openavb\+Avtp\+Time\+Push\+M\+CR}}
\index{openavb\+Avtp\+Time\+Push\+M\+CR@{openavb\+Avtp\+Time\+Push\+M\+CR}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Push\+M\+C\+R(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, U32 timestamp)}{openavbAvtpTimePushMCR(avtp_time_t *pAvtpTime, U32 timestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Push\+M\+CR (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf U32}}]{timestamp}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a7d647de77165c1907244fbaedc333ad4}{}\label{avtp_2openavb__avtp__time__pub_8h_a7d647de77165c1907244fbaedc333ad4}
Push a timestamp, for use in Media Clock Recovery (M\+CR). \begin{DoxyNote}{주의}
Not available in all platforms.
\end{DoxyNote}
Push a timestamp, for use in Media Clock Recover (M\+CR). $\ast$p\+Avtp\+Time is not modified.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em timestamp} & A timestamp in the same format as the 1722 A\+V\+TP timestamp. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 240 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
241 \{
242     \textcolor{keywordflow}{if} (pAvtpTime)
243     \{
244         \textcolor{keywordflow}{if} ( \hyperlink{generic_2openavb__hal_8h_ada210776c5c5a03d5aae7b3d61871346}{HAL\_PUSH\_MCR}(&timestamp) == \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}) \{
245             \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Pushing MCR timestamp"});
246         \}
247     \}
248 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain@{openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain}}
\index{openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain@{openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, bool uncertain\+Flag)}{openavbAvtpTimeSetTimestampUncertain(avtp_time_t *pAvtpTime, bool uncertainFlag)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+Timestamp\+Uncertain (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf bool}}]{uncertain\+Flag}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_aef5fb8e14af27b6e771caff167658e21}{}\label{avtp_2openavb__avtp__time__pub_8h_aef5fb8e14af27b6e771caff167658e21}
Set the A\+V\+TP timestamp uncertain indicator.

Sets the indicator for A\+V\+TP timestamp is uncertain or not.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em uncertain\+Flag} & Flag indicating is timestamp is uncertain. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 261 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
262 \{
263     \textcolor{keywordflow}{if} (pAvtpTime) \{
264         pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = uncertainFlag;
265     \}
266     \textcolor{keywordflow}{else} \{
267         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
268     \}
269 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+Timestamp\+Valid@{openavb\+Avtp\+Time\+Set\+Timestamp\+Valid}}
\index{openavb\+Avtp\+Time\+Set\+Timestamp\+Valid@{openavb\+Avtp\+Time\+Set\+Timestamp\+Valid}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+Timestamp\+Valid(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, bool valid\+Flag)}{openavbAvtpTimeSetTimestampValid(avtp_time_t *pAvtpTime, bool validFlag)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+Timestamp\+Valid (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf bool}}]{valid\+Flag}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_aa246209297862b2796f9a716261ed310}{}\label{avtp_2openavb__avtp__time__pub_8h_aa246209297862b2796f9a716261ed310}
Set the A\+V\+TP timestamp valid indicator.

Sets the indicator for A\+V\+TP timestamp is valid or not.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em valid\+Flag} & Flag indicating is timestamp is valid. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 251 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
252 \{
253     \textcolor{keywordflow}{if} (pAvtpTime) \{
254         pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = validFlag;
255     \}
256     \textcolor{keywordflow}{else} \{
257         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
258     \}
259 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+To\+System\+Time@{openavb\+Avtp\+Time\+Set\+To\+System\+Time}}
\index{openavb\+Avtp\+Time\+Set\+To\+System\+Time@{openavb\+Avtp\+Time\+Set\+To\+System\+Time}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+To\+System\+Time(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeSetToSystemTime(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+To\+System\+Time (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a1a2a32ea6ece04fb1a15150ad0b830c4}{}\label{avtp_2openavb__avtp__time__pub_8h_a1a2a32ea6ece04fb1a15150ad0b830c4}
Set to system time.

Set the time in the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure to that of the system time on the device.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 149 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
150 \{
151     \textcolor{keywordflow}{if} (pAvtpTime) \{
152         \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\_t} tmNow = \{0, 0\};
153         \hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_adcbbf5c8513dfa6442d6669d5b190b7e}{CLOCK\_GETTIME}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8a94d9239257b8a212a60a5dcb7ae1b9bb}{OPENAVB\_CLOCK\_REALTIME}, &tmNow);
154         pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(&tmNow);
155         pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = tmNow.tv\_sec || tmNow.tv\_nsec;
156         pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
157     \}
158     \textcolor{keywordflow}{else} \{
159         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
160     \}
161 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+To\+Timespec@{openavb\+Avtp\+Time\+Set\+To\+Timespec}}
\index{openavb\+Avtp\+Time\+Set\+To\+Timespec@{openavb\+Avtp\+Time\+Set\+To\+Timespec}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+To\+Timespec(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, timespec\+\_\+t $\ast$timestamp)}{openavbAvtpTimeSetToTimespec(avtp_time_t *pAvtpTime, timespec_t *timestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+To\+Timespec (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf timespec\+\_\+t} $\ast$}]{timestamp}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a868c86644961df707f765d680071dfd2}{}\label{avtp_2openavb__avtp__time__pub_8h_a868c86644961df707f765d680071dfd2}
Set to timestamp.

Set the time in the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure to the value of timespec\+\_\+t $\ast$timestamp.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em timestamp} & A timestamp in the timespec\+\_\+t format. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 217 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
218 \{
219     \textcolor{keywordflow}{if} (pAvtpTime)
220     \{
221         \textcolor{keywordflow}{if} ((timestamp->tv\_sec == 0) && (timestamp->tv\_nsec == 0))
222         \{
223             pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
224             pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
225         \}
226         \textcolor{keywordflow}{else}
227         \{
228             \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nsec = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(timestamp);
229             pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} = nsec;
230             pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
231             pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
232         \}
233     \}
234     \textcolor{keywordflow}{else}
235     \{
236         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
237     \}
238 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+To\+Timestamp@{openavb\+Avtp\+Time\+Set\+To\+Timestamp}}
\index{openavb\+Avtp\+Time\+Set\+To\+Timestamp@{openavb\+Avtp\+Time\+Set\+To\+Timestamp}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+To\+Timestamp(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, U32 timestamp)}{openavbAvtpTimeSetToTimestamp(avtp_time_t *pAvtpTime, U32 timestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+To\+Timestamp (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf U32}}]{timestamp}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_ab1d229e70e6a888f8daf7c2ddafd2976}{}\label{avtp_2openavb__avtp__time__pub_8h_ab1d229e70e6a888f8daf7c2ddafd2976}
Set to timestamp.

Set the time in the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure to the value of the timestamp parameter which is in the same format as an A\+V\+TP timestamp.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em timestamp} & A timestamp in the same format as the 1722 A\+V\+TP timestamp. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 167 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
168 \{
169     \textcolor{keywordflow}{if} (pAvtpTime) \{
170         \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\_t} tmNow;
171         \textcolor{keywordflow}{if} (\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_adcbbf5c8513dfa6442d6669d5b190b7e}{CLOCK\_GETTIME}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &tmNow)) \{
172             \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nsNow = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(&tmNow);
173             \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} tsNow = \hyperlink{openavb__avtp__time_8c_af78b5748dc6bbf189a380cb647e6c8d2}{x\_getTimestamp}(nsNow);
174 
175             \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} delta;
176             \textcolor{keywordflow}{if} (tsNow < timestamp) \{
177                 delta = timestamp - tsNow;
178             \}  
179             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tsNow > timestamp) \{
180                 delta = timestamp + (0x100000000ULL - tsNow);
181             \}
182             \textcolor{keywordflow}{else} \{
183                 delta = 0;
184             \}
185 
186             \textcolor{keywordflow}{if} (delta < \hyperlink{openavb__avtp__time_8c_a2f7b2bd2f3f7bd54d3deb84cf3f40c74}{OPENAVB\_AVTP\_TIME\_MAX\_TS\_DIFF}) \{
187                 \textcolor{comment}{// Normal case, timestamp is upcoming}
188                 pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} = nsNow + delta;
189             \}
190             \textcolor{keywordflow}{else} \{
191                 \textcolor{comment}{// Timestamp is past}
192                 pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} = nsNow - (0x100000000ULL - delta);
193             \}
194 
195             pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
196             pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
197         \}
198         \textcolor{keywordflow}{else} \{
199             pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
200             pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
201         \}
202     \}
203     \textcolor{keywordflow}{else} \{
204         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
205     \}
206 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+To\+Timestamp\+NS@{openavb\+Avtp\+Time\+Set\+To\+Timestamp\+NS}}
\index{openavb\+Avtp\+Time\+Set\+To\+Timestamp\+NS@{openavb\+Avtp\+Time\+Set\+To\+Timestamp\+NS}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+To\+Timestamp\+N\+S(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, U64 time\+N\+S)}{openavbAvtpTimeSetToTimestampNS(avtp_time_t *pAvtpTime, U64 timeNS)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+To\+Timestamp\+NS (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf U64}}]{time\+NS}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a7ce613779ddf5c8954300d7c4e417ed0}{}\label{avtp_2openavb__avtp__time__pub_8h_a7ce613779ddf5c8954300d7c4e417ed0}
Set to nanosecond timestamp.

Set the time in the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure to the value of U64 time\+NS.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em time\+NS} & A U64 timestamp in nanoseconds. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 208 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
209 \{
210     \textcolor{keywordflow}{if} (pAvtpTime) \{
211         pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} = timeNS;
212         pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
213         pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
214     \}  
215 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Set\+To\+Wall\+Time@{openavb\+Avtp\+Time\+Set\+To\+Wall\+Time}}
\index{openavb\+Avtp\+Time\+Set\+To\+Wall\+Time@{openavb\+Avtp\+Time\+Set\+To\+Wall\+Time}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Set\+To\+Wall\+Time(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeSetToWallTime(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Set\+To\+Wall\+Time (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a56b2ae4c29078846b941284d161f7d88}{}\label{avtp_2openavb__avtp__time__pub_8h_a56b2ae4c29078846b941284d161f7d88}
Set to wall time (g\+P\+TP time).

Set the time in the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure to that of the synchronized P\+TP time. An interface module will normally use this function to set the time that media data was placed into the media queue.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 130 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
131 \{
132     \textcolor{keywordflow}{if} (pAvtpTime) \{
133         \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\_t} tmNow;
134         \textcolor{keywordflow}{if} (\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_adcbbf5c8513dfa6442d6669d5b190b7e}{CLOCK\_GETTIME}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &tmNow)) \{
135             pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(&tmNow);
136             pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
137             pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
138         \}
139         \textcolor{keywordflow}{else} \{
140             pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
141             pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
142         \}
143     \}
144     \textcolor{keywordflow}{else} \{
145         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
146     \}
147 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Sub\+N\+Sec@{openavb\+Avtp\+Time\+Sub\+N\+Sec}}
\index{openavb\+Avtp\+Time\+Sub\+N\+Sec@{openavb\+Avtp\+Time\+Sub\+N\+Sec}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Sub\+N\+Sec(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, long n\+Sec)}{openavbAvtpTimeSubNSec(avtp_time_t *pAvtpTime, long nSec)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Sub\+N\+Sec (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{long}]{n\+Sec}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_ac0a8c36f59bb38ca848fe245a39ba9db}{}\label{avtp_2openavb__avtp__time__pub_8h_ac0a8c36f59bb38ca848fe245a39ba9db}
Subtract nanoseconds from the time

Subtract the number of nanoseconds passed in from the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t}.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em n\+Sec} & Number of nanoseconds to subtract from the stored time. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 119 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
120 \{
121     \textcolor{keywordflow}{if} (pAvtpTime) \{
122         pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} -= nSec;
123     \}
124     \textcolor{keywordflow}{else} \{
125         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
126     \}
127 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Sub\+U\+Sec@{openavb\+Avtp\+Time\+Sub\+U\+Sec}}
\index{openavb\+Avtp\+Time\+Sub\+U\+Sec@{openavb\+Avtp\+Time\+Sub\+U\+Sec}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Sub\+U\+Sec(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, long u\+Sec)}{openavbAvtpTimeSubUSec(avtp_time_t *pAvtpTime, long uSec)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Time\+Sub\+U\+Sec (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{long}]{u\+Sec}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a005d476243dfa586bbae2dc51ec27de9}{}\label{avtp_2openavb__avtp__time__pub_8h_a005d476243dfa586bbae2dc51ec27de9}
Subtract microseconds from the time

Subtract the number of microseconds passed in from the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t}.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em u\+Sec} & Number of microseconds to subtract from the stored time. \\
\hline
\end{DoxyParams}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 109 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
110 \{
111     \textcolor{keywordflow}{if} (pAvtpTime) \{
112         pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} -= uSec * \hyperlink{maap__helper__linux_8h_a3b2779e65a68758ef2bfe4875b41e091}{NANOSECONDS\_PER\_USEC};
113     \}
114     \textcolor{keywordflow}{else} \{
115         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
116     \}
117 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain@{openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain}}
\index{openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain@{openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeTimestampIsUncertain(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Avtp\+Time\+Timestamp\+Is\+Uncertain (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a19d62055ab8b11f88053afa7918cbf37}{}\label{avtp_2openavb__avtp__time__pub_8h_a19d62055ab8b11f88053afa7918cbf37}
Get the A\+V\+TP timestamp uncertain indicator.

Gets the indicator for A\+V\+TP timestamp is uncertain or not.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE if the A\+V\+TP timestamp uncertain indicator is set otherwise F\+A\+L\+SE. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 304 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
305 \{
306     \textcolor{keywordflow}{if} (pAvtpTime) \{
307         \textcolor{keywordflow}{return} pAvtpTime->\hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain};
308     \}
309     \textcolor{keywordflow}{else} \{
310         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
311         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
312     \}
313 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Timestamp\+Is\+Valid@{openavb\+Avtp\+Time\+Timestamp\+Is\+Valid}}
\index{openavb\+Avtp\+Time\+Timestamp\+Is\+Valid@{openavb\+Avtp\+Time\+Timestamp\+Is\+Valid}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Timestamp\+Is\+Valid(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeTimestampIsValid(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Avtp\+Time\+Timestamp\+Is\+Valid (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a973567b6644bfa4f94229022f808a876}{}\label{avtp_2openavb__avtp__time__pub_8h_a973567b6644bfa4f94229022f808a876}
Get the A\+V\+TP timestamp valid indicator.

Gets the indicator for A\+V\+TP timestamp is valid or not.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE if the A\+V\+TP timestamp valid indicator is set otherwise F\+A\+L\+SE. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 293 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
294 \{
295     \textcolor{keywordflow}{if} (pAvtpTime) \{
296         \textcolor{keywordflow}{return} pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid};
297     \}
298     \textcolor{keywordflow}{else} \{
299         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
300         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
301     \}
302 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Usec\+Delta@{openavb\+Avtp\+Time\+Usec\+Delta}}
\index{openavb\+Avtp\+Time\+Usec\+Delta@{openavb\+Avtp\+Time\+Usec\+Delta}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Usec\+Delta(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time)}{openavbAvtpTimeUsecDelta(avtp_time_t *pAvtpTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S32} openavb\+Avtp\+Time\+Usec\+Delta (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a84b8926595c2bab2eb51ff6cf6700657}{}\label{avtp_2openavb__avtp__time__pub_8h_a84b8926595c2bab2eb51ff6cf6700657}
Returns delta from timestamp and now.

Returns difference between timestamp and current time.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Difference in microseconds between timestamp and now. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 419 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
420 \{
421     \hyperlink{openavb__types__base__pub_8h_a39c786017723555afb9e8b85accec0de}{S32} delta = 0;
422     \textcolor{keywordflow}{if} (pAvtpTime) \{
423         \textcolor{keywordflow}{if} (pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} && !pAvtpTime->
      \hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain}) \{
424             \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\_t} tmNow;
425 
426             \textcolor{keywordflow}{if} (\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_adcbbf5c8513dfa6442d6669d5b190b7e}{CLOCK\_GETTIME}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &tmNow)) \{
427                 \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nsNow = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(&tmNow);
428 
429                 delta = (\hyperlink{openavb__types__base__pub_8h_a1d293e5c494dd6826239b02f5fe98e7f}{S64})(pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} - nsNow) / 
      \hyperlink{maap__helper__linux_8h_a3b2779e65a68758ef2bfe4875b41e091}{NANOSECONDS\_PER\_USEC};
430             \}
431         \}
432     \}
433     \textcolor{keywordflow}{else} \{
434         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
435     \}
436     \textcolor{keywordflow}{return} delta;
437 \}
\end{DoxyCode}
\index{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}!openavb\+Avtp\+Time\+Usec\+Till@{openavb\+Avtp\+Time\+Usec\+Till}}
\index{openavb\+Avtp\+Time\+Usec\+Till@{openavb\+Avtp\+Time\+Usec\+Till}!avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h@{avtp/openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Time\+Usec\+Till(avtp\+\_\+time\+\_\+t $\ast$p\+Avtp\+Time, U32 $\ast$p\+Usec\+Till)}{openavbAvtpTimeUsecTill(avtp_time_t *pAvtpTime, U32 *pUsecTill)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Avtp\+Time\+Usec\+Till (
\begin{DoxyParamCaption}
\item[{{\bf avtp\+\_\+time\+\_\+t} $\ast$}]{p\+Avtp\+Time, }
\item[{{\bf U32} $\ast$}]{p\+Usec\+Till}
\end{DoxyParamCaption}
)}\hypertarget{avtp_2openavb__avtp__time__pub_8h_a3f5647279a0b5fcbef6fe68e4fa30ee5}{}\label{avtp_2openavb__avtp__time__pub_8h_a3f5647279a0b5fcbef6fe68e4fa30ee5}
Determines microseconds until P\+TP time.

Returns the number of microseconds until the time stored in \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} reaches the P\+TP time.


\begin{DoxyParams}{매개변수}
{\em p\+Avtp\+Time} & A pointer to the \hyperlink{structavtp__time__t}{avtp\+\_\+time\+\_\+t} structure. \\
\hline
{\em p\+Usec\+Till} & An output parameter that is set with the number of microseconds until the time is reached. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Return F\+A\+L\+SE if greater than 5 second otherwise T\+R\+UE. 
\end{DoxyReturn}


openavb\+\_\+avtp\+\_\+time.\+c 파일의 381 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
382 \{
383     \textcolor{keywordflow}{if} (pAvtpTime) \{
384         \textcolor{keywordflow}{if} (pAvtpTime->\hyperlink{structavtp__time__t_a0f80bf7d63fada1825c25ed77cc43848}{bTimestampValid} && !pAvtpTime->
      \hyperlink{structavtp__time__t_afc9066510178b2c6faf69cf4330e79d8}{bTimestampUncertain}) \{
385 
386             \hyperlink{avtp_2openavb__avtp__time__pub_8h_aa0b51754d79d4eac2b53e1c6ae364c43}{timespec\_t} tmNow;
387 
388             \textcolor{keywordflow}{if} (\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_adcbbf5c8513dfa6442d6669d5b190b7e}{CLOCK\_GETTIME}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &tmNow)) \{
389                 \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nsNow = \hyperlink{openavb__avtp__time_8c_a817d18cb5d4dbe2ee7d771a9505ca0bb}{x\_getNsTime}(&tmNow);
390 
391                 \textcolor{keywordflow}{if} (pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} >= nsNow) \{
392                     \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} usecTill = (pAvtpTime->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec} - nsNow) / 
      \hyperlink{maap__helper__linux_8h_a3b2779e65a68758ef2bfe4875b41e091}{NANOSECONDS\_PER\_USEC};
393 
394                     \textcolor{keywordflow}{if} (usecTill <= \hyperlink{maap__helper__linux_8h_a8a708413d6171e7d86056793abe2cd1a}{MICROSECONDS\_PER\_SECOND} * 5) \{
395                         *pUsecTill = usecTill;
396                         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
397                     \}
398                     \textcolor{keywordflow}{else} \{
399                         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
400                     \}
401                 \}
402                 \textcolor{keywordflow}{else} \{
403                     *pUsecTill = 0;
404                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
405                 \}
406             \}
407         \}
408 
409         \textcolor{comment}{// When the timestamp is invalid or uncertain assume timestamp is now.}
410         *pUsecTill = 0;
411         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
412     \}
413     \textcolor{keywordflow}{else} \{
414         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a2d9ebab6be83e3f5efe7b3729fedbf14}{OPENAVB\_AVTP\_TIME\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a1279ed8cbaa4baa4cda4dba04dec23dfa37aff5270fbc76bb5d030ff9aef2bf86}{OPENAVBAVTPTIME\_RC\_INVALID\_PTP\_TIME}));
415         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
416     \}
417 \}
\end{DoxyCode}
