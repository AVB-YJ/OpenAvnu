\hypertarget{openavb__avtp_8h}{}\section{lib/avtp\+\_\+pipeline/avtp/openavb\+\_\+avtp.h 파일 참조}
\label{openavb__avtp_8h}\index{lib/avtp\+\_\+pipeline/avtp/openavb\+\_\+avtp.\+h@{lib/avtp\+\_\+pipeline/avtp/openavb\+\_\+avtp.\+h}}
{\ttfamily \#include \char`\"{}openavb\+\_\+platform.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openavb\+\_\+intf\+\_\+pub.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openavb\+\_\+map\+\_\+pub.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openavb\+\_\+rawsock.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openavb\+\_\+timestamp.\+h\char`\"{}}\\*
openavb\+\_\+avtp.\+h에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h__incl}
\end{center}
\end{figure}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structavtp__rx__info__t}{avtp\+\_\+rx\+\_\+info\+\_\+t}
\item 
struct \hyperlink{structavtp__info__t}{avtp\+\_\+info\+\_\+t}
\item 
struct \hyperlink{structavtp__state__t}{avtp\+\_\+state\+\_\+t}
\item 
struct \hyperlink{structavtp__stream__t}{avtp\+\_\+stream\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{openavb__avtp_8h_a5e6dfe517d14f65222b866a550498e5f}{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP}~0x22\+F0
\item 
\#define \hyperlink{openavb__avtp_8h_a07fb0f2498c8b8dd62cc44da13bb092a}{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q}~0x8100
\item 
\#define \hyperlink{openavb__avtp_8h_acd97388e6bc7588b125afc25d5caeff0}{E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS}~4
\item 
\#define \hyperlink{openavb__avtp_8h_a9ed6002bebaaabdff28235aed7e2c3a8}{T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}~188
\item 
\#define \hyperlink{openavb__avtp_8h_a8ab7700ca053bcdc8de44dd248aa16d9}{S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}~192
\item 
\#define \hyperlink{openavb__avtp_8h_afe65621951164e10c5021fb9b6d0569e}{C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}~8
\item 
\#define \hyperlink{openavb__avtp_8h_a29200875a787834671e9836f2356ed8d}{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN}~14
\item 
\#define \hyperlink{openavb__avtp_8h_a6fd5764cb5a23a3c8ece29f613e4a277}{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN}~18
\item 
\#define \hyperlink{openavb__avtp_8h_a3199d9c756466b0ddeab0473efad4e6e}{A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN}~24
\item 
\#define \hyperlink{openavb__avtp_8h_a8ba949c1d5b77470b0c11cb28d5bf0f3}{O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~100
\end{DoxyCompactItemize}
\subsection*{타입정의}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{openavb__avtp_8h_a1bc6885aba39fe543a7fe2089db3ccf3}{avtp\+\_\+listener\+\_\+callback\+\_\+fn}) (void $\ast$pv, \hyperlink{structavtp__info__t}{avtp\+\_\+info\+\_\+t} $\ast$data)
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavb\+RC} \hyperlink{openavb__avtp_8h_a1447e8b605c1bd5420d21062ddfd0dc8}{openavb\+Avtp\+Tx\+Init} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{structopenavb__map__cb__t}{openavb\+\_\+map\+\_\+cb\+\_\+t} $\ast$p\+Map\+CB, \hyperlink{structopenavb__intf__cb__t}{openavb\+\_\+intf\+\_\+cb\+\_\+t} $\ast$p\+Intf\+CB, char $\ast$\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, \hyperlink{struct_a_v_b_stream_i_d__t}{A\+V\+B\+Stream\+I\+D\+\_\+t} $\ast$stream\+ID, \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} $\ast$dest\+Addr, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} max\+\_\+transit\+\_\+usec, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} fwmark, \hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} vlan\+ID, \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} vlan\+P\+CP, \hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} nbuffers, void $\ast$$\ast$p\+Stream\+\_\+out)
\item 
\hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavb\+RC} \hyperlink{openavb__avtp_8h_a075627dc1227d898861d655aeb28979f}{openavb\+Avtp\+Tx} (void $\ast$pv, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} b\+Send, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} tx\+Blocking\+In\+Intf)
\item 
\hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavb\+RC} \hyperlink{openavb__avtp_8h_a4de536e8735dfaef6e41d7ec6ce9121f}{openavb\+Avtp\+Rx\+Init} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{structopenavb__map__cb__t}{openavb\+\_\+map\+\_\+cb\+\_\+t} $\ast$p\+Map\+CB, \hyperlink{structopenavb__intf__cb__t}{openavb\+\_\+intf\+\_\+cb\+\_\+t} $\ast$p\+Intf\+CB, char $\ast$\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, \hyperlink{struct_a_v_b_stream_i_d__t}{A\+V\+B\+Stream\+I\+D\+\_\+t} $\ast$stream\+ID, \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} $\ast$dest\+Addr, \hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} nbuffers, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} rx\+Signal\+Mode, void $\ast$$\ast$p\+Stream\+\_\+out)
\item 
\hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavb\+RC} \hyperlink{openavb__avtp_8h_a275a98c6b3a5d68812a7b351a0940ad3}{openavb\+Avtp\+Rx} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
void \hyperlink{openavb__avtp_8h_aa6aeaa1996cfc8ed8db0b54255b7f337}{openavb\+Avtp\+Config\+Timsstamp\+Eval} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle}, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} ts\+Interval, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} report\+Interval, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} smoothing, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} ts\+Max\+Jitter, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} ts\+Max\+Drift)
\item 
void \hyperlink{openavb__avtp_8h_a28525b356e08f0c0176fc3f691851474}{openavb\+Avtp\+Pause} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle}, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} b\+Pause)
\item 
void \hyperlink{openavb__avtp_8h_a394b3432a9fb6ea9531e110f14815ffc}{openavb\+Avtp\+Shutdown\+Talker} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
void \hyperlink{openavb__avtp_8h_aac742d68abbc636701d02a41f6f58a95}{openavb\+Avtp\+Shutdown\+Listener} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
int \hyperlink{openavb__avtp_8h_a0d49bd792d8843c8c6bb775fbe2ec3af}{openavb\+Avtp\+Tx\+Buffer\+Level} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
int \hyperlink{openavb__avtp_8h_a5174e23de3815ef74688b1b0dc12076f}{openavb\+Avtp\+Rx\+Buffer\+Level} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
int \hyperlink{openavb__avtp_8h_a1bf835ac4a5195267fadcae5476e0e69}{openavb\+Avtp\+Lost} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\item 
\hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} \hyperlink{openavb__avtp_8h_a2bf6ea41f8f48d26aed8482ec0525794}{openavb\+Avtp\+Bytes} (void $\ast$\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle})
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN@{A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN}}
\index{A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN@{A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN}{AVTP_COMMON_STREAM_DATA_HDR_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+V\+T\+P\+\_\+\+C\+O\+M\+M\+O\+N\+\_\+\+S\+T\+R\+E\+A\+M\+\_\+\+D\+A\+T\+A\+\_\+\+H\+D\+R\+\_\+\+L\+EN~24}\hypertarget{openavb__avtp_8h_a3199d9c756466b0ddeab0473efad4e6e}{}\label{openavb__avtp_8h_a3199d9c756466b0ddeab0473efad4e6e}


openavb\+\_\+avtp.\+h 파일의 59 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN@{C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}}
\index{C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN@{C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}{CIP_HEADER_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+I\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN~8}\hypertarget{openavb__avtp_8h_afe65621951164e10c5021fb9b6d0569e}{}\label{openavb__avtp_8h_afe65621951164e10c5021fb9b6d0569e}


openavb\+\_\+avtp.\+h 파일의 52 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN@{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN}}
\index{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN@{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN}{ETH_HDR_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+EN~14}\hypertarget{openavb__avtp_8h_a29200875a787834671e9836f2356ed8d}{}\label{openavb__avtp_8h_a29200875a787834671e9836f2356ed8d}


openavb\+\_\+avtp.\+h 파일의 55 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN@{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN}}
\index{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN@{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN}{ETH_HDR_LEN_VLAN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+T\+H\+\_\+\+H\+D\+R\+\_\+\+L\+E\+N\+\_\+\+V\+L\+AN~18}\hypertarget{openavb__avtp_8h_a6fd5764cb5a23a3c8ece29f613e4a277}{}\label{openavb__avtp_8h_a6fd5764cb5a23a3c8ece29f613e4a277}


openavb\+\_\+avtp.\+h 파일의 56 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS@{E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS}}
\index{E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS@{E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS}{ETHERNET_8021Q_OCTETS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+T\+H\+E\+R\+N\+E\+T\+\_\+8021\+Q\+\_\+\+O\+C\+T\+E\+TS~4}\hypertarget{openavb__avtp_8h_acd97388e6bc7588b125afc25d5caeff0}{}\label{openavb__avtp_8h_acd97388e6bc7588b125afc25d5caeff0}


openavb\+\_\+avtp.\+h 파일의 49 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q@{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q}}
\index{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q@{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q}{ETHERTYPE_8021Q}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+8021Q~0x8100}\hypertarget{openavb__avtp_8h_a07fb0f2498c8b8dd62cc44da13bb092a}{}\label{openavb__avtp_8h_a07fb0f2498c8b8dd62cc44da13bb092a}


openavb\+\_\+avtp.\+h 파일의 48 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP@{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP}}
\index{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP@{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP}{ETHERTYPE_AVTP}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+T\+H\+E\+R\+T\+Y\+P\+E\+\_\+\+A\+V\+TP~0x22\+F0}\hypertarget{openavb__avtp_8h_a5e6dfe517d14f65222b866a550498e5f}{}\label{openavb__avtp_8h_a5e6dfe517d14f65222b866a550498e5f}


openavb\+\_\+avtp.\+h 파일의 47 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{OPENAVB_AVTP_REPORT_INTERVAL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+P\+E\+N\+A\+V\+B\+\_\+\+A\+V\+T\+P\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL~100}\hypertarget{openavb__avtp_8h_a8ba949c1d5b77470b0c11cb28d5bf0f3}{}\label{openavb__avtp_8h_a8ba949c1d5b77470b0c11cb28d5bf0f3}


openavb\+\_\+avtp.\+h 파일의 62 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN@{S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}}
\index{S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN@{S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}{SRC_PACKET_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+R\+C\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN~192}\hypertarget{openavb__avtp_8h_a8ab7700ca053bcdc8de44dd248aa16d9}{}\label{openavb__avtp_8h_a8ab7700ca053bcdc8de44dd248aa16d9}


openavb\+\_\+avtp.\+h 파일의 51 번째 라인에서 정의되었습니다.

\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN@{T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}}
\index{T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN@{T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN}{TS_PACKET_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+S\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+EN~188}\hypertarget{openavb__avtp_8h_a9ed6002bebaaabdff28235aed7e2c3a8}{}\label{openavb__avtp_8h_a9ed6002bebaaabdff28235aed7e2c3a8}


openavb\+\_\+avtp.\+h 파일의 50 번째 라인에서 정의되었습니다.



\subsection{타입정의 문서화}
\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!avtp\+\_\+listener\+\_\+callback\+\_\+fn@{avtp\+\_\+listener\+\_\+callback\+\_\+fn}}
\index{avtp\+\_\+listener\+\_\+callback\+\_\+fn@{avtp\+\_\+listener\+\_\+callback\+\_\+fn}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{avtp\+\_\+listener\+\_\+callback\+\_\+fn}{avtp_listener_callback_fn}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ avtp\+\_\+listener\+\_\+callback\+\_\+fn) (void $\ast$pv, {\bf avtp\+\_\+info\+\_\+t} $\ast$data)}\hypertarget{openavb__avtp_8h_a1bc6885aba39fe543a7fe2089db3ccf3}{}\label{openavb__avtp_8h_a1bc6885aba39fe543a7fe2089db3ccf3}


openavb\+\_\+avtp.\+h 파일의 147 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Bytes@{openavb\+Avtp\+Bytes}}
\index{openavb\+Avtp\+Bytes@{openavb\+Avtp\+Bytes}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Bytes(void $\ast$handle)}{openavbAvtpBytes(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U64} openavb\+Avtp\+Bytes (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a2bf6ea41f8f48d26aed8482ec0525794}{}\label{openavb__avtp_8h_a2bf6ea41f8f48d26aed8482ec0525794}


openavb\+\_\+avtp.\+c 파일의 633 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
634 \{
635     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
636     \textcolor{keywordflow}{if} (!pStream) \{
637         \textcolor{comment}{// Quietly return. Since this can be called before a stream is available.}
638         \textcolor{keywordflow}{return} 0;
639     \}
640 
641     \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} bytes = pStream->\hyperlink{structavtp__stream__t_aaef33f7869026b185b6ba7b899c324f4}{bytes};
642     pStream->\hyperlink{structavtp__stream__t_aaef33f7869026b185b6ba7b899c324f4}{bytes} = 0;
643     \textcolor{keywordflow}{return} bytes;
644 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a2bf6ea41f8f48d26aed8482ec0525794_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Config\+Timsstamp\+Eval@{openavb\+Avtp\+Config\+Timsstamp\+Eval}}
\index{openavb\+Avtp\+Config\+Timsstamp\+Eval@{openavb\+Avtp\+Config\+Timsstamp\+Eval}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Config\+Timsstamp\+Eval(void $\ast$handle, U32 ts\+Interval, U32 report\+Interval, bool smoothing, U32 ts\+Max\+Jitter, U32 ts\+Max\+Drift)}{openavbAvtpConfigTimsstampEval(void *handle, U32 tsInterval, U32 reportInterval, bool smoothing, U32 tsMaxJitter, U32 tsMaxDrift)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Config\+Timsstamp\+Eval (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle, }
\item[{{\bf U32}}]{ts\+Interval, }
\item[{{\bf U32}}]{report\+Interval, }
\item[{{\bf bool}}]{smoothing, }
\item[{{\bf U32}}]{ts\+Max\+Jitter, }
\item[{{\bf U32}}]{ts\+Max\+Drift}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_aa6aeaa1996cfc8ed8db0b54255b7f337}{}\label{openavb__avtp_8h_aa6aeaa1996cfc8ed8db0b54255b7f337}


openavb\+\_\+avtp.\+c 파일의 667 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
668 \{
669     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
670 
671     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle};
672     \textcolor{keywordflow}{if} (!pStream) \{
673         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}));
674         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
675         \textcolor{keywordflow}{return};
676     \}
677 
678     pStream->\hyperlink{structavtp__stream__t_ac4e4017bf67519fe0d817ab545496aad}{tsEval} = \hyperlink{openavb__timestamp_8c_ae23d9e23e96b9a27aefd90fee336bdda}{openavbTimestampEvalNew}();
679     \hyperlink{openavb__timestamp_8c_adeb65c90c0a07aeee627cdb94a3c98db}{openavbTimestampEvalInitialize}(pStream->\hyperlink{structavtp__stream__t_ac4e4017bf67519fe0d817ab545496aad}{tsEval}, tsInterval);
680     \hyperlink{openavb__timestamp_8c_a37ef0b34c775345fa6a41227c4dd1cc3}{openavbTimestampEvalSetReport}(pStream->\hyperlink{structavtp__stream__t_ac4e4017bf67519fe0d817ab545496aad}{tsEval}, reportInterval);
681     \textcolor{keywordflow}{if} (smoothing) \{
682         \hyperlink{openavb__timestamp_8c_a6923c2f8b4370e3e10c225977a599099}{openavbTimestampEvalSetSmoothing}(pStream->
      \hyperlink{structavtp__stream__t_ac4e4017bf67519fe0d817ab545496aad}{tsEval}, tsMaxJitter, tsMaxDrift);
683     \}
684 
685     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
686 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_aa6aeaa1996cfc8ed8db0b54255b7f337_cgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Lost@{openavb\+Avtp\+Lost}}
\index{openavb\+Avtp\+Lost@{openavb\+Avtp\+Lost}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Lost(void $\ast$handle)}{openavbAvtpLost(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}int openavb\+Avtp\+Lost (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a1bf835ac4a5195267fadcae5476e0e69}{}\label{openavb__avtp_8h_a1bf835ac4a5195267fadcae5476e0e69}


openavb\+\_\+avtp.\+c 파일의 621 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
622 \{
623     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
624     \textcolor{keywordflow}{if} (!pStream) \{
625         \textcolor{comment}{// Quietly return. Since this can be called before a stream is available.}
626         \textcolor{keywordflow}{return} 0;
627     \}
628     \textcolor{keywordtype}{int} count = pStream->\hyperlink{structavtp__stream__t_a8d73c0624a1f30a89e2d98013aa91187}{nLost};
629     pStream->\hyperlink{structavtp__stream__t_a8d73c0624a1f30a89e2d98013aa91187}{nLost} = 0;
630     \textcolor{keywordflow}{return} count;
631 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a1bf835ac4a5195267fadcae5476e0e69_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Pause@{openavb\+Avtp\+Pause}}
\index{openavb\+Avtp\+Pause@{openavb\+Avtp\+Pause}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Pause(void $\ast$handle, bool b\+Pause)}{openavbAvtpPause(void *handle, bool bPause)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Pause (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle, }
\item[{{\bf bool}}]{b\+Pause}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a28525b356e08f0c0176fc3f691851474}{}\label{openavb__avtp_8h_a28525b356e08f0c0176fc3f691851474}


openavb\+\_\+avtp.\+c 파일의 688 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
689 \{
690     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
691 
692     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)\hyperlink{jack__listener_8c_a6c138155d7b3442efd19d0aa3f93e548}{handle};
693     \textcolor{keywordflow}{if} (!pStream) \{
694         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}));
695         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
696         \textcolor{keywordflow}{return};
697     \}
698 
699     pStream->\hyperlink{structavtp__stream__t_a094a344391aa86a98299bac3deb91ce6}{bPause} = bPause;
700 
701     \textcolor{comment}{// AVDECC\_TODO:  Do something with the bPause value!}
702 
703     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
704 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a28525b356e08f0c0176fc3f691851474_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Rx@{openavb\+Avtp\+Rx}}
\index{openavb\+Avtp\+Rx@{openavb\+Avtp\+Rx}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Rx(void $\ast$handle)}{openavbAvtpRx(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf openavb\+RC} openavb\+Avtp\+Rx (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a275a98c6b3a5d68812a7b351a0940ad3}{}\label{openavb__avtp_8h_a275a98c6b3a5d68812a7b351a0940ad3}


openavb\+\_\+avtp.\+c 파일의 646 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
647 \{
648     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
649 
650     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
651     \textcolor{keywordflow}{if} (!pStream) \{
652         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}), 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
653     \}
654 
655     \textcolor{comment}{// Check our socket, and potentially receive some data.}
656     \hyperlink{openavb__avtp_8c_a22ad99a0fd8225550957634b3daa77b5}{avtpTryRx}(pStream);
657 
658     \textcolor{comment}{// See if there's a complete (re-assembled) data sample.}
659     \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_a180aa6c9020618ff0caab084c56759f9}{info}.\hyperlink{structavtp__info__t_abc1ad371e78eda623902e2d5e64f6afa}{rx}.\hyperlink{structavtp__rx__info__t_aa9bc14397eb72e06780631cb2027d7ad}{bComplete}) \{
660         pStream->\hyperlink{structavtp__stream__t_a180aa6c9020618ff0caab084c56759f9}{info}.\hyperlink{structavtp__info__t_abc1ad371e78eda623902e2d5e64f6afa}{rx}.\hyperlink{structavtp__rx__info__t_aa9bc14397eb72e06780631cb2027d7ad}{bComplete} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
661         \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a8afa9387d144aa8f78e03e417406d61e}{OPENAVB\_AVTP\_SUCCESS}, 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
662     \}
663 
664     \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a28fe65640777f03f3f772282f5781bb4a79d000a2ed9db7085e5643d171489b80}{OPENAVBAVTP\_RC\_NO\_FRAMES\_PROCESSED}), 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
665 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a275a98c6b3a5d68812a7b351a0940ad3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a275a98c6b3a5d68812a7b351a0940ad3_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Rx\+Buffer\+Level@{openavb\+Avtp\+Rx\+Buffer\+Level}}
\index{openavb\+Avtp\+Rx\+Buffer\+Level@{openavb\+Avtp\+Rx\+Buffer\+Level}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Rx\+Buffer\+Level(void $\ast$handle)}{openavbAvtpRxBufferLevel(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}int openavb\+Avtp\+Rx\+Buffer\+Level (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a5174e23de3815ef74688b1b0dc12076f}{}\label{openavb__avtp_8h_a5174e23de3815ef74688b1b0dc12076f}


openavb\+\_\+avtp.\+c 파일의 611 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
612 \{
613     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
614     \textcolor{keywordflow}{if} (!pStream) \{
615         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}));
616         \textcolor{keywordflow}{return} 0;
617     \}
618     \textcolor{keywordflow}{return} \hyperlink{openavb__rawsock_8h_affcdfe8cbedeab9a9cd8467b5b0a0139}{openavbRawsockRxBufLevel}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock});
619 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a5174e23de3815ef74688b1b0dc12076f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a5174e23de3815ef74688b1b0dc12076f_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Rx\+Init@{openavb\+Avtp\+Rx\+Init}}
\index{openavb\+Avtp\+Rx\+Init@{openavb\+Avtp\+Rx\+Init}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Rx\+Init(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, openavb\+\_\+map\+\_\+cb\+\_\+t $\ast$p\+Map\+C\+B, openavb\+\_\+intf\+\_\+cb\+\_\+t $\ast$p\+Intf\+C\+B, char $\ast$ifname, A\+V\+B\+Stream\+I\+D\+\_\+t $\ast$stream\+I\+D, U8 $\ast$dest\+Addr, U16 nbuffers, bool rx\+Signal\+Mode, void $\ast$$\ast$p\+Stream\+\_\+out)}{openavbAvtpRxInit(media_q_t *pMediaQ, openavb_map_cb_t *pMapCB, openavb_intf_cb_t *pIntfCB, char *ifname, AVBStreamID_t *streamID, U8 *destAddr, U16 nbuffers, bool rxSignalMode, void **pStream_out)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf openavb\+RC} openavb\+Avtp\+Rx\+Init (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf openavb\+\_\+map\+\_\+cb\+\_\+t} $\ast$}]{p\+Map\+CB, }
\item[{{\bf openavb\+\_\+intf\+\_\+cb\+\_\+t} $\ast$}]{p\+Intf\+CB, }
\item[{char $\ast$}]{ifname, }
\item[{{\bf A\+V\+B\+Stream\+I\+D\+\_\+t} $\ast$}]{stream\+ID, }
\item[{{\bf U8} $\ast$}]{dest\+Addr, }
\item[{{\bf U16}}]{nbuffers, }
\item[{{\bf bool}}]{rx\+Signal\+Mode, }
\item[{void $\ast$$\ast$}]{p\+Stream\+\_\+out}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a4de536e8735dfaef6e41d7ec6ce9121f}{}\label{openavb__avtp_8h_a4de536e8735dfaef6e41d7ec6ce9121f}


openavb\+\_\+avtp.\+c 파일의 398 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
408 \{
409     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
410     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a28a4d0350d530ad95c95b8383c00cd9c}{AVB\_LOG\_DEBUG}(\textcolor{stringliteral}{"Initialize"});
411 
412     *pStream\_out = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
413 
414     \textcolor{keywordflow}{if} (!pMapCB) \{
415         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a28fe65640777f03f3f772282f5781bb4aa3540b3520cc91b4fe0c6a12ae46b23c}{OPENAVBAVTP\_RC\_MAPPING\_CB\_NOT\_SET}
      ), \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
416     \}
417     \textcolor{keywordflow}{if} (!pIntfCB) \{
418         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a28fe65640777f03f3f772282f5781bb4a9498c18248d96ea268849d72de710eeb}{OPENAVBAVTP\_RC\_INTERFACE\_CB\_NOT\_SET}
      ), \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
419     \}
420     \textcolor{keywordflow}{if} (!daddr) \{
421         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}), 
      \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
422     \}
423 
424     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, \textcolor{keyword}{sizeof}(\hyperlink{structavtp__stream__t}{avtp\_stream\_t}));
425     \textcolor{keywordflow}{if} (!pStream) \{
426         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae8a5840a510f95e8a1bb70fcd6f7e1e5}{OPENAVB\_RC\_OUT\_OF\_MEMORY}), 
      \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
427     \}
428     pStream->\hyperlink{structavtp__stream__t_a3b1e88519ca75747960d51b86b2c5e95}{tx} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
429     pStream->\hyperlink{structavtp__stream__t_a8d73c0624a1f30a89e2d98013aa91187}{nLost} = -1;
430 
431     pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ} = pMediaQ;
432     pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB} = pMapCB;
433     pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB} = pIntfCB;
434 
435     pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_abb274346a258817c73be3d4860cd8c03}{map\_rx\_init\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
436     pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_a9657b542d4ff314437568bd9566d7519}{intf\_rx\_init\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
437     \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_ab6c8a87db93fc4d75c94e53b3594bee1}{intf\_set\_stream\_uid\_cb}) \{
438         pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_ab6c8a87db93fc4d75c94e53b3594bee1}{intf\_set\_stream\_uid\_cb}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}, streamID->\hyperlink{struct_a_v_b_stream_i_d__t_a7f5a958848a2b027d9f08e063b2e16a1}{uniqueID});
439     \}
440 
441     \textcolor{comment}{// Set the frame length}
442     pStream->\hyperlink{structavtp__stream__t_a62d47babdcc48dfcfc59166ca8d2c28b}{frameLen} = pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_ac87069ceed64005bb4a3c8fbb3da8357}{map\_max\_data\_size\_cb}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}) + \hyperlink{openavb__avtp_8h_a6fd5764cb5a23a3c8ece29f613e4a277}{ETH\_HDR\_LEN\_VLAN};
443 
444     \textcolor{comment}{// Save the streamID}
445     memcpy(pStream->\hyperlink{structavtp__stream__t_a9b673f6e12b6cd5b67db92b5df0eb123}{streamIDnet}, streamID->\hyperlink{struct_a_v_b_stream_i_d__t_a48d52ffa49f2036631c913b36c85de02}{addr}, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
446         \hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} *pStreamUID = (\hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} *)((\hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} *)(pStream->\hyperlink{structavtp__stream__t_a9b673f6e12b6cd5b67db92b5df0eb123}{streamIDnet}) + 
      \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
447        *pStreamUID = htons(streamID->\hyperlink{struct_a_v_b_stream_i_d__t_a7f5a958848a2b027d9f08e063b2e16a1}{uniqueID});
448 
449     \textcolor{comment}{// and the destination MAC address}
450     memcpy(pStream->\hyperlink{structavtp__stream__t_a339610ccd1360cfca1bafde0e16ef3d1}{dest\_addr}.ether\_addr\_octet, daddr, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
451 
452     \textcolor{comment}{// and other stuff needed to (re)open the socket}
453     pStream->\hyperlink{structavtp__stream__t_a57634e15933b3c82405e0bbe1e270d1b}{ifname} = strdup(\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname});
454     pStream->\hyperlink{structavtp__stream__t_a94614663db649ac71090a1f634aefd98}{nbuffers} = nbuffers;
455     pStream->\hyperlink{structavtp__stream__t_aa3e26a0875dca06ce8a6040be346c595}{bRxSignalMode} = rxSignalMode;
456 
457     \hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavbRC} rc = \hyperlink{openavb__avtp_8c_af009e454f29289adc76786b8a3af8561}{openAvtpSock}(pStream);
458     \textcolor{keywordflow}{if} (\hyperlink{openavb__result__codes_8h_ae0eab4d295cc774efd66a6a91aea0958}{IS\_OPENAVB\_FAILURE}(rc)) \{
459         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream);
460         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(rc, \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
461     \}
462 
463     \textcolor{comment}{// Save the AVTP subtype}
464     pStream->\hyperlink{structavtp__stream__t_ad61c2796f8f447c2ca8979f4aeccf351}{subtype} = pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_aa3fdb0836d9178ec32d124b7c3d614e9}{map\_subtype\_cb}();
465 
466     *pStream\_out = (\textcolor{keywordtype}{void} *)pStream;
467     \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a8afa9387d144aa8f78e03e417406d61e}{OPENAVB\_AVTP\_SUCCESS}, 
      \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
468 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a4de536e8735dfaef6e41d7ec6ce9121f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a4de536e8735dfaef6e41d7ec6ce9121f_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Shutdown\+Listener@{openavb\+Avtp\+Shutdown\+Listener}}
\index{openavb\+Avtp\+Shutdown\+Listener@{openavb\+Avtp\+Shutdown\+Listener}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Shutdown\+Listener(void $\ast$handle)}{openavbAvtpShutdownListener(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Shutdown\+Listener (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_aac742d68abbc636701d02a41f6f58a95}{}\label{openavb__avtp_8h_aac742d68abbc636701d02a41f6f58a95}


openavb\+\_\+avtp.\+c 파일의 732 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
733 \{
734     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
735     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a28a4d0350d530ad95c95b8383c00cd9c}{AVB\_LOG\_DEBUG}(\textcolor{stringliteral}{"Shutdown"});
736 
737     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
738     \textcolor{keywordflow}{if} (pStream) \{
739         \textcolor{comment}{// close the rawsock}
740         \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}) \{
741             \hyperlink{openavb__rawsock_8h_ae1e456bd2922c4ed8fc8263cc65d98d1}{openavbRawsockClose}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock});
742             pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
743         \}
744 
745         pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_a438129d3c775eb25b490437fb5d43fbe}{intf\_end\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
746         pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_ace0872ff88cbd5e79bdc4cf223f68421}{map\_end\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
747 
748         \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_a57634e15933b3c82405e0bbe1e270d1b}{ifname})
749             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream->\hyperlink{structavtp__stream__t_a57634e15933b3c82405e0bbe1e270d1b}{ifname});
750 
751         \textcolor{comment}{// free the malloc'd stream info}
752         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream);
753     \}
754     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
755     \textcolor{keywordflow}{return};
756 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_aac742d68abbc636701d02a41f6f58a95_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_aac742d68abbc636701d02a41f6f58a95_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Shutdown\+Talker@{openavb\+Avtp\+Shutdown\+Talker}}
\index{openavb\+Avtp\+Shutdown\+Talker@{openavb\+Avtp\+Shutdown\+Talker}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Shutdown\+Talker(void $\ast$handle)}{openavbAvtpShutdownTalker(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Avtp\+Shutdown\+Talker (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a394b3432a9fb6ea9531e110f14815ffc}{}\label{openavb__avtp_8h_a394b3432a9fb6ea9531e110f14815ffc}


openavb\+\_\+avtp.\+c 파일의 706 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
707 \{
708     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
709     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a28a4d0350d530ad95c95b8383c00cd9c}{AVB\_LOG\_DEBUG}(\textcolor{stringliteral}{"Shutdown"});
710 
711     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
712     \textcolor{keywordflow}{if} (pStream) \{
713         pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_a438129d3c775eb25b490437fb5d43fbe}{intf\_end\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
714         pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_ace0872ff88cbd5e79bdc4cf223f68421}{map\_end\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
715 
716         \textcolor{comment}{// close the rawsock}
717         \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}) \{
718             \hyperlink{openavb__rawsock_8h_ae1e456bd2922c4ed8fc8263cc65d98d1}{openavbRawsockClose}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock});
719             pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
720         \}
721 
722         \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_a57634e15933b3c82405e0bbe1e270d1b}{ifname})
723             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream->\hyperlink{structavtp__stream__t_a57634e15933b3c82405e0bbe1e270d1b}{ifname});
724 
725         \textcolor{comment}{// free the malloc'd stream info}
726         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream);
727     \}
728     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
729     \textcolor{keywordflow}{return};
730 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a394b3432a9fb6ea9531e110f14815ffc_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a394b3432a9fb6ea9531e110f14815ffc_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Tx@{openavb\+Avtp\+Tx}}
\index{openavb\+Avtp\+Tx@{openavb\+Avtp\+Tx}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Tx(void $\ast$pv, bool b\+Send, bool tx\+Blocking\+In\+Intf)}{openavbAvtpTx(void *pv, bool bSend, bool txBlockingInIntf)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf openavb\+RC} openavb\+Avtp\+Tx (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv, }
\item[{{\bf bool}}]{b\+Send, }
\item[{{\bf bool}}]{tx\+Blocking\+In\+Intf}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a075627dc1227d898861d655aeb28979f}{}\label{openavb__avtp_8h_a075627dc1227d898861d655aeb28979f}


openavb\+\_\+avtp.\+c 파일의 291 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
292 \{
293     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
294 
295     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
296     \textcolor{keywordflow}{if} (!pStream) \{
297         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}), 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
298     \}
299 
300     \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} * pAvtpFrame,*pFill;
301     \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} avtpFrameLen, frameLen;
302     \hyperlink{build_2sdk__eavb_2openavb__map__pub_8h_adbd7b5e94070d12e84c8740e2027a843}{tx\_cb\_ret\_t} txCBResult = \hyperlink{build_2sdk__eavb_2openavb__map__pub_8h_adbd7b5e94070d12e84c8740e2027a843ab5479d73dceb1df51b92da5c5f69120c}{TX\_CB\_RET\_PACKET\_NOT\_READY};
303 
304     \textcolor{comment}{// Get a TX buf if we don't already have one.}
305     \textcolor{comment}{//   (We keep the TX buf in our stream data, so that if we don't}
306     \textcolor{comment}{//    get data from the mapping module, we can use the buf next time.)}
307     \textcolor{keywordflow}{if} (!pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf}) \{
308 
309         pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf} = (\hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} *)\hyperlink{openavb__rawsock_8h_a121372984c2c72c3b5872783dbf3dbea}{openavbRawsockGetTxFrame}(pStream->
      \hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, &frameLen);
310         \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf}) \{
311             assert(frameLen >= pStream->\hyperlink{structavtp__stream__t_a62d47babdcc48dfcfc59166ca8d2c28b}{frameLen});
312             \textcolor{comment}{// Fill in the Ethernet header}
313             \hyperlink{openavb__rawsock_8h_a64af44702b6f40bf8932eca5ece06d0c}{openavbRawsockTxFillHdr}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}, pStream->
      \hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf}, &pStream->\hyperlink{structavtp__stream__t_accd5eff5dfccb78aa19869522125835b}{ethHdrLen});
314         \}
315     \}
316 
317     \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf}) \{
318         \textcolor{comment}{// AVTP frame starts right after the Ethernet header}
319         pAvtpFrame = pFill = pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf} + pStream->\hyperlink{structavtp__stream__t_accd5eff5dfccb78aa19869522125835b}{ethHdrLen};
320         avtpFrameLen = pStream->\hyperlink{structavtp__stream__t_a62d47babdcc48dfcfc59166ca8d2c28b}{frameLen} - pStream->\hyperlink{structavtp__stream__t_accd5eff5dfccb78aa19869522125835b}{ethHdrLen};
321 
322         \textcolor{comment}{// Fill the AVTP Header. This must be done before calling the interface and mapping modules.}
323         \hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavbRC} rc = \hyperlink{openavb__avtp_8c_a32a6b35e278a04b8bf5f1cb9892e27c8}{fillAvtpHdr}(pStream, pFill);
324         \textcolor{keywordflow}{if} (\hyperlink{openavb__result__codes_8h_ae0eab4d295cc774efd66a6a91aea0958}{IS\_OPENAVB\_FAILURE}(rc)) \{
325             \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(rc, \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
326         \}
327 
328         \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} timeNsec = 0;
329 
330         \textcolor{keywordflow}{if} (!txBlockingInIntf) \{
331             \textcolor{comment}{// Call interface module to read data}
332             pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_a697ca0e024c5d38ae52fba581741c255}{intf\_tx\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
333 
334 \textcolor{preprocessor}{#if IGB\_LAUNCHTIME\_ENABLED}
335             \textcolor{comment}{// lets get unmodified timestamp from mediaq item about to be sent by mapping}
336             \hyperlink{structmedia__q__item__t}{media\_q\_item\_t}* item = \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_aafa1645c7e234bd011a70063d368b995}{openavbMediaQTailLock}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}, \textcolor{keyword}{true});
337             \textcolor{keywordflow}{if} (item) \{
338                 timeNsec = item->\hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime}->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec};
339                 \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a9b57c7a2cfb99521a7e460bd29b3b31a}{openavbMediaQTailUnlock}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
340             \}
341 \textcolor{preprocessor}{#endif}
342 
343             \textcolor{comment}{// Call mapping module to move data into AVTP frame}
344             txCBResult = pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_a4a157fb8eb778c17724d3121c42bc9c7}{map\_tx\_cb}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}, pAvtpFrame, &avtpFrameLen);
345 
346             pStream->\hyperlink{structavtp__stream__t_aaef33f7869026b185b6ba7b899c324f4}{bytes} += avtpFrameLen;
347         \}
348         \textcolor{keywordflow}{else} \{
349 
350 \textcolor{preprocessor}{#if IGB\_LAUNCHTIME\_ENABLED}
351             \textcolor{comment}{// lets get unmodified timestamp from mediaq item about to be sent by mapping}
352             \hyperlink{structmedia__q__item__t}{media\_q\_item\_t}* item = \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_aafa1645c7e234bd011a70063d368b995}{openavbMediaQTailLock}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}, \textcolor{keyword}{true});
353             \textcolor{keywordflow}{if} (item) \{
354                 timeNsec = item->\hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime}->\hyperlink{structavtp__time__t_affd0c73d1b4a5fe0cfff000872016eac}{timeNsec};
355                 \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a9b57c7a2cfb99521a7e460bd29b3b31a}{openavbMediaQTailUnlock}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
356             \}
357 \textcolor{preprocessor}{#endif}
358 
359             \textcolor{comment}{// Blocking in interface mode. Pull from media queue for tx first}
360             \textcolor{keywordflow}{if} ((txCBResult = pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_a4a157fb8eb778c17724d3121c42bc9c7}{map\_tx\_cb}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}, pAvtpFrame, &avtpFrameLen)) == \hyperlink{build_2sdk__eavb_2openavb__map__pub_8h_adbd7b5e94070d12e84c8740e2027a843ab5479d73dceb1df51b92da5c5f69120c}{TX\_CB\_RET\_PACKET\_NOT\_READY}) \{
361                 \textcolor{comment}{// Call interface module to read data}
362                 pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_a697ca0e024c5d38ae52fba581741c255}{intf\_tx\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
363             \}
364             \textcolor{keywordflow}{else} \{
365                 pStream->\hyperlink{structavtp__stream__t_aaef33f7869026b185b6ba7b899c324f4}{bytes} += avtpFrameLen;
366             \}
367         \}
368 
369         \textcolor{comment}{// If we got data from the mapping module and stream is not paused,}
370         \textcolor{comment}{// notify the raw sockets.}
371         \textcolor{keywordflow}{if} (txCBResult != \hyperlink{build_2sdk__eavb_2openavb__map__pub_8h_adbd7b5e94070d12e84c8740e2027a843ab5479d73dceb1df51b92da5c5f69120c}{TX\_CB\_RET\_PACKET\_NOT\_READY} && !pStream->
      \hyperlink{structavtp__stream__t_a094a344391aa86a98299bac3deb91ce6}{bPause}) \{
372 
373             \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_ac4e4017bf67519fe0d817ab545496aad}{tsEval}) \{
374                 \hyperlink{openavb__avtp_8c_a869ddbf7a00bdf34a438dab612d19cbb}{processTimestampEval}(pStream, pAvtpFrame);
375             \}
376 
377             \textcolor{comment}{// Increment the sequence number now that we are sure this is a good packet.}
378             pStream->\hyperlink{structavtp__stream__t_a56abc5c750ed448e7ca88ac571feb962}{avtp\_sequence\_num}++;
379             \textcolor{comment}{// Mark the frame "ready to send".}
380             \hyperlink{openavb__rawsock_8h_ac04c99d5bc5e7371260b21fc79e7d253}{openavbRawsockTxFrameReady}(pStream->
      \hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}, pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf}, avtpFrameLen + pStream->\hyperlink{structavtp__stream__t_accd5eff5dfccb78aa19869522125835b}{ethHdrLen}, timeNsec);
381             \textcolor{comment}{// Send if requested}
382             \textcolor{keywordflow}{if} (bSend)
383                 \hyperlink{openavb__rawsock_8h_addc3b3ada9a2ba3695987ce93c571f76}{openavbRawsockSend}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock});
384             \textcolor{comment}{// Drop our reference to it}
385             pStream->\hyperlink{structavtp__stream__t_afedd920ccfd825275dcb5246a3c505d4}{pBuf} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
386         \}
387         \textcolor{keywordflow}{else} \{
388             \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE}, 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
389         \}
390     \}
391     \textcolor{keywordflow}{else} \{
392         \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE}, 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
393     \}
394 
395     \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a8afa9387d144aa8f78e03e417406d61e}{OPENAVB\_AVTP\_SUCCESS}, 
      \hyperlink{openavb__trace_8h_a03f725691e569bdffafa8a12a3c1c513}{AVB\_TRACE\_AVTP\_DETAIL});
396 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a075627dc1227d898861d655aeb28979f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a075627dc1227d898861d655aeb28979f_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Tx\+Buffer\+Level@{openavb\+Avtp\+Tx\+Buffer\+Level}}
\index{openavb\+Avtp\+Tx\+Buffer\+Level@{openavb\+Avtp\+Tx\+Buffer\+Level}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Tx\+Buffer\+Level(void $\ast$handle)}{openavbAvtpTxBufferLevel(void *handle)}}]{\setlength{\rightskip}{0pt plus 5cm}int openavb\+Avtp\+Tx\+Buffer\+Level (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a0d49bd792d8843c8c6bb775fbe2ec3af}{}\label{openavb__avtp_8h_a0d49bd792d8843c8c6bb775fbe2ec3af}


openavb\+\_\+avtp.\+c 파일의 601 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
602 \{
603     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = (\hyperlink{structavtp__stream__t}{avtp\_stream\_t} *)pv;
604     \textcolor{keywordflow}{if} (!pStream) \{
605         \hyperlink{openavb__result__codes_8h_a224414febe5f95d49b78e856bd2ec7d3}{AVB\_RC\_LOG}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | 
      \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae1c0fd5080224e2d6c56f1b20857a0bd}{OPENAVB\_RC\_INVALID\_ARGUMENT}));
606         \textcolor{keywordflow}{return} 0;
607     \}
608     \textcolor{keywordflow}{return} \hyperlink{openavb__rawsock_8h_a6c98777a698e8c2d0ebea6c4908dc7f7}{openavbRawsockTxBufLevel}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock});
609 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a0d49bd792d8843c8c6bb775fbe2ec3af_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a0d49bd792d8843c8c6bb775fbe2ec3af_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}!openavb\+Avtp\+Tx\+Init@{openavb\+Avtp\+Tx\+Init}}
\index{openavb\+Avtp\+Tx\+Init@{openavb\+Avtp\+Tx\+Init}!openavb\+\_\+avtp.\+h@{openavb\+\_\+avtp.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Avtp\+Tx\+Init(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, openavb\+\_\+map\+\_\+cb\+\_\+t $\ast$p\+Map\+C\+B, openavb\+\_\+intf\+\_\+cb\+\_\+t $\ast$p\+Intf\+C\+B, char $\ast$ifname, A\+V\+B\+Stream\+I\+D\+\_\+t $\ast$stream\+I\+D, U8 $\ast$dest\+Addr, U32 max\+\_\+transit\+\_\+usec, U32 fwmark, U16 vlan\+I\+D, U8 vlan\+P\+C\+P, U16 nbuffers, void $\ast$$\ast$p\+Stream\+\_\+out)}{openavbAvtpTxInit(media_q_t *pMediaQ, openavb_map_cb_t *pMapCB, openavb_intf_cb_t *pIntfCB, char *ifname, AVBStreamID_t *streamID, U8 *destAddr, U32 max_transit_usec, U32 fwmark, U16 vlanID, U8 vlanPCP, U16 nbuffers, void **pStream_out)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf openavb\+RC} openavb\+Avtp\+Tx\+Init (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf openavb\+\_\+map\+\_\+cb\+\_\+t} $\ast$}]{p\+Map\+CB, }
\item[{{\bf openavb\+\_\+intf\+\_\+cb\+\_\+t} $\ast$}]{p\+Intf\+CB, }
\item[{char $\ast$}]{ifname, }
\item[{{\bf A\+V\+B\+Stream\+I\+D\+\_\+t} $\ast$}]{stream\+ID, }
\item[{{\bf U8} $\ast$}]{dest\+Addr, }
\item[{{\bf U32}}]{max\+\_\+transit\+\_\+usec, }
\item[{{\bf U32}}]{fwmark, }
\item[{{\bf U16}}]{vlan\+ID, }
\item[{{\bf U8}}]{vlan\+P\+CP, }
\item[{{\bf U16}}]{nbuffers, }
\item[{void $\ast$$\ast$}]{p\+Stream\+\_\+out}
\end{DoxyParamCaption}
)}\hypertarget{openavb__avtp_8h_a1447e8b605c1bd5420d21062ddfd0dc8}{}\label{openavb__avtp_8h_a1447e8b605c1bd5420d21062ddfd0dc8}


openavb\+\_\+avtp.\+c 파일의 116 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
129 \{
130     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
131     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a28a4d0350d530ad95c95b8383c00cd9c}{AVB\_LOG\_DEBUG}(\textcolor{stringliteral}{"Initialize"});
132 
133     *pStream\_out = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
134 
135     \textcolor{comment}{// Malloc the structure to hold state information}
136     \hyperlink{structavtp__stream__t}{avtp\_stream\_t} *pStream = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, \textcolor{keyword}{sizeof}(\hyperlink{structavtp__stream__t}{avtp\_stream\_t}));
137     \textcolor{keywordflow}{if} (!pStream) \{
138         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a12b88021e9b16166f9bad2ed5666ecc8}{AVB\_RC}(
      \hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE} | \hyperlink{openavb__result__codes_8h_a310fb37a051fa776e8d1c6fb82a93486ae8a5840a510f95e8a1bb70fcd6f7e1e5}{OPENAVB\_RC\_OUT\_OF\_MEMORY}), 
      \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
139     \}
140     pStream->\hyperlink{structavtp__stream__t_a3b1e88519ca75747960d51b86b2c5e95}{tx} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
141 
142     pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ} = pMediaQ;
143     pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB} = pMapCB;
144     pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB} = pIntfCB;
145 
146     pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_a187e10e5170f1fc6d1162148f9edf2d9}{map\_tx\_init\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
147     pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_a8c4365e897d7567f363435819ed2c795}{intf\_tx\_init\_cb}(pStream->\hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ});
148     \textcolor{keywordflow}{if} (pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_ab6c8a87db93fc4d75c94e53b3594bee1}{intf\_set\_stream\_uid\_cb}) \{
149         pStream->\hyperlink{structavtp__stream__t_a437f354862480a1e88dbf887decb189a}{pIntfCB}->\hyperlink{structopenavb__intf__cb__t_ab6c8a87db93fc4d75c94e53b3594bee1}{intf\_set\_stream\_uid\_cb}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}, streamID->\hyperlink{struct_a_v_b_stream_i_d__t_a7f5a958848a2b027d9f08e063b2e16a1}{uniqueID});
150     \}
151 
152     \textcolor{comment}{// Set the frame length}
153     pStream->\hyperlink{structavtp__stream__t_a62d47babdcc48dfcfc59166ca8d2c28b}{frameLen} = pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_ac87069ceed64005bb4a3c8fbb3da8357}{map\_max\_data\_size\_cb}(pStream->
      \hyperlink{structavtp__stream__t_a19b6a37a9e1222c5c08444ea175d6a45}{pMediaQ}) + \hyperlink{openavb__avtp_8h_a6fd5764cb5a23a3c8ece29f613e4a277}{ETH\_HDR\_LEN\_VLAN};
154 
155     \textcolor{comment}{// and the latency}
156     pStream->\hyperlink{structavtp__stream__t_a03a0af93a04672d910ac9108e32f7ab6}{max\_transit\_usec} = max\_transit\_usec;
157 
158     \textcolor{comment}{// and save other stuff needed to (re)open the socket}
159     pStream->\hyperlink{structavtp__stream__t_a57634e15933b3c82405e0bbe1e270d1b}{ifname} = strdup(\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname});
160     pStream->\hyperlink{structavtp__stream__t_a94614663db649ac71090a1f634aefd98}{nbuffers} = nbuffers;
161 
162     \textcolor{comment}{// Open a raw socket}
163     \hyperlink{openavb__result__codes_8h_a0cb594b7f047b8e4a76be68eca619be5}{openavbRC} rc = \hyperlink{openavb__avtp_8c_af009e454f29289adc76786b8a3af8561}{openAvtpSock}(pStream);
164     \textcolor{keywordflow}{if} (\hyperlink{openavb__result__codes_8h_ae0eab4d295cc774efd66a6a91aea0958}{IS\_OPENAVB\_FAILURE}(rc)) \{
165         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream);
166         \hyperlink{openavb__result__codes_8h_a21afa311ff9e1c7d5688dc4c1643a6e5}{AVB\_RC\_LOG\_TRACE\_RET}(rc, \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
167     \}
168 
169     \textcolor{comment}{// Create the AVTP frame header for the frames we'll send}
170     \hyperlink{structhdr__info__t}{hdr\_info\_t} hdrInfo;
171 
172     \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} srcAddr[\hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN}];
173     \textcolor{keywordflow}{if} (\hyperlink{openavb__rawsock_8h_a099e2a46bd9edcba96f26f455fccbdf6}{openavbRawsockGetAddr}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}, srcAddr)) \{
174         hdrInfo.\hyperlink{structhdr__info__t_a603b5aebe0d4619ae32b09cd6612535f}{shost} = srcAddr;
175     \}
176     \textcolor{keywordflow}{else} \{
177         \hyperlink{openavb__rawsock_8h_ae1e456bd2922c4ed8fc8263cc65d98d1}{openavbRawsockClose}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock});
178         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pStream);
179         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Failed to get source MAC address"});
180         \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a23d4f92ac82d3d16c4d308f2e80b079a}{OPENAVB\_AVTP\_FAILURE}, 
      \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
181     \}
182 
183     hdrInfo.\hyperlink{structhdr__info__t_a5a0b8fa2025e75a8db03f7a23cadc04e}{dhost} = destAddr;
184     \textcolor{keywordflow}{if} (vlanPCP != 0 || vlanID != 0) \{
185         hdrInfo.\hyperlink{structhdr__info__t_aae65321fd27fc2507a499a3f00660a93}{vlan} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
186         hdrInfo.\hyperlink{structhdr__info__t_a394deccdf47e8dd6b4e6329e6fe0f8fc}{vlan\_pcp} = vlanPCP;
187         hdrInfo.\hyperlink{structhdr__info__t_aed62b55d4664ac7c198517a01adc4f6b}{vlan\_vid} = vlanID;
188         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_afcf1f0c1d10ae9efe3782eb6cae78355}{AVB\_LOGF\_DEBUG}(\textcolor{stringliteral}{"VLAN pcp=%d vid=%d"}, hdrInfo.\hyperlink{structhdr__info__t_a394deccdf47e8dd6b4e6329e6fe0f8fc}{vlan\_pcp}, hdrInfo.
      \hyperlink{structhdr__info__t_aed62b55d4664ac7c198517a01adc4f6b}{vlan\_vid});
189     \}
190     \textcolor{keywordflow}{else} \{
191         hdrInfo.\hyperlink{structhdr__info__t_aae65321fd27fc2507a499a3f00660a93}{vlan} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
192     \}
193     \hyperlink{openavb__rawsock_8h_a533478c640918e91d858316a98f26176}{openavbRawsockTxSetHdr}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}, &hdrInfo);
194 
195     \textcolor{comment}{// Remember the AVTP subtype and streamID}
196     pStream->\hyperlink{structavtp__stream__t_ad61c2796f8f447c2ca8979f4aeccf351}{subtype} = pStream->\hyperlink{structavtp__stream__t_ae26c54ab64456a99f94f3421e1d01960}{pMapCB}->\hyperlink{structopenavb__map__cb__t_aa3fdb0836d9178ec32d124b7c3d614e9}{map\_subtype\_cb}();
197 
198     memcpy(pStream->\hyperlink{structavtp__stream__t_a9b673f6e12b6cd5b67db92b5df0eb123}{streamIDnet}, streamID->\hyperlink{struct_a_v_b_stream_i_d__t_a48d52ffa49f2036631c913b36c85de02}{addr}, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
199         \hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} *pStreamUID = (\hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} *)((\hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} *)(pStream->\hyperlink{structavtp__stream__t_a9b673f6e12b6cd5b67db92b5df0eb123}{streamIDnet}) + 
      \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
200        *pStreamUID = htons(streamID->\hyperlink{struct_a_v_b_stream_i_d__t_a7f5a958848a2b027d9f08e063b2e16a1}{uniqueID});
201 
202     \textcolor{comment}{// Set the fwmark - used to steer packets into the right traffic control queue}
203     \hyperlink{openavb__rawsock_8h_a15a1f89d20bde6bc174c1145047fc89c}{openavbRawsockTxSetMark}(pStream->\hyperlink{structavtp__stream__t_afe47f2588e837096d884e9cbb94a7d20}{rawsock}, fwmark);
204 
205     *pStream\_out = (\textcolor{keywordtype}{void} *)pStream;
206     \hyperlink{openavb__result__codes_8h_a914b1a10e0333e834ea192298c7d9e26}{AVB\_RC\_TRACE\_RET}(\hyperlink{openavb__result__codes_8h_a8afa9387d144aa8f78e03e417406d61e}{OPENAVB\_AVTP\_SUCCESS}, 
      \hyperlink{openavb__trace_8h_ac1508b83fb9d3d461e0964b169a668d8}{AVB\_TRACE\_AVTP});
207 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a1447e8b605c1bd5420d21062ddfd0dc8_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__avtp_8h_a1447e8b605c1bd5420d21062ddfd0dc8_icgraph}
\end{center}
\end{figure}


