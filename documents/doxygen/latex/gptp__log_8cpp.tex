\hypertarget{gptp__log_8cpp}{}\section{daemons/gptp/common/gptp\+\_\+log.cpp 파일 참조}
\label{gptp__log_8cpp}\index{daemons/gptp/common/gptp\+\_\+log.\+cpp@{daemons/gptp/common/gptp\+\_\+log.\+cpp}}
{\ttfamily \#include $<$gptp\+\_\+log.\+hpp$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$platform.\+hpp$>$}\\*
{\ttfamily \#include $<$chrono$>$}\\*
gptp\+\_\+log.\+cpp에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{gptp__log_8cpp__incl}
\end{center}
\end{figure}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{gptp__log_8cpp_a7cbca0f819da796e54eac834b8894643}{gptplog\+Register} (void)
\item 
void \hyperlink{gptp__log_8cpp_af074a2e9b06efacc0035050180b7fc44}{gptplog\+Unregister} (void)
\item 
void \hyperlink{gptp__log_8cpp_a04ed93da3f738ae876a20d632e9ff50b}{gptp\+Log} (\hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89d}{G\+P\+T\+P\+\_\+\+L\+O\+G\+\_\+\+L\+E\+V\+EL} level, const char $\ast$tag, const char $\ast$path, int line, const char $\ast$fmt,...)
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\index{gptp\+\_\+log.\+cpp@{gptp\+\_\+log.\+cpp}!gptp\+Log@{gptp\+Log}}
\index{gptp\+Log@{gptp\+Log}!gptp\+\_\+log.\+cpp@{gptp\+\_\+log.\+cpp}}
\subsubsection[{\texorpdfstring{gptp\+Log(\+G\+P\+T\+P\+\_\+\+L\+O\+G\+\_\+\+L\+E\+V\+E\+L level, const char $\ast$tag, const char $\ast$path, int line, const char $\ast$fmt,...)}{gptpLog(GPTP_LOG_LEVEL level, const char *tag, const char *path, int line, const char *fmt,...)}}]{\setlength{\rightskip}{0pt plus 5cm}void gptp\+Log (
\begin{DoxyParamCaption}
\item[{{\bf G\+P\+T\+P\+\_\+\+L\+O\+G\+\_\+\+L\+E\+V\+EL}}]{level, }
\item[{const char $\ast$}]{tag, }
\item[{const char $\ast$}]{path, }
\item[{int}]{line, }
\item[{const char $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{gptp__log_8cpp_a04ed93da3f738ae876a20d632e9ff50b}{}\label{gptp__log_8cpp_a04ed93da3f738ae876a20d632e9ff50b}


gptp\+\_\+log.\+cpp 파일의 56 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
57 \{
58     \textcolor{keywordtype}{char} \hyperlink{maap__log__linux_8c_a0c7e58a50354c4a4d6dad428d0e47029}{msg}[1024];
59 
60     va\_list \hyperlink{namespaceastime__fitline_a8187411843a6284ffb964ef3fb9fcab3}{args};
61     va\_start(args, fmt);
62     vsprintf(msg, fmt, args);
63 
64 \textcolor{preprocessor}{#ifndef GENIVI\_DLT}
65     std::chrono::system\_clock::time\_point cNow = std::chrono::system\_clock::now();
66     time\_t tNow = std::chrono::system\_clock::to\_time\_t(cNow);
67     \textcolor{keyword}{struct }tm tmNow;
68     \hyperlink{linux_2src_2platform_8cpp_ae19dcd7ccc82b66f85050f5a3382eb7f}{PLAT\_localtime}(&tNow, &tmNow);
69     std::chrono::system\_clock::duration roundNow = cNow - std::chrono::system\_clock::from\_time\_t(tNow);
70     \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} millis = (\textcolor{keywordtype}{long} int) std::chrono::duration\_cast<std::chrono::milliseconds>(roundNow).count();
71 
72     \textcolor{keywordflow}{if} (path) \{
73         fprintf(stderr, \textcolor{stringliteral}{"%s: GPTP [%2.2d:%2.2d:%2.2d:%3.3ld] [%s:%u] %s\(\backslash\)n"},
74                tag, tmNow.tm\_hour, tmNow.tm\_min, tmNow.tm\_sec, millis, path, line, msg);
75     \}
76     \textcolor{keywordflow}{else} \{
77         fprintf(stderr, \textcolor{stringliteral}{"%s: GPTP [%2.2d:%2.2d:%2.2d:%3.3ld] %s\(\backslash\)n"},
78                tag, tmNow.tm\_hour, tmNow.tm\_min, tmNow.tm\_sec, millis, msg);
79     \}
80 \textcolor{preprocessor}{#else}
81     DltLogLevelType dlt\_level; 
82 
83     \textcolor{keywordflow}{switch} (level) \{
84     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89da64de6de60ff092852ec59039e87df938}{GPTP\_LOG\_LVL\_CRITICAL}:
85         dlt\_level = DLT\_LOG\_FATAL;
86         \textcolor{keywordflow}{break};
87     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89da060a063848a833de289cbd740c3bfd78}{GPTP\_LOG\_LVL\_ERROR}:
88         dlt\_level = DLT\_LOG\_ERROR;
89         \textcolor{keywordflow}{break};
90     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89dabad6a71291ba7f8085bda71ca33fe0fb}{GPTP\_LOG\_LVL\_EXCEPTION}:
91     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89da0d0f1173591645701f1a65728fdf987f}{GPTP\_LOG\_LVL\_WARNING}:
92         dlt\_level = DLT\_LOG\_WARN;
93         \textcolor{keywordflow}{break};
94     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89da74d5fa47b64649582dfea8894685e63b}{GPTP\_LOG\_LVL\_INFO}:
95     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89da123eb5d41154e7e844d3cb1a7f02b631}{GPTP\_LOG\_LVL\_STATUS}:
96         dlt\_level = DLT\_LOG\_INFO;
97         \textcolor{keywordflow}{break};
98     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89dac80738600edcbe0911b41a7a6e036be6}{GPTP\_LOG\_LVL\_DEBUG}:
99         dlt\_level = DLT\_LOG\_DEBUG;
100         \textcolor{keywordflow}{break};
101     \textcolor{keywordflow}{case} \hyperlink{gptp__log_8hpp_a52c6f0f072e0bb17fe7e8ec2ce84d89da84c8f15735237d7b487804bfa734881f}{GPTP\_LOG\_LVL\_VERBOSE}:
102         dlt\_level = DLT\_LOG\_VERBOSE;
103         \textcolor{keywordflow}{break};
104     \textcolor{keywordflow}{default}:
105         dlt\_level = DLT\_LOG\_INFO;
106         \textcolor{keywordflow}{break};
107     \}
108 
109     DLT\_LOG(dlt\_con\_gptp, dlt\_level, DLT\_STRING(msg));
110 \textcolor{preprocessor}{#endif}
111 
112 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{gptp__log_8cpp_a04ed93da3f738ae876a20d632e9ff50b_cgraph}
\end{center}
\end{figure}


\index{gptp\+\_\+log.\+cpp@{gptp\+\_\+log.\+cpp}!gptplog\+Register@{gptplog\+Register}}
\index{gptplog\+Register@{gptplog\+Register}!gptp\+\_\+log.\+cpp@{gptp\+\_\+log.\+cpp}}
\subsubsection[{\texorpdfstring{gptplog\+Register(void)}{gptplogRegister(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void gptplog\+Register (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{gptp__log_8cpp_a7cbca0f819da796e54eac834b8894643}{}\label{gptp__log_8cpp_a7cbca0f819da796e54eac834b8894643}


gptp\+\_\+log.\+cpp 파일의 40 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
41 \{
42 \textcolor{preprocessor}{#ifdef GENIVI\_DLT}
43     DLT\_REGISTER\_APP(\textcolor{stringliteral}{"GPTP"},\textcolor{stringliteral}{"OpenAVB gPTP"});
44     DLT\_REGISTER\_CONTEXT(dlt\_con\_gptp, \textcolor{stringliteral}{"GNRL"}, \textcolor{stringliteral}{"General Context"});
45 \textcolor{preprocessor}{#endif}
46 \}
\end{DoxyCode}
\index{gptp\+\_\+log.\+cpp@{gptp\+\_\+log.\+cpp}!gptplog\+Unregister@{gptplog\+Unregister}}
\index{gptplog\+Unregister@{gptplog\+Unregister}!gptp\+\_\+log.\+cpp@{gptp\+\_\+log.\+cpp}}
\subsubsection[{\texorpdfstring{gptplog\+Unregister(void)}{gptplogUnregister(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void gptplog\+Unregister (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{gptp__log_8cpp_af074a2e9b06efacc0035050180b7fc44}{}\label{gptp__log_8cpp_af074a2e9b06efacc0035050180b7fc44}


gptp\+\_\+log.\+cpp 파일의 48 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
49 \{
50 \textcolor{preprocessor}{#ifdef GENIVI\_DLT}
51     DLT\_UNREGISTER\_CONTEXT(dlt\_con\_gptp);
52     DLT\_UNREGISTER\_APP();
53 \textcolor{preprocessor}{#endif}
54 \}
\end{DoxyCode}
