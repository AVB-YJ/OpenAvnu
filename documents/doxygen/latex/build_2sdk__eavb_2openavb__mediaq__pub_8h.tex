\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h}{}\section{lib/avtp\+\_\+pipeline/build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.h 파일 참조}
\label{build_2sdk__eavb_2openavb__mediaq__pub_8h}\index{lib/avtp\+\_\+pipeline/build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{lib/avtp\+\_\+pipeline/build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
{\ttfamily \#include \char`\"{}openavb\+\_\+types\+\_\+pub.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openavb\+\_\+avtp\+\_\+time\+\_\+pub.\+h\char`\"{}}\\*
openavb\+\_\+mediaq\+\_\+pub.\+h에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h__incl}
\end{center}
\end{figure}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmedia__q__item__t}{media\+\_\+q\+\_\+item\+\_\+t}
\item 
struct \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$ \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_ad9ac4896a82092d93fb4c21289497194}{openavb\+Media\+Q\+Create} ()
\item 
void \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa052ae332aa31243056b46124bc9df71}{openavb\+Media\+Q\+Thread\+Safe\+On} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a392a15d51328fab65d754685450834de}{openavb\+Media\+Q\+Set\+Size} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, int item\+Count, int item\+Size)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a3bc14a2759175d30dbf0663f937fe592}{openavb\+Media\+Q\+Alloc\+Item\+Map\+Data} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, int item\+Pub\+Map\+Size, int item\+Pvt\+Map\+Size)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a84c8ba28a68daf207204faa18e718110}{openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, int item\+Intf\+Size)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_adddaa9656fd7fcca39d54a3fdb8dc3a9}{openavb\+Media\+Q\+Delete} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
void \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_afb76a6274ad6626ee51a50174d7b9389}{openavb\+Media\+Q\+Set\+Max\+Latency} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} max\+Latency\+Usec)
\item 
void \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_abb41c6d762035f1d5e74c91b5ed44f06}{openavb\+Media\+Q\+Set\+Max\+Stale\+Tail} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} max\+Stale\+Tail\+Usec)
\item 
\hyperlink{structmedia__q__item__t}{media\+\_\+q\+\_\+item\+\_\+t} $\ast$ \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_ae2ce807451447ec2dab9a4284ac61b99}{openavb\+Media\+Q\+Head\+Lock} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
void \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac73b08d1568f13b634e2a0f1ef35e11a}{openavb\+Media\+Q\+Head\+Unlock} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a0a57c275ac213fdd14c944741c6e9250}{openavb\+Media\+Q\+Head\+Push} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
\hyperlink{structmedia__q__item__t}{media\+\_\+q\+\_\+item\+\_\+t} $\ast$ \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_aafa1645c7e234bd011a70063d368b995}{openavb\+Media\+Q\+Tail\+Lock} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} ignore\+Timestamp)
\item 
void \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a9b57c7a2cfb99521a7e460bd29b3b31a}{openavb\+Media\+Q\+Tail\+Unlock} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_ab0525761a2b45c4c14d4fdc80fa24c47}{openavb\+Media\+Q\+Tail\+Pull} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a1cba0078992041670a37d66dddb86072}{openavb\+Media\+Q\+Tail\+Item\+Take} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{structmedia__q__item__t}{media\+\_\+q\+\_\+item\+\_\+t} $\ast$p\+Item)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a81c13779e33c66b49ebe60e7565b1b2f}{openavb\+Media\+Q\+Tail\+Item\+Give} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{structmedia__q__item__t}{media\+\_\+q\+\_\+item\+\_\+t} $\ast$p\+Item)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_af040d551f94e83aaba3e3a7e105f6c41}{openavb\+Media\+Q\+Usec\+Till\+Tail} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} $\ast$p\+Usec\+Till)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac1d02726069afc037940ef87f5893dfc}{openavb\+Media\+Q\+Is\+Available\+Bytes} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} bytes, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} ignore\+Timestamp)
\item 
\hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa3c8943c2131c80107c137f5872effbc}{openavb\+Media\+Q\+Count\+Items} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} ignore\+Timestamp)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_acbf06897fdf74f6607d1a24e474eae3c}{openavb\+Media\+Q\+Any\+Ready\+Items} (\hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} $\ast$p\+MediaQ, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} ignore\+Timestamp)
\end{DoxyCompactItemize}


\subsection{상세한 설명}
Media Queue. Circular queue for passing data between interfaces and mappers. 

\subsection{함수 문서화}
\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data@{openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data}}
\index{openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data@{openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, int item\+Intf\+Size)}{openavbMediaQAllocItemIntfData(media_q_t *pMediaQ, int itemIntfSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Alloc\+Item\+Intf\+Data (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{int}]{item\+Intf\+Size}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a84c8ba28a68daf207204faa18e718110}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a84c8ba28a68daf207204faa18e718110}
Alloc item interface data.

Items in the media queue may also have per-\/item data that is managed by the interface modules. This function allows interface modules to specify this storage. This must be called before using the media queue.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
{\em item\+Intf\+Size} & The size of the per-\/items data to allocate for use by the interface module \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE on success or F\+A\+L\+SE on failure
\end{DoxyReturn}
\begin{DoxyWarning}{경고}
This must be called before using the MediaQ 
\end{DoxyWarning}


openavb\+\_\+mediaq.\+c 파일의 372 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
373 \{
374     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
375 
376     \textcolor{keywordflow}{if} (pMediaQ) \{
377         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
378             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
379             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}) \{
380                 \textcolor{keywordtype}{int} i1;
381                 \textcolor{keywordflow}{for} (i1 = 0; i1 < pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount}; i1++) \{
382                     \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a44191a670acf801794664815b343674d}{pPvtIntfData}) \{
383                         pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a44191a670acf801794664815b343674d}{pPvtIntfData} = 
      \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, itemIntfSize);
384                         \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a44191a670acf801794664815b343674d}{pPvtIntfData}) \{
385                             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
386                             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
387                         \}
388                     \}
389                     \textcolor{keywordflow}{else} \{
390                         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Attempting to reallocate private interface data"});
391                         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
392                         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
393                     \}
394                 \}
395                 \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
396                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
397             \}
398         \}
399     \}
400 
401     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
402     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
403 \}
\end{DoxyCode}
\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Alloc\+Item\+Map\+Data@{openavb\+Media\+Q\+Alloc\+Item\+Map\+Data}}
\index{openavb\+Media\+Q\+Alloc\+Item\+Map\+Data@{openavb\+Media\+Q\+Alloc\+Item\+Map\+Data}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Alloc\+Item\+Map\+Data(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, int item\+Pub\+Map\+Size, int item\+Pvt\+Map\+Size)}{openavbMediaQAllocItemMapData(media_q_t *pMediaQ, int itemPubMapSize, int itemPvtMapSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Alloc\+Item\+Map\+Data (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{int}]{item\+Pub\+Map\+Size, }
\item[{int}]{item\+Pvt\+Map\+Size}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a3bc14a2759175d30dbf0663f937fe592}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a3bc14a2759175d30dbf0663f937fe592}
Alloc item map data.

Items in the media queue may also have per-\/item data that is managed by the mapping modules. This function allows mapping modules to specify this storage. Only mapping modules will use this call. This must be called before using the media queue.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
{\em item\+Pub\+Map\+Size} & The size of the public (shared) per-\/items data that will be allocated. Typically this is the size of a structure that is declared in a public header file associated with the mapping module. \\
\hline
{\em item\+Pvt\+Map\+Size} & The size of the private per-\/items data that will be allocated. The structure of this area will not be shared outside of the mapping module \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE on success or F\+A\+L\+SE on failure
\end{DoxyReturn}
\begin{DoxyWarning}{경고}
This must be called before using the MediaQ 
\end{DoxyWarning}


openavb\+\_\+mediaq.\+c 파일의 321 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
322 \{
323     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
324 
325     \textcolor{keywordflow}{if} (pMediaQ) \{
326         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
327             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
328             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}) \{
329                 \textcolor{keywordtype}{int} i1;
330                 \textcolor{keywordflow}{for} (i1 = 0; i1 < pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount}; i1++) \{
331                     \textcolor{keywordflow}{if} (itemPubMapSize) \{
332                         \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa95927d84c1d7409725f2e169b8ec342}{pPubMapData}) \{
333                             pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa95927d84c1d7409725f2e169b8ec342}{pPubMapData} = 
      \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, itemPubMapSize);
334                             \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa95927d84c1d7409725f2e169b8ec342}{pPubMapData}) \{
335                                 \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
336                                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
337                             \}
338                         \}
339                         \textcolor{keywordflow}{else} \{
340                             \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Attempting to reallocate public map data"});
341                             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
342                             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
343                         \}
344                     \}
345                     \textcolor{keywordflow}{if} (itemPvtMapSize) \{
346                         \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_af23c5feee139b93f1c9dfcb56f1eaa1d}{pPvtMapData}) \{
347                             pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_af23c5feee139b93f1c9dfcb56f1eaa1d}{pPvtMapData} = 
      \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, itemPvtMapSize);
348                             \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_af23c5feee139b93f1c9dfcb56f1eaa1d}{pPvtMapData}) \{
349                                 \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
350                                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
351                             \}
352                         \}
353                         \textcolor{keywordflow}{else} \{
354                             \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Attempting to reallocate private map data"});
355                             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
356                             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
357                         \}
358                     \}
359                 \}
360 
361                 \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
362                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
363             \}
364         \}
365     \}
366 
367     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
368     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
369 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_a3bc14a2759175d30dbf0663f937fe592_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Any\+Ready\+Items@{openavb\+Media\+Q\+Any\+Ready\+Items}}
\index{openavb\+Media\+Q\+Any\+Ready\+Items@{openavb\+Media\+Q\+Any\+Ready\+Items}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Any\+Ready\+Items(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, bool ignore\+Timestamp)}{openavbMediaQAnyReadyItems(media_q_t *pMediaQ, bool ignoreTimestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Any\+Ready\+Items (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf bool}}]{ignore\+Timestamp}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_acbf06897fdf74f6607d1a24e474eae3c}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_acbf06897fdf74f6607d1a24e474eae3c}
Check if there are any ready MediaQ items.

Check if there are any ready MediaQ items.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em ignore\+Timestamp} & Ignore timestamp for checking \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE if there is at least 1 MediaQ item available otherwise F\+A\+L\+SE. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 969 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
970 \{
971     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
972 
973     \textcolor{keywordflow}{if} (!ignoreTimestamp) \{
974         \hyperlink{openavb__mediaq_8c_a2e744734b4fe813ce2849a6daa613896}{x\_openavbMediaQPurgeStaleTail}(pMediaQ);
975     \}
976 
977     \textcolor{keywordflow}{if} (pMediaQ) \{
978         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
979             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
980             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
981                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
982                     \textcolor{comment}{// Check if tail item is ready.}
983                     \textcolor{keywordtype}{int} tailIdx = pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail};
984                     \textcolor{keywordflow}{if} (ignoreTimestamp) \{
985                         \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[tailIdx];
986 
987                         \textcolor{keywordflow}{if} (!pTail->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
988                             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
989                             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
990                         \}
991                     \}
992                     \textcolor{keywordflow}{else} \{
993                         \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nSecTime;
994                         \hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8878dd2cd297356518c25b98f7c73334}{CLOCK\_GETTIME64}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &
      nSecTime);
995                         \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[tailIdx];
996                         assert(pTail);
997                     
998                         \textcolor{keywordflow}{if} (!pTail->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
999                             \textcolor{keywordflow}{if} (\hyperlink{openavb__avtp__time_8c_add39d728e411ba7e463477ac747229a8}{openavbAvtpTimeIsPastTime}(pTail->
      \hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime}, nSecTime)) \{
1000                                 \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(
      \hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
1001                                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1002                             \}
1003                         \}
1004                     \}
1005                 \}
1006             \}
1007         \}
1008     \}
1009 
1010     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
1011     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1012 \}
\end{DoxyCode}
\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Count\+Items@{openavb\+Media\+Q\+Count\+Items}}
\index{openavb\+Media\+Q\+Count\+Items@{openavb\+Media\+Q\+Count\+Items}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Count\+Items(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, bool ignore\+Timestamp)}{openavbMediaQCountItems(media_q_t *pMediaQ, bool ignoreTimestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U32} openavb\+Media\+Q\+Count\+Items (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf bool}}]{ignore\+Timestamp}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa3c8943c2131c80107c137f5872effbc}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa3c8943c2131c80107c137f5872effbc}
Count number of available MediaQ items.

Count the number of available MediaQ items.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em ignore\+Timestamp} & Ignore timestamp for byte accumulation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
The number of available MediaA items. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 904 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
905 \{
906     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
907 
908     \textcolor{keywordflow}{if} (!ignoreTimestamp) \{
909         \hyperlink{openavb__mediaq_8c_a2e744734b4fe813ce2849a6daa613896}{x\_openavbMediaQPurgeStaleTail}(pMediaQ);
910     \}
911 
912     \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} itemCnt = 0;
913 
914     \textcolor{keywordflow}{if} (pMediaQ) \{
915         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
916             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
917             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
918                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
919                     \textcolor{comment}{// Check if tail item is ready.}
920                     \textcolor{keywordtype}{int} tailIdx = pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail};
921                     \textcolor{keywordflow}{if} (ignoreTimestamp) \{
922                         \textcolor{keywordflow}{while} (1) \{
923                             \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[tailIdx];
924 
925                             \textcolor{keywordflow}{if} (!pTail->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
926                                 itemCnt++;
927                             \}
928 
929                             tailIdx++;
930                             \textcolor{keywordflow}{if} (tailIdx >= pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount})
931                                 tailIdx = 0;
932                             \textcolor{keywordflow}{if} (tailIdx == pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head})
933                                 \textcolor{keywordflow}{break};
934                             \textcolor{keywordflow}{if} (itemCnt >= pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount})                             
935                                 \textcolor{keywordflow}{break};
936                         \}
937                     \}
938                     \textcolor{keywordflow}{else} \{
939                         \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nSecTime;
940                         \hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8878dd2cd297356518c25b98f7c73334}{CLOCK\_GETTIME64}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &
      nSecTime);
941                         \textcolor{keywordflow}{while} (1) \{
942                             \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[tailIdx];
943 
944                             \textcolor{keywordflow}{if} (!pTail->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
945                                 \textcolor{keywordflow}{if} (!\hyperlink{openavb__avtp__time_8c_add39d728e411ba7e463477ac747229a8}{openavbAvtpTimeIsPastTime}(pTail->
      \hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime}, nSecTime))
946                                     \textcolor{keywordflow}{break};
947 
948                                 itemCnt++;
949                             \}
950 
951                             tailIdx++;
952                             \textcolor{keywordflow}{if} (tailIdx >= pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount})
953                                 tailIdx = 0;
954                             \textcolor{keywordflow}{if} (tailIdx == pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head})
955                                 \textcolor{keywordflow}{break};
956                             \textcolor{keywordflow}{if} (itemCnt >= pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount})                             
957                                 \textcolor{keywordflow}{break};
958                         \}
959                     \}
960                 \}
961             \}
962         \}
963     \}
964 
965     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
966     \textcolor{keywordflow}{return} itemCnt;
967 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa3c8943c2131c80107c137f5872effbc_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Create@{openavb\+Media\+Q\+Create}}
\index{openavb\+Media\+Q\+Create@{openavb\+Media\+Q\+Create}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Create()}{openavbMediaQCreate()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf media\+\_\+q\+\_\+t}$\ast$ openavb\+Media\+Q\+Create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_ad9ac4896a82092d93fb4c21289497194}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_ad9ac4896a82092d93fb4c21289497194}
Create a media queue.

Allocate a media queue structure. Only mapping modules will use this call.

\begin{DoxyReturn}{반환값}
A pointer to a media queue structure. N\+U\+LL if the creation fails 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 218 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
219 \{
220     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
221 
222     \hyperlink{structmedia__q__t}{media\_q\_t} *pMediaQ = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, \textcolor{keyword}{sizeof}(\hyperlink{structmedia__q__t}{media\_q\_t}));
223 
224     \textcolor{keywordflow}{if} (pMediaQ) \{
225         pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo} = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, \textcolor{keyword}{sizeof}(
      \hyperlink{structmedia__q__info__t}{media\_q\_info\_t}));
226         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
227             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
228             pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} = 0;
229             pMediaQInfo->\hyperlink{structmedia__q__info__t_a42978dc635b477b2a80f5fa2741bb720}{itemSize} = 0;
230             pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} = 0;
231             pMediaQInfo->\hyperlink{structmedia__q__info__t_a6c67b0583525d5d6c4b9c53a67cd5780}{headLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
232             pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} = -1;
233             pMediaQInfo->\hyperlink{structmedia__q__info__t_aa27dbfca4e21d38182c8bd9a49341c23}{tailLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
234             pMediaQInfo->\hyperlink{structmedia__q__info__t_acd47d287eb099e2b995adfb4608d34a6}{maxLatencyUsec} = 0;
235             pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
236             pMediaQInfo->\hyperlink{structmedia__q__info__t_a530245db1a2a9b9874d368ae14faa133}{maxStaleTailUsec} = 
      \hyperlink{maap__helper__linux_8h_a8a708413d6171e7d86056793abe2cd1a}{MICROSECONDS\_PER\_SECOND};
237         \}
238         \textcolor{keywordflow}{else} \{
239             \hyperlink{openavb__mediaq_8c_adddaa9656fd7fcca39d54a3fdb8dc3a9}{openavbMediaQDelete}(pMediaQ);
240             pMediaQ = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
241         \}
242     \}
243         
244     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
245     \textcolor{keywordflow}{return} pMediaQ;
246 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_ad9ac4896a82092d93fb4c21289497194_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Delete@{openavb\+Media\+Q\+Delete}}
\index{openavb\+Media\+Q\+Delete@{openavb\+Media\+Q\+Delete}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Delete(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQDelete(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Delete (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_adddaa9656fd7fcca39d54a3fdb8dc3a9}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_adddaa9656fd7fcca39d54a3fdb8dc3a9}
Destroy the queue.

The media queue passed in will be deleted. This includes all allocated memory both for mapping modules and interface modules. Only mapping modules will use this call.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE on success or F\+A\+L\+SE on failure 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 405 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
406 \{
407     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
408 
409     \textcolor{keywordflow}{if} (pMediaQ) \{
410 
411 \textcolor{preprocessor}{#if DUMP\_HEAD\_PUSH}
412         \textcolor{keywordflow}{if} (pFileHeadPush) \{
413             fflush(pFileHeadPush);
414             fclose(pFileHeadPush);
415             pFileHeadPush = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
416         \}
417 \textcolor{preprocessor}{#endif  }
418 
419 \textcolor{preprocessor}{#if DUMP\_TAIL\_PULL}
420         \textcolor{keywordflow}{if} (pFileTailPull) \{
421             fflush(pFileTailPull);
422             fclose(pFileTailPull);
423             pFileTailPull = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
424         \}
425 \textcolor{preprocessor}{#endif  }
426         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
427             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
428             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}) \{
429                 \textcolor{keywordtype}{int} i1;
430                 \textcolor{keywordflow}{for} (i1 = 0; i1 < pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount}; i1++) \{
431                     
432                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
433                         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Deleting MediaQ with an item TAKEN. The item will be
       orphaned."});
434                     \}
435                     \textcolor{keywordflow}{else} \{
436                         \hyperlink{openavb__avtp__time_8c_ab1bc38a482f352386349dd193f6c16c5}{openavbAvtpTimeDelete}(pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime});
437                         \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData}) \{
438                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData});
439                             pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData} = 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
440                         \}
441                         \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa95927d84c1d7409725f2e169b8ec342}{pPubMapData}) \{
442                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa95927d84c1d7409725f2e169b8ec342}{pPubMapData});
443                             pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa95927d84c1d7409725f2e169b8ec342}{pPubMapData} = 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
444                         \}
445                         \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_af23c5feee139b93f1c9dfcb56f1eaa1d}{pPvtMapData}) \{
446                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_af23c5feee139b93f1c9dfcb56f1eaa1d}{pPvtMapData});
447                             pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_af23c5feee139b93f1c9dfcb56f1eaa1d}{pPvtMapData} = 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
448                         \}
449                         \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a44191a670acf801794664815b343674d}{pPvtIntfData}) \{
450                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a44191a670acf801794664815b343674d}{pPvtIntfData});
451                             pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a44191a670acf801794664815b343674d}{pPvtIntfData} = 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
452                         \}
453                     \}
454                 \}
455                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems});
456                 pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
457             \}
458             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
459             pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
460 
461             \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_a0226ccb90fbafac84294a908013853b4}{pPubMapInfo}) \{
462                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQ->\hyperlink{structmedia__q__t_a0226ccb90fbafac84294a908013853b4}{pPubMapInfo});
463                 pMediaQ->\hyperlink{structmedia__q__t_a0226ccb90fbafac84294a908013853b4}{pPubMapInfo} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
464             \}
465 
466             \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_aee939b53d02a9217a5307ada087f3c50}{pPvtMapInfo}) \{
467                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQ->\hyperlink{structmedia__q__t_aee939b53d02a9217a5307ada087f3c50}{pPvtMapInfo});
468                 pMediaQ->\hyperlink{structmedia__q__t_aee939b53d02a9217a5307ada087f3c50}{pPvtMapInfo} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
469             \}
470 
471             \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_a453af4755f0cf9b8fe035e62ecea845f}{pPvtIntfInfo}) \{
472                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQ->\hyperlink{structmedia__q__t_a453af4755f0cf9b8fe035e62ecea845f}{pPvtIntfInfo});
473                 pMediaQ->\hyperlink{structmedia__q__t_a453af4755f0cf9b8fe035e62ecea845f}{pPvtIntfInfo} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
474             \}
475         \}
476 
477         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_a3f16216bd90b1b04cca7fbb4766cb5ff}{pMediaQDataFormat}) \{
478             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQ->\hyperlink{structmedia__q__t_a3f16216bd90b1b04cca7fbb4766cb5ff}{pMediaQDataFormat});
479             pMediaQ->\hyperlink{structmedia__q__t_a3f16216bd90b1b04cca7fbb4766cb5ff}{pMediaQDataFormat} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
480         \}
481 
482         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(pMediaQ);
483         pMediaQ = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
484     \}
485 
486     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
487     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
488 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_adddaa9656fd7fcca39d54a3fdb8dc3a9_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Head\+Lock@{openavb\+Media\+Q\+Head\+Lock}}
\index{openavb\+Media\+Q\+Head\+Lock@{openavb\+Media\+Q\+Head\+Lock}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Head\+Lock(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQHeadLock(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf media\+\_\+q\+\_\+item\+\_\+t}$\ast$ openavb\+Media\+Q\+Head\+Lock (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_ae2ce807451447ec2dab9a4284ac61b99}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_ae2ce807451447ec2dab9a4284ac61b99}
Get pointer to the head item and lock it.

Get the storage location for the next item that can be added to the circle queue. Once the function is called the item will remained locked until unlocked or pushed. The lock remains valid across callbacks. An interface module will use this function when running as a talker to add a new media element to the queue thereby making it available to the mapping module.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
A pointer to a media queue item. Returns N\+U\+LL if head item storage isn\textquotesingle{}t available. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 518 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
519 \{
520     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
521 
522     \textcolor{keywordflow}{if} (pMediaQ) \{
523         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
524             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
525             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
526                 \hyperlink{openavb__mediaq_8c_a810c0c9b1ea6d2d2e8ae7ecee29b0034}{MEDIAQ\_LOCK}();
527             \}
528             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
529                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} > -1) \{
530                     pMediaQInfo->\hyperlink{structmedia__q__info__t_a6c67b0583525d5d6c4b9c53a67cd5780}{headLocked} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
531                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
532                     \textcolor{comment}{// Mutex (LOCK()) if acquired stays locked}
533                     \textcolor{keywordflow}{return} &pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head}];
534                 \}
535             \}
536             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
537                 \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
538             \}
539         \}
540     \}
541 
542     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
543     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
544 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_ae2ce807451447ec2dab9a4284ac61b99_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Head\+Push@{openavb\+Media\+Q\+Head\+Push}}
\index{openavb\+Media\+Q\+Head\+Push@{openavb\+Media\+Q\+Head\+Push}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Head\+Push(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQHeadPush(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Head\+Push (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a0a57c275ac213fdd14c944741c6e9250}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a0a57c275ac213fdd14c944741c6e9250}
Unlock the head item and make it available.

Unlock a locked media queue item from the head of the queue and make it available for use in the queue to be accessed with the tail function calls. An interface module will use this function when running as a talker after it has locked the head item and added data to the item storage area.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE on success or F\+A\+L\+SE on failure. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 566 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
567 \{
568     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
569 
570     \textcolor{keywordflow}{if} (pMediaQ) \{
571         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
572             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
573             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
574                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} > -1) \{
575                     \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pHead = &pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->
      \hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head}];
576 
577 \textcolor{preprocessor}{#if DUMP\_HEAD\_PUSH}
578                     \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pMediaQItem = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head}];
579                     \textcolor{keywordflow}{if} (!pFileHeadPush) \{
580                         \textcolor{keywordtype}{char} filename[128];
581                         sprintf(filename, \textcolor{stringliteral}{"headpush\_%5.5d.dat"}, \hyperlink{maap__helper__linux_8h_ab962ad63d625bd73c120e8a5a9c62052}{GET\_PID}());
582                         pFileHeadPush = fopen(filename, \textcolor{stringliteral}{"wb"});
583                     \}
584                     \textcolor{keywordflow}{if} (pFileHeadPush) \{
585                         \textcolor{keywordtype}{size\_t} result = fwrite(pMediaQItem->\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData}, 1, pMediaQItem->
      \hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen}, pFileHeadPush);
586                         \textcolor{keywordflow}{if} (result != pMediaQItem->\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen})
587                             printf(\textcolor{stringliteral}{"ERROR writing head push log"});
588                     \}
589 \textcolor{preprocessor}{#endif}
590 
591                     \textcolor{comment}{// If tail not set, set it now}
592                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} == -1) \{
593                         pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} = pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head};
594                     \}
595                     
596                     pHead->\hyperlink{structmedia__q__item__t_a7581457a4c56a2aa1f2c76cdc2309d6b}{readIdx} = 0;      \textcolor{comment}{// Reset read index}
597 
598                     \hyperlink{openavb__mediaq_8c_a098b237f31cdc4de5d6ac7b97cfddb9d}{x\_openavbMediaQIncrementHead}(pMediaQInfo);
599 
600                     pMediaQInfo->\hyperlink{structmedia__q__info__t_a6c67b0583525d5d6c4b9c53a67cd5780}{headLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
601                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
602                         \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
603                     \}
604 
605                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
606                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
607                 \}
608             \}
609         \}
610     \}
611 
612     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
613     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
614 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_a0a57c275ac213fdd14c944741c6e9250_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Head\+Unlock@{openavb\+Media\+Q\+Head\+Unlock}}
\index{openavb\+Media\+Q\+Head\+Unlock@{openavb\+Media\+Q\+Head\+Unlock}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Head\+Unlock(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQHeadUnlock(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Media\+Q\+Head\+Unlock (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac73b08d1568f13b634e2a0f1ef35e11a}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac73b08d1568f13b634e2a0f1ef35e11a}
Unlock the head item.

Unlock a locked media queue item from the head of the queue. The item will not become available for use in the queue and the data will not be cleared. Subsequent calls to openavb\+Media\+Q\+Head\+Lock will return the same item storage with the same data values. An interface module will use this function when running as a talker when it must release a previously locked media queue head item.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
\end{DoxyParams}


openavb\+\_\+mediaq.\+c 파일의 546 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
547 \{
548     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
549 
550     \textcolor{keywordflow}{if} (pMediaQ) \{
551         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
552             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
553             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
554                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} > -1) \{
555                     pMediaQInfo->\hyperlink{structmedia__q__info__t_a6c67b0583525d5d6c4b9c53a67cd5780}{headLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
556                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
557                         \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
558                     \}
559                 \}
560             \}
561         \}
562     \}
563     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
564 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac73b08d1568f13b634e2a0f1ef35e11a_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Is\+Available\+Bytes@{openavb\+Media\+Q\+Is\+Available\+Bytes}}
\index{openavb\+Media\+Q\+Is\+Available\+Bytes@{openavb\+Media\+Q\+Is\+Available\+Bytes}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Is\+Available\+Bytes(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, U32 bytes, bool ignore\+Timestamp)}{openavbMediaQIsAvailableBytes(media_q_t *pMediaQ, U32 bytes, bool ignoreTimestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Is\+Available\+Bytes (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf U32}}]{bytes, }
\item[{{\bf bool}}]{ignore\+Timestamp}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac1d02726069afc037940ef87f5893dfc}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac1d02726069afc037940ef87f5893dfc}
Check if the number of bytes are available.

Checks were the given media queue contains bytes, returns true if it does false otherwise.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em bytes} & Number of bytes expected in media queue \\
\hline
{\em ignore\+Timestamp} & Ignore timestamp for byte accumulation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE if bytes are available in p\+MediaQ; F\+A\+L\+SE if bytes not available in p\+MediaQ. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 829 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
830 \{
831     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
832 
833     \textcolor{keywordflow}{if} (!ignoreTimestamp) \{
834         \hyperlink{openavb__mediaq_8c_a2e744734b4fe813ce2849a6daa613896}{x\_openavbMediaQPurgeStaleTail}(pMediaQ);
835     \}
836 
837     \textcolor{keywordtype}{int} byteCnt = 0;
838 
839     \textcolor{keywordflow}{if} (pMediaQ) \{
840         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
841             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
842             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
843                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
844                     \textcolor{comment}{// Check if tail item is ready.}
845                     \textcolor{keywordtype}{int} tailIdx = pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail};
846                     \textcolor{keywordtype}{int} endIdx = pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} > -1 ? pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} : pMediaQInfo->
      \hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail};
847                     \textcolor{keywordflow}{if} (ignoreTimestamp) \{
848                         \textcolor{keywordflow}{while} (1) \{
849                             \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[tailIdx];
850                             
851                             \textcolor{keywordflow}{if} (!pTail->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
852                                 byteCnt += pTail->\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen} - pTail->
      \hyperlink{structmedia__q__item__t_a7581457a4c56a2aa1f2c76cdc2309d6b}{readIdx};
853     
854                                 \textcolor{keywordflow}{if} (byteCnt >= bytes) \{
855                                     \textcolor{comment}{// Met the available byte count}
856                                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(
      \hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
857                                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
858                                 \}
859                             \}
860 
861                             tailIdx++;
862                             \textcolor{keywordflow}{if} (tailIdx >= pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount})
863                                 tailIdx = 0;
864                             \textcolor{keywordflow}{if} (tailIdx == endIdx)
865                                 \textcolor{keywordflow}{break};
866                         \}
867                     \}
868                     \textcolor{keywordflow}{else} \{
869                         \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} nSecTime;
870                         \hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8878dd2cd297356518c25b98f7c73334}{CLOCK\_GETTIME64}(\hyperlink{build_2sdk__eavb_2openavb__time__osal__pub_8h_a8a087678c40dd3f078c5bce1297a62b8ae71d321a7408e8d6a69b10dd9a94f360}{OPENAVB\_CLOCK\_WALLTIME}, &
      nSecTime);
871                         \textcolor{keywordflow}{while} (1) \{
872                             \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[tailIdx];
873                             assert(pTail);
874 
875                             \textcolor{keywordflow}{if} (!pTail->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
876                                 \textcolor{keywordflow}{if} (!\hyperlink{openavb__avtp__time_8c_add39d728e411ba7e463477ac747229a8}{openavbAvtpTimeIsPastTime}(pTail->
      \hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime}, nSecTime))
877                                     \textcolor{keywordflow}{break};
878 
879                                 byteCnt += pTail->\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen} - pTail->
      \hyperlink{structmedia__q__item__t_a7581457a4c56a2aa1f2c76cdc2309d6b}{readIdx};
880     
881                                 \textcolor{keywordflow}{if} (byteCnt >= bytes) \{
882                                     \textcolor{comment}{// Met the available byte count}
883                                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(
      \hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
884                                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
885                                 \}
886                             \}
887 
888                             tailIdx++;
889                             \textcolor{keywordflow}{if} (tailIdx >= pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount})
890                                 tailIdx = 0;
891                             \textcolor{keywordflow}{if} (tailIdx == endIdx)
892                                 \textcolor{keywordflow}{break};
893                         \}
894                     \}
895                 \}
896             \}
897         \}
898     \}
899 
900     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
901     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
902 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_ac1d02726069afc037940ef87f5893dfc_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Set\+Max\+Latency@{openavb\+Media\+Q\+Set\+Max\+Latency}}
\index{openavb\+Media\+Q\+Set\+Max\+Latency@{openavb\+Media\+Q\+Set\+Max\+Latency}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Set\+Max\+Latency(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, U32 max\+Latency\+Usec)}{openavbMediaQSetMaxLatency(media_q_t *pMediaQ, U32 maxLatencyUsec)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Media\+Q\+Set\+Max\+Latency (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf U32}}]{max\+Latency\+Usec}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_afb76a6274ad6626ee51a50174d7b9389}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_afb76a6274ad6626ee51a50174d7b9389}
Sets the maximum latency expected.

The maximum latency will be set. This value is used by the media queue to help determine if a media queue item is ready to be released to the listener interface module for presentation. Typically the mapping module will call this function with a max latency value derived from the max\+\_\+latency configuration value.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
{\em max\+Latency\+Usec} & The maximum latency. \\
\hline
\end{DoxyParams}


openavb\+\_\+mediaq.\+c 파일의 490 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
491 \{
492     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
493 
494     \textcolor{keywordflow}{if} (pMediaQ) \{
495         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
496             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
497             pMediaQInfo->\hyperlink{structmedia__q__info__t_acd47d287eb099e2b995adfb4608d34a6}{maxLatencyUsec} = maxLatencyUsec;
498         \}
499     \}
500         
501     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
502 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_afb76a6274ad6626ee51a50174d7b9389_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Set\+Max\+Stale\+Tail@{openavb\+Media\+Q\+Set\+Max\+Stale\+Tail}}
\index{openavb\+Media\+Q\+Set\+Max\+Stale\+Tail@{openavb\+Media\+Q\+Set\+Max\+Stale\+Tail}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Set\+Max\+Stale\+Tail(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, U32 max\+Stale\+Tail\+Usec)}{openavbMediaQSetMaxStaleTail(media_q_t *pMediaQ, U32 maxStaleTailUsec)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Media\+Q\+Set\+Max\+Stale\+Tail (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf U32}}]{max\+Stale\+Tail\+Usec}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_abb41c6d762035f1d5e74c91b5ed44f06}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_abb41c6d762035f1d5e74c91b5ed44f06}
Sets the maximum stale tail.

Used to purge media queue items that are too old.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
{\em max\+Stale\+Tail\+Usec} & tail element purge threshold in microseconds \\
\hline
\end{DoxyParams}


openavb\+\_\+mediaq.\+c 파일의 504 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
505 \{
506     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
507 
508     \textcolor{keywordflow}{if} (pMediaQ) \{
509         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
510             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
511             pMediaQInfo->\hyperlink{structmedia__q__info__t_a530245db1a2a9b9874d368ae14faa133}{maxStaleTailUsec} = maxStaleTailUsec;
512         \}
513     \}
514         
515     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
516 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_abb41c6d762035f1d5e74c91b5ed44f06_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Set\+Size@{openavb\+Media\+Q\+Set\+Size}}
\index{openavb\+Media\+Q\+Set\+Size@{openavb\+Media\+Q\+Set\+Size}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Set\+Size(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, int item\+Count, int item\+Size)}{openavbMediaQSetSize(media_q_t *pMediaQ, int itemCount, int itemSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Set\+Size (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{int}]{item\+Count, }
\item[{int}]{item\+Size}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a392a15d51328fab65d754685450834de}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a392a15d51328fab65d754685450834de}
Set size of media queue.

Pre-\/allocate all the items for the media queue. Once allocated the item storage will be reused as items are added and removed from the queue. Only mapping modules will use this call. This must be called before using the MediaQ.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
{\em item\+Count} & Maximum number of items that the queue will hold. These are pre-\/allocated \\
\hline
{\em item\+Size} & The pre-\/allocated size of a media queue item \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE on success or F\+A\+L\+SE on failure
\end{DoxyReturn}
\begin{DoxyWarning}{경고}
This must be called before using the MediaQ 
\end{DoxyWarning}


openavb\+\_\+mediaq.\+c 파일의 264 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
265 \{
266     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
267 
268     \textcolor{keywordflow}{if} (pMediaQ) \{
269         \textcolor{keywordflow}{if} (itemCount < 1 || itemSize < 1) \{
270             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
271             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
272         \}
273 
274         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
275             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
276 
277             \textcolor{comment}{// Don't want to re-allocate new memory each time}
278             \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems})
279             \{
280                 pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems} = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(itemCount, \textcolor{keyword}{sizeof}(
      \hyperlink{structmedia__q__item__t}{media\_q\_item\_t}));
281                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}) \{
282                     pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} = itemCount;
283                     pMediaQInfo->\hyperlink{structmedia__q__info__t_a42978dc635b477b2a80f5fa2741bb720}{itemSize} = itemSize;
284 
285                     \textcolor{keywordtype}{int} i1;
286                     \textcolor{keywordflow}{for} (i1 = 0; i1 < itemCount; i1++) \{
287                         pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime} = 
      \hyperlink{openavb__avtp__time_8c_a01fb9b87610e84d6d5b82b9ea022a59b}{openavbAvtpTimeCreate}(pMediaQInfo->\hyperlink{structmedia__q__info__t_acd47d287eb099e2b995adfb4608d34a6}{maxLatencyUsec});
288                         pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData} = \hyperlink{_memory_leak_detector_malloc_macros_8h_a7cbb7b79af9d539af55b59dfc3598390}{calloc}(1, itemSize + 4 \textcolor{comment}{/*
       Just in case */});
289                         pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen} = 0;
290                         pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a91e248b2730fbe7951ac5d9d3aae1752}{itemSize} = itemSize;
291                         \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData}) \{
292                             \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Out of memory creating MediaQ item"});
293                             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
294                             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
295                         \}
296                     \}
297                 \}
298                 \textcolor{keywordflow}{else} \{
299                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
300                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
301                 \}
302             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (itemCount != pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} || itemSize != pMediaQInfo->
      \hyperlink{structmedia__q__info__t_a42978dc635b477b2a80f5fa2741bb720}{itemSize})\{
303                 \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
304                 \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
305             \}
306         \}
307         \textcolor{keywordflow}{else} \{
308             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
309             \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
310         \}
311     \}
312     \textcolor{keywordflow}{else} \{
313         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
314         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
315     \}
316 
317     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
318     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
319 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_a392a15d51328fab65d754685450834de_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Tail\+Item\+Give@{openavb\+Media\+Q\+Tail\+Item\+Give}}
\index{openavb\+Media\+Q\+Tail\+Item\+Give@{openavb\+Media\+Q\+Tail\+Item\+Give}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Tail\+Item\+Give(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, media\+\_\+q\+\_\+item\+\_\+t $\ast$p\+Item)}{openavbMediaQTailItemGive(media_q_t *pMediaQ, media_q_item_t *pItem)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Tail\+Item\+Give (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf media\+\_\+q\+\_\+item\+\_\+t} $\ast$}]{p\+Item}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a81c13779e33c66b49ebe60e7565b1b2f}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a81c13779e33c66b49ebe60e7565b1b2f}
Give itme ownership back to the MediaQ.

Give ownership back to the MediaQ of an item previously taken with \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_a1cba0078992041670a37d66dddb86072}{openavb\+Media\+Q\+Tail\+Item\+Take()}


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em p\+Item} & MediaQ item to give back tot he MediaA. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE on success or F\+A\+L\+SE on failure. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 761 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
762 \{
763     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
764 
765     \textcolor{keywordflow}{if} (pItem) \{
766         pItem->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
767         pItem->\hyperlink{structmedia__q__item__t_a7581457a4c56a2aa1f2c76cdc2309d6b}{readIdx} = 0;      \textcolor{comment}{// Reset read index}
768         pItem->\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen} = 0;      \textcolor{comment}{// Clears out the data}
769 
770         \textcolor{keywordflow}{if} (pMediaQ) \{
771             \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
772                 \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
773                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
774                     \hyperlink{openavb__mediaq_8c_a810c0c9b1ea6d2d2e8ae7ecee29b0034}{MEDIAQ\_LOCK}();
775                 \}
776                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
777                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} == -1) \{
778                         \textcolor{comment}{// Transition from full mediaq to an available item slot. Find this item that was
       just give back}
779                         \textcolor{keywordtype}{int} i1;
780                         \textcolor{keywordflow}{for} (i1 = 0; i1 < pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount}; i1++)
781                         \{
782                             \textcolor{keywordflow}{if} (!pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[i1].\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken}) \{
783                                 pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} = i1;
784                                 \textcolor{keywordflow}{break};
785                             \}
786                         \}
787                     \}
788                 \}
789                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
790                     \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
791                 \}
792             \}
793         \}
794         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
795         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
796     \}
797 
798     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
799     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
800 \}
\end{DoxyCode}
\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Tail\+Item\+Take@{openavb\+Media\+Q\+Tail\+Item\+Take}}
\index{openavb\+Media\+Q\+Tail\+Item\+Take@{openavb\+Media\+Q\+Tail\+Item\+Take}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Tail\+Item\+Take(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, media\+\_\+q\+\_\+item\+\_\+t $\ast$p\+Item)}{openavbMediaQTailItemTake(media_q_t *pMediaQ, media_q_item_t *pItem)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Tail\+Item\+Take (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf media\+\_\+q\+\_\+item\+\_\+t} $\ast$}]{p\+Item}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a1cba0078992041670a37d66dddb86072}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a1cba0078992041670a37d66dddb86072}
Take ownership from the MediaQ of an item.

Take ownership from the MediaQ of an item previously locked with openavb\+Media\+Q\+Tail\+Lock. Will advance the tail. Used in place of \hyperlink{build_2sdk__eavb_2openavb__mediaq__pub_8h_ab0525761a2b45c4c14d4fdc80fa24c47}{openavb\+Media\+Q\+Tail\+Pull()}


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em p\+Item} & MediaQ item to take ownership of. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE on success or F\+A\+L\+SE on failure. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 732 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
733 \{
734     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
735 
736     \textcolor{keywordflow}{if} (pMediaQ && pItem) \{
737         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
738             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
739             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
740                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
741 
742                     \hyperlink{openavb__mediaq_8c_a5cc16f3fba96f4b44c545416b65fb108}{x\_openavbMediaQIncrementTail}(pMediaQInfo);
743 
744                     pItem->\hyperlink{structmedia__q__item__t_a2f82d1d1293c3de8527c67be4b2880f9}{taken} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
745                     pMediaQInfo->\hyperlink{structmedia__q__info__t_aa27dbfca4e21d38182c8bd9a49341c23}{tailLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
746                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
747                         \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
748                     \}
749                     
750                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
751                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
752                 \}
753             \}
754         \}
755     \}
756 
757     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
758     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
759 \}
\end{DoxyCode}
\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Tail\+Lock@{openavb\+Media\+Q\+Tail\+Lock}}
\index{openavb\+Media\+Q\+Tail\+Lock@{openavb\+Media\+Q\+Tail\+Lock}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Tail\+Lock(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, bool ignore\+Timestamp)}{openavbMediaQTailLock(media_q_t *pMediaQ, bool ignoreTimestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf media\+\_\+q\+\_\+item\+\_\+t}$\ast$ openavb\+Media\+Q\+Tail\+Lock (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf bool}}]{ignore\+Timestamp}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_aafa1645c7e234bd011a70063d368b995}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_aafa1645c7e234bd011a70063d368b995}
Get pointer to the tail item and lock it.

Lock the next available tail item in the media queue. Available is based on the timestamp that is associated with the item when it was a placed into the media queue. The interface module running on a listener uses this function to access the data items placed into the media queue by the mapping module. At some point after this function call the item must be unlocked with either openavb\+Media\+Q\+Tail\+Unlock or openavb\+Media\+Q\+Tail\+Pull on the same callback or a subsequent callback.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em ignore\+Timestamp} & If T\+R\+UE ignore the tail item timestamp making the tail item immediately available. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
A pointer to a media queue item. Returns N\+U\+LL if a tail item isn\textquotesingle{}t available. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 616 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
617 \{
618     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
619 
620     \textcolor{keywordflow}{if} (!ignoreTimestamp) \{
621         \hyperlink{openavb__mediaq_8c_a2e744734b4fe813ce2849a6daa613896}{x\_openavbMediaQPurgeStaleTail}(pMediaQ);
622     \}
623 
624     \textcolor{keywordflow}{if} (pMediaQ) \{
625         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
626             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
627             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
628                 \hyperlink{openavb__mediaq_8c_a810c0c9b1ea6d2d2e8ae7ecee29b0034}{MEDIAQ\_LOCK}();
629             \}
630             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
631                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
632                     \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->
      \hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail}];
633 
634                     \textcolor{comment}{// Check if tail item is ready.}
635                     \textcolor{keywordflow}{if} (!ignoreTimestamp) \{
636                         \textcolor{keywordflow}{if} (!\hyperlink{openavb__avtp__time_8c_a7a1184d100f059c352f85ca26024944b}{openavbAvtpTimeIsPast}(pTail->
      \hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime})) \{
637                             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
638                                 \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
639                             \}
640                             \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
641                             \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
642                         \}
643                     \}
644 
645                     pMediaQInfo->\hyperlink{structmedia__q__info__t_aa27dbfca4e21d38182c8bd9a49341c23}{tailLocked} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
646                     \textcolor{comment}{// Mutex (LOCK()) if acquired stays locked}
647                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
648                     \textcolor{keywordflow}{return} pTail;
649                 \}
650             \}
651             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
652                 \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
653             \}
654         \}
655     \}
656 
657     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
658     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
659 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_aafa1645c7e234bd011a70063d368b995_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Tail\+Pull@{openavb\+Media\+Q\+Tail\+Pull}}
\index{openavb\+Media\+Q\+Tail\+Pull@{openavb\+Media\+Q\+Tail\+Pull}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Tail\+Pull(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQTailPull(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Tail\+Pull (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_ab0525761a2b45c4c14d4fdc80fa24c47}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_ab0525761a2b45c4c14d4fdc80fa24c47}
Unlock the tail item and remove it from the queue.

Unlock a media queue item that was previously locked with openavb\+Media\+Q\+Tail\+Lock and remove it from the media queue.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Returns T\+R\+UE on success or F\+A\+L\+SE on failure. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 681 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
682 \{
683     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
684 
685     \textcolor{keywordflow}{if} (pMediaQ) \{
686         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
687             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
688             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
689                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
690                     \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->
      \hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail}];
691 
692 \textcolor{preprocessor}{#if DUMP\_TAIL\_PULL}
693                     \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pMediaQItem = &pMediaQInfo->
      \hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail}];
694                     \textcolor{keywordflow}{if} (!pFileTailPull) \{
695                         \textcolor{keywordtype}{char} filename[128];
696                         sprintf(filename, \textcolor{stringliteral}{"tailpull\_%5.5d.dat"}, \hyperlink{maap__helper__linux_8h_ab962ad63d625bd73c120e8a5a9c62052}{GET\_PID}());
697                         pFileTailPull = fopen(filename, \textcolor{stringliteral}{"wb"});
698                     \}
699                     \textcolor{keywordflow}{if} (pFileTailPull) \{
700                         \textcolor{keywordtype}{size\_t} result = fwrite(pMediaQItem->\hyperlink{structmedia__q__item__t_ac27724ac74fd97e91418f1539eccdfb0}{pPubData}, 1, pMediaQItem->
      \hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen}, pFileTailPull);
701                         \textcolor{keywordflow}{if} (result != pMediaQItem->\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen})
702                             printf(\textcolor{stringliteral}{"ERROR writing tail pull log"});
703                     \}
704 \textcolor{preprocessor}{#endif}
705 
706                     \textcolor{comment}{// If head not set, set it now}
707                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} == -1) \{
708                         pMediaQInfo->\hyperlink{structmedia__q__info__t_a20358970b1abaf992eb85e071e454653}{head} = pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail};
709                     \}
710 
711                     pTail->\hyperlink{structmedia__q__item__t_a7581457a4c56a2aa1f2c76cdc2309d6b}{readIdx} = 0;      \textcolor{comment}{// Reset read index}
712                     pTail->\hyperlink{structmedia__q__item__t_a1dfc68b1003d0c64f82d4c19649c2c52}{dataLen} = 0;      \textcolor{comment}{// Clears out the data}
713 
714                     \hyperlink{openavb__mediaq_8c_a5cc16f3fba96f4b44c545416b65fb108}{x\_openavbMediaQIncrementTail}(pMediaQInfo);
715 
716                     pMediaQInfo->\hyperlink{structmedia__q__info__t_aa27dbfca4e21d38182c8bd9a49341c23}{tailLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
717                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
718                         \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
719                     \}
720                     
721                     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
722                     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
723                 \}
724             \}
725         \}
726     \}
727 
728     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
729     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
730 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_ab0525761a2b45c4c14d4fdc80fa24c47_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Tail\+Unlock@{openavb\+Media\+Q\+Tail\+Unlock}}
\index{openavb\+Media\+Q\+Tail\+Unlock@{openavb\+Media\+Q\+Tail\+Unlock}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Tail\+Unlock(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQTailUnlock(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Media\+Q\+Tail\+Unlock (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_a9b57c7a2cfb99521a7e460bd29b3b31a}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_a9b57c7a2cfb99521a7e460bd29b3b31a}
Unlock the tail item without removing it from the queue.

Unlock a media queue item that was previously locked with openavb\+Media\+Q\+Tail\+Lock. The item will not be removed from the tail of the media queue.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
\end{DoxyParams}


openavb\+\_\+mediaq.\+c 파일의 661 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
662 \{
663     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
664 
665     \textcolor{keywordflow}{if} (pMediaQ) \{
666         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
667             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
668             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
669                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
670                     pMediaQInfo->\hyperlink{structmedia__q__info__t_aa27dbfca4e21d38182c8bd9a49341c23}{tailLocked} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
671                     \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn}) \{
672                         \hyperlink{openavb__mediaq_8c_ab169d646b9732ddcd2f5c30d4c1673e9}{MEDIAQ\_UNLOCK}();
673                     \}
674                 \}
675             \}
676         \}
677     \}
678     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
679 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_a9b57c7a2cfb99521a7e460bd29b3b31a_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Thread\+Safe\+On@{openavb\+Media\+Q\+Thread\+Safe\+On}}
\index{openavb\+Media\+Q\+Thread\+Safe\+On@{openavb\+Media\+Q\+Thread\+Safe\+On}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Thread\+Safe\+On(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q)}{openavbMediaQThreadSafeOn(media_q_t *pMediaQ)}}]{\setlength{\rightskip}{0pt plus 5cm}void openavb\+Media\+Q\+Thread\+Safe\+On (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa052ae332aa31243056b46124bc9df71}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa052ae332aa31243056b46124bc9df71}
Enable thread safe access for this media queue.

In the default case a media queue is only accessed from a single thread and therefore multi-\/threaded synchronization isn\textquotesingle{}t needed. In situations where a media queue can be accessed from multiple threads calling this function will enable mutex protection on the head and tail related functions. Once enabled for a media queue it can not be disabled.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure \\
\hline
\end{DoxyParams}


openavb\+\_\+mediaq.\+c 파일의 248 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
249 \{
250     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
251 
252     \textcolor{keywordflow}{if} (pMediaQ) \{
253         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
254             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
255             pMediaQInfo->\hyperlink{structmedia__q__info__t_a5b255bb73dcb58b3c4224637b58f42a4}{threadSafeOn} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
256         \}
257     \}
258 
259     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ad4124e62fd7ed8da706d60b6f47c15fa}{AVB\_TRACE\_MEDIAQ});
260 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_aa052ae332aa31243056b46124bc9df71_icgraph}
\end{center}
\end{figure}


\index{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}!openavb\+Media\+Q\+Usec\+Till\+Tail@{openavb\+Media\+Q\+Usec\+Till\+Tail}}
\index{openavb\+Media\+Q\+Usec\+Till\+Tail@{openavb\+Media\+Q\+Usec\+Till\+Tail}!build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h@{build/sdk\+\_\+eavb/openavb\+\_\+mediaq\+\_\+pub.\+h}}
\subsubsection[{\texorpdfstring{openavb\+Media\+Q\+Usec\+Till\+Tail(media\+\_\+q\+\_\+t $\ast$p\+Media\+Q, U32 $\ast$p\+Usec\+Till)}{openavbMediaQUsecTillTail(media_q_t *pMediaQ, U32 *pUsecTill)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} openavb\+Media\+Q\+Usec\+Till\+Tail (
\begin{DoxyParamCaption}
\item[{{\bf media\+\_\+q\+\_\+t} $\ast$}]{p\+MediaQ, }
\item[{{\bf U32} $\ast$}]{p\+Usec\+Till}
\end{DoxyParamCaption}
)}\hypertarget{build_2sdk__eavb_2openavb__mediaq__pub_8h_af040d551f94e83aaba3e3a7e105f6c41}{}\label{build_2sdk__eavb_2openavb__mediaq__pub_8h_af040d551f94e83aaba3e3a7e105f6c41}
Get microseconds until tail is ready.


\begin{DoxyParams}{매개변수}
{\em p\+MediaQ} & A pointer to the \hyperlink{structmedia__q__t}{media\+\_\+q\+\_\+t} structure. \\
\hline
{\em p\+Usec\+Till} & An output parameter that is set with the number of microseconds until the tail item will be available. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
Return F\+A\+L\+SE if greater than 5 seconds otherwise T\+R\+UE. 
\end{DoxyReturn}


openavb\+\_\+mediaq.\+c 파일의 803 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
804 \{
805     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
806 
807     \textcolor{keywordflow}{if} (pMediaQ && pUsecTill) \{
808         \textcolor{keywordflow}{if} (pMediaQ->\hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo}) \{
809             \hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *pMediaQInfo = (\hyperlink{structmedia__q__info__t}{media\_q\_info\_t} *)(pMediaQ->
      \hyperlink{structmedia__q__t_acb2a0999918038ea5c47311434ce7354}{pPvtMediaQInfo});
810             \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_a64154ed2427d248eb1d4aa28aef8daa2}{itemCount} > 0) \{
811                 \textcolor{keywordflow}{if} (pMediaQInfo->\hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail} > -1) \{
812                     \hyperlink{structmedia__q__item__t}{media\_q\_item\_t} *pTail = &pMediaQInfo->\hyperlink{structmedia__q__info__t_adb9655d2d1cff2b1144a0e7ad28eea21}{pItems}[pMediaQInfo->
      \hyperlink{structmedia__q__info__t_aff39d864a6594bc5f4a5e365282e00fe}{tail}];
813 
814                     \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} usecTill;
815                     
816                     \textcolor{keywordflow}{if} (\hyperlink{openavb__avtp__time_8c_a3f5647279a0b5fcbef6fe68e4fa30ee5}{openavbAvtpTimeUsecTill}(pTail->
      \hyperlink{structmedia__q__item__t_aa7a475459f9c1a43c64ed85ff1c758cc}{pAvtpTime}, &usecTill)) \{
817                         *pUsecTill = usecTill;
818                         \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
819                     \}
820                 \}
821             \}
822         \}
823     \}
824 
825     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a34220b873fe573551768938164c4161a}{AVB\_TRACE\_MEDIAQ\_DETAIL});
826     \textcolor{keywordflow}{return} \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
827 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{build_2sdk__eavb_2openavb__mediaq__pub_8h_af040d551f94e83aaba3e3a7e105f6c41_icgraph}
\end{center}
\end{figure}


