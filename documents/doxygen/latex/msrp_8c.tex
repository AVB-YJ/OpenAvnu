\hypertarget{msrp_8c}{}\section{daemons/mrpd/msrp.c 파일 참조}
\label{msrp_8c}\index{daemons/mrpd/msrp.\+c@{daemons/mrpd/msrp.\+c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include \char`\"{}parse.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mrpd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mrp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}msrp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mmrp.\+h\char`\"{}}\\*
msrp.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c__incl}
\end{center}
\end{figure}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{msrp_8c_a4435c798423a1b11615939365cafb80a}{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}~(4)  /$\ast$ \char`\"{}S+L=\char`\"{} part of a comamnd string $\ast$/
\item 
\#define \hyperlink{msrp_8c_a0fc7c0be6fac5949068cd47fb42c0701}{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN}~(16)  /$\ast$ \char`\"{}D\+E\+A\+D\+B\+E\+E\+F\+D\+E\+A\+D\+B\+E\+EF\char`\"{} uint64\+\_\+t encoded as hex \hyperlink{jack_8c_afc03a33132f7c0bcacbeeeaf5b8510c0}{in} a cmd string $\ast$/
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{msrp_8c_ac88df3051b78bad84a78695b50d4ee95}{msrp\+\_\+txpdu} (void)
\item 
static struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$ \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\+\_\+alloc} (void)
\item 
int \hyperlink{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb}{msrp\+\_\+send\+\_\+notifications} (struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$attrib, int notify)
\item 
static struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$ \hyperlink{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8}{msrp\+\_\+conditional\+\_\+reclaim} (struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$sattrib)
\item 
int \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\+\_\+event} (int event, struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$rattrib)
\item 
char $\ast$ \hyperlink{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{msrp\+\_\+attrib\+\_\+type\+\_\+string} (int t)
\item 
int \hyperlink{msrp_8c_a9c1d32447bad97a33bf6dec1c029a551}{msrp\+\_\+count\+\_\+type} (\hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\+\_\+t} attrib\+\_\+type)
\item 
struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$ \hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\+\_\+lookup} (struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{msrp_8c_a5b122ccba0911851e14320499f7fdfa9}{msrp\+\_\+add} (struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{msrp_8c_a9fcdf12db180111f9b519bf02f24ea24}{msrp\+\_\+merge} (struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$rattrib)
\item 
void \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\+\_\+increment\+\_\+streamid} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$streamid)
\item 
static int \hyperlink{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}{msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len} (int attrib\+\_\+type, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$pkt\+\_\+attrib\+\_\+list\+\_\+len, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$pkt\+\_\+eof)
\item 
int \hyperlink{msrp_8c_ab9b686db38f7cc0e2137156ee6fbe1ce}{msrp\+\_\+recv\+\_\+msg} ()
\item 
int \hyperlink{msrp_8c_a21f111f16656e338180baced35f16178}{msrp\+\_\+emit\+\_\+domainvectors} (unsigned char $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)
\item 
static int \hyperlink{msrp_8c_ad1ffbc9f796cdb5d5afb88a540346493}{vectorize\+\_\+talker} (struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$first\+\_\+attrib, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} streamid\+\_\+firstval\mbox{[}8\mbox{]}, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} mac\+\_\+firstval\mbox{[}6\mbox{]}, struct \hyperlink{structmsrp__attribute}{msrp\+\_\+attribute} $\ast$candidate\+\_\+attrib)
\item 
int \hyperlink{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a}{msrp\+\_\+emit\+\_\+talkervectors} (unsigned char $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva, unsigned int type)
\item 
int \hyperlink{msrp_8c_af74507f310bab4f7d519658251b81a84}{msrp\+\_\+emit\+\_\+listenvectors} (unsigned char $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)
\item 
int \hyperlink{msrp_8c_a466b73f2fc646a3468ddd535b67ad218}{msrp\+\_\+dumptable} (struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
static int \hyperlink{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6}{msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id} (const char $\ast$buf, int buflen, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{avtp_8h_af5af7b461263e29ceb91a8d3a8bc2c97}{stream\+\_\+id}, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_a4ff36d34b47df533f485385939949a0b}{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream} (const char $\ast$buf, int buflen, struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_a7342f873b69e09e139222454344450df}{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure} (const char $\ast$buf, int buflen, struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_a9350c9b64495d2eb54ffb55bd0a9abf5}{msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream} (struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, int attrib\+\_\+type, int mrp\+\_\+event)
\item 
static int \hyperlink{msrp_8c_ac509750c53005124f900e26ea90c4fbc}{msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream} (const char $\ast$buf, int buflen, struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_a2fe9295eb14f221732c92773aeb73102}{msrp\+\_\+cmd\+\_\+leave\+\_\+stream} (struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad)
\item 
static int \hyperlink{msrp_8c_acaf77439f40d430499710ff741fe0ea9}{msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status} (const char $\ast$buf, int buflen, struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, \hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\+\_\+t} $\ast$substate, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_afd44fc0444847a0d561d193b3699134c}{msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status} (struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, \hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\+\_\+t} substate)
\item 
static int \hyperlink{msrp_8c_ae45880a036ec2d04e7b06517261d48f3}{msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status} (const char $\ast$buf, int buflen, struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_adb3f2363331d70dd5ccc11e86d767997}{msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status} (struct \hyperlink{structmsrpdu__talker__fail}{msrpdu\+\_\+talker\+\_\+fail} $\ast$talker\+\_\+ad)
\item 
static int \hyperlink{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f}{msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status} (const char $\ast$buf, int buflen, struct \hyperlink{structmsrpdu__domain}{msrpdu\+\_\+domain} $\ast$domain, int $\ast$err\+\_\+index)
\item 
static int \hyperlink{msrp_8c_aa0dea7eda1a9153359856df708f4a39a}{msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status} (struct \hyperlink{structmsrpdu__domain}{msrpdu\+\_\+domain} $\ast$domain, int report)
\item 
int \hyperlink{msrp_8c_a072b3d50b567a96dabff447fca5b8a4a}{msrp\+\_\+recv\+\_\+cmd} (const char $\ast$buf, int buflen, struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
int \hyperlink{msrp_8c_abbb51df9457d02837c27d6f0375ba50b}{msrp\+\_\+init} (int \hyperlink{mrpw_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\+\_\+enable}, int max\+\_\+interesting\+\_\+stream\+\_\+ids, int enable\+\_\+pruning)
\item 
void \hyperlink{msrp_8c_ac69965b2ef75210eb1db74cb83ac8559}{msrp\+\_\+reset} (void)
\item 
int \hyperlink{msrp_8c_a9b4bd781815aa54ede77047b393bb4ca}{msrp\+\_\+interesting\+\_\+id\+\_\+count} (void)
\item 
void \hyperlink{msrp_8c_a94a301e42230fc4de895f1fa98cddf39}{msrp\+\_\+bye} (struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
int \hyperlink{msrp_8c_ace1078cdae4953e1b43b3aada4fcf90d}{msrp\+\_\+reclaim} (void)
\end{DoxyCompactItemize}
\subsection*{변수}
\begin{DoxyCompactItemize}
\item 
unsigned char \hyperlink{msrp_8c_a070a733a3f761e5125cc63797116c6e4}{M\+S\+R\+P\+\_\+\+A\+D\+DR} \mbox{[}$\,$\mbox{]} = \{ 0x01, 0x80, 0x\+C2, 0x00, 0x00, 0x0\+E \}
\item 
unsigned char \hyperlink{msrp_8c_ab42ba46b155e06fe7850ed877f07de86}{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR} \mbox{[}$\,$\mbox{]}
\item 
S\+O\+C\+K\+ET \hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\+\_\+socket}
\item 
struct \hyperlink{structmsrp__database}{msrp\+\_\+database} $\ast$ \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{M\+S\+R\+P\+\_\+db}
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{msrp.\+c@{msrp.\+c}!M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN@{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}}
\index{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN@{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN}{MSRP_CLIENT_CMDSTR_HEADER_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN~(4)  /$\ast$ \char`\"{}S+L=\char`\"{} part of a comamnd string $\ast$/}\hypertarget{msrp_8c_a4435c798423a1b11615939365cafb80a}{}\label{msrp_8c_a4435c798423a1b11615939365cafb80a}


msrp.\+c 파일의 51 번째 라인에서 정의되었습니다.

\index{msrp.\+c@{msrp.\+c}!M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN@{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN}}
\index{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN@{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN}{MSRP_CLIENT_CMDSTR_STREAMID_LEN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+S\+R\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+M\+D\+S\+T\+R\+\_\+\+S\+T\+R\+E\+A\+M\+I\+D\+\_\+\+L\+EN~(16)  /$\ast$ \char`\"{}D\+E\+A\+D\+B\+E\+E\+F\+D\+E\+A\+D\+B\+E\+EF\char`\"{} uint64\+\_\+t encoded as hex {\bf in} a cmd string $\ast$/}\hypertarget{msrp_8c_a0fc7c0be6fac5949068cd47fb42c0701}{}\label{msrp_8c_a0fc7c0be6fac5949068cd47fb42c0701}


msrp.\+c 파일의 52 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+add@{msrp\+\_\+add}}
\index{msrp\+\_\+add@{msrp\+\_\+add}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+add(struct msrp\+\_\+attribute $\ast$rattrib)}{msrp_add(struct msrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+add (
\begin{DoxyParamCaption}
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a5b122ccba0911851e14320499f7fdfa9}{}\label{msrp_8c_a5b122ccba0911851e14320499f7fdfa9}


msrp.\+c 파일의 192 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
193 \{
194     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
195     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib\_tail;
196     \textcolor{keywordtype}{int} mac\_eq;
197 
198     \textcolor{comment}{/* XXX do a lookup first to guarantee uniqueness? */}
199 
200     attrib\_tail = attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
201 
202     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
203         \textcolor{comment}{/* sort list into types, then sorted in order within types */}
204         \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
205             \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
206                 mac\_eq = memcmp(&(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}),
207                         &(rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}),
208                         \textcolor{keyword}{sizeof}(\hyperlink{structmsrpdu__domain}{msrpdu\_domain\_t}));
209 
210                 \textcolor{keywordflow}{if} (mac\_eq < 0) \{
211                     \textcolor{comment}{/* possible tail insertion ... */}
212 
213                     \textcolor{comment}{/*}
214 \textcolor{comment}{                     * see if there is a another of the same following}
215 \textcolor{comment}{                     * not likely since valid values are only 0 and 1}
216 \textcolor{comment}{                     */}
217                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}) \{
218                         \textcolor{keywordflow}{if} (attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} ==
219                             attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
220                             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
221                             \textcolor{keywordflow}{continue};
222                         \}
223                     \}
224 
225                     rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
226                     rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = attrib;
227                     attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = rattrib;
228                     \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next})
229                         rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = rattrib;
230                     \textcolor{keywordflow}{return} 0;
231 
232                 \} \textcolor{keywordflow}{else} \{
233                     \textcolor{comment}{/* head insertion ... */}
234                     rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = attrib;
235                     rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = attrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev};
236                     attrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = rattrib;
237                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev})
238                         rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev}->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = rattrib;
239                     \textcolor{keywordflow}{else}
240                         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list} = rattrib;
241 
242                     \textcolor{keywordflow}{return} 0;
243                 \}
244             \} \textcolor{keywordflow}{else} \{
245                 mac\_eq =
246                     memcmp(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
247                        StreamID,
248                        rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
249                        StreamID, 8);
250 
251                 \textcolor{keywordflow}{if} (mac\_eq < 0) \{
252                     \textcolor{comment}{/* possible tail insertion ... */}
253 
254                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}) \{
255                         \textcolor{keywordflow}{if} (attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} ==
256                             attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
257                             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
258                             \textcolor{keywordflow}{continue};
259                         \}
260                     \}
261 
262                     rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
263                     rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = attrib;
264                     attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = rattrib;
265                     \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next})
266                         rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = rattrib;
267                     \textcolor{keywordflow}{return} 0;
268 
269                 \} \textcolor{keywordflow}{else} \{
270                     \textcolor{comment}{/* head insertion ... */}
271                     rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = attrib;
272                     rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = attrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev};
273                     attrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = rattrib;
274                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev})
275                         rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev}->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = rattrib;
276                     \textcolor{keywordflow}{else}
277                         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list} = rattrib;
278 
279                     \textcolor{keywordflow}{return} 0;
280                 \}
281             \}
282         \}
283         attrib\_tail = attrib;
284         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
285     \}
286 
287     \textcolor{comment}{/* if we are here we didn't need to stitch in a a sorted entry}
288 \textcolor{comment}{     * so append it onto the tail (if it exists)}
289 \textcolor{comment}{     */}
290 
291     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib\_tail) \{
292         rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
293         rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
294         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list} = rattrib;
295     \} \textcolor{keywordflow}{else} \{
296         rattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
297         rattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = attrib\_tail;
298         attrib\_tail->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = rattrib;
299     \}
300 
301     \textcolor{keywordflow}{return} 0;
302 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a5b122ccba0911851e14320499f7fdfa9_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+alloc@{msrp\+\_\+alloc}}
\index{msrp\+\_\+alloc@{msrp\+\_\+alloc}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+alloc(void)}{msrp_alloc(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf msrp\+\_\+attribute} $\ast$ msrp\+\_\+alloc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{}\label{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}


msrp.\+c 파일의 666 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
667 \{
668     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
669 
670     attrib = (\textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *) \hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} 
      \hyperlink{structmsrp__attribute}{msrp\_attribute}));
671     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
672         \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
673 
674     memset(attrib, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structmsrp__attribute}{msrp\_attribute}));
675 
676     attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_a4179c286e5c5f6489dd0db7aa4f8fb84}{MRP\_VO\_STATE};
677     attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
678     attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg} = \hyperlink{mrp_8h_aba082c372473ab19ad097360ad5aad18}{MRP\_SND\_NULL};
679     attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode} = \hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL};
680 \textcolor{preprocessor}{#ifdef LOG\_MRP}
681     attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a36519f39fcb22bd3b6b05b51d2bb7fbf}{mrp\_previous\_state} = -1;
682 \textcolor{preprocessor}{#endif}
683 
684     attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE};
685     attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE};
686 \textcolor{preprocessor}{#ifdef LOG\_MRP}
687     attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a36519f39fcb22bd3b6b05b51d2bb7fbf}{mrp\_previous\_state} = -1;
688 \textcolor{preprocessor}{#endif}
689     \textcolor{keywordflow}{return} attrib;
690 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+attrib\+\_\+type\+\_\+string@{msrp\+\_\+attrib\+\_\+type\+\_\+string}}
\index{msrp\+\_\+attrib\+\_\+type\+\_\+string@{msrp\+\_\+attrib\+\_\+type\+\_\+string}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+attrib\+\_\+type\+\_\+string(int t)}{msrp_attrib_type_string(int t)}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ msrp\+\_\+attrib\+\_\+type\+\_\+string (
\begin{DoxyParamCaption}
\item[{int}]{t}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{}\label{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}


msrp.\+c 파일의 69 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
70 \{
71     \textcolor{keywordflow}{switch} (t) \{
72     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE}:
73         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"Talker Advertise"};
74     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE}:
75         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"Talker Failed"};
76     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE}:
77         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"Listener"};
78     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE}:
79         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"Domain"};
80     \textcolor{keywordflow}{default}:
81         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"TYPE ???"};
82     \}
83 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+bye@{msrp\+\_\+bye}}
\index{msrp\+\_\+bye@{msrp\+\_\+bye}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+bye(struct sockaddr\+\_\+in $\ast$client)}{msrp_bye(struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}void msrp\+\_\+bye (
\begin{DoxyParamCaption}
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a94a301e42230fc4de895f1fa98cddf39}{}\label{msrp_8c_a94a301e42230fc4de895f1fa98cddf39}


msrp.\+c 파일의 3922 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3923 \{
3924     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db})
3925         \hyperlink{mrp_8c_acb17ba76c88c8425d5daf5132bcaf623}{mrp\_client\_delete}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
3926 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=268pt]{msrp_8c_a94a301e42230fc4de895f1fa98cddf39_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a94a301e42230fc4de895f1fa98cddf39_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream@{msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream}}
\index{msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream@{msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream(struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, int attrib\+\_\+type, int mrp\+\_\+event)}{msrp_cmd_join_or_new_stream(struct msrpdu_talker_fail *talker_ad, int attrib_type, int mrp_event)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+join\+\_\+or\+\_\+new\+\_\+stream (
\begin{DoxyParamCaption}
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{int}]{attrib\+\_\+type, }
\item[{int}]{mrp\+\_\+event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a9350c9b64495d2eb54ffb55bd0a9abf5}{}\label{msrp_8c_a9350c9b64495d2eb54ffb55bd0a9abf5}


msrp.\+c 파일의 3415 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3418 \{
3419     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3420 
3421     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
3422     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
3423         \textcolor{keywordflow}{return} -1;
3424     \}
3425     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = attrib\_type;
3426     attrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation} = \hyperlink{msrp_8h_af98c5b9d139cddec6580f99d3ab9af41}{MSRP\_OPERATION\_DECLARE};
3427     attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen} = *talker\_ad;
3428     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(mrp\_event, attrib);
3429     \textcolor{keywordflow}{return} 0;
3430 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{msrp_8c_a9350c9b64495d2eb54ffb55bd0a9abf5_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a9350c9b64495d2eb54ffb55bd0a9abf5_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+leave\+\_\+stream@{msrp\+\_\+cmd\+\_\+leave\+\_\+stream}}
\index{msrp\+\_\+cmd\+\_\+leave\+\_\+stream@{msrp\+\_\+cmd\+\_\+leave\+\_\+stream}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+leave\+\_\+stream(struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad)}{msrp_cmd_leave_stream(struct msrpdu_talker_fail *talker_ad)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+leave\+\_\+stream (
\begin{DoxyParamCaption}
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a2fe9295eb14f221732c92773aeb73102}{}\label{msrp_8c_a2fe9295eb14f221732c92773aeb73102}


msrp.\+c 파일의 3447 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3448 \{
3449     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3450 
3451     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
3452     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
3453         \textcolor{keywordflow}{return} -1;
3454     \}
3455     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE};
3456     attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen} = *talker\_ad;
3457     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}, attrib);
3458 
3459     \textcolor{keywordflow}{return} 0;
3460 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{msrp_8c_a2fe9295eb14f221732c92773aeb73102_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a2fe9295eb14f221732c92773aeb73102_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status@{msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status@{msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status(const char $\ast$buf, int buflen, struct msrpdu\+\_\+domain $\ast$domain, int $\ast$err\+\_\+index)}{msrp_cmd_parse_domain_status(const char *buf, int buflen, struct msrpdu_domain *domain, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+domain\+\_\+status (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct {\bf msrpdu\+\_\+domain} $\ast$}]{domain, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f}{}\label{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f}


msrp.\+c 파일의 3537 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3540 \{
3541     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3542         \{\textcolor{stringliteral}{"C"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ad8e70adbd665b392e08d67b77839e326}{parse\_u8}, &domain->\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID}\},
3543         \{\textcolor{stringliteral}{"P"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ad8e70adbd665b392e08d67b77839e326}{parse\_u8}, &domain->
      \hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority}\},
3544         \{\textcolor{stringliteral}{"V"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a65e22877b9a545a9077c70e8e7092694}{parse\_u16\_04x}, &domain->
      \hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID}\},
3545         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
3546     \};
3547     \textcolor{keywordflow}{if} (buflen < 18)
3548         \textcolor{keywordflow}{return} -1;
3549     memset(domain, 0, \textcolor{keyword}{sizeof}(*domain));
3550     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
3551 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream@{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream@{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream(const char $\ast$buf, int buflen, struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)}{msrp_cmd_parse_join_or_new_stream(const char *buf, int buflen, struct msrpdu_talker_fail *talker_ad, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a4ff36d34b47df533f485385939949a0b}{}\label{msrp_8c_a4ff36d34b47df533f485385939949a0b}


msrp.\+c 파일의 3352 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3355 \{
3356     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3357         \{\textcolor{stringliteral}{"S"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, talker\_ad->\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}\},
3358         \{\textcolor{stringliteral}{"A"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a8704dcea9d4223b804f7a4a8a1e28421}{parse\_mac},
3359          talker\_ad->\hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}\},
3360         \{\textcolor{stringliteral}{"V"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a65e22877b9a545a9077c70e8e7092694}{parse\_u16\_04x},
3361          &talker\_ad->\hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.\hyperlink{structmsrpdu__talker__fail_a4120c111980bfa76de9f4f91bd57d40a}{Vlan\_ID}\},
3362         \{\textcolor{stringliteral}{"Z"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae073ce25a75fd9e9495aa67103e7f5fa}{parse\_u16}, &talker\_ad->\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize}\},
3363         \{\textcolor{stringliteral}{"I"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae073ce25a75fd9e9495aa67103e7f5fa}{parse\_u16},
3364          &talker\_ad->\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames}\},
3365         \{\textcolor{stringliteral}{"P"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ad8e70adbd665b392e08d67b77839e326}{parse\_u8}, &talker\_ad->
      \hyperlink{structmsrpdu__talker__fail_aefea4c8e80c276baf1e53a6faaa81921}{PriorityAndRank}\},
3366         \{\textcolor{stringliteral}{"L"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a56c3953bf6fdc050c04724a967d4ab9d}{parse\_u32}, &talker\_ad->
      \hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency}\},
3367         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
3368     \};
3369     \textcolor{keywordflow}{if} (buflen < 22)
3370         \textcolor{keywordflow}{return} -1;
3371     memset(talker\_ad, 0, \textcolor{keyword}{sizeof}(*talker\_ad));
3372     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
3373 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=269pt]{msrp_8c_a4ff36d34b47df533f485385939949a0b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a4ff36d34b47df533f485385939949a0b_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure@{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure@{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure(const char $\ast$buf, int buflen, struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)}{msrp_cmd_parse_join_or_new_stream_failure(const char *buf, int buflen, struct msrpdu_talker_fail *talker_ad, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+join\+\_\+or\+\_\+new\+\_\+stream\+\_\+failure (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a7342f873b69e09e139222454344450df}{}\label{msrp_8c_a7342f873b69e09e139222454344450df}


msrp.\+c 파일의 3375 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3378 \{
3379     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3380         \{\textcolor{stringliteral}{"S"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, talker\_ad->\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}\},
3381         \{\textcolor{stringliteral}{"A"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a8704dcea9d4223b804f7a4a8a1e28421}{parse\_mac},
3382          talker\_ad->\hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}\},
3383         \{\textcolor{stringliteral}{"V"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a65e22877b9a545a9077c70e8e7092694}{parse\_u16\_04x},
3384          &talker\_ad->\hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.\hyperlink{structmsrpdu__talker__fail_a4120c111980bfa76de9f4f91bd57d40a}{Vlan\_ID}\},
3385         \{\textcolor{stringliteral}{"Z"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae073ce25a75fd9e9495aa67103e7f5fa}{parse\_u16}, &talker\_ad->\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize}\},
3386         \{\textcolor{stringliteral}{"I"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae073ce25a75fd9e9495aa67103e7f5fa}{parse\_u16},
3387          &talker\_ad->\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames}\},
3388         \{\textcolor{stringliteral}{"P"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ad8e70adbd665b392e08d67b77839e326}{parse\_u8}, &talker\_ad->
      \hyperlink{structmsrpdu__talker__fail_aefea4c8e80c276baf1e53a6faaa81921}{PriorityAndRank}\},
3389         \{\textcolor{stringliteral}{"L"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a56c3953bf6fdc050c04724a967d4ab9d}{parse\_u32}, &talker\_ad->
      \hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency}\},
3390         \{\textcolor{stringliteral}{"B"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, &talker\_ad->
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}\},
3391         \{\textcolor{stringliteral}{"C"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ad8e70adbd665b392e08d67b77839e326}{parse\_u8}, &talker\_ad->
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.\hyperlink{structmsrpdu__talker__fail_a86bb90bfcef1c6c961d644cd1c3dfc45}{FailureCode}\},
3392         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
3393     \};
3394     \textcolor{keywordflow}{if} (buflen < 47)
3395         \textcolor{keywordflow}{return} -1;
3396     memset(talker\_ad, 0, \textcolor{keyword}{sizeof}(*talker\_ad));
3397     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
3398 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{msrp_8c_a7342f873b69e09e139222454344450df_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a7342f873b69e09e139222454344450df_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream@{msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream@{msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream(const char $\ast$buf, int buflen, struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)}{msrp_cmd_parse_leave_stream(const char *buf, int buflen, struct msrpdu_talker_fail *talker_ad, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+leave\+\_\+stream (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_ac509750c53005124f900e26ea90c4fbc}{}\label{msrp_8c_ac509750c53005124f900e26ea90c4fbc}


msrp.\+c 파일의 3433 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3436 \{
3437     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3438         \{\textcolor{stringliteral}{"S"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, talker\_ad->\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}\},
3439         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
3440     \};
3441     \textcolor{keywordflow}{if} (buflen < 22)
3442         \textcolor{keywordflow}{return} -1;
3443     memset(talker\_ad, 0, \textcolor{keyword}{sizeof}(*talker\_ad));
3444     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
3445 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{msrp_8c_ac509750c53005124f900e26ea90c4fbc_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ac509750c53005124f900e26ea90c4fbc_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status(const char $\ast$buf, int buflen, struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, uint32\+\_\+t $\ast$substate, int $\ast$err\+\_\+index)}{msrp_cmd_parse_report_listener_status(const char *buf, int buflen, struct msrpdu_talker_fail *talker_ad, uint32_t *substate, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+report\+\_\+listener\+\_\+status (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{{\bf uint32\+\_\+t} $\ast$}]{substate, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_acaf77439f40d430499710ff741fe0ea9}{}\label{msrp_8c_acaf77439f40d430499710ff741fe0ea9}


msrp.\+c 파일의 3463 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3468 \{
3469     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3470         \{\textcolor{stringliteral}{"L"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, talker\_ad->\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}\},
3471         \{\textcolor{stringliteral}{"D"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a56c3953bf6fdc050c04724a967d4ab9d}{parse\_u32}, substate\},
3472         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
3473     \};
3474     \textcolor{keywordflow}{if} (buflen < 26)
3475         \textcolor{keywordflow}{return} -1;
3476     memset(talker\_ad, 0, \textcolor{keyword}{sizeof}(*talker\_ad));
3477     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
3478 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{msrp_8c_acaf77439f40d430499710ff741fe0ea9_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_acaf77439f40d430499710ff741fe0ea9_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id@{msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id@{msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id(const char $\ast$buf, int buflen, uint8\+\_\+t $\ast$stream\+\_\+id, int $\ast$err\+\_\+index)}{msrp_cmd_parse_stream_id(const char *buf, int buflen, uint8_t *stream_id, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+stream\+\_\+id (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{stream\+\_\+id, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6}{}\label{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6}


msrp.\+c 파일의 3335 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3338 \{
3339     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3340         \{\textcolor{stringliteral}{"S"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, \hyperlink{avtp_8h_af5af7b461263e29ceb91a8d3a8bc2c97}{stream\_id} \},
3341         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0 \}
3342     \};
3343     \textcolor{keywordflow}{if} (buflen < \hyperlink{msrp_8c_a0fc7c0be6fac5949068cd47fb42c0701}{MSRP\_CLIENT\_CMDSTR\_STREAMID\_LEN} + 
      \hyperlink{msrp_8c_a4435c798423a1b11615939365cafb80a}{MSRP\_CLIENT\_CMDSTR\_HEADER\_LEN})
3344         \textcolor{keywordflow}{return} -1;
3345     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + \hyperlink{msrp_8c_a4435c798423a1b11615939365cafb80a}{MSRP\_CLIENT\_CMDSTR\_HEADER\_LEN},
3346         buflen - \hyperlink{msrp_8c_a4435c798423a1b11615939365cafb80a}{MSRP\_CLIENT\_CMDSTR\_HEADER\_LEN}, specs, err\_index);
3347 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status}}
\index{msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status(const char $\ast$buf, int buflen, struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, int $\ast$err\+\_\+index)}{msrp_cmd_parse_withdraw_listener_status(const char *buf, int buflen, struct msrpdu_talker_fail *talker_ad, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+parse\+\_\+withdraw\+\_\+listener\+\_\+status (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_ae45880a036ec2d04e7b06517261d48f3}{}\label{msrp_8c_ae45880a036ec2d04e7b06517261d48f3}


msrp.\+c 파일의 3499 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3501 \{
3502     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
3503         \{\textcolor{stringliteral}{"L"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1aa40371707c2e44042057d29277a0dc69}{parse\_c64}, talker\_ad->\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}\},
3504         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
3505     \};
3506     \textcolor{keywordflow}{if} (buflen < 22)
3507         \textcolor{keywordflow}{return} -1;
3508 
3509     memset(talker\_ad, 0, \textcolor{keyword}{sizeof}(*talker\_ad));
3510     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
3511 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{msrp_8c_ae45880a036ec2d04e7b06517261d48f3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ae45880a036ec2d04e7b06517261d48f3_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status@{msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status}}
\index{msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status@{msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status(struct msrpdu\+\_\+domain $\ast$domain, int report)}{msrp_cmd_report_domain_status(struct msrpdu_domain *domain, int report)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+report\+\_\+domain\+\_\+status (
\begin{DoxyParamCaption}
\item[{struct {\bf msrpdu\+\_\+domain} $\ast$}]{domain, }
\item[{int}]{report}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_aa0dea7eda1a9153359856df708f4a39a}{}\label{msrp_8c_aa0dea7eda1a9153359856df708f4a39a}


msrp.\+c 파일의 3553 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3555 \{
3556     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3557 
3558     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
3559     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
3560         \textcolor{keywordflow}{return} -1;
3561     \}
3562 
3563     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE};
3564     attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain} = *\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain};
3565     \textcolor{comment}{/* assume SRclassPriority for neighbor is same as ours */}
3566     attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ae9e61b028a38f302a5888dc230ec3bf2}{neighborSRclassPriority} =
3567         domain->\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority};
3568     \textcolor{keywordflow}{if} (report)
3569         \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}, attrib);
3570     \textcolor{keywordflow}{else}
3571         \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}, attrib);
3572 
3573     \textcolor{keywordflow}{return} 0;
3574 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{msrp_8c_aa0dea7eda1a9153359856df708f4a39a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_aa0dea7eda1a9153359856df708f4a39a_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status}}
\index{msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status(struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad, uint32\+\_\+t substate)}{msrp_cmd_report_listener_status(struct msrpdu_talker_fail *talker_ad, uint32_t substate)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+report\+\_\+listener\+\_\+status (
\begin{DoxyParamCaption}
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad, }
\item[{{\bf uint32\+\_\+t}}]{substate}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_afd44fc0444847a0d561d193b3699134c}{}\label{msrp_8c_afd44fc0444847a0d561d193b3699134c}


msrp.\+c 파일의 3480 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3482 \{
3483     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3484 
3485     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
3486     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
3487         \textcolor{keywordflow}{return} -1;
3488     \}
3489     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};
3490     attrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation} = \hyperlink{msrp_8h_af98c5b9d139cddec6580f99d3ab9af41}{MSRP\_OPERATION\_DECLARE};
3491     attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate} = \hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate};
3492     attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen} = *talker\_ad;
3493     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}, attrib);
3494 
3495     \textcolor{keywordflow}{return} 0;
3496 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{msrp_8c_afd44fc0444847a0d561d193b3699134c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_afd44fc0444847a0d561d193b3699134c_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status}}
\index{msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status@{msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status(struct msrpdu\+\_\+talker\+\_\+fail $\ast$talker\+\_\+ad)}{msrp_cmd_withdraw_listener_status(struct msrpdu_talker_fail *talker_ad)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+cmd\+\_\+withdraw\+\_\+listener\+\_\+status (
\begin{DoxyParamCaption}
\item[{struct {\bf msrpdu\+\_\+talker\+\_\+fail} $\ast$}]{talker\+\_\+ad}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_adb3f2363331d70dd5ccc11e86d767997}{}\label{msrp_8c_adb3f2363331d70dd5ccc11e86d767997}


msrp.\+c 파일의 3513 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3515 \{
3516     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3517     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *existing\_listener\_attrib;
3518 
3519     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
3520     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
3521         \textcolor{keywordflow}{return} -1;
3522     \}
3523     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};
3524     attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen} = *talker\_ad;
3525     \textcolor{comment}{/* need to maintain substate on LV, i.e. it can't just be 0 (IGNORE) */}
3526     existing\_listener\_attrib = \hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\_lookup}(attrib);
3527     \textcolor{keywordflow}{if} (existing\_listener\_attrib) \{
3528         attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate} = existing\_listener\_attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate};
3529     \}
3530     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}, attrib);
3531 
3532     \textcolor{keywordflow}{return} 0;
3533 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_adb3f2363331d70dd5ccc11e86d767997_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_adb3f2363331d70dd5ccc11e86d767997_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+conditional\+\_\+reclaim@{msrp\+\_\+conditional\+\_\+reclaim}}
\index{msrp\+\_\+conditional\+\_\+reclaim@{msrp\+\_\+conditional\+\_\+reclaim}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+conditional\+\_\+reclaim(struct msrp\+\_\+attribute $\ast$sattrib)}{msrp_conditional_reclaim(struct msrp_attribute *sattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf msrp\+\_\+attribute} $\ast$ msrp\+\_\+conditional\+\_\+reclaim (
\begin{DoxyParamCaption}
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{sattrib}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8}{}\label{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8}


msrp.\+c 파일의 3928 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3929 \{
3930     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *free\_sattrib;
3931 
3932     \textcolor{keywordflow}{if} ((sattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE}) &&
3933         ((sattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_a4179c286e5c5f6489dd0db7aa4f8fb84}{MRP\_VO\_STATE}) ||
3934          (sattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_a1ea8e5576e73ff786fe420fe1e51cfaf}{MRP\_AO\_STATE}) ||
3935          (sattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_ae12a5764b75063959a5180538d5c3dec}{MRP\_QO\_STATE}))) \{
3936         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev})
3937             sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev}->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3938         \textcolor{keywordflow}{else}
3939             \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list} = sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3940         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next})
3941             sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev};
3942         free\_sattrib = sattrib;
3943         sattrib = sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3944 \textcolor{preprocessor}{#if LOG\_MSRP\_GARBAGE\_COLLECTION}
3945         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP -------------> free attrib of type (%s), current 0x%p, next
       0x%p\(\backslash\)n"},
3946                 \hyperlink{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{msrp\_attrib\_type\_string}(free\_sattrib->
      \hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}),
3947                 free\_sattrib, sattrib);
3948 \textcolor{preprocessor}{#endif}
3949         \hyperlink{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb}{msrp\_send\_notifications}(free\_sattrib, 
      \hyperlink{mrp_8h_a841700929a5cf0f5df937120c5f38105}{MRP\_NOTIFY\_LV});
3950         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_sattrib);
3951         \textcolor{keywordflow}{return} sattrib;
3952     \} \textcolor{keywordflow}{else} \{
3953         \textcolor{keywordflow}{return} sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3954     \}
3955 
3956 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+count\+\_\+type@{msrp\+\_\+count\+\_\+type}}
\index{msrp\+\_\+count\+\_\+type@{msrp\+\_\+count\+\_\+type}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+count\+\_\+type(uint32\+\_\+t attrib\+\_\+type)}{msrp_count_type(uint32_t attrib_type)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+count\+\_\+type (
\begin{DoxyParamCaption}
\item[{{\bf uint32\+\_\+t}}]{attrib\+\_\+type}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a9c1d32447bad97a33bf6dec1c029a551}{}\label{msrp_8c_a9c1d32447bad97a33bf6dec1c029a551}
Count attributes by type in the M\+S\+RP database. This is helper function that is used in unit testing to monitor how the database changes as tests are executed.


\begin{DoxyParams}{매개변수}
{\em attrib\+\_\+type} & The attribute type to count. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
The number of attributes of type attrib\+\_\+type in the M\+S\+RP database. 
\end{DoxyReturn}


msrp.\+c 파일의 127 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
128 \{
129     \textcolor{keywordtype}{int} count = 0;
130     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
131 
132     \textcolor{keywordflow}{if} (\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}) \{
133         attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
134         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
135             \textcolor{keywordflow}{if} (attrib\_type == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
136                 count++;
137             \}
138             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
139         \}
140     \}
141     \textcolor{keywordflow}{return} count;
142 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{msrp_8c_a9c1d32447bad97a33bf6dec1c029a551_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+dumptable@{msrp\+\_\+dumptable}}
\index{msrp\+\_\+dumptable@{msrp\+\_\+dumptable}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+dumptable(struct sockaddr\+\_\+in $\ast$client)}{msrp_dumptable(struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+dumptable (
\begin{DoxyParamCaption}
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a466b73f2fc646a3468ddd535b67ad218}{}\label{msrp_8c_a466b73f2fc646a3468ddd535b67ad218}


msrp.\+c 파일의 3193 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3194 \{
3195     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
3196     \textcolor{keywordtype}{char} *msgbuf\_wrptr;
3197     \textcolor{keywordtype}{char} *stage;
3198     \textcolor{keywordtype}{char} *variant;
3199     \textcolor{keywordtype}{char} *regsrc;
3200     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3201     \textcolor{keywordtype}{char} mrp\_state[8];
3202 
3203     msgbuf = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
3204     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
3205         \textcolor{keywordflow}{return} -1;
3206 
3207     stage = variant = regsrc = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
3208 
3209     stage = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
3210     variant = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
3211     regsrc = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
3212 
3213     \textcolor{keywordflow}{if} ((\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == stage) || (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == variant) || (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == regsrc))
3214         \textcolor{keywordflow}{goto} free\_msgbuf;
3215 
3216     memset(msgbuf, 0, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
3217 
3218     msgbuf\_wrptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
3219 
3220     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
3221     \textcolor{keywordflow}{if} (attrib == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
3222         sprintf(msgbuf, \textcolor{stringliteral}{"MSRP:Empty\(\backslash\)n"});
3223     \}
3224 
3225     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
3226         \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
3227             sprintf(variant,
3228                 \textcolor{stringliteral}{"L:D=%d,S=%02x%02x%02x%02x%02x%02x%02x%02x"},
3229                 attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate},
3230                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[0],
3231                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[1],
3232                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[2],
3233                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[3],
3234                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[4],
3235                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[5],
3236                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[6],
3237                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[7]);
3238         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
3239             sprintf(variant, \textcolor{stringliteral}{"D:C=%d,P=%d,V=%04x,N=%d"},
3240                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID},
3241                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority},
3242                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID},
3243                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ae9e61b028a38f302a5888dc230ec3bf2}{neighborSRclassPriority});
3244         \} \textcolor{keywordflow}{else} \{
3245             sprintf(variant, \textcolor{stringliteral}{"T:S=%02x%02x%02x%02x%02x%02x%02x%02x"}
3246                 \textcolor{stringliteral}{",A=%02x%02x%02x%02x%02x%02x"}
3247                 \textcolor{stringliteral}{",V=%04x"}
3248                 \textcolor{stringliteral}{",Z=%d"}
3249                 \textcolor{stringliteral}{",I=%d"}
3250                 \textcolor{stringliteral}{",P=%d"}
3251                 \textcolor{stringliteral}{",L=%d"}
3252                 \textcolor{stringliteral}{",B=%02x%02x%02x%02x%02x%02x%02x%02x"}
3253                 \textcolor{stringliteral}{",C=%d"},
3254                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[0],
3255                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[1],
3256                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[2],
3257                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[3],
3258                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[4],
3259                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[5],
3260                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[6],
3261                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[7],
3262                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3263                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}[0],
3264                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3265                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}[1],
3266                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3267                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}[2],
3268                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3269                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}[3],
3270                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3271                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}[4],
3272                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3273                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a8f3bebf33119abbdc7865cef145929f6}{Dest\_Addr}[5],
3274                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3275                 DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a4120c111980bfa76de9f4f91bd57d40a}{Vlan\_ID},
3276                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
3277                 MaxFrameSize,
3278                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
3279                 MaxIntervalFrames,
3280                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_aefea4c8e80c276baf1e53a6faaa81921}{PriorityAndRank},
3281                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3282                 AccumulatedLatency,
3283                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3284                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[0],
3285                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3286                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[1],
3287                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3288                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[2],
3289                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3290                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[3],
3291                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3292                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[4],
3293                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3294                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[5],
3295                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3296                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[6],
3297                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3298                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}[7],
3299                 attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
3300                 FailureInformation.\hyperlink{structmsrpdu__talker__fail_a86bb90bfcef1c6c961d644cd1c3dfc45}{FailureCode});
3301         \}
3302 
3303         \hyperlink{mrp_8c_a178c5a4ac1dbc4bb40064aaaae6ed84e}{mrp\_decode\_state}(&attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}, &attrib->
      \hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant},
3304                  mrp\_state, \textcolor{keyword}{sizeof}(mrp\_state));
3305 
3306         sprintf(regsrc, \textcolor{stringliteral}{"R=%02x%02x%02x%02x%02x%02x %s"},
3307             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[0],
3308             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[1],
3309             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[2],
3310             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[3],
3311             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[4],
3312             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[5], mrp\_state);
3313 
3314         sprintf(stage, \textcolor{stringliteral}{"%s %s\(\backslash\)n"}, variant, regsrc);
3315 
3316         sprintf(msgbuf\_wrptr, \textcolor{stringliteral}{"%s"}, stage);
3317         msgbuf\_wrptr += strlen(stage);
3318         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3319     \}
3320 
3321     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
3322 
3323  free\_msgbuf:
3324     \textcolor{keywordflow}{if} (regsrc)
3325         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(regsrc);
3326     \textcolor{keywordflow}{if} (variant)
3327         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(variant);
3328     \textcolor{keywordflow}{if} (stage)
3329         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(stage);
3330     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
3331     \textcolor{keywordflow}{return} 0;
3332 
3333 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{msrp_8c_a466b73f2fc646a3468ddd535b67ad218_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a466b73f2fc646a3468ddd535b67ad218_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+emit\+\_\+domainvectors@{msrp\+\_\+emit\+\_\+domainvectors}}
\index{msrp\+\_\+emit\+\_\+domainvectors@{msrp\+\_\+emit\+\_\+domainvectors}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+emit\+\_\+domainvectors(unsigned char $\ast$msgbuf, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)}{msrp_emit_domainvectors(unsigned char *msgbuf, unsigned char *msgbuf_eof, int *bytes_used, int lva)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+emit\+\_\+domainvectors (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msgbuf, }
\item[{unsigned char $\ast$}]{msgbuf\+\_\+eof, }
\item[{int $\ast$}]{bytes\+\_\+used, }
\item[{int}]{lva}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a21f111f16656e338180baced35f16178}{}\label{msrp_8c_a21f111f16656e338180baced35f16178}


msrp.\+c 파일의 1934 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1936 \{
1937     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
1938     uint16\_t numvalues;
1939     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
1940     \textcolor{keywordtype}{int} vectidx;
1941     \textcolor{keywordtype}{int} vectevt[3];
1942     \textcolor{keywordtype}{int} vectevt\_idx;
1943     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} srclassID\_firstval;
1944     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} srclassprio\_firstval;
1945     uint16\_t srclassvid\_firstval;
1946     \textcolor{keywordtype}{int} attriblistlen;
1947     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
1948 \textcolor{comment}{/* pending review and deletion */}
1949 \textcolor{preprocessor}{#ifdef MSRP\_AGGREGATE\_DOMAINS\_VECTORS}
1950     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *vattrib;
1951 \textcolor{preprocessor}{#endif}
1952     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
1953     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1954     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof = msgbuf\_eof;
1955     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} attrib\_found\_flag = 0;
1956     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vector\_size = 5;
1957 
1958     \textcolor{comment}{/* need at least 5 bytes for a single vector */}
1959     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr > (mrpdu\_msg\_eof - vector\_size))
1960         \textcolor{keywordflow}{goto} oops;
1961 
1962     mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
1963     mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} = \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE};
1964     mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} = 4;
1965 
1966     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
1967 
1968     mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
1969 
1970     \textcolor{keywordflow}{while} ((mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - vector\_size - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) && (
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib)) \{
1971 
1972         \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE} != attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
1973             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
1974             \textcolor{keywordflow}{continue};
1975         \}
1976 
1977         \textcolor{keywordflow}{if} (0 == attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
1978             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
1979             \textcolor{keywordflow}{continue};
1980         \}
1981         attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
1982         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL} == attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.
      \hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode}) \{
1983             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
1984             \textcolor{keywordflow}{continue};
1985         \}
1986 
1987         attrib\_found\_flag = 1;
1988         \textcolor{comment}{/* pointing to at least one attribute which needs to be transmitted */}
1989         srclassID\_firstval = attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID};
1990         srclassprio\_firstval = attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.
      \hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority};
1991         srclassvid\_firstval = attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID};
1992 
1993         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[0] =
1994             srclassID\_firstval;
1995         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[1] =
1996             srclassprio\_firstval;
1997         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[2] =
1998             (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) (srclassvid\_firstval >> 8);
1999         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[3] =
2000             (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) srclassvid\_firstval;
2001 
2002         \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
2003         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
2004             \textcolor{comment}{/*}
2005 \textcolor{comment}{             * If 'In' in indicated by the applicant attribute, the}
2006 \textcolor{comment}{             * look at the registrar state to determine whether to}
2007 \textcolor{comment}{             * send an In (if registrar is also In) or an Mt if the}
2008 \textcolor{comment}{             * registrar is either Mt or Lv.}
2009 \textcolor{comment}{             */}
2010             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2011                 vectevt[0] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
2012             \textcolor{keywordflow}{else}
2013                 vectevt[0] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
2014             \textcolor{keywordflow}{break};
2015         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
2016             vectevt[0] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
2017             \textcolor{keywordflow}{break};
2018         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
2019             vectevt[0] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
2020             \textcolor{keywordflow}{break};
2021         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
2022             \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
2023 \textcolor{comment}{             * the corresponding registrar state to determine whether}
2024 \textcolor{comment}{             * to send a JoinIn (if the registar state is 'In') or}
2025 \textcolor{comment}{             * a JoinMt if the registrar state is MT or LV.}
2026 \textcolor{comment}{             */}
2027             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2028                 vectevt[0] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
2029             \textcolor{keywordflow}{else}
2030                 vectevt[0] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
2031             \textcolor{keywordflow}{break};
2032         \textcolor{keywordflow}{default}:
2033             \textcolor{comment}{/* huh? */}
2034             \textcolor{keywordflow}{goto} oops;
2035             \textcolor{keywordflow}{break};
2036         \}
2037 
2038         vectevt\_idx = 1;
2039         numvalues = 1;
2040         vectevt[1] = 0;
2041         vectevt[2] = 0;
2042 
2043         \textcolor{comment}{/* now attempt to vectorize contiguous other attributes}
2044 \textcolor{comment}{         * which also need to be transmitted}
2045 \textcolor{comment}{         */}
2046 
2047         vectidx = 4;
2048 
2049 \textcolor{comment}{/* pending review and deletion */}
2050 \textcolor{preprocessor}{#ifdef MSRP\_AGGREGATE\_DOMAINS\_VECTORS}
2051         vattrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2052 
2053         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != vattrib) \{
2054             \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE} != vattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})
2055                 \textcolor{keywordflow}{break};
2056 
2057             \textcolor{keywordflow}{if} (0 == vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx})
2058                 \textcolor{keywordflow}{break};
2059 
2060             srclassID\_firstval++;
2061             srclassprio\_firstval++;
2062 
2063             \textcolor{keywordflow}{if} (srclassID\_firstval !=
2064                 vattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID})
2065                 \textcolor{keywordflow}{break};
2066 
2067             vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
2068 
2069             \textcolor{keywordflow}{switch} (vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
2070             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
2071                 \textcolor{comment}{/*}
2072 \textcolor{comment}{                 * If 'In' in indicated by the applicant attribute, the}
2073 \textcolor{comment}{                 * look at the registrar state to determine whether to}
2074 \textcolor{comment}{                 * send an In (if registrar is also In) or an Mt if the}
2075 \textcolor{comment}{                 * registrar is either Mt or Lv.}
2076 \textcolor{comment}{                 */}
2077                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} ==
2078                     vattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2079                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
2080                 \textcolor{keywordflow}{else}
2081                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
2082                 \textcolor{keywordflow}{break};
2083             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
2084                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
2085                 \textcolor{keywordflow}{break};
2086             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
2087                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
2088                 \textcolor{keywordflow}{break};
2089             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
2090                 \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
2091 \textcolor{comment}{                 * the corresponding registrar state to determine whether}
2092 \textcolor{comment}{                 * to send a JoinIn (if the registar state is 'In') or}
2093 \textcolor{comment}{                 * a JoinMt if the registrar state is MT or LV.}
2094 \textcolor{comment}{                 */}
2095                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2096                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
2097                 \textcolor{keywordflow}{else}
2098                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
2099                 \textcolor{keywordflow}{break};
2100             \textcolor{keywordflow}{default}:
2101                 \textcolor{comment}{/* huh? */}
2102                 \textcolor{keywordflow}{goto} oops;
2103                 \textcolor{keywordflow}{break};
2104             \}
2105 
2106             vectevt\_idx++;
2107             numvalues++;
2108 
2109             \textcolor{keywordflow}{if} (vectevt\_idx > 2) \{
2110                 vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
2111                                 vectevt[1],
2112                                 vectevt[2]);
2113 
2114                 mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}
2115                     [vectidx] = vect\_3pack;
2116                 vectidx++;
2117                 vectevt[0] = 0;
2118                 vectevt[1] = 0;
2119                 vectevt[2] = 0;
2120                 vectevt\_idx = 0;
2121             \}
2122 
2123             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
2124                 > (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2125                 \textcolor{keywordflow}{goto} oops;
2126 
2127             vattrib = vattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2128         \}
2129 \textcolor{preprocessor}{#endif}
2130 
2131         \textcolor{comment}{/* handle any trailers */}
2132         \textcolor{keywordflow}{if} (vectevt\_idx > 0) \{
2133             vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
2134                             vectevt[1], vectevt[2]);
2135 
2136             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx] =
2137                 vect\_3pack;
2138             vectidx++;
2139         \}
2140 
2141         \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]) >
2142             (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2143             \textcolor{keywordflow}{goto} oops;
2144 
2145         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(numvalues);
2146 
2147         \textcolor{keywordflow}{if} (lva) \{
2148             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} |= \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
2149             lva = 0;
2150         \}
2151 
2152         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
2153             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
2154 
2155         mrpdu\_msg\_ptr =
2156             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]);
2157         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
2158 
2159         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2160 
2161     \}
2162 
2163     \textcolor{comment}{/*}
2164 \textcolor{comment}{     * If no attributes are declared, send a LeaveAll with an all 0}
2165 \textcolor{comment}{     * FirstValue, Number of Values set to 0 and not attribute event.}
2166 \textcolor{comment}{     */}
2167     \textcolor{keywordflow}{if} ((0 == attrib\_found\_flag) && \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag}) \{
2168 
2169         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(0) |
2170                         \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
2171         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
2172             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
2173 
2174         mrpdu\_msg\_ptr =
2175             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[mrpdu\_msg->
      \hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength}]);
2176         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
2177     \}
2178 
2179     \textcolor{keywordflow}{if} (mrpdu\_vectorptr == (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2])) \{
2180         *bytes\_used = 0;
2181         \textcolor{keywordflow}{return} 0;
2182     \}
2183 
2184     \textcolor{comment}{/* endmark */}
2185     *mrpdu\_msg\_ptr = 0;
2186     mrpdu\_msg\_ptr++;
2187     *mrpdu\_msg\_ptr = 0;
2188     mrpdu\_msg\_ptr++;
2189 
2190     *bytes\_used = (mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf});
2191 
2192     attriblistlen = mrpdu\_msg\_ptr - &(mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
2193     mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0] = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) (attriblistlen >> 8);
2194     mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[1] = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) attriblistlen;
2195 
2196 \textcolor{preprocessor}{#if LOG\_MSRP}
2197     \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP msrp\_emit\_domainvectors() DONE (OK)\(\backslash\)n"});
2198 \textcolor{preprocessor}{#endif}
2199     \textcolor{keywordflow}{return} 0;
2200  oops:
2201 \textcolor{preprocessor}{#if LOG\_MSRP}
2202     \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP msrp\_emit\_domainvectors() DONE (OOPS)\(\backslash\)n"});
2203 \textcolor{preprocessor}{#endif}
2204     \textcolor{comment}{/* an internal error - caller should assume TXLAF */}
2205     *bytes\_used = 0;
2206     \textcolor{keywordflow}{return} -1;
2207 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{msrp_8c_a21f111f16656e338180baced35f16178_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a21f111f16656e338180baced35f16178_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+emit\+\_\+listenvectors@{msrp\+\_\+emit\+\_\+listenvectors}}
\index{msrp\+\_\+emit\+\_\+listenvectors@{msrp\+\_\+emit\+\_\+listenvectors}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+emit\+\_\+listenvectors(unsigned char $\ast$msgbuf, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)}{msrp_emit_listenvectors(unsigned char *msgbuf, unsigned char *msgbuf_eof, int *bytes_used, int lva)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+emit\+\_\+listenvectors (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msgbuf, }
\item[{unsigned char $\ast$}]{msgbuf\+\_\+eof, }
\item[{int $\ast$}]{bytes\+\_\+used, }
\item[{int}]{lva}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_af74507f310bab4f7d519658251b81a84}{}\label{msrp_8c_af74507f310bab4f7d519658251b81a84}


msrp.\+c 파일의 2552 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2554 \{
2555     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
2556     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
2557     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
2558     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof = msgbuf\_eof;
2559     uint16\_t numvalues;
2560     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
2561     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_4pack;
2562     \textcolor{keywordtype}{int} vectidx;
2563     \textcolor{keywordtype}{int} attriblistlen;
2564     \textcolor{keywordtype}{int} vectevt[4];
2565     \textcolor{keywordtype}{int} vectevt\_idx;
2566     \textcolor{keywordtype}{int} *listen\_declare = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
2567     \textcolor{keywordtype}{int} listen\_declare\_sz = 64;
2568     \textcolor{keywordtype}{int} listen\_declare\_idx = 0;
2569     \textcolor{keywordtype}{int} listen\_declare\_end = 0;
2570     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} streamid\_firstval[8];
2571     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib, *vattrib;
2572     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vector\_size = 13;
2573     \textcolor{keywordtype}{int} mac\_eq;
2574     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} attrib\_found\_flag = 0;
2575 
2576     \textcolor{comment}{/* need at least 13 bytes for a single vector */}
2577     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr > (mrpdu\_msg\_eof - vector\_size))
2578         \textcolor{keywordflow}{goto} oops;
2579 
2580     mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
2581     mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} = \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};
2582     mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} = 8;
2583 
2584     listen\_declare = (\textcolor{keywordtype}{int} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(listen\_declare\_sz * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
2585     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == listen\_declare)
2586         \textcolor{keywordflow}{goto} oops;
2587 
2588     \textcolor{comment}{/* if we have a listener type registered, always send out an update,}
2589 \textcolor{comment}{     * so mark all as ready.}
2590 \textcolor{comment}{     */}
2591     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
2592     \textcolor{keywordflow}{while} (attrib) \{
2593         \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
2594             attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 1;
2595         \}
2596         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2597     \}
2598 
2599     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
2600     mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
2601 
2602     \textcolor{keywordflow}{while} ((mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - vector\_size -\hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) && (
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib)) \{
2603 
2604         \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE} != attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
2605             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2606             \textcolor{keywordflow}{continue};
2607         \}
2608 
2609         \textcolor{keywordflow}{if} (0 == attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
2610             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2611             \textcolor{keywordflow}{continue};
2612         \}
2613 
2614         attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
2615         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL} == attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.
      \hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode}) \{
2616             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2617             \textcolor{keywordflow}{continue};
2618         \}
2619 
2620         listen\_declare\_idx = 0;
2621 
2622         \textcolor{comment}{/* if we have a listener type registered, we always will}
2623 \textcolor{comment}{         * send out an update. We also don't bother trying to}
2624 \textcolor{comment}{         * insert IGNORES between stream IDs - we only send out}
2625 \textcolor{comment}{         * contiguous active streams in messages}
2626 \textcolor{comment}{         */}
2627 
2628         attrib\_found\_flag = 1;
2629         \textcolor{comment}{/* pointing to at least one attribute which needs to be transmitted */}
2630         memcpy(streamid\_firstval,
2631                attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}, 8);
2632         memcpy(&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}),
2633                attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}, 8);
2634 
2635         \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
2636         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
2637             \textcolor{comment}{/*}
2638 \textcolor{comment}{             * If 'In' in indicated by the applicant attribute, the}
2639 \textcolor{comment}{             * look at the registrar state to determine whether to}
2640 \textcolor{comment}{             * send an In (if registrar is also In) or an Mt if the}
2641 \textcolor{comment}{             * registrar is either Mt or Lv.}
2642 \textcolor{comment}{             */}
2643             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2644                 vectevt[0] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
2645             \textcolor{keywordflow}{else}
2646                 vectevt[0] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
2647             \textcolor{keywordflow}{break};
2648         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
2649             vectevt[0] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
2650             \textcolor{keywordflow}{break};
2651         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
2652             vectevt[0] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
2653             \textcolor{keywordflow}{break};
2654         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
2655             \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
2656 \textcolor{comment}{             * the corresponding registrar state to determine whether}
2657 \textcolor{comment}{             * to send a JoinIn (if the registar state is 'In') or}
2658 \textcolor{comment}{             * a JoinMt if the registrar state is MT or LV.}
2659 \textcolor{comment}{             */}
2660             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2661                 vectevt[0] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
2662             \textcolor{keywordflow}{else}
2663                 vectevt[0] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
2664             \textcolor{keywordflow}{break};
2665         \textcolor{keywordflow}{default}:
2666             \textcolor{comment}{/* huh? */}
2667             \textcolor{keywordflow}{goto} oops;
2668             \textcolor{keywordflow}{break};
2669         \}
2670 
2671         vectevt\_idx = 1;
2672         numvalues = 1;
2673         vectevt[1] = 0;
2674         vectevt[2] = 0;
2675 
2676         \textcolor{keywordflow}{if} (listen\_declare\_sz == (listen\_declare\_idx + 1)) \{
2677             listen\_declare =
2678                 (\textcolor{keywordtype}{int} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_a40bca1270eac14ea5da81c924c02c3b7}{realloc}(listen\_declare,
2679                        (64 +
2680                         listen\_declare\_sz) * \textcolor{keyword}{sizeof}(int));
2681             \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == listen\_declare)
2682                 \textcolor{keywordflow}{goto} oops;
2683 
2684             listen\_declare\_sz += 64;
2685         \}
2686 
2687         listen\_declare[listen\_declare\_idx] = attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate};
2688         listen\_declare\_idx++;
2689 
2690         \textcolor{comment}{/* now attempt to vectorize contiguous other attributes}
2691 \textcolor{comment}{         * which also need to be transmitted}
2692 \textcolor{comment}{         */}
2693 
2694         vectidx = 8;
2695         vattrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2696 
2697         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != vattrib) \{
2698             \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE} != vattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})
2699                 \textcolor{keywordflow}{break};
2700 
2701             \textcolor{keywordflow}{if} (0 == vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx})
2702                 \textcolor{keywordflow}{break};
2703 
2704             \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\_increment\_streamid}(streamid\_firstval);
2705 
2706             mac\_eq = memcmp(vattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID},
2707                     streamid\_firstval, 8);
2708 
2709             \textcolor{keywordflow}{if} (0 != mac\_eq)
2710                 \textcolor{keywordflow}{break};
2711 
2712             vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
2713 
2714             \textcolor{keywordflow}{switch} (vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
2715             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
2716                 \textcolor{comment}{/*}
2717 \textcolor{comment}{                 * If 'In' in indicated by the applicant attribute, the}
2718 \textcolor{comment}{                 * look at the registrar state to determine whether to}
2719 \textcolor{comment}{                 * send an In (if registrar is also In) or an Mt if the}
2720 \textcolor{comment}{                 * registrar is either Mt or Lv.}
2721 \textcolor{comment}{                 */}
2722                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} ==
2723                     vattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2724                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
2725                 \textcolor{keywordflow}{else}
2726                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
2727                 \textcolor{keywordflow}{break};
2728             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
2729                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
2730                 \textcolor{keywordflow}{break};
2731             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
2732                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
2733                 \textcolor{keywordflow}{break};
2734             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
2735                 \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
2736 \textcolor{comment}{                 * the corresponding registrar state to determine whether}
2737 \textcolor{comment}{                 * to send a JoinIn (if the registar state is 'In') or}
2738 \textcolor{comment}{                 * a JoinMt if the registrar state is MT or LV.}
2739 \textcolor{comment}{                 */}
2740                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == vattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2741                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
2742                 \textcolor{keywordflow}{else}
2743                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
2744                 \textcolor{keywordflow}{break};
2745             \textcolor{keywordflow}{default}:
2746                 \textcolor{comment}{/* huh? */}
2747                 \textcolor{keywordflow}{goto} oops;
2748                 \textcolor{keywordflow}{break};
2749             \}
2750 
2751             vectevt\_idx++;
2752             numvalues++;
2753 
2754             \textcolor{keywordflow}{if} (listen\_declare\_sz == (listen\_declare\_idx + 1)) \{
2755                 listen\_declare =
2756                     (\textcolor{keywordtype}{int} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_a40bca1270eac14ea5da81c924c02c3b7}{realloc}(listen\_declare,
2757                            (64 +
2758                             listen\_declare\_sz) *
2759                            \textcolor{keyword}{sizeof}(int));
2760                 listen\_declare\_sz += 64;
2761             \}
2762 
2763             listen\_declare[listen\_declare\_idx] = vattrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate};
2764             listen\_declare\_idx++;
2765 
2766             \textcolor{keywordflow}{if} (vectevt\_idx > 2) \{
2767                 vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
2768                                 vectevt[1],
2769                                 vectevt[2]);
2770 
2771                 mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}
2772                     [vectidx] = vect\_3pack;
2773                 vectidx++;
2774                 vectevt[0] = 0;
2775                 vectevt[1] = 0;
2776                 vectevt[2] = 0;
2777                 vectevt\_idx = 0;
2778             \}
2779 
2780             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
2781                 > (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2782                 \textcolor{keywordflow}{goto} oops;
2783 
2784             vattrib = vattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2785         \}
2786 
2787         \textcolor{comment}{/* handle any trailers */}
2788         \textcolor{keywordflow}{if} (vectevt\_idx > 0) \{
2789             vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
2790                             vectevt[1], vectevt[2]);
2791 
2792             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx] =
2793                 vect\_3pack;
2794             vectidx++;
2795         \}
2796 
2797         \textcolor{comment}{/* now emit the 4-packed events */}
2798 
2799         listen\_declare\_end = listen\_declare\_idx;
2800 
2801         \textcolor{keywordflow}{for} (listen\_declare\_idx = 0;
2802              listen\_declare\_idx < ((listen\_declare\_end / 4) * 4);
2803              listen\_declare\_idx += 4) \{
2804 
2805             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
2806                 > (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2807                 \textcolor{keywordflow}{goto} oops;
2808 
2809             vect\_4pack =
2810                 \hyperlink{mrp_8h_a2e964c75a7021e06237026dd68b823c0}{MRPDU\_4PACK\_ENCODE}(listen\_declare
2811                            [listen\_declare\_idx],
2812                            listen\_declare
2813                            [listen\_declare\_idx + 1],
2814                            listen\_declare
2815                            [listen\_declare\_idx + 2],
2816                            listen\_declare
2817                            [listen\_declare\_idx + 3]);
2818 
2819             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}
2820                 [vectidx] = vect\_4pack;
2821             vectidx++;
2822 
2823             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
2824                 > (mrpdu\_msg\_eof - 3))
2825                 \textcolor{keywordflow}{goto} oops;
2826         \}
2827 
2828         \textcolor{comment}{/* handle any trailers */}
2829         vectevt\_idx = 0;
2830         vectevt[0] = 0;
2831         vectevt[1] = 0;
2832         vectevt[2] = 0;
2833         vectevt[3] = 0;
2834         \textcolor{keywordflow}{while} (listen\_declare\_idx < listen\_declare\_end) \{
2835             vectevt[vectevt\_idx] =
2836                 listen\_declare[listen\_declare\_idx];
2837             listen\_declare\_idx++;
2838             vectevt\_idx++;
2839         \}
2840         \textcolor{keywordflow}{if} (vectevt\_idx) \{
2841             vect\_4pack = \hyperlink{mrp_8h_a2e964c75a7021e06237026dd68b823c0}{MRPDU\_4PACK\_ENCODE}(vectevt[0],
2842                             vectevt[1],
2843                             vectevt[2], vectevt[3]);
2844 
2845             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx] =
2846                 vect\_4pack;
2847             vectidx++;
2848         \}
2849 
2850         \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]) >
2851             (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2852             \textcolor{keywordflow}{goto} oops;
2853 
2854         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(numvalues);
2855 
2856         \textcolor{keywordflow}{if} (lva) \{
2857             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} |= \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
2858             lva = 0;
2859         \}
2860 
2861         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
2862             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
2863 
2864         mrpdu\_msg\_ptr =
2865             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]);
2866 
2867         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2868 
2869         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
2870     \}
2871 
2872     \textcolor{comment}{/*}
2873 \textcolor{comment}{     * If no attributes are declared, send a LeaveAll with an all 0}
2874 \textcolor{comment}{     * FirstValue, Number of Values set to 0 and not attribute event.}
2875 \textcolor{comment}{     */}
2876     \textcolor{keywordflow}{if} ((0 == attrib\_found\_flag) && \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag}) \{
2877 
2878         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(0) |
2879                         \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
2880         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
2881             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
2882 
2883         mrpdu\_msg\_ptr =
2884             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[mrpdu\_msg->
      \hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength}]);
2885         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
2886     \}
2887 
2888 
2889     \textcolor{keywordflow}{if} (mrpdu\_vectorptr == (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2])) \{
2890         \textcolor{keywordflow}{if} (listen\_declare)
2891             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(listen\_declare);
2892         *bytes\_used = 0;
2893         \textcolor{keywordflow}{return} 0;
2894     \}
2895 
2896     \textcolor{comment}{/* endmark */}
2897     *mrpdu\_msg\_ptr = 0;
2898     mrpdu\_msg\_ptr++;
2899     *mrpdu\_msg\_ptr = 0;
2900     mrpdu\_msg\_ptr++;
2901 
2902     *bytes\_used = (mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf});
2903 
2904     attriblistlen = mrpdu\_msg\_ptr - &(mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
2905     mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0] = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) (attriblistlen >> 8);
2906     mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[1] = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) attriblistlen;
2907 
2908     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(listen\_declare);
2909     \textcolor{keywordflow}{return} 0;
2910  oops:
2911     \textcolor{comment}{/* an internal error - caller should assume TXLAF */}
2912     \textcolor{keywordflow}{if} (listen\_declare)
2913         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(listen\_declare);
2914     *bytes\_used = 0;
2915     \textcolor{keywordflow}{return} -1;
2916 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_af74507f310bab4f7d519658251b81a84_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_af74507f310bab4f7d519658251b81a84_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+emit\+\_\+talkervectors@{msrp\+\_\+emit\+\_\+talkervectors}}
\index{msrp\+\_\+emit\+\_\+talkervectors@{msrp\+\_\+emit\+\_\+talkervectors}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+emit\+\_\+talkervectors(unsigned char $\ast$msgbuf, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva, unsigned int type)}{msrp_emit_talkervectors(unsigned char *msgbuf, unsigned char *msgbuf_eof, int *bytes_used, int lva, unsigned int type)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+emit\+\_\+talkervectors (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msgbuf, }
\item[{unsigned char $\ast$}]{msgbuf\+\_\+eof, }
\item[{int $\ast$}]{bytes\+\_\+used, }
\item[{int}]{lva, }
\item[{unsigned int}]{type}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a}{}\label{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a}


msrp.\+c 파일의 2232 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2234 \{
2235     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
2236     uint16\_t numvalues;
2237     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
2238     \textcolor{keywordtype}{int} vectidx;
2239     \textcolor{keywordtype}{int} vectevt[3];
2240     \textcolor{keywordtype}{int} vectevt\_idx;
2241     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} streamid\_firstval[8];
2242     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} destmac\_firstval[6];
2243     uint16\_t tspec\_maxframesize\_firstval;
2244     \textcolor{keywordtype}{int} attriblistlen;
2245     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib, *vattrib;
2246     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
2247     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
2248     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof = msgbuf\_eof;
2249     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} attrib\_found\_flag = 0;
2250     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vector\_size = 0;
2251     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} attrib\_len = 0;
2252 
2253     \textcolor{comment}{/* MSRP\_TALKER\_ADV\_TYPE */}
2254     vector\_size = 28;
2255     attrib\_len = 25;
2256     \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE} == \hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type}) \{
2257         \textcolor{comment}{/* talker failed */}
2258         vector\_size += 9;
2259         attrib\_len += 9;        
2260     \}
2261 
2262     \textcolor{comment}{/* need at least 28 bytes for a single vector */}
2263     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr > (mrpdu\_msg\_eof - vector\_size))
2264         \textcolor{keywordflow}{goto} oops;
2265 
2266     \textcolor{comment}{/*}
2267 \textcolor{comment}{     * as an endpoint, we don't advertise talker failed attributes (which}
2268 \textcolor{comment}{     * only a listener should receive) - but since this daemon could}
2269 \textcolor{comment}{     * function dual-mode - listening to streams as well as being a talker}
2270 \textcolor{comment}{     * station - we only advertise the talker vectors for declared streams,}
2271 \textcolor{comment}{     * not those we know about as a listener ...}
2272 \textcolor{comment}{     */}
2273     mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
2274     mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} = \hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type};
2275     mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} = attrib\_len;
2276 
2277     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
2278 
2279     mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
2280 
2281     \textcolor{keywordflow}{while} ((mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - vector\_size - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) && (
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib)) \{
2282 
2283         \textcolor{keywordflow}{if} (\hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type} != attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
2284             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2285             \textcolor{keywordflow}{continue};
2286         \}
2287 \textcolor{preprocessor}{#ifdef CHECK}
2288         \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a9a6b1b18b7bd680971356f45ad0ee684}{MSRP\_OPERATION\_REGISTER} == attrib->direction) \{
2289             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2290             \textcolor{keywordflow}{continue};
2291         \}
2292 \textcolor{preprocessor}{#endif}
2293         \textcolor{keywordflow}{if} (0 == attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
2294             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2295             \textcolor{keywordflow}{continue};
2296         \}
2297         attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
2298         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL} == attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.
      \hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode}) \{
2299             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2300             \textcolor{keywordflow}{continue};
2301         \}
2302 
2303         attrib\_found\_flag = 1;
2304         \textcolor{comment}{/* pointing to at least one attribute which needs to be transmitted */}
2305         memcpy(streamid\_firstval,
2306                attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}, 8);
2307         memcpy(destmac\_firstval,
2308                attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
2309                Dest\_Addr, 6);
2310         memcpy(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents},
2311                streamid\_firstval, 8);
2312         memcpy(&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[8]),
2313                destmac\_firstval, 6);
2314 
2315         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[14] =
2316             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
2317             Vlan\_ID >> 8;
2318         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[15] =
2319             (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
2320             DataFrameParameters.\hyperlink{structmsrpdu__talker__fail_a4120c111980bfa76de9f4f91bd57d40a}{Vlan\_ID};
2321 
2322         tspec\_maxframesize\_firstval = attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize};
2323         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[16] =
2324             tspec\_maxframesize\_firstval >> 8;
2325         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[17] =
2326             (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t})tspec\_maxframesize\_firstval;
2327 
2328         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[18] =
2329             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames} >> 8;
2330         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[19] =
2331             (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
2332             TSpec.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames};
2333 
2334         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[20] =
2335             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_aefea4c8e80c276baf1e53a6faaa81921}{PriorityAndRank};
2336 
2337         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[21] =
2338             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency} >> 24;
2339         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[22] =
2340             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency} >> 16;
2341         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[23] =
2342             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency} >> 8;
2343         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[24] =
2344             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency};
2345 
2346         if (\hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE} == \hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type}) \{
2347             memcpy(&mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[25],
2348                    attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.\hyperlink{structmsrpdu__talker__fail_ab3ffdcd83e67748532020ef950fe5378}{BridgeID}, 8);
2349             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[33] =
2350                    attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.\hyperlink{structmsrpdu__talker__fail_a86bb90bfcef1c6c961d644cd1c3dfc45}{FailureCode};
2351         \}
2352 
2353         \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
2354         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
2355             \textcolor{comment}{/*}
2356 \textcolor{comment}{             * If 'In' in indicated by the applicant attribute, the}
2357 \textcolor{comment}{             * look at the registrar state to determine whether to}
2358 \textcolor{comment}{             * send an In (if registrar is also In) or an Mt if the}
2359 \textcolor{comment}{             * registrar is either Mt or Lv.}
2360 \textcolor{comment}{             */}
2361             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2362                 vectevt[0] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
2363             \textcolor{keywordflow}{else}
2364                 vectevt[0] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
2365             \textcolor{keywordflow}{break};
2366         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
2367             vectevt[0] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
2368             \textcolor{keywordflow}{break};
2369         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
2370             vectevt[0] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
2371             \textcolor{keywordflow}{break};
2372         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
2373             \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
2374 \textcolor{comment}{             * the corresponding registrar state to determine whether}
2375 \textcolor{comment}{             * to send a JoinIn (if the registar state is 'In') or}
2376 \textcolor{comment}{             * a JoinMt if the registrar state is MT or LV.}
2377 \textcolor{comment}{             */}
2378             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2379                 vectevt[0] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
2380             \textcolor{keywordflow}{else}
2381                 vectevt[0] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
2382             \textcolor{keywordflow}{break};
2383         \textcolor{keywordflow}{default}:
2384             \textcolor{comment}{/* huh? */}
2385             \textcolor{keywordflow}{goto} oops;
2386             \textcolor{keywordflow}{break};
2387         \}
2388 
2389         vectevt\_idx = 1;
2390         numvalues = 1;
2391         vectevt[1] = 0;
2392         vectevt[2] = 0;
2393 
2394         \textcolor{comment}{/* now attempt to vectorize contiguous other attributes}
2395 \textcolor{comment}{         * which also need to be transmitted}
2396 \textcolor{comment}{         */}
2397 
2398         vectidx = attrib\_len;
2399         vattrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2400 
2401         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != vattrib) \{
2402             \textcolor{keywordflow}{if} (\hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type} != vattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})
2403                 \textcolor{keywordflow}{break};
2404 
2405             \textcolor{keywordflow}{if} (0 == vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx})
2406                 \textcolor{keywordflow}{break};
2407 
2408             \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\_increment\_streamid}(streamid\_firstval);
2409             \hyperlink{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{mmrp\_increment\_macaddr}(destmac\_firstval);
2410 
2411             \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_ad1ffbc9f796cdb5d5afb88a540346493}{vectorize\_talker}(attrib,
2412                     streamid\_firstval,
2413                     destmac\_firstval,
2414                     vattrib))
2415                 \textcolor{keywordflow}{break};
2416 
2417             vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
2418 
2419             \textcolor{keywordflow}{switch} (vattrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
2420             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
2421                 \textcolor{comment}{/*}
2422 \textcolor{comment}{                 * If 'In' in indicated by the applicant attribute, the}
2423 \textcolor{comment}{                 * look at the registrar state to determine whether to}
2424 \textcolor{comment}{                 * send an In (if registrar is also In) or an Mt if the}
2425 \textcolor{comment}{                 * registrar is either Mt or Lv.}
2426 \textcolor{comment}{                 */}
2427                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} ==
2428                     vattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2429                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
2430                 \textcolor{keywordflow}{else}
2431                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
2432                 \textcolor{keywordflow}{break};
2433             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
2434                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
2435                 \textcolor{keywordflow}{break};
2436             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
2437                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
2438                 \textcolor{keywordflow}{break};
2439             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
2440                 \textcolor{comment}{/* If 'Join' in indicated by the applicant, look at}
2441 \textcolor{comment}{                 * the corresponding registrar state to determine whether}
2442 \textcolor{comment}{                 * to send a JoinIn (if the registar state is 'In') or}
2443 \textcolor{comment}{                 * a JoinMt if the registrar state is MT or LV.}
2444 \textcolor{comment}{                 */}
2445                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == vattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
2446                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
2447                 \textcolor{keywordflow}{else}
2448                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
2449                 \textcolor{keywordflow}{break};
2450             \textcolor{keywordflow}{default}:
2451                 \textcolor{comment}{/* huh? */}
2452                 \textcolor{keywordflow}{goto} oops;
2453                 \textcolor{keywordflow}{break};
2454             \}
2455 
2456             vectevt\_idx++;
2457             numvalues++;
2458 
2459             \textcolor{keywordflow}{if} (vectevt\_idx > 2) \{
2460                 vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
2461                                 vectevt[1],
2462                                 vectevt[2]);
2463 
2464                 mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}
2465                     [vectidx] = vect\_3pack;
2466                 vectidx++;
2467                 vectevt[0] = 0;
2468                 vectevt[1] = 0;
2469                 vectevt[2] = 0;
2470                 vectevt\_idx = 0;
2471             \}
2472 
2473             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
2474                 > (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2475                 \textcolor{keywordflow}{goto} oops;
2476 
2477             vattrib = vattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2478         \}
2479 
2480         \textcolor{comment}{/* handle any trailers */}
2481         \textcolor{keywordflow}{if} (vectevt\_idx > 0) \{
2482             vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
2483                             vectevt[1], vectevt[2]);
2484 
2485             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx] =
2486                 vect\_3pack;
2487             vectidx++;
2488         \}
2489 
2490         \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]) >
2491             (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2492             \textcolor{keywordflow}{goto} oops;
2493 
2494         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(numvalues);
2495 
2496         \textcolor{keywordflow}{if} (lva) \{
2497             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} |= \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
2498             lva = 0;
2499         \}
2500 
2501         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
2502             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
2503 
2504         mrpdu\_msg\_ptr =
2505             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]);
2506         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
2507 
2508         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
2509 
2510     \}
2511 
2512     \textcolor{comment}{/*}
2513 \textcolor{comment}{     * If no attributes are declared, send a LeaveAll with an all 0}
2514 \textcolor{comment}{     * FirstValue, Number of Values set to 0 and not attribute event.}
2515 \textcolor{comment}{     */}
2516     \textcolor{keywordflow}{if} ((0 == attrib\_found\_flag) && \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag}) \{
2517 
2518         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(0) |
2519                         \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
2520         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
2521             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
2522 
2523         mrpdu\_msg\_ptr =
2524             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[mrpdu\_msg->
      \hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength}]);
2525         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
2526     \}
2527 
2528     \textcolor{keywordflow}{if} (mrpdu\_vectorptr == (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2])) \{
2529         *bytes\_used = 0;
2530         \textcolor{keywordflow}{return} 0;
2531     \}
2532 
2533     \textcolor{comment}{/* endmark */}
2534     *mrpdu\_msg\_ptr = 0;
2535     mrpdu\_msg\_ptr++;
2536     *mrpdu\_msg\_ptr = 0;
2537     mrpdu\_msg\_ptr++;
2538 
2539     *bytes\_used = (mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf});
2540 
2541     attriblistlen = mrpdu\_msg\_ptr - &(mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
2542     mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0] = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) (attriblistlen >> 8);
2543     mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[1] = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) attriblistlen;
2544     \textcolor{keywordflow}{return} 0;
2545  oops:
2546     \textcolor{comment}{/* an internal error - caller should assume TXLAF */}
2547     *bytes\_used = 0;
2548     \textcolor{keywordflow}{return} -1;
2549 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+event@{msrp\+\_\+event}}
\index{msrp\+\_\+event@{msrp\+\_\+event}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+event(int event, struct msrp\+\_\+attribute $\ast$rattrib)}{msrp_event(int event, struct msrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+event (
\begin{DoxyParamCaption}
\item[{int}]{event, }
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{}\label{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}


msrp.\+c 파일의 416 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
418 \{
419     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
420     \textcolor{keywordtype}{int} count = 0;
421     \textcolor{keywordtype}{int} rc;
422     \textcolor{keywordtype}{int} is\_talker\_attrib = 0;
423     \textcolor{keywordtype}{int} interested = 1;
424 
425     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != rattrib) \{
426         \textcolor{comment}{/* only check talker attributes as listener attributes are filtered by the AVB switch (802.1Q 2011,
       35.2.4.4) */}
427         \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE} || rattrib->
      \hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE} ) \{
428             is\_talker\_attrib = 1;
429         \}
430     \}
431 
432     \textcolor{keywordflow}{switch} (event) \{
433     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER}:
434         \hyperlink{mrp_8c_ad42384ab059d663e202e580d41a64c08}{mrp\_lvatimer\_stop}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
435         \hyperlink{mrp_8c_a1a9cfb025f5995d622477c446a1e46d7}{mrp\_jointimer\_stop}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
436         \textcolor{comment}{/* update state */}
437         attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
438 
439         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
440             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
441                       &(attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_a49db74ad792de9b57bc08c273a3dc684}{MRP\_EVENT\_TXLA},
442                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
443             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
444                       &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_a49db74ad792de9b57bc08c273a3dc684}{MRP\_EVENT\_TXLA});
445 \textcolor{preprocessor}{#if LOG\_MSRP}
446             msrp\_print\_debug\_info(event, attrib);
447 \textcolor{preprocessor}{#endif}
448             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
449         \}
450 
451         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER});
452 
453         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag} = 1;
454         \textcolor{comment}{/*}
455 \textcolor{comment}{         * We are going to emit a PDU here, so call lva FSM with}
456 \textcolor{comment}{         * TX event so as to set the lva.tx=1 flag prior to sending}
457 \textcolor{comment}{         * the PDU. After the pdu is sent, lva.tx=0 and the lva}
458 \textcolor{comment}{         * LSM is back to the passive state.}
459 \textcolor{comment}{         */}
460         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX});
461         \hyperlink{msrp_8c_ac88df3051b78bad84a78695b50d4ee95}{msrp\_txpdu}();
462         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag} = 0;
463         \textcolor{keywordflow}{break};
464     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}:
465         \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
466         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == rattrib)
467             \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* XXX internal fault */}
468 
469         \textcolor{comment}{/* update state */}
470         attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
471 
472         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
473             \textcolor{keywordflow}{if} (attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
474                 \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
475                       &(attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA},
476                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
477                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
478                       &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA});
479 \textcolor{preprocessor}{#if LOG\_MSRP}
480                 msrp\_print\_debug\_info(event, attrib);
481 \textcolor{preprocessor}{#endif}
482             \}
483             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
484         \}
485 
486         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA});
487 
488         \textcolor{keywordflow}{break};
489     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX}:
490         \hyperlink{mrp_8c_a1a9cfb025f5995d622477c446a1e46d7}{mrp\_jointimer\_stop}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
491         attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
492 
493         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
494             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
495                       &(attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX},
496                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
497 \textcolor{preprocessor}{#if LOG\_MSRP}
498             msrp\_print\_debug\_info(event, attrib);
499 \textcolor{preprocessor}{#endif}
500             count += \hyperlink{mrp_8c_a992ae582a10aa753e05efad96e636920}{mrp\_applicant\_state\_transition\_implies\_tx}(&(
      attrib->\hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}));
501             attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
502         \}
503 
504         \textcolor{comment}{/*}
505 \textcolor{comment}{         * Don't need to call mrp\_lvatimer\_fsm(..., MRP\_EVENT\_TX) from}
506 \textcolor{comment}{         * here because the TX event only ever does anything in the}
507 \textcolor{comment}{         * lva FSM when the start is active, and it is only active}
508 \textcolor{comment}{         * momentarily after a LVATIMER event.}
509 \textcolor{comment}{         */}
510         \hyperlink{msrp_8c_ac88df3051b78bad84a78695b50d4ee95}{msrp\_txpdu}();
511 
512         \textcolor{comment}{/*}
513 \textcolor{comment}{         * Certain state transitions imply we need to request another tx}
514 \textcolor{comment}{         * opportunity.}
515 \textcolor{comment}{         */}
516         \textcolor{keywordflow}{if} (count) \{
517             \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
518         \}
519 
520         \textcolor{keywordflow}{break};
521     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER}:
522         \hyperlink{mrp_8c_ae9dc27744c17e2817ced68ab6409cc2f}{mrp\_lvtimer\_stop}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
523         attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
524 
525         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
526             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
527                       &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
528                       \hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER});
529 
530 \textcolor{preprocessor}{#if LOG\_MSRP}
531             msrp\_print\_debug\_info(event, attrib);
532 \textcolor{preprocessor}{#endif}
533             attrib = \hyperlink{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8}{msrp\_conditional\_reclaim}(attrib);
534         \}
535         \textcolor{keywordflow}{break};
536     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC}:
537         \textcolor{comment}{/*}
538 \textcolor{comment}{         * Periodic timer is ignored in MSRP application.}
539 \textcolor{comment}{         */}
540         \textcolor{keywordflow}{break};
541     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}:
542     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}:
543     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW}:
544     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ}:
545     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT}:
546     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}:
547     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN}:
548     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT}:
549     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV}:
550         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == rattrib)
551             \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* XXX internal fault */}
552 
553         \textcolor{comment}{/* are we interested? Assume yes */}
554         interested=1;
555 
556         \textcolor{keywordflow}{if}( is\_talker\_attrib && \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->
      \hyperlink{structmsrp__database_a9134b5b401b0a77d3be7d4b3cbb27294}{enable\_pruning\_of\_uninteresting\_ids} ) \{
557             \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} listener\_lookup = *rattrib;
558 
559             \textcolor{comment}{/*}
560 \textcolor{comment}{             * Having a matching listener declaration in the MSRP database automatically}
561 \textcolor{comment}{             * makes this ID interesting.}
562 \textcolor{comment}{             */}
563             listener\_lookup.\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};
564 
565             \textcolor{comment}{/* check for uninteresting stream IDs */}
566             \textcolor{keywordflow}{if} ((\hyperlink{eui64set_8c_a71cf81d10f8097ea3a243f1f0f223d12}{eui64set\_find}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->
      \hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids},
567                       \hyperlink{eui64set_8c_a9e02507022ac2dc8b15405c07f95bd36}{eui64\_read}(rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
      \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID})) == 0)
568                                 &&
569                 (\hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\_lookup}(&listener\_lookup) == 0)) \{
570                 
571                 \textcolor{comment}{/* Not interested in this talker's stream id */}
572                 interested = 0;
573             \}
574         \}
575 
576         \textcolor{keywordflow}{if}( interested ) \{
577             \textcolor{comment}{/* only start a join timer if we are interested */}
578             \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
579 
580             \textcolor{comment}{/* update state */}
581             attrib = \hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\_lookup}(rattrib);
582 
583             \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
584                 \textcolor{comment}{/* ignore rMT! if attribute does not already exist */}
585                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT} == event) \{
586                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
587                     \textcolor{keywordflow}{return} 0;
588                 \}
589                 \hyperlink{msrp_8c_a5b122ccba0911851e14320499f7fdfa9}{msrp\_add}(rattrib);
590                 attrib = rattrib;
591             \} \textcolor{keywordflow}{else} \{
592                 \hyperlink{msrp_8c_a9fcdf12db180111f9b519bf02f24ea24}{msrp\_merge}(rattrib);
593                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
594             \}
595 
596             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), &(attrib->
      \hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}),
597                       event,
598                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
599 
600             \textcolor{comment}{/* remap local requests into registrar events */}
601             \textcolor{keywordflow}{switch} (event) \{
602             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}:
603                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
604                           &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_ad926766e10d051bc1ad0d8c4dd1d8114}{MRP\_EVENT\_BEGIN});
605                 attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a4f47669fbd02fd9dc10351e38bfeca61}{MRP\_NOTIFY\_NEW};
606                 \textcolor{keywordflow}{break};
607             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}:
608                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
609                     \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
610                               &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
611                               \hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ});
612                 \textcolor{keywordflow}{else}
613                     \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
614                               &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
615                               \hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT});
616                 \textcolor{keywordflow}{break};
617             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}:
618                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
619                           &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV});
620                 \textcolor{keywordflow}{break};
621             \textcolor{keywordflow}{default}:
622                 rc = \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
623                                &(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), event);
624                 \textcolor{keywordflow}{if} (-1 == rc) \{
625                     printf
626                         (\textcolor{stringliteral}{"MSRP registrar error on attrib->type = %s (%d)\(\backslash\)n"},
627                          \hyperlink{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{msrp\_attrib\_type\_string}(attrib->
      \hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}),
628                          attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type});
629                 \}
630                 \textcolor{keywordflow}{break};
631             \}
632             \hyperlink{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8}{msrp\_conditional\_reclaim}(attrib);
633 \textcolor{preprocessor}{#if LOG\_MSRP}
634             msrp\_print\_debug\_info(event, attrib);
635 \textcolor{preprocessor}{#endif}
636         \} \textcolor{keywordflow}{else} \{
637             \textcolor{comment}{/* free this attrib if we are not interested */}
638             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
639         \}
640 
641         \textcolor{keywordflow}{break};
642     \textcolor{keywordflow}{default}:
643         \textcolor{keywordflow}{break};
644     \}
645 
646     \textcolor{comment}{/*}
647 \textcolor{comment}{     * XXX should honor the MSRP\_db->mrp\_db.registration and}
648 \textcolor{comment}{     * MSRP\_db->mrp\_db.participant controls}
649 \textcolor{comment}{     */}
650 
651     \textcolor{comment}{/* generate local notifications */}
652     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
653 
654     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
655         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE} != attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify}) \{
656             \hyperlink{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb}{msrp\_send\_notifications}(attrib,
657                         attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify});
658             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE};
659         \}
660         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
661     \}
662 
663     \textcolor{keywordflow}{return} 0;
664 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+increment\+\_\+streamid@{msrp\+\_\+increment\+\_\+streamid}}
\index{msrp\+\_\+increment\+\_\+streamid@{msrp\+\_\+increment\+\_\+streamid}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+increment\+\_\+streamid(uint8\+\_\+t $\ast$streamid)}{msrp_increment_streamid(uint8_t *streamid)}}]{\setlength{\rightskip}{0pt plus 5cm}void msrp\+\_\+increment\+\_\+streamid (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{streamid}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{}\label{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}


msrp.\+c 파일의 692 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
693 \{
694 
695     \textcolor{keywordtype}{int} i;
696 
697     i = 7;
698     \textcolor{keywordflow}{while} (i > 0) \{
699         \textcolor{keywordflow}{if} (255 != streamid[i]) \{
700             streamid[i]++;
701             \textcolor{keywordflow}{return};
702         \}
703         streamid[i] = 0;
704         i--;
705     \}
706     \textcolor{keywordflow}{return};
707 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+init@{msrp\+\_\+init}}
\index{msrp\+\_\+init@{msrp\+\_\+init}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+init(int msrp\+\_\+enable, int max\+\_\+interesting\+\_\+stream\+\_\+ids, int enable\+\_\+pruning)}{msrp_init(int msrp_enable, int max_interesting_stream_ids, int enable_pruning)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+init (
\begin{DoxyParamCaption}
\item[{int}]{msrp\+\_\+enable, }
\item[{int}]{max\+\_\+interesting\+\_\+stream\+\_\+ids, }
\item[{int}]{enable\+\_\+pruning}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_abbb51df9457d02837c27d6f0375ba50b}{}\label{msrp_8c_abbb51df9457d02837c27d6f0375ba50b}


msrp.\+c 파일의 3828 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3829 \{
3830     \textcolor{keywordtype}{int} rc;
3831 
3832     \textcolor{comment}{/* XXX doesn't handle re-start */}
3833 
3834     \hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\_socket} = \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET};
3835     \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
3836 
3837     \textcolor{keywordflow}{if} (0 == \hyperlink{mrpd_8c_a107c484178b3656d9cc3c4a793ea0a64}{msrp\_enable}) \{
3838         \textcolor{keywordflow}{return} 0;
3839     \}
3840 
3841     rc = \hyperlink{mrpd_8c_a66b3d8a38b07fb44e541a98077d8da93}{mrpd\_init\_protocol\_socket}(\hyperlink{msrp_8h_aa7e86b03530c32b55bd7498078a10755}{MSRP\_ETYPE}, &
      \hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\_socket}, \hyperlink{msrp_8c_a070a733a3f761e5125cc63797116c6e4}{MSRP\_ADDR});
3842     \textcolor{keywordflow}{if} (rc < 0)
3843         \textcolor{keywordflow}{return} -1;
3844 
3845     \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db} = (\textcolor{keyword}{struct }\hyperlink{structmsrp__database}{msrp\_database}*) \hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} 
      \hyperlink{structmsrp__database}{msrp\_database}));
3846 
3847     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db})
3848         \textcolor{keywordflow}{goto} abort\_socket;
3849 
3850     \textcolor{keywordflow}{if}( max\_interesting\_stream\_ids < 8 ) \{
3851         \textcolor{comment}{/* Allow minimum of 8 interesting talker stream ids */}
3852         max\_interesting\_stream\_ids = 8;
3853     \}
3854 
3855     memset(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structmsrp__database}{msrp\_database}));
3856 
3857     \textcolor{keywordflow}{if}( \hyperlink{eui64set_8c_ad8c59e8a5c7fdf2c0058e9e903d0b832}{eui64set\_init}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids}, 
      max\_interesting\_stream\_ids ) < 0 )
3858         \textcolor{keywordflow}{goto} abort\_alloc;
3859 
3860     \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a9134b5b401b0a77d3be7d4b3cbb27294}{enable\_pruning\_of\_uninteresting\_ids} = enable\_pruning
      ;
3861 
3862     \textcolor{comment}{/* if registration is FIXED or FORBIDDEN}
3863 \textcolor{comment}{     * updates from MRP are discarded, and}
3864 \textcolor{comment}{     * only IN and JOININ messages are sent}
3865 \textcolor{comment}{     */}
3866     \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a76843f7fb36637f07903bdab30dd3658}{registration} = 
      \hyperlink{mrp_8h_a11e1dbd903411e2172c6be2c472591b2}{MRP\_REGISTRAR\_CTL\_NORMAL};   \textcolor{comment}{/* default */}
3867 
3868     \textcolor{comment}{/* if participant role is 'SILENT' (or non-participant)}
3869 \textcolor{comment}{     * applicant doesn't send any messages -}
3870 \textcolor{comment}{     *}
3871 \textcolor{comment}{     * Note - theoretically configured per-attribute}
3872 \textcolor{comment}{     */}
3873     \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a08ed403eabc8682a01da8a737ac32c31}{participant} = 
      \hyperlink{mrp_8h_a80a35ccc7edea256258cd0d64ad8c352}{MRP\_APPLICANT\_CTL\_NORMAL};   \textcolor{comment}{/* default */}
3874 
3875     rc = \hyperlink{mrpd_8c_a5b0b02e11db50efcae15acdc84592365}{mrpd\_init\_timers}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
3876 
3877     \textcolor{keywordflow}{if} (rc < 0)
3878         \textcolor{keywordflow}{goto} abort\_alloc;
3879 
3880     \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_ad926766e10d051bc1ad0d8c4dd1d8114}{MRP\_EVENT\_BEGIN});
3881 
3882     \textcolor{keywordflow}{return} 0;
3883 
3884  abort\_alloc:
3885     \textcolor{comment}{/* free MSRP\_db and related structures */}
3886     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db});
3887     \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
3888  abort\_socket:
3889     \hyperlink{mrpd_8c_a19778b71809cd3a21e7677bd0a155e51}{mrpd\_close\_socket}(\hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\_socket});
3890     \hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\_socket} = \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET};
3891     \textcolor{comment}{/* XXX */}
3892     \textcolor{keywordflow}{return} -1;
3893 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_abbb51df9457d02837c27d6f0375ba50b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_abbb51df9457d02837c27d6f0375ba50b_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+interesting\+\_\+id\+\_\+count@{msrp\+\_\+interesting\+\_\+id\+\_\+count}}
\index{msrp\+\_\+interesting\+\_\+id\+\_\+count@{msrp\+\_\+interesting\+\_\+id\+\_\+count}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+interesting\+\_\+id\+\_\+count(void)}{msrp_interesting_id_count(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+interesting\+\_\+id\+\_\+count (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a9b4bd781815aa54ede77047b393bb4ca}{}\label{msrp_8c_a9b4bd781815aa54ede77047b393bb4ca}
Return the number of interesting talker stream ids recorded in the database.

\begin{DoxyReturn}{반환값}
Number of stream ids in the interesting stream id database. 
\end{DoxyReturn}


msrp.\+c 파일의 3914 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3915 \{
3916     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db})
3917         \textcolor{keywordflow}{return} \hyperlink{eui64set_8c_ae5cb65b5d47249fd6d83df78a9ba5657}{eui64set\_num\_entries}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->
      \hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids});
3918     \textcolor{keywordflow}{else}
3919         \textcolor{keywordflow}{return} 0;
3920 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{msrp_8c_a9b4bd781815aa54ede77047b393bb4ca_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=259pt]{msrp_8c_a9b4bd781815aa54ede77047b393bb4ca_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+lookup@{msrp\+\_\+lookup}}
\index{msrp\+\_\+lookup@{msrp\+\_\+lookup}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+lookup(struct msrp\+\_\+attribute $\ast$rattrib)}{msrp_lookup(struct msrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf msrp\+\_\+attribute}$\ast$ msrp\+\_\+lookup (
\begin{DoxyParamCaption}
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a15737df37638201e950b90d3f33f5009}{}\label{msrp_8c_a15737df37638201e950b90d3f33f5009}


msrp.\+c 파일의 145 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
146 \{
147     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
148     \textcolor{keywordtype}{int} mac\_eq;
149 
150     attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
151     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
152         \textcolor{keywordflow}{if} (    (rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) ||
153             ((\hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE} == rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) && (
      \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})) ||
154             ((\hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE} == rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) && (
      \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})))
155             \{
156             \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
157                 \textcolor{keywordflow}{if} (attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID} ==
158                    rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID})
159                     \textcolor{keywordflow}{return} attrib;
160             \} \textcolor{keywordflow}{else} \{
161                 \textcolor{comment}{/* compare on the stream ID */}
162                 mac\_eq =
163                     memcmp(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
164                        StreamID,
165                        rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
166                        StreamID, 8);
167                 \textcolor{keywordflow}{if} (0 == mac\_eq)
168                     \textcolor{keywordflow}{return} attrib;
169             \}
170         \}
171         attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
172     \}
173     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
174 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{msrp_8c_a15737df37638201e950b90d3f33f5009_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a15737df37638201e950b90d3f33f5009_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+merge@{msrp\+\_\+merge}}
\index{msrp\+\_\+merge@{msrp\+\_\+merge}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+merge(struct msrp\+\_\+attribute $\ast$rattrib)}{msrp_merge(struct msrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+merge (
\begin{DoxyParamCaption}
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a9fcdf12db180111f9b519bf02f24ea24}{}\label{msrp_8c_a9fcdf12db180111f9b519bf02f24ea24}


msrp.\+c 파일의 304 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
305 \{
306     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *talker\_attrib;
307     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
308     \textcolor{keywordtype}{int} talker\_missing;
309 
310     attrib = \hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\_lookup}(rattrib);
311 
312     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
313         \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* shouldn't happen */}
314 
315     \textcolor{comment}{/* we always update the last mac address state for diagnostics */}
316     memcpy(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, rattrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, 6);
317 
318     \textcolor{comment}{/* some attribute types carry updated fault condition information}
319 \textcolor{comment}{     * from the bridges indicating either insufficient bandwidth or}
320 \textcolor{comment}{     * excessive latency between the talker and listener. We merge}
321 \textcolor{comment}{     * these status conditions with the existing attribute without}
322 \textcolor{comment}{     * necessarily changing the MRP state (we let the FSM functions}
323 \textcolor{comment}{     * handle these)}
324 \textcolor{comment}{     */}
325     \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
326     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE}:
327     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE}:
328         \textcolor{comment}{/* support merging}
329 \textcolor{comment}{         * TalkerFailed <- TalkerAdvertise and}
330 \textcolor{comment}{         * TalkerAdvertise <- TalkerFailed}
331 \textcolor{comment}{         */}
332         \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation} == attrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation}) \{
333 
334             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
      \hyperlink{structmsrpdu__talker__fail_a86bb90bfcef1c6c961d644cd1c3dfc45}{FailureCode} =
335                 rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
336                 FailureCode;
337             memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
338                 BridgeID,
339                 rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
340                 BridgeID, 8);
341 \textcolor{preprocessor}{#ifdef ENABLE\_MERGED\_LATENCY}
342             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency} =
343                 rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency};
344 \textcolor{preprocessor}{#endif }
345             \textcolor{keywordflow}{if} (attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} != rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
346                 attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = rattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type};
347                 attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE};   \textcolor{comment}{/* ugly - force
       a notify */}
348             \}
349         \}
350         \textcolor{keywordflow}{break};
351     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE}:
352         \textcolor{keywordflow}{if} (attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate} != rattrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate}) \{
353             \textcolor{comment}{/* If transitioning from AskingFailed to Ready or ReadyFailed, need to }
354 \textcolor{comment}{             * check a matching talkerID has been declared.}
355 \textcolor{comment}{             */}
356             \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a17407a06557d3b5b82c67cad6973353b}{MSRP\_LISTENER\_ASKFAILED} == attrib->
      \hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate}) \{
357                 talker\_attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
358                 \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == talker\_attrib)
359                     \textcolor{keywordflow}{break};
360                 talker\_attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =
361                     \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE};
362                 memcpy(talker\_attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
363                        \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID},
364                        attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
365                        \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}, 8);
366                 talker\_missing = (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\_lookup}(talker\_attrib));
367                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(talker\_attrib);
368                 \textcolor{keywordflow}{if} (talker\_missing)
369                     \textcolor{keywordflow}{break};
370             \}
371             \textcolor{comment}{/*}
372 \textcolor{comment}{             * Listener attributes declared locally have}
373 \textcolor{comment}{             * attrib->operation set to MSRP\_OPERATION\_DECLARE.}
374 \textcolor{comment}{             *}
375 \textcolor{comment}{             * Listener attributes declared externally have}
376 \textcolor{comment}{             * attrib->operation set to MSRP\_OPERATION\_REGISTER.}
377 \textcolor{comment}{             *}
378 \textcolor{comment}{             * Support merging the substate only when the directions match.}
379 \textcolor{comment}{             */}
380             \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation} == attrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation}) \{
381                 attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate} = rattrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate};
382             \}
383             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE};   \textcolor{comment}{/* ugly - force a
       notify */}
384         \}
385         \textcolor{keywordflow}{break};
386     \textcolor{keywordflow}{case} \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE}:
387         \textcolor{comment}{/*}
388 \textcolor{comment}{         * If the device has the capability of updating the AVTP packet priority,}
389 \textcolor{comment}{         * then ENABLE\_MERGED\_DOMAIN\_PRIORITY can be defined.}
390 \textcolor{comment}{         */}
391         \textcolor{keywordflow}{if} (
392            (attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority} !=
393             rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority}) ||
394             (attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID} !=
395             rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID})) \{
396 \textcolor{preprocessor}{#ifdef ENABLE\_MERGED\_DOMAIN\_PRIORITY}
397             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority} =
398                 rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority};
399 \textcolor{preprocessor}{#endif}
400             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ae9e61b028a38f302a5888dc230ec3bf2}{neighborSRclassPriority} =
401                 rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority};
402             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID} =
403                 rattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID};
404             attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE};   \textcolor{comment}{/* ugly - force a
       notify */}
405         \}
406         \textcolor{keywordflow}{break};
407     \textcolor{keywordflow}{default}:
408         \textcolor{keywordflow}{break};
409     \}
410     \textcolor{keywordflow}{return} 0;
411 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a9fcdf12db180111f9b519bf02f24ea24_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a9fcdf12db180111f9b519bf02f24ea24_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+reclaim@{msrp\+\_\+reclaim}}
\index{msrp\+\_\+reclaim@{msrp\+\_\+reclaim}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+reclaim(void)}{msrp_reclaim(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+reclaim (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_ace1078cdae4953e1b43b3aada4fcf90d}{}\label{msrp_8c_ace1078cdae4953e1b43b3aada4fcf90d}


msrp.\+c 파일의 3958 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3959 \{
3960     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *sattrib;
3961 
3962     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db})
3963         \textcolor{keywordflow}{return} 0;
3964 
3965     sattrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
3966     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != sattrib) \{
3967         sattrib = \hyperlink{msrp_8c_a12a19e879f548ccd41a63c914bfec3e8}{msrp\_conditional\_reclaim}(sattrib);
3968     \}
3969     \textcolor{keywordflow}{return} 0;
3970 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ace1078cdae4953e1b43b3aada4fcf90d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ace1078cdae4953e1b43b3aada4fcf90d_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+recv\+\_\+cmd@{msrp\+\_\+recv\+\_\+cmd}}
\index{msrp\+\_\+recv\+\_\+cmd@{msrp\+\_\+recv\+\_\+cmd}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+recv\+\_\+cmd(const char $\ast$buf, int buflen, struct sockaddr\+\_\+in $\ast$client)}{msrp_recv_cmd(const char *buf, int buflen, struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+recv\+\_\+cmd (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a072b3d50b567a96dabff447fca5b8a4a}{}\label{msrp_8c_a072b3d50b567a96dabff447fca5b8a4a}


msrp.\+c 파일의 3576 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3577 \{
3578     \textcolor{keywordtype}{int} rc;
3579     \textcolor{keywordtype}{char} respbuf[64];
3580     \textcolor{keywordtype}{int} mrp\_event;
3581     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate};
3582     \textcolor{keyword}{struct }\hyperlink{structmsrpdu__domain}{msrpdu\_domain} domain\_param;
3583     \textcolor{keyword}{struct }\hyperlink{structmsrpdu__talker__fail}{msrpdu\_talker\_fail} talker\_param;
3584     \textcolor{keywordtype}{int} err\_index;
3585     \textcolor{keywordtype}{int} attrib\_type;
3586 
3587     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}) \{
3588         snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERC MSRP\_db %s\(\backslash\)n"}, buf);
3589         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
3590         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
3591     \}
3592 
3593     rc = \hyperlink{mrp_8c_ad342a9b9e146ac2b9027550e60958807}{mrp\_client\_add}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), 
      \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
3594 
3595     \textcolor{comment}{/*}
3596 \textcolor{comment}{    * If pruning of MSRP streamIDs is enabled, only support a single client.}
3597 \textcolor{comment}{    */}
3598     \textcolor{keywordflow}{if} (\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a9134b5b401b0a77d3be7d4b3cbb27294}{enable\_pruning\_of\_uninteresting\_ids}) \{
3599         \textcolor{keywordflow}{if} (\hyperlink{mrp_8c_a40096936f28d5366a5693ecd33e9ee51}{mrp\_client\_count}(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}) > 1) \{
3600             \hyperlink{mrp_8c_acb17ba76c88c8425d5daf5132bcaf623}{mrp\_client\_delete}(&(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
3601             \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, \textcolor{stringliteral}{"ERR pruning enabled too many clients\(\backslash\)n"}, \textcolor{keyword}{
      sizeof}(\textcolor{stringliteral}{"ERR pruning enabled too many clients\(\backslash\)n"}) + 1);
3602             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
3603         \}
3604     \}
3605 
3606 
3607     \textcolor{keywordflow}{if} (buflen < 3)
3608         \textcolor{keywordflow}{return} -1;
3609 
3610     \textcolor{keywordflow}{if} ((\textcolor{charliteral}{'S'} != buf[0]) && (\textcolor{charliteral}{'I'} != buf[0]))
3611         \textcolor{keywordflow}{return} -1;
3612 
3613     \textcolor{comment}{/*}
3614 \textcolor{comment}{     * S?? - query MSRP Registrar database}
3615 \textcolor{comment}{     * S+? - (re)JOIN a stream}
3616 \textcolor{comment}{     * S++   NEW a stream}
3617 \textcolor{comment}{     * S-- - LV a stream}
3618 \textcolor{comment}{     * S+L   Report a listener status}
3619 \textcolor{comment}{     * S-L   Withdraw a listener status}
3620 \textcolor{comment}{     * S+D   Report a domain status}
3621 \textcolor{comment}{     * S-D   Withdraw a domain status}
3622 \textcolor{comment}{     * I+S   Add a stream id to the talker stream id list}
3623 \textcolor{comment}{     * I-S   Remove a stream id from the talker stream id list}
3624 \textcolor{comment}{     * I-A   Remove all stream ids from the interesting talker and listener stream id lists}
3625 \textcolor{comment}{     */}
3626 
3627     \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"S??"}, 3) == 0) \{
3628         \hyperlink{msrp_8c_a466b73f2fc646a3468ddd535b67ad218}{msrp\_dumptable}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
3629 
3630     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"S-L"}, 3) == 0) \{
3631         \textcolor{comment}{/* buf[] should look similar to 'S-L:L=xxyyzz...' */}
3632         rc = \hyperlink{msrp_8c_ae45880a036ec2d04e7b06517261d48f3}{msrp\_cmd\_parse\_withdraw\_listener\_status}(buf, buflen,
3633                                  &talker\_param,
3634                                  &err\_index);
3635         \textcolor{keywordflow}{if} (rc)
3636             \textcolor{keywordflow}{goto} out\_ERP;
3637         rc = \hyperlink{msrp_8c_adb3f2363331d70dd5ccc11e86d767997}{msrp\_cmd\_withdraw\_listener\_status}(&talker\_param);
3638         \textcolor{keywordflow}{if} (rc)
3639             \textcolor{keywordflow}{goto} out\_ERI;   \textcolor{comment}{/* oops - internal error */}
3640 
3641         \textcolor{comment}{/*}
3642 \textcolor{comment}{         * If pruning is enabled and the streamID is not in the}
3643 \textcolor{comment}{         * "interesting" ID database, remove any TalkerAdvertise}
3644 \textcolor{comment}{         * or TalkerFailed declarations.}
3645 \textcolor{comment}{         */}
3646         \textcolor{keywordflow}{if} (\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a9134b5b401b0a77d3be7d4b3cbb27294}{enable\_pruning\_of\_uninteresting\_ids} &&
3647             !\hyperlink{eui64set_8c_a71cf81d10f8097ea3a243f1f0f223d12}{eui64set\_find}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids}, 
      \hyperlink{eui64set_8c_a9e02507022ac2dc8b15405c07f95bd36}{eui64\_read}(talker\_param.StreamID))) \{
3648             \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3649             attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
3650             \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
3651                 \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *free\_sattrib = attrib;
3652                 attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3653                 \textcolor{keywordflow}{if} (((free\_sattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE}) ||
3654                     (free\_sattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE})) &&
3655                     (memcmp(free\_sattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}, talker\_param.StreamID, \textcolor{keyword}{sizeof}(talker\_param.StreamID)) == 0)) \{
3656                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != free\_sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev})
3657                         free\_sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev}->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = free\_sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3658                     \textcolor{keywordflow}{else}
3659                         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list} = free\_sattrib->
      \hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3660                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != free\_sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next})
3661                         free\_sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = free\_sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev};
3662                     \textcolor{comment}{/* delete attribute */}
3663                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_sattrib);
3664                 \}
3665             \}
3666         \}
3667     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"S-D"}, 3) == 0) \{
3668 
3669         \textcolor{comment}{/* buf[] should look similar to 'S-D:C=%d,P=%d,V:%04x" */}
3670         rc = \hyperlink{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f}{msrp\_cmd\_parse\_domain\_status}(buf, buflen, &domain\_param,
3671                           &err\_index);
3672         \textcolor{keywordflow}{if} (rc)
3673             \textcolor{keywordflow}{goto} out\_ERP;
3674         rc = \hyperlink{msrp_8c_aa0dea7eda1a9153359856df708f4a39a}{msrp\_cmd\_report\_domain\_status}(&domain\_param, 0);
3675         \textcolor{keywordflow}{if} (rc)
3676             \textcolor{keywordflow}{goto} out\_ERI;   \textcolor{comment}{/* oops - internal error */}
3677     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"S--"}, 3) == 0) \{
3678         \textcolor{comment}{/* buf[] should look similar to 'S--:S=xxyyzz...' */}
3679         rc = \hyperlink{msrp_8c_ac509750c53005124f900e26ea90c4fbc}{msrp\_cmd\_parse\_leave\_stream}(buf, buflen, &talker\_param,
3680                          &err\_index);
3681         \textcolor{keywordflow}{if} (rc)
3682             \textcolor{keywordflow}{goto} out\_ERP;
3683         rc = \hyperlink{msrp_8c_a2fe9295eb14f221732c92773aeb73102}{msrp\_cmd\_leave\_stream}(&talker\_param);
3684         \textcolor{keywordflow}{if} (rc)
3685             \textcolor{keywordflow}{goto} out\_ERI;   \textcolor{comment}{/* oops - internal error */}
3686     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"S+L"}, 3) == 0) \{
3687         \textcolor{comment}{/* buf[] should look similar to 'S+L:L=xxyyzz...:D=a' */}
3688         rc = \hyperlink{msrp_8c_acaf77439f40d430499710ff741fe0ea9}{msrp\_cmd\_parse\_report\_listener\_status}(buf, buflen,
3689                                &talker\_param,
3690                                &substate,
3691                                &err\_index);
3692         \textcolor{keywordflow}{if} (rc)
3693             \textcolor{keywordflow}{goto} out\_ERP;
3694         rc = \hyperlink{msrp_8c_afd44fc0444847a0d561d193b3699134c}{msrp\_cmd\_report\_listener\_status}(&talker\_param, substate);
3695         \textcolor{keywordflow}{if} (rc)
3696             \textcolor{keywordflow}{goto} out\_ERI;   \textcolor{comment}{/* oops - internal error */}
3697     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"S+D"}, 3) == 0) \{
3698         \textcolor{comment}{/* buf[] should look similar to 'S+D:C=%d,P=%d,V=%04x" */}
3699         rc = \hyperlink{msrp_8c_aa9fc9c95609eac3c8f6e846a16860c0f}{msrp\_cmd\_parse\_domain\_status}(buf, buflen, &domain\_param,
3700                           &err\_index);
3701         \textcolor{keywordflow}{if} (rc)
3702             \textcolor{keywordflow}{goto} out\_ERP;
3703         rc = \hyperlink{msrp_8c_aa0dea7eda1a9153359856df708f4a39a}{msrp\_cmd\_report\_domain\_status}(&domain\_param, 1);
3704         \textcolor{keywordflow}{if} (rc)
3705             \textcolor{keywordflow}{goto} out\_ERI;   \textcolor{comment}{/* oops - internal error */}
3706     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((strncmp(buf, \textcolor{stringliteral}{"S+?"}, 3) == 0)
3707            || (strncmp(buf, \textcolor{stringliteral}{"S++"}, 3) == 0)) \{
3708         \textcolor{comment}{/*}
3709 \textcolor{comment}{         * create or join a stream}
3710 \textcolor{comment}{         * interesting to note the spec doesn't talk about}
3711 \textcolor{comment}{         * what happens if two talkers attempt to define the identical}
3712 \textcolor{comment}{         * stream twice  - does the bridge report STREAM\_CHANGE error?}
3713 \textcolor{comment}{         */}
3714 
3715         \textcolor{comment}{/*}
3716 \textcolor{comment}{           buf[] should look similar to "S=%02x%02x%02x%02x%02x%02x%02x%02x"}
3717 \textcolor{comment}{           ",A=%02x%02x%02x%02x%02x%02x"}
3718 \textcolor{comment}{           ",V=%04x" \(\backslash\)}
3719 \textcolor{comment}{           ",Z=%d" \(\backslash\)}
3720 \textcolor{comment}{           ",I=%d" \(\backslash\)}
3721 \textcolor{comment}{           ",P=%d" \(\backslash\)}
3722 \textcolor{comment}{           ",L=%d" \(\backslash\)}
3723 \textcolor{comment}{}
3724 \textcolor{comment}{           if declaring a TalkerFailed, additional string fields}
3725 \textcolor{comment}{           ",B=%02x%02x%02x%02x%02x%02x%02x%02x" \(\backslash\)   (Failure BridgeID)}
3726 \textcolor{comment}{           ",C=%d" \(\backslash\)    (failure code)}
3727 \textcolor{comment}{           are required.}
3728 \textcolor{comment}{}
3729 \textcolor{comment}{         */}
3730         \textcolor{keywordflow}{if} (strstr(buf,\textcolor{stringliteral}{"B="})) \{
3731             attrib\_type = \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE};
3732             rc = \hyperlink{msrp_8c_a7342f873b69e09e139222454344450df}{msrp\_cmd\_parse\_join\_or\_new\_stream\_failure}(buf, 
      buflen,
3733                                &talker\_param,
3734                                &err\_index);
3735         \} \textcolor{keywordflow}{else} \{
3736             attrib\_type = \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE};
3737             rc = \hyperlink{msrp_8c_a4ff36d34b47df533f485385939949a0b}{msrp\_cmd\_parse\_join\_or\_new\_stream}(buf, buflen,
3738                                &talker\_param,
3739                                &err\_index);
3740         \}
3741 
3742         \textcolor{keywordflow}{if} (rc)
3743             \textcolor{keywordflow}{goto} out\_ERP;
3744         \textcolor{keywordflow}{if} (\textcolor{charliteral}{'?'} == buf[2]) \{
3745             mrp\_event = \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN};
3746         \} \textcolor{keywordflow}{else} \{
3747             mrp\_event = \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW};
3748         \}
3749         rc = \hyperlink{msrp_8c_a9350c9b64495d2eb54ffb55bd0a9abf5}{msrp\_cmd\_join\_or\_new\_stream}(&talker\_param, attrib\_type, mrp\_event);
3750         \textcolor{keywordflow}{if} (rc)
3751             \textcolor{keywordflow}{goto} out\_ERI;   \textcolor{comment}{/* oops - internal error */}
3752     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"I+S"}, 3 ) == 0 ) \{
3753         \textcolor{comment}{/* Add a stream id to the interesting stream id list */}
3754         \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{avtp_8h_af5af7b461263e29ceb91a8d3a8bc2c97}{stream\_id}[8];
3755 
3756         \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a9134b5b401b0a77d3be7d4b3cbb27294}{enable\_pruning\_of\_uninteresting\_ids})
3757             \textcolor{keywordflow}{goto} out\_ERP;
3758 
3759         rc=\hyperlink{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6}{msrp\_cmd\_parse\_stream\_id}(buf,buflen,stream\_id,&err\_index);
3760         \textcolor{keywordflow}{if} (rc)
3761             \textcolor{keywordflow}{goto} out\_ERP;
3762         \textcolor{comment}{/* return error if duplicate */}
3763         \textcolor{keywordflow}{if} (\hyperlink{eui64set_8c_a71cf81d10f8097ea3a243f1f0f223d12}{eui64set\_find}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids}, 
      \hyperlink{eui64set_8c_a9e02507022ac2dc8b15405c07f95bd36}{eui64\_read}(stream\_id)))
3764             \textcolor{keywordflow}{goto} out\_ERI;
3765         \textcolor{keywordflow}{if}( \hyperlink{eui64set_8c_aa77f4331ee0a81d173d24451d8427fa6}{eui64set\_insert\_and\_sort}( &\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->
      \hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids}, \hyperlink{eui64set_8c_a9e02507022ac2dc8b15405c07f95bd36}{eui64\_read}(stream\_id), 0 )==0 )
3766             \textcolor{keywordflow}{goto} out\_ERI;
3767     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"I-S"}, 3 ) == 0 ) \{
3768         \textcolor{comment}{/* Remove a stream id from the interesting stream id list */}
3769         \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} listener\_lookup;
3770         \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} stream\_id[8];
3771 
3772         \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a9134b5b401b0a77d3be7d4b3cbb27294}{enable\_pruning\_of\_uninteresting\_ids})
3773             \textcolor{keywordflow}{goto} out\_ERP;
3774 
3775         rc = \hyperlink{msrp_8c_a9c2f8c8de44e3ec4a1d13e1e0622ddc6}{msrp\_cmd\_parse\_stream\_id}(buf, buflen, stream\_id, &err\_index);
3776         \textcolor{keywordflow}{if} (rc)
3777             \textcolor{keywordflow}{goto} out\_ERP;
3778         \textcolor{keywordflow}{if}( \hyperlink{eui64set_8c_a18d3bfef233cc07c43f67f2706c99fa8}{eui64set\_remove\_and\_sort}( &\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->
      \hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids}, \hyperlink{eui64set_8c_a9e02507022ac2dc8b15405c07f95bd36}{eui64\_read}(stream\_id) )==0 )
3779             \textcolor{keywordflow}{goto} out\_ERI;
3780 
3781         \textcolor{comment}{/* if there is no matching listener, "I-S" removes any TA of TF attributes from the database */}
3782         listener\_lookup.type = \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};
3783         memcpy(listener\_lookup.attribute.talk\_listen.StreamID, stream\_id, \textcolor{keyword}{sizeof}(stream\_id));
3784         \textcolor{keywordflow}{if} (\hyperlink{msrp_8c_a15737df37638201e950b90d3f33f5009}{msrp\_lookup}(&listener\_lookup) == 0) \{
3785             \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
3786             attrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
3787             \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
3788                 \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *free\_sattrib = attrib;
3789                 attrib = attrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3790                 \textcolor{keywordflow}{if} (((free\_sattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE}) ||
3791                      (free\_sattrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE})) &&
3792                      (memcmp(free\_sattrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}, stream\_id, \textcolor{keyword}{sizeof}(stream\_id)) == 0)) \{
3793                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != free\_sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev})
3794                             free\_sattrib->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev}->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next} = free\_sattrib->
      \hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3795                         \textcolor{keywordflow}{else}
3796                             \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list} = free\_sattrib->
      \hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3797                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != free\_sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next})
3798                             free\_sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next}->\hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev} = free\_sattrib->
      \hyperlink{structmsrp__attribute_a49481293ca3184e69bb9c85ed2888147}{prev};
3799                         \textcolor{comment}{/* delete attribute */}
3800                         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_sattrib);
3801                 \}
3802             \}
3803         \}
3804     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"I-A"}, 3 ) == 0 ) \{
3805         \textcolor{comment}{/* Remove all stream ids from the interesting stream id lists */}
3806         \hyperlink{eui64set_8c_afc744baf3ea6cc3892550d7f93d55ea1}{eui64set\_clear}( &\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids} );
3807     \} \textcolor{keywordflow}{else} \{
3808         snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERC MSRP %s"}, buf);
3809         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
3810         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
3811     \}
3812     \textcolor{keywordflow}{return} 0;
3813 
3814  out\_ERI:
3815     snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERI %s"}, buf);
3816     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
3817     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
3818 
3819  out\_ERP:
3820     snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERP %s"}, buf);
3821     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
3822     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
3823 
3824  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
3825     \textcolor{keywordflow}{return} -1;
3826 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{msrp_8c_a072b3d50b567a96dabff447fca5b8a4a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a072b3d50b567a96dabff447fca5b8a4a_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+recv\+\_\+msg@{msrp\+\_\+recv\+\_\+msg}}
\index{msrp\+\_\+recv\+\_\+msg@{msrp\+\_\+recv\+\_\+msg}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+recv\+\_\+msg()}{msrp_recv_msg()}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+recv\+\_\+msg (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_ab9b686db38f7cc0e2137156ee6fbe1ce}{}\label{msrp_8c_ab9b686db38f7cc0e2137156ee6fbe1ce}


msrp.\+c 파일의 767 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
768 \{
769     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
770     \textcolor{keywordtype}{int} bytes = 0;
771     \hyperlink{structeth__hdr}{eth\_hdr\_t} *eth;
772     \hyperlink{structmrpdu}{mrpdu\_t} *\hyperlink{structmrpdu}{mrpdu};
773     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
774     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr;
775     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof;
776     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
777     uint16\_t numvalues;
778     uint16\_t numvalues\_processed;
779     \textcolor{keywordtype}{int} numvectorbytes;
780     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
781     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_4pack;
782     \textcolor{keywordtype}{int} vectidx;
783     \textcolor{keywordtype}{int} vectevt[4];
784     \textcolor{keywordtype}{int} vectevt\_idx;
785     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} srclassID\_firstval;
786     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} srclassprio\_firstval;
787     uint16\_t srclassvid\_firstval;
788     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} streamid\_firstval[8];
789     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} destmac\_firstval[6];
790     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *attrib;
791     \textcolor{keywordtype}{int} endmarks;
792     \textcolor{keywordtype}{int} *listener\_vectevt = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
793     \textcolor{keywordtype}{int} listener\_vectevt\_sz = 0;
794     \textcolor{keywordtype}{int} listener\_vectevt\_idx;
795     \textcolor{keywordtype}{int} listener\_endbyte;
796     \textcolor{keywordtype}{int} saw\_domain\_lva = 0;
797     \textcolor{keywordtype}{int} saw\_talker\_lva = 0;
798     \textcolor{keywordtype}{int} saw\_talkerfailed\_lva = 0;
799     \textcolor{keywordtype}{int} saw\_listener\_lva = 0;
800 
801     bytes = \hyperlink{mrpd_8c_a0860392c6a9650cf57c2c2cc4c5247c4}{mrpd\_recvmsgbuf}(\hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\_socket}, &msgbuf);
802     \textcolor{keywordflow}{if} (bytes <= 0)
803         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
804     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})bytes < (\textcolor{keyword}{sizeof}(\hyperlink{structeth__hdr}{eth\_hdr\_t}) + \textcolor{keyword}{sizeof}(\hyperlink{structmrpdu}{mrpdu\_t}) +
805                    \textcolor{keyword}{sizeof}(\hyperlink{structmrpdu__message}{mrpdu\_message\_t})))
806         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
807 
808     eth = (\hyperlink{structeth__hdr}{eth\_hdr\_t} *) msgbuf;
809 
810     \textcolor{comment}{/* note that MSRP frames should always arrive untagged (no vlan) */}
811     \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_aa7e86b03530c32b55bd7498078a10755}{MSRP\_ETYPE} != ntohs(eth->\hyperlink{structeth__hdr_a657ead984e65fc7252e805e62f083a7c}{typelen})) \{
812         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
813     \}
814     \textcolor{comment}{/* check dest mac address too */}
815     \textcolor{keywordflow}{if} (memcmp(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}, \hyperlink{msrp_8c_a070a733a3f761e5125cc63797116c6e4}{MSRP\_ADDR}, \textcolor{keyword}{sizeof}(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr})))
816         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
817 
818     mrpdu = (\hyperlink{structmrpdu}{mrpdu\_t} *) (msgbuf + \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structeth__hdr}{eth\_hdr}));
819 
820     \textcolor{comment}{/*}
821 \textcolor{comment}{     * ProtocolVersion handling - a receiver must process received frames with a lesser}
822 \textcolor{comment}{     * protocol version consistent with the older protocol processing requirements (e.g. a V2}
823 \textcolor{comment}{     * agent receives a V1 message, the V1 message should be parsed with V1 rules).}
824 \textcolor{comment}{     *}
825 \textcolor{comment}{     * However - if an agent receives a NEWER protocol, the agent should still attempt}
826 \textcolor{comment}{     * to parse the frame. If the agent finds an AttributeType not recognized}
827 \textcolor{comment}{     * the agent discards the current message including any associated trailing vectors}
828 \textcolor{comment}{     * up to the end-mark, and resumes with the next message or until the end of the PDU}
829 \textcolor{comment}{     * is reached.}
830 \textcolor{comment}{     *}
831 \textcolor{comment}{     * If a VectorAttribute is found with an unknown Event for the Type, the specific}
832 \textcolor{comment}{     * VectorAttrute is discarded and processing continues with the next VectorAttribute.}
833 \textcolor{comment}{     */}
834 
835     \textcolor{comment}{/*}
836 \textcolor{comment}{    if (MSRP\_PROT\_VER != mrpdu->ProtocolVersion) \{}
837 \textcolor{comment}{        goto out;}
838 \textcolor{comment}{    \}}
839 \textcolor{comment}{    */}
840 
841     mrpdu\_msg\_ptr = \hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu);
842 
843     mrpdu\_msg\_eof = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)mrpdu\_msg\_ptr;
844     mrpdu\_msg\_eof += bytes;
845     mrpdu\_msg\_eof -= \textcolor{keyword}{sizeof}(\hyperlink{mrpd_8h_adb02009b0d416a4c7ba2f427dbf0e5cb}{eth\_hdr\_t});
846     mrpdu\_msg\_eof -= \hyperlink{mrpd_8h_ab10cf1aca74f27f4a1c0754fd71c1b5a}{MRPD\_OFFSETOF\_MRPD\_GET\_MRPDU\_MESSAGE\_LIST};
847 
848     endmarks = 0;
849 
850     \textcolor{keywordflow}{while} (mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) \{
851         mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
852         \textcolor{keywordflow}{if} ((mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} == 0) &&
853             (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} == 0)) \{
854             mrpdu\_msg\_ptr += 2;
855             endmarks++;
856             \textcolor{keywordflow}{if} (endmarks < 2)
857                 \textcolor{keywordflow}{continue};   \textcolor{comment}{/* end-mark of message-list */}
858             \textcolor{keywordflow}{else} \{
859                 \textcolor{keywordflow}{break};  \textcolor{comment}{/* two endmarks - end of message list */}
860             \}
861         \}
862 
863         endmarks = 0;
864 
865         \textcolor{keywordflow}{switch} (mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}) \{
866         \textcolor{keywordflow}{case} \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE}:
867             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 4) \{
868                 \textcolor{comment}{/* we can seek for an endmark to recover .. but this version}
869 \textcolor{comment}{                 * dumps the entire packet as malformed}
870 \textcolor{comment}{                 */}
871                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
872             \}
873 
874             mrpdu\_vectorptr =
875                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
876             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
877 
878             \textcolor{comment}{/* check attribute list length is reasonable */}
879             \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}{msrp\_recv\_msg\_check\_attrib\_list\_len}(mrpdu\_msg->
      \hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}, &mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0], mrpdu\_msg\_eof)) \{
880                 numvalues =
881                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
882                              (mrpdu\_vectorptr->
883                               VectorHeader));
884 
885                 mrpdu\_msg\_ptr =
886                     (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
887                 \textcolor{comment}{/* skip this null attribute ... some switches generate these ... */}
888                 \textcolor{comment}{/* 2 byte numvalues + 4 byte FirstValue + vector bytes */}
889                 mrpdu\_msg\_ptr += 2 + 4 + (numvalues + 2) / 3;
890 
891                 mrpdu\_vectorptr =
892                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
893                     mrpdu\_msg\_ptr;
894                 \textcolor{keywordflow}{continue};
895             \}
896 
897             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
898                  && (mrpdu\_msg\_ptr[1] == 0))) \{
899                 numvalues =
900                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
901                              (mrpdu\_vectorptr->
902                               VectorHeader));
903 \textcolor{preprocessor}{#if LOG\_MSRP}
904                 \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
905                     (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() DOMAIN vector addr 0x%X, n = %d, VectorHeader %d\(\backslash\)n"},
906                      ((\textcolor{keywordtype}{int})mrpdu\_vectorptr) & 0x3, numvalues,
907                      ntohs(mrpdu\_vectorptr->VectorHeader));
908 \textcolor{preprocessor}{#endif}
909 
910                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->VectorHeader)) && !saw\_domain\_lva) 
      \{
911                     saw\_domain\_lva = 1;
912                     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
913                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
914                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
915 
916                     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =  \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE};               
917                     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, attrib);
918                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
919                 \}
920 
921 
922                 \textcolor{keywordflow}{if} (0 == numvalues) \{
923                     \textcolor{comment}{/* skip this null attribute ... some switches generate these ... */}
924                     \textcolor{comment}{/* 2 byte numvalues + 4 byte FirstValue + (0) vector bytes */}
925                     mrpdu\_msg\_ptr =
926                         (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
927                     mrpdu\_msg\_ptr += 6;
928 
929                     mrpdu\_vectorptr =
930                         (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
931                         mrpdu\_msg\_ptr;
932                     \textcolor{keywordflow}{continue};
933                 \}
934                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->FirstValue\_VectorEvents +
935                      numvalues / 3) >= mrpdu\_msg\_eof) \{
936                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
937                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
938                 \}
939                 srclassID\_firstval =
940                     mrpdu\_vectorptr->FirstValue\_VectorEvents[0];
941                 srclassprio\_firstval =
942                     mrpdu\_vectorptr->FirstValue\_VectorEvents[1];
943                 srclassvid\_firstval = ((uint16\_t)
944                                mrpdu\_vectorptr->
945                                FirstValue\_VectorEvents
946                                [2]) << 8 |
947                     mrpdu\_vectorptr->FirstValue\_VectorEvents[3];
948 
949                 \textcolor{comment}{/* if not an even multiple ... */}
950                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
951                     numvectorbytes = (numvalues / 3) + 1;
952                 \textcolor{keywordflow}{else}
953                     numvectorbytes = (numvalues / 3);
954 
955                 \textcolor{keywordflow}{for} (vectidx = 4;
956                      vectidx <= (numvectorbytes + 4);
957                      vectidx++) \{
958                     vect\_3pack =
959                         mrpdu\_vectorptr->
960                         FirstValue\_VectorEvents[vectidx];
961                     vectevt[0] = vect\_3pack / 36;
962                     vectevt[1] =
963                         (vect\_3pack - vectevt[0] * 36) / 6;
964                     vectevt[2] =
965                         vect\_3pack - (36 * vectevt[0]) -
966                         (6 * vectevt[1]);
967 
968                     numvalues\_processed =
969                         (numvalues > 3 ? 3 : numvalues);
970 
971                     \textcolor{comment}{/* check for out of range encoding */}
972                     \textcolor{keywordflow}{if} (vectevt[0] > \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}) \{
973 \textcolor{preprocessor}{#if LOG\_MSRP}
974                         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() DOMAIN vector discard\(\backslash\)n"});
975 \textcolor{preprocessor}{#endif}
976                         numvalues -= numvalues\_processed;
977                         \textcolor{keywordflow}{continue};
978                     \}
979 
980                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
981                          vectevt\_idx < numvalues\_processed;
982                          vectevt\_idx++) \{
983 
984                         attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
985                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
986                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
987 
988                         attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE};
989                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.
990                             SRclassID =
991                             srclassID\_firstval;
992                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.
993                             SRclassPriority =
994                             srclassprio\_firstval;
995                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.
996                             neighborSRclassPriority =
997                             srclassprio\_firstval;
998                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.
999                             SRclassVID =
1000                             srclassvid\_firstval;
1001 
1002                         srclassID\_firstval++;
1003                         srclassprio\_firstval++;
1004 
1005                         memcpy(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
1006                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
1007                                6);
1008 
1009                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
1010                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
1011                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1012                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
1013                                  attrib);
1014                             \textcolor{keywordflow}{break};
1015                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
1016                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1017                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
1018                                  attrib);
1019                             \textcolor{keywordflow}{break};
1020                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
1021                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1022                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
1023                                  attrib);
1024                             \textcolor{keywordflow}{break};
1025                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
1026                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1027                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
1028                                  attrib);
1029                             \textcolor{keywordflow}{break};
1030                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
1031                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1032                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
1033                                  attrib);
1034                             \textcolor{keywordflow}{break};
1035                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
1036                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1037                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
1038                                  attrib);
1039                             \textcolor{keywordflow}{break};
1040                         \textcolor{keywordflow}{default}:
1041                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1042                             \textcolor{keywordflow}{break};
1043                         \}
1044                     \}
1045                     numvalues -= numvalues\_processed;
1046                 \}
1047 
1048                 \textcolor{comment}{/* 2 byte numvalues + 4 byte FirstValue + (n) vector bytes */}
1049                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1050                 mrpdu\_msg\_ptr += 6 + numvectorbytes;
1051 
1052                 mrpdu\_vectorptr =
1053                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1054             \}
1055             \textcolor{keywordflow}{break};
1056         \textcolor{keywordflow}{case} \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE}:
1057             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 8) \{
1058                 \textcolor{comment}{/* we can seek for an endmark to recover .. but this version}
1059 \textcolor{comment}{                 * dumps the entire packet as malformed}
1060 \textcolor{comment}{                 */}
1061                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1062             \}
1063 
1064             \textcolor{comment}{/* MSRP uses AttributeListLength ...  */}
1065             mrpdu\_vectorptr =
1066                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
1067             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1068 
1069             \textcolor{comment}{/* check attribute list length is reasonable */}
1070             \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}{msrp\_recv\_msg\_check\_attrib\_list\_len}(mrpdu\_msg->
      \hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}, &mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0], mrpdu\_msg\_eof)) \{
1071                 numvalues =
1072                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1073                              (mrpdu\_vectorptr->
1074                               VectorHeader));
1075 
1076                 mrpdu\_msg\_ptr =
1077                     (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1078                 \textcolor{comment}{/* skip this null attribute ... some switches generate these ... */}
1079                 \textcolor{comment}{/* 2 byte numvalues + 8 byte FirstValue + (0) vector bytes */}
1080                 mrpdu\_msg\_ptr += 2 + 8 + (numvalues + 2) / 3 + (numvalues + 3) / 4;
1081 
1082                 mrpdu\_vectorptr =
1083                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
1084                     mrpdu\_msg\_ptr;
1085                 \textcolor{keywordflow}{continue};
1086             \}
1087 
1088 
1089             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
1090                  && (mrpdu\_msg\_ptr[1] == 0))) \{
1091                 numvalues =
1092                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1093                              (mrpdu\_vectorptr->
1094                               VectorHeader));
1095 
1096 \textcolor{preprocessor}{#if LOG\_MSRP}
1097                 \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
1098                     (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() LISTENER vector addr 0x%X, n = %d, VectorHeader  %d\(\backslash\)n"},
1099                      ((\textcolor{keywordtype}{int})mrpdu\_vectorptr) & 0x3, numvalues,
1100                      ntohs(mrpdu\_vectorptr->VectorHeader));
1101 \textcolor{preprocessor}{#endif}
1102 
1103                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->VectorHeader)) && !saw\_listener\_lva
      ) \{
1104                     saw\_listener\_lva = 1;
1105                     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
1106                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1107                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
1108 
1109                     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =  \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};               
1110                     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, attrib);
1111                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1112                 \}
1113 
1114 
1115                 \textcolor{keywordflow}{if} (0 == numvalues) \{
1116                     \textcolor{comment}{/* 2 byte numvalues + 8 byte FirstValue + (0) vector bytes */}
1117                     mrpdu\_msg\_ptr =
1118                         (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1119                     mrpdu\_msg\_ptr += 10;
1120 
1121                     mrpdu\_vectorptr =
1122                         (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
1123                         mrpdu\_msg\_ptr;
1124                     \textcolor{comment}{/* Malformed - cant tell how long the trailing vectors are */}
1125                     \textcolor{keywordflow}{continue};
1126                 \}
1127                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->FirstValue\_VectorEvents +
1128                      numvalues / 3 + numvalues / 4) >=
1129                     mrpdu\_msg\_eof) \{
1130                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
1131                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1132                 \}
1133                 memcpy(streamid\_firstval,
1134                        &
1135                        (mrpdu\_vectorptr->FirstValue\_VectorEvents
1136                     [0]), 8);
1137 
1138                 \textcolor{comment}{/*}
1139 \textcolor{comment}{                 * parse the 4-packed events first to figure out the substates, then}
1140 \textcolor{comment}{                 * insert them as we parse the 3-packed events for the MRP state machines}
1141 \textcolor{comment}{                 */}
1142 
1143                 \textcolor{comment}{/* if not an even multiple ... */}
1144                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 4) * 4))
1145                     numvectorbytes = (numvalues / 4) + 1;
1146                 \textcolor{keywordflow}{else}
1147                     numvectorbytes = (numvalues / 4);
1148 
1149                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
1150                     vectidx = 8 + (numvalues / 3) + 1;
1151                 \textcolor{keywordflow}{else}
1152                     vectidx = 8 + (numvalues / 3);
1153 
1154                 listener\_endbyte = vectidx + numvectorbytes;
1155 
1156                 \textcolor{keywordflow}{if} (&
1157                     (mrpdu\_vectorptr->FirstValue\_VectorEvents
1158                      [listener\_endbyte]) >= mrpdu\_msg\_eof)
1159                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1160 
1161                 \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == listener\_vectevt) \{
1162                     listener\_vectevt\_sz = 64;
1163                     listener\_vectevt =
1164                         (\textcolor{keywordtype}{int} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(listener\_vectevt\_sz *
1165                               \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
1166                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == listener\_vectevt)
1167                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1168                 \}
1169 
1170                 listener\_vectevt\_idx = 0;
1171 
1172                 \textcolor{keywordflow}{for} (; vectidx < listener\_endbyte; vectidx++) \{
1173                     vect\_4pack =
1174                         mrpdu\_vectorptr->
1175                         FirstValue\_VectorEvents[vectidx];
1176 
1177                     vectevt[3] =
1178                         vect\_4pack -
1179                         ((vect\_4pack >> 2) << 2);
1180                     vect\_4pack = vect\_4pack >> 2;
1181                     vectevt[2] =
1182                         vect\_4pack -
1183                         ((vect\_4pack >> 2) << 2);
1184                     vect\_4pack = vect\_4pack >> 2;
1185                     vectevt[1] =
1186                         vect\_4pack -
1187                         ((vect\_4pack >> 2) << 2);
1188                     vect\_4pack = vect\_4pack >> 2;
1189                     vectevt[0] =
1190                         vect\_4pack -
1191                         ((vect\_4pack >> 2) << 2);
1192                     vect\_4pack = vect\_4pack >> 2;
1193 
1194                     numvalues\_processed =
1195                         (numvalues > 4 ? 4 : numvalues);
1196 
1197                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
1198                          vectevt\_idx < numvalues\_processed;
1199                          vectevt\_idx++) \{
1200                         \textcolor{keywordflow}{if} (listener\_vectevt\_idx ==
1201                             listener\_vectevt\_sz) \{
1202                             listener\_vectevt =
1203                                 (\textcolor{keywordtype}{int}*)\hyperlink{_memory_leak_detector_malloc_macros_8h_a40bca1270eac14ea5da81c924c02c3b7}{realloc}
1204                                 (listener\_vectevt,
1205                                  (listener\_vectevt\_sz
1206                                   +
1207                                   64) *
1208                                  \textcolor{keyword}{sizeof}(int));
1209                             \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ==
1210                                 listener\_vectevt)
1211                                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1212                             listener\_vectevt\_sz +=
1213                                 64;
1214                         \}
1215                         listener\_vectevt
1216                             [listener\_vectevt\_idx] =
1217                             vectevt[vectevt\_idx];
1218                         listener\_vectevt\_idx++;
1219                     \}
1220                     numvalues -= numvalues\_processed;
1221                 \}
1222 
1223                 numvalues =
1224                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1225                              (mrpdu\_vectorptr->
1226                               VectorHeader));
1227 
1228                 \textcolor{comment}{/* if not an even multiple ... */}
1229                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
1230                     numvectorbytes = (numvalues / 3) + 1;
1231                 \textcolor{keywordflow}{else}
1232                     numvectorbytes = (numvalues / 3);
1233 
1234                 listener\_vectevt\_idx = 0;
1235 
1236                 \textcolor{keywordflow}{for} (vectidx = 8;
1237                      vectidx <= (numvectorbytes + 8);
1238                      vectidx++) \{
1239                     vect\_3pack =
1240                         mrpdu\_vectorptr->
1241                         FirstValue\_VectorEvents[vectidx];
1242                     vectevt[0] = vect\_3pack / 36;
1243                     vectevt[1] =
1244                         (vect\_3pack - vectevt[0] * 36) / 6;
1245                     vectevt[2] =
1246                         vect\_3pack - (36 * vectevt[0]) -
1247                         (6 * vectevt[1]);
1248 
1249                     numvalues\_processed =
1250                         (numvalues > 3 ? 3 : numvalues);
1251 
1252                     \textcolor{comment}{/* check for out of range encoding */}
1253                     \textcolor{keywordflow}{if} (vectevt[0] > \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}) \{
1254 \textcolor{preprocessor}{#if LOG\_MSRP}
1255                         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() LISTENER vector discard\(\backslash\)n"});
1256 \textcolor{preprocessor}{#endif}
1257                         numvalues -= numvalues\_processed;
1258                         \textcolor{keywordflow}{continue};
1259                     \}
1260 
1261                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
1262                          vectevt\_idx < numvalues\_processed;
1263                          vectevt\_idx++) \{
1264 
1265                         \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a22cb8d7ce8040f88c6adbcf59d9545e8}{MSRP\_LISTENER\_IGNORE} ==
1266                             listener\_vectevt
1267                             [listener\_vectevt\_idx]) \{
1268                             \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\_increment\_streamid}
1269                                 (streamid\_firstval);
1270                             listener\_vectevt\_idx++;
1271                             \textcolor{keywordflow}{continue};
1272                         \}
1273 
1274                         attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
1275                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1276                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
1277 
1278                         attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =
1279                             \hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE};
1280 
1281                         memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
1282                                \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID},
1283                                streamid\_firstval, 8);
1284                         attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate} =
1285                             listener\_vectevt
1286                             [listener\_vectevt\_idx];
1287                         \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\_increment\_streamid}
1288                             (streamid\_firstval);
1289                         listener\_vectevt\_idx++;
1290 
1291                         memcpy(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
1292                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
1293                                6);
1294 
1295 \textcolor{preprocessor}{#if LOG\_MSRP}
1296                         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
1297                             (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() Listener[%d][%d] attrib %d\(\backslash\)n"},
1298                              vectidx, vectevt\_idx,
1299                              vectevt[vectevt\_idx]);
1300 \textcolor{preprocessor}{#endif}
1301 
1302                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
1303                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
1304                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1305                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
1306                                  attrib);
1307                             \textcolor{keywordflow}{break};
1308                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
1309                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1310                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
1311                                  attrib);
1312                             \textcolor{keywordflow}{break};
1313                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
1314                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1315                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
1316                                  attrib);
1317                             \textcolor{keywordflow}{break};
1318                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
1319                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1320                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
1321                                  attrib);
1322                             \textcolor{keywordflow}{break};
1323                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
1324                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1325                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
1326                                  attrib);
1327                             \textcolor{keywordflow}{break};
1328                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
1329                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1330                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
1331                                  attrib);
1332                             \textcolor{keywordflow}{break};
1333                         \textcolor{keywordflow}{default}:
1334                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1335                             \textcolor{keywordflow}{break};
1336                         \}
1337                     \}
1338                     numvalues -= numvalues\_processed;
1339                 \}
1340 
1341                 numvalues =
1342                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1343                              (mrpdu\_vectorptr->
1344                               VectorHeader));
1345                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 4) * 4))
1346                     numvectorbytes += (numvalues / 4) + 1;
1347                 \textcolor{keywordflow}{else}
1348                     numvectorbytes += (numvalues / 4);
1349 
1350                 \textcolor{comment}{/* 2 byte numvalues + 8 byte FirstValue + (n) vector bytes */}
1351                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1352                 mrpdu\_msg\_ptr += 10 + numvectorbytes;
1353 
1354                 mrpdu\_vectorptr =
1355                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1356             \}
1357 
1358             \textcolor{keywordflow}{break};
1359         \textcolor{keywordflow}{case} \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE}:
1360             \textcolor{comment}{/* another place where the spec munges with reality ...}
1361 \textcolor{comment}{             * we can start out as a talker advertise type, but can get back}
1362 \textcolor{comment}{             * a talker failed from the bridge in response ... in which}
1363 \textcolor{comment}{             * by the spec we are supposed to merge the talker failed into}
1364 \textcolor{comment}{             * the talker advertise and change the attribute type ...}
1365 \textcolor{comment}{             *}
1366 \textcolor{comment}{             * but also note the spec says that a talker cant change the}
1367 \textcolor{comment}{             * firstvalues definition of a stream without tearing down the}
1368 \textcolor{comment}{             * existing stream, wait two leave-all periods, then re-advertise}
1369 \textcolor{comment}{             * the stream.}
1370 \textcolor{comment}{             */}
1371             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 25) \{
1372                 \textcolor{comment}{/* we can seek for an endmark to recover .. but this version}
1373 \textcolor{comment}{                 * dumps the entire packet as malformed}
1374 \textcolor{comment}{                 */}
1375                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1376             \}
1377 
1378             \textcolor{comment}{/* MSRP uses AttributeListLength ...  */}
1379             mrpdu\_vectorptr =
1380                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
1381             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1382 
1383             \textcolor{comment}{/* check attribute list length is reasonable */}
1384             \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}{msrp\_recv\_msg\_check\_attrib\_list\_len}(mrpdu\_msg->
      \hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}, &mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0], mrpdu\_msg\_eof)) \{
1385                 numvalues =
1386                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1387                              (mrpdu\_vectorptr->
1388                               VectorHeader));
1389 
1390                 mrpdu\_msg\_ptr =
1391                     (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1392                 \textcolor{comment}{/* skip this null attribute ... some switches generate these ... */}
1393                 \textcolor{comment}{/* 2 byte numvalues + 25 byte FirstValue + (0) vector bytes */}
1394                 mrpdu\_msg\_ptr += 2 + 25 + (numvalues + 2) / 3;
1395 
1396                 mrpdu\_vectorptr =
1397                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
1398                     mrpdu\_msg\_ptr;
1399                 \textcolor{keywordflow}{continue};
1400             \}
1401 
1402             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
1403                  && (mrpdu\_msg\_ptr[1] == 0))) \{
1404                 numvalues =
1405                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1406                              (mrpdu\_vectorptr->
1407                               VectorHeader));
1408 
1409 \textcolor{preprocessor}{#if LOG\_MSRP}
1410                 \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
1411                      (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() TALKER vector addr 0x%X, n = %d, VectorHeader %d\(\backslash\)n"},
1412                      ((\textcolor{keywordtype}{int})mrpdu\_vectorptr) & 0x3, numvalues,
1413                      ntohs(mrpdu\_vectorptr->VectorHeader));
1414 \textcolor{preprocessor}{#endif}
1415 
1416                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->VectorHeader)) && !saw\_talker\_lva) 
      \{
1417                     saw\_talker\_lva = 1;
1418                     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
1419                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1420                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
1421 
1422                     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =  \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE};               
1423                     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, attrib);
1424                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1425                 \}
1426 
1427                 \textcolor{keywordflow}{if} (0 == numvalues) \{
1428                     \textcolor{comment}{/* 2 byte numvalues + 25 byte FirstValue + (0) vector bytes */}
1429                     mrpdu\_msg\_ptr =
1430                         (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1431                     mrpdu\_msg\_ptr += 27;
1432 
1433                     mrpdu\_vectorptr =
1434                         (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
1435                         mrpdu\_msg\_ptr;
1436                     \textcolor{keywordflow}{continue};
1437                 \}
1438                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->FirstValue\_VectorEvents +
1439                      numvalues / 3) >= mrpdu\_msg\_eof) \{
1440                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
1441                     printf
1442                         (\textcolor{stringliteral}{"bad talker adv PDU too long \(\backslash\)n"});
1443                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1444                 \}
1445                 memcpy(streamid\_firstval,
1446                        mrpdu\_vectorptr->FirstValue\_VectorEvents,
1447                        8);
1448                 memcpy(destmac\_firstval,
1449                        &
1450                        (mrpdu\_vectorptr->FirstValue\_VectorEvents
1451                     [8]), 6);
1452 
1453                 \textcolor{comment}{/* if not an even multiple ... */}
1454                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
1455                     numvectorbytes = (numvalues / 3) + 1;
1456                 \textcolor{keywordflow}{else}
1457                     numvectorbytes = (numvalues / 3);
1458 
1459                 \textcolor{keywordflow}{for} (vectidx = 25;
1460                      vectidx <= (numvectorbytes + 25);
1461                      vectidx++) \{
1462                     vect\_3pack =
1463                         mrpdu\_vectorptr->
1464                         FirstValue\_VectorEvents[vectidx];
1465                     vectevt[0] = vect\_3pack / 36;
1466                     vectevt[1] =
1467                         (vect\_3pack - vectevt[0] * 36) / 6;
1468                     vectevt[2] =
1469                         vect\_3pack - (36 * vectevt[0]) -
1470                         (6 * vectevt[1]);
1471 
1472                     numvalues\_processed =
1473                         (numvalues > 3 ? 3 : numvalues);
1474 
1475                     \textcolor{comment}{/* check for out of range encoding */}
1476                     \textcolor{keywordflow}{if} (vectevt[0] > \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}) \{
1477 \textcolor{preprocessor}{#if LOG\_MSRP}
1478                         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() TALKER\_ADV vector discard\(\backslash\)n"});
1479 \textcolor{preprocessor}{#endif}
1480                         numvalues -= numvalues\_processed;
1481                         \textcolor{keywordflow}{continue};
1482                     \}
1483 
1484                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
1485                          vectevt\_idx < numvalues\_processed;
1486                          vectevt\_idx++) \{
1487 
1488                         attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
1489                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1490                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
1491 
1492                         attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =
1493                             \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE};
1494 
1495                         \textcolor{comment}{/* note this ISNT from us ... */}
1496                         attrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation} =
1497                             \hyperlink{msrp_8h_a9a6b1b18b7bd680971356f45ad0ee684}{MSRP\_OPERATION\_REGISTER};
1498 
1499                         memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
1500                                \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID},
1501                                streamid\_firstval, 8);
1502                         memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
1503                                \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1504                                DataFrameParameters.
1505                                Dest\_Addr,
1506                                destmac\_firstval, 6);
1507 
1508                         \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\_increment\_streamid}
1509                             (streamid\_firstval);
1510                         \hyperlink{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{mmrp\_increment\_macaddr}
1511                             (destmac\_firstval);
1512 
1513                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1514                             DataFrameParameters.
1515                             Vlan\_ID =
1516                             mrpdu\_vectorptr->
1517                             FirstValue\_VectorEvents[14];
1518                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1519                             DataFrameParameters.
1520                             Vlan\_ID <<= 8;
1521                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1522                             DataFrameParameters.
1523                             Vlan\_ID |=
1524                             mrpdu\_vectorptr->
1525                             FirstValue\_VectorEvents[15];
1526 
1527                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1528                             TSpec.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize} =
1529                             mrpdu\_vectorptr->
1530                             FirstValue\_VectorEvents[16];
1531                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1532                             TSpec.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize} <<= 8;
1533                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1534                             TSpec.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize} |=
1535                             mrpdu\_vectorptr->
1536                             FirstValue\_VectorEvents[17];
1537 
1538                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1539                             TSpec.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames} =
1540                             mrpdu\_vectorptr->
1541                             FirstValue\_VectorEvents[18];
1542                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1543                             TSpec.
1544                             MaxIntervalFrames <<= 8;
1545                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1546                             TSpec.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames} |=
1547                             mrpdu\_vectorptr->
1548                             FirstValue\_VectorEvents[19];
1549 
1550                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1551                             PriorityAndRank =
1552                             mrpdu\_vectorptr->
1553                             FirstValue\_VectorEvents[20];
1554 
1555                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1556                             AccumulatedLatency =
1557                             mrpdu\_vectorptr->
1558                             FirstValue\_VectorEvents[21];
1559                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1560                             AccumulatedLatency <<= 8;
1561                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1562                             AccumulatedLatency |=
1563                             mrpdu\_vectorptr->
1564                             FirstValue\_VectorEvents[22];
1565                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1566                             AccumulatedLatency <<= 8;
1567                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1568                             AccumulatedLatency |=
1569                             mrpdu\_vectorptr->
1570                             FirstValue\_VectorEvents[23];
1571                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1572                             AccumulatedLatency <<= 8;
1573                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1574                             AccumulatedLatency |=
1575                             mrpdu\_vectorptr->
1576                             FirstValue\_VectorEvents[24];
1577 
1578                         memcpy(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
1579                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
1580                                6);
1581 
1582 \textcolor{preprocessor}{#if LOG\_MSRP}
1583                         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
1584                             (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() TalkerAdv[%d][%d] attrib %d\(\backslash\)n"},
1585                              vectidx, vectevt\_idx,
1586                              vectevt[vectevt\_idx]);
1587 \textcolor{preprocessor}{#endif}
1588 
1589                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
1590                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
1591                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1592                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
1593                                  attrib);
1594                             \textcolor{keywordflow}{break};
1595                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
1596                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1597                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
1598                                  attrib);
1599                             \textcolor{keywordflow}{break};
1600                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
1601                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1602                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
1603                                  attrib);
1604                             \textcolor{keywordflow}{break};
1605                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
1606                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1607                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
1608                                  attrib);
1609                             \textcolor{keywordflow}{break};
1610                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
1611                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1612                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
1613                                  attrib);
1614                             \textcolor{keywordflow}{break};
1615                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
1616                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1617                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
1618                                  attrib);
1619                             \textcolor{keywordflow}{break};
1620                         \textcolor{keywordflow}{default}:
1621                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1622                             \textcolor{keywordflow}{break};
1623                         \}
1624                     \}
1625                     numvalues -= numvalues\_processed;
1626                 \}
1627 
1628                 \textcolor{comment}{/* 2 byte numvalues + 25 byte FirstValue + (n) vector bytes */}
1629                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1630                 mrpdu\_msg\_ptr += 27 + numvectorbytes;
1631 
1632                 mrpdu\_vectorptr =
1633                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1634             \}
1635             \textcolor{keywordflow}{break};
1636         \textcolor{keywordflow}{case} \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE}:
1637             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 34) \{
1638                 \textcolor{comment}{/* we can seek for an endmark to recover .. but this version}
1639 \textcolor{comment}{                 * dumps the entire packet as malformed}
1640 \textcolor{comment}{                 */}
1641                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1642             \}
1643 
1644             \textcolor{comment}{/* MSRP uses AttributeListLength ...  */}
1645             mrpdu\_vectorptr =
1646                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) & (mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[2]);
1647             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1648 
1649             \textcolor{comment}{/* check attribute list length is reasonable */}
1650             \textcolor{keywordflow}{if} (!\hyperlink{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}{msrp\_recv\_msg\_check\_attrib\_list\_len}(mrpdu\_msg->
      \hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}, &mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}[0], mrpdu\_msg\_eof)) \{
1651                 numvalues =
1652                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1653                              (mrpdu\_vectorptr->
1654                               VectorHeader));
1655 
1656                 mrpdu\_msg\_ptr =
1657                     (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1658                 \textcolor{comment}{/* skip this null attribute ... some switches generate these ... */}
1659                 \textcolor{comment}{/* 2 byte numvalues + 34 byte FirstValue + (0) vector bytes */}
1660                 mrpdu\_msg\_ptr += 2 + 34 + (numvalues + 2) / 3;
1661 
1662                 mrpdu\_vectorptr =
1663                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
1664                     mrpdu\_msg\_ptr;
1665                 \textcolor{keywordflow}{continue};
1666             \}
1667 
1668             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
1669                  && (mrpdu\_msg\_ptr[1] == 0))) \{
1670                 numvalues =
1671                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
1672                              (mrpdu\_vectorptr->
1673                               VectorHeader));
1674 \textcolor{preprocessor}{#if LOG\_MSRP}
1675                 \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
1676                     (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() TALKER FAILED vector addr 0x%X, n = %d, VectorHeader %d\(\backslash\)n"},
1677                      ((\textcolor{keywordtype}{int})mrpdu\_vectorptr) & 0x3, numvalues,
1678                      ntohs(mrpdu\_vectorptr->VectorHeader));
1679 \textcolor{preprocessor}{#endif}
1680 
1681                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->VectorHeader)) && !
      saw\_talkerfailed\_lva) \{
1682                     saw\_talkerfailed\_lva = 1;
1683                     attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
1684                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1685                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
1686 
1687                     attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =  \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE};             
1688                     \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, attrib);
1689                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1690                 \}
1691 
1692                 \textcolor{keywordflow}{if} (0 == numvalues) \{
1693                     \textcolor{comment}{/* 2 byte numvalues + 34 byte FirstValue + (0) vector bytes */}
1694                     mrpdu\_msg\_ptr =
1695                         (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1696                     mrpdu\_msg\_ptr += 36;
1697                     mrpdu\_vectorptr =
1698                         (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)
1699                         mrpdu\_msg\_ptr;
1700                     \textcolor{keywordflow}{continue};
1701                 \}
1702                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->FirstValue\_VectorEvents +
1703                      numvalues / 3) >= mrpdu\_msg\_eof)
1704                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
1705                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1706 
1707                 memcpy(streamid\_firstval,
1708                        mrpdu\_vectorptr->FirstValue\_VectorEvents,
1709                        8);
1710                 memcpy(destmac\_firstval,
1711                        &
1712                        (mrpdu\_vectorptr->FirstValue\_VectorEvents
1713                     [8]), 6);
1714 
1715                 \textcolor{comment}{/* if not an even multiple ... */}
1716                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
1717                     numvectorbytes = (numvalues / 3) + 1;
1718                 \textcolor{keywordflow}{else}
1719                     numvectorbytes = (numvalues / 3);
1720 
1721                 \textcolor{keywordflow}{for} (vectidx = 34;
1722                      vectidx <= (numvectorbytes + 34);
1723                      vectidx++) \{
1724                     vect\_3pack =
1725                         mrpdu\_vectorptr->
1726                         FirstValue\_VectorEvents[vectidx];
1727                     vectevt[0] = vect\_3pack / 36;
1728                     vectevt[1] =
1729                         (vect\_3pack - vectevt[0] * 36) / 6;
1730                     vectevt[2] =
1731                         vect\_3pack - (36 * vectevt[0]) -
1732                         (6 * vectevt[1]);
1733 
1734                     numvalues\_processed =
1735                         (numvalues > 3 ? 3 : numvalues);
1736 
1737                     \textcolor{comment}{/* check for out of range encoding */}
1738                     \textcolor{keywordflow}{if} (vectevt[0] > \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}) \{
1739 \textcolor{preprocessor}{#if LOG\_MSRP}
1740                         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP msrp\_recv\_msg() TALKER\_FAIL vector discard\(\backslash\)n"})
      ;
1741 \textcolor{preprocessor}{#endif}
1742                         numvalues -= numvalues\_processed;
1743                         \textcolor{keywordflow}{continue};
1744                     \}
1745 
1746                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
1747                          vectevt\_idx < numvalues\_processed;
1748                          vectevt\_idx++) \{
1749 
1750                         attrib = \hyperlink{msrp_8c_a6f6db82e5bc2e7eba20615c7732829fb}{msrp\_alloc}();
1751                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1752                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
1753 
1754                         attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =
1755                             \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE};
1756 
1757                         \textcolor{comment}{/* NOTE this isn't from us */}
1758                         attrib->\hyperlink{structmsrp__attribute_a2aadabc5648d67e2327e5503c3d3dce5}{operation} =
1759                             \hyperlink{msrp_8h_a9a6b1b18b7bd680971356f45ad0ee684}{MSRP\_OPERATION\_REGISTER};
1760 
1761                         memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
1762                                \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID},
1763                                streamid\_firstval, 8);
1764                         memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
1765                                \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1766                                DataFrameParameters.
1767                                Dest\_Addr,
1768                                destmac\_firstval, 6);
1769 
1770                         \hyperlink{msrp_8c_a59216e07194d4aab1924e6f8edc6c3fa}{msrp\_increment\_streamid}
1771                             (streamid\_firstval);
1772                         \hyperlink{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{mmrp\_increment\_macaddr}
1773                             (destmac\_firstval);
1774 
1775                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1776                             DataFrameParameters.
1777                             Vlan\_ID =
1778                             mrpdu\_vectorptr->
1779                             FirstValue\_VectorEvents[14];
1780                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1781                             DataFrameParameters.
1782                             Vlan\_ID <<= 8;
1783                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1784                             DataFrameParameters.
1785                             Vlan\_ID |=
1786                             mrpdu\_vectorptr->
1787                             FirstValue\_VectorEvents[15];
1788 
1789                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1790                             TSpec.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize} =
1791                             mrpdu\_vectorptr->
1792                             FirstValue\_VectorEvents[16];
1793                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1794                             TSpec.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize} <<= 8;
1795                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1796                             TSpec.\hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize} |=
1797                             mrpdu\_vectorptr->
1798                             FirstValue\_VectorEvents[17];
1799 
1800                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1801                             TSpec.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames} =
1802                             mrpdu\_vectorptr->
1803                             FirstValue\_VectorEvents[18];
1804                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1805                             TSpec.
1806                             MaxIntervalFrames <<= 8;
1807                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1808                             TSpec.\hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames} |=
1809                             mrpdu\_vectorptr->
1810                             FirstValue\_VectorEvents[19];
1811 
1812                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1813                             PriorityAndRank =
1814                             mrpdu\_vectorptr->
1815                             FirstValue\_VectorEvents[20];
1816 
1817                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1818                             AccumulatedLatency =
1819                             mrpdu\_vectorptr->
1820                             FirstValue\_VectorEvents[21];
1821                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1822                             AccumulatedLatency <<= 8;
1823                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1824                             AccumulatedLatency |=
1825                             mrpdu\_vectorptr->
1826                             FirstValue\_VectorEvents[22];
1827                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1828                             AccumulatedLatency <<= 8;
1829                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1830                             AccumulatedLatency |=
1831                             mrpdu\_vectorptr->
1832                             FirstValue\_VectorEvents[23];
1833                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1834                             AccumulatedLatency <<= 8;
1835                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1836                             AccumulatedLatency |=
1837                             mrpdu\_vectorptr->
1838                             FirstValue\_VectorEvents[24];
1839 
1840                         memcpy(attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.
1841                                \hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1842                                FailureInformation.
1843                                BridgeID,
1844                                &(mrpdu\_vectorptr->
1845                              FirstValue\_VectorEvents
1846                              [25]), 8);
1847 
1848                         attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
1849                             FailureInformation.
1850                             FailureCode =
1851                             mrpdu\_vectorptr->
1852                             FirstValue\_VectorEvents[33];
1853 
1854                         memcpy(attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
1855                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
1856                                6);
1857 
1858                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
1859                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
1860                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1861                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
1862                                  attrib);
1863                             \textcolor{keywordflow}{break};
1864                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
1865                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1866                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
1867                                  attrib);
1868                             \textcolor{keywordflow}{break};
1869                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
1870                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1871                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
1872                                  attrib);
1873                             \textcolor{keywordflow}{break};
1874                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
1875                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1876                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
1877                                  attrib);
1878                             \textcolor{keywordflow}{break};
1879                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
1880                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1881                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
1882                                  attrib);
1883                             \textcolor{keywordflow}{break};
1884                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
1885                             \hyperlink{msrp_8c_afdf1c4b7bf6c48671ee29d4d585bd2f1}{msrp\_event}
1886                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
1887                                  attrib);
1888                             \textcolor{keywordflow}{break};
1889                         \textcolor{keywordflow}{default}:
1890                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
1891                             \textcolor{keywordflow}{break};
1892                         \}
1893                     \}
1894                     numvalues -= numvalues\_processed;
1895                 \}
1896 
1897                 \textcolor{comment}{/* 2 byte numvalues + 34 byte FirstValue + (n) vector bytes */}
1898                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
1899                 mrpdu\_msg\_ptr += 36 + numvectorbytes;
1900 
1901                 mrpdu\_vectorptr =
1902                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1903             \}
1904             \textcolor{keywordflow}{break};
1905         \textcolor{keywordflow}{default}:
1906             \textcolor{comment}{/* unrecognized attribute type}
1907 \textcolor{comment}{             * we can seek for an endmark to recover .. but this version}
1908 \textcolor{comment}{             * dumps the entire packet as malformed}
1909 \textcolor{comment}{             */}
1910 \textcolor{preprocessor}{#if LOG\_MSRP}
1911             printf
1912                 (\textcolor{stringliteral}{"################## unrecognized attribute type (%d)\(\backslash\)n"},
1913                  mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType});
1914 \textcolor{preprocessor}{#endif}
1915             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1916         \}
1917     \}
1918 
1919     \textcolor{keywordflow}{if} (listener\_vectevt)
1920         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(listener\_vectevt);
1921 
1922     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1923     \textcolor{keywordflow}{return} 0;
1924  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
1925     \textcolor{keywordflow}{if} (listener\_vectevt)
1926         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(listener\_vectevt);
1927 
1928     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1929 
1930     \textcolor{keywordflow}{return} -1;
1931 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ab9b686db38f7cc0e2137156ee6fbe1ce_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ab9b686db38f7cc0e2137156ee6fbe1ce_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len@{msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len}}
\index{msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len@{msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len(int attrib\+\_\+type, uint8\+\_\+t $\ast$pkt\+\_\+attrib\+\_\+list\+\_\+len, uint8\+\_\+t $\ast$pkt\+\_\+eof)}{msrp_recv_msg_check_attrib_list_len(int attrib_type, uint8_t *pkt_attrib_list_len, uint8_t *pkt_eof)}}]{\setlength{\rightskip}{0pt plus 5cm}static int msrp\+\_\+recv\+\_\+msg\+\_\+check\+\_\+attrib\+\_\+list\+\_\+len (
\begin{DoxyParamCaption}
\item[{int}]{attrib\+\_\+type, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{pkt\+\_\+attrib\+\_\+list\+\_\+len, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{pkt\+\_\+eof}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}{}\label{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb}


msrp.\+c 파일의 709 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
713 \{
714     \hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\_t} list\_len = (\hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\_t})pkt\_attrib\_list\_len[0] << 8 |
715             (\hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\_t})pkt\_attrib\_list\_len[1];
716     \hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\_t} attrib\_len = (\hyperlink{parse_8c_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\_t})pkt\_attrib\_list\_len[-1];
717 \textcolor{preprocessor}{#if !LOG\_MSRP}
718     (void)(attrib\_type);
719 \textcolor{preprocessor}{#endif}
720 
721     \textcolor{comment}{/*}
722 \textcolor{comment}{     * Check for list length < attribute len + header\_size (2) + event (1)}
723 \textcolor{comment}{     * Note: this test is more of a sanity test than anything else. It does}
724 \textcolor{comment}{     * not attempt to use number of values to compute 3packed and 4packed byte}
725 \textcolor{comment}{     * count.}
726 \textcolor{comment}{     */}
727     \textcolor{keywordflow}{if} (list\_len < (attrib\_len + 2 + 1)) \{
728 \textcolor{preprocessor}{#if LOG\_MSRP}
729         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
730             (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg\_check\_attrib\_list\_len(%s) FAILED SIZE list len %d attrib len %d\(\backslash\)n"},
731              \hyperlink{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{msrp\_attrib\_type\_string}(attrib\_type),
732              list\_len,
733              attrib\_len);
734 \textcolor{preprocessor}{#endif}
735         \textcolor{keywordflow}{return} 0;
736     \}
737 
738     \textcolor{comment}{/* check the eof */}
739     \textcolor{keywordflow}{if} ((pkt\_attrib\_list\_len + list\_len) >= pkt\_eof) \{
740 \textcolor{preprocessor}{#if LOG\_MSRP}
741         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
742             (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg\_check\_attrib\_list\_len(%s) FAILED EOF list len %d pkt %p eof %p\(\backslash\)n"},
743              \hyperlink{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{msrp\_attrib\_type\_string}(attrib\_type),
744              list\_len,
745              pkt\_attrib\_list\_len,
746              pkt\_eof);
747 \textcolor{preprocessor}{#endif}
748         \textcolor{keywordflow}{return} 0;
749     \}
750 
751     \textcolor{comment}{/* check for the endmark */}
752     \textcolor{keywordflow}{if} ((0 != pkt\_attrib\_list\_len[list\_len]) || (0 != pkt\_attrib\_list\_len[list\_len + 1])) \{
753 \textcolor{preprocessor}{#if LOG\_MSRP}
754         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}
755             (\textcolor{stringliteral}{"MSRP msrp\_recv\_msg\_check\_attrib\_list\_len(%s) FAILED ENDMARK list len %d pkt %p\(\backslash\)n"},
756              \hyperlink{msrp_8c_a1bb60497e2ea2912eab455d90ce4b301}{msrp\_attrib\_type\_string}(attrib\_type),
757              list\_len,
758              pkt\_attrib\_list\_len,
759              pkt\_eof);
760 \textcolor{preprocessor}{#endif}
761         \textcolor{keywordflow}{return} 0;
762     \}
763 
764     \textcolor{keywordflow}{return} 1;
765 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a41d39b8961ca5a9ddddc07ca349d8ecb_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+reset@{msrp\+\_\+reset}}
\index{msrp\+\_\+reset@{msrp\+\_\+reset}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+reset(void)}{msrp_reset(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void msrp\+\_\+reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_ac69965b2ef75210eb1db74cb83ac8559}{}\label{msrp_8c_ac69965b2ef75210eb1db74cb83ac8559}


msrp.\+c 파일의 3895 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3896 \{
3897     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *free\_sattrib;
3898     \textcolor{keyword}{struct }\hyperlink{structmsrp__attribute}{msrp\_attribute} *sattrib;
3899 
3900     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db})
3901         \textcolor{keywordflow}{return};
3902 
3903     sattrib = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a171377a96c019410091ac2838ea2be82}{attrib\_list};
3904     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != sattrib) \{
3905         free\_sattrib = sattrib;
3906         sattrib = sattrib->\hyperlink{structmsrp__attribute_aee93bf3c35daae5c99a5157c87f4b7cb}{next};
3907         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_sattrib);
3908     \}
3909     \hyperlink{eui64set_8c_ae543ad67f4be3090b148e8d46b93f56d}{eui64set\_free}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a116b6f6befbaedf09d11f7c09a1f24e8}{interesting\_stream\_ids});
3910     \hyperlink{mrp_8c_adde14a545c8c52173b54c3c39ae9bbb1}{mrp\_client\_remove\_all}(&\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients});
3911     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db});
3912 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{msrp_8c_ac69965b2ef75210eb1db74cb83ac8559_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{msrp_8c_ac69965b2ef75210eb1db74cb83ac8559_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+send\+\_\+notifications@{msrp\+\_\+send\+\_\+notifications}}
\index{msrp\+\_\+send\+\_\+notifications@{msrp\+\_\+send\+\_\+notifications}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+send\+\_\+notifications(struct msrp\+\_\+attribute $\ast$attrib, int notify)}{msrp_send_notifications(struct msrp_attribute *attrib, int notify)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+send\+\_\+notifications (
\begin{DoxyParamCaption}
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{attrib, }
\item[{int}]{notify}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb}{}\label{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb}


msrp.\+c 파일의 3019 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3020 \{
3021     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
3022     \textcolor{keywordtype}{char} *variant;
3023     \textcolor{keywordtype}{char} *regsrc;
3024     \textcolor{keywordtype}{char} mrp\_state[8];
3025     \hyperlink{structclient__s}{client\_t} *\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client};
3026     \textcolor{keywordtype}{size\_t} sub\_str\_len = 128;
3027 
3028     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
3029         \textcolor{keywordflow}{return} -1;
3030 
3031     msgbuf = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
3032     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
3033         \textcolor{keywordflow}{return} -1;
3034 
3035     variant = regsrc = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
3036 
3037     variant = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(sub\_str\_len);
3038     regsrc = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(sub\_str\_len);
3039 
3040     \textcolor{keywordflow}{if} ((\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == variant) || (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == regsrc))
3041         \textcolor{keywordflow}{goto} free\_msgbuf;
3042 
3043     memset(msgbuf, 0, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
3044 
3045     \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_af7da4416cc2e710a02cfb7d0e3a4f0c2}{MSRP\_LISTENER\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
3046         snprintf(variant, sub\_str\_len - 1, \textcolor{stringliteral}{"L:D=%d,S=%02x%02x%02x%02x%02x%02x%02x%02x"},
3047             attrib->\hyperlink{structmsrp__attribute_a77fc98efbb49dcae027e0dde935b7070}{substate},
3048             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[0],
3049             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[1],
3050             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[2],
3051             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[3],
3052             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[4],
3053             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[5],
3054             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[6],
3055             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[7]);
3056     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a7a78e39f3672d05cdbc8917d28ebacdf}{MSRP\_DOMAIN\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
3057         snprintf(variant, sub\_str\_len - 1, \textcolor{stringliteral}{"D:C=%d,P=%d,V=%04x,N=%d"},
3058             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_a93cbc1ec12e4b8c62aa3cafcbe9aa92e}{SRclassID},
3059             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_adcf8b02949ce4e07bd3d61fb4082ab66}{SRclassPriority},
3060             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ac3d5ab67ff0aa5f58fa4dc5057d3ad02}{SRclassVID},
3061             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_aa7d094869072ffd53218ef7d106eb7ae}{domain}.\hyperlink{structmsrpdu__domain_ae9e61b028a38f302a5888dc230ec3bf2}{neighborSRclassPriority}
3062             );
3063     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE} == attrib->\hyperlink{structmsrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
3064         snprintf(variant, sub\_str\_len - 1, \textcolor{stringliteral}{"T:S=%02x%02x%02x%02x%02x%02x%02x%02x"}
3065             \textcolor{stringliteral}{",A=%02x%02x%02x%02x%02x%02x"}
3066             \textcolor{stringliteral}{",V=%04x"}
3067             \textcolor{stringliteral}{",Z=%d"}
3068             \textcolor{stringliteral}{",I=%d"}
3069             \textcolor{stringliteral}{",P=%d"}
3070             \textcolor{stringliteral}{",L=%d"},
3071             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[0],
3072             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[1],
3073             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[2],
3074             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[3],
3075             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[4],
3076             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[5],
3077             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[6],
3078             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[7],
3079             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3080             Dest\_Addr[0],
3081             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3082             Dest\_Addr[1],
3083             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3084             Dest\_Addr[2],
3085             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3086             Dest\_Addr[3],
3087             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3088             Dest\_Addr[4],
3089             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3090             Dest\_Addr[5],
3091             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3092             Vlan\_ID,
3093             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize},
3094             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames},
3095             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_aefea4c8e80c276baf1e53a6faaa81921}{PriorityAndRank},
3096             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency});
3097     \} \textcolor{keywordflow}{else} \{
3098         snprintf(variant, sub\_str\_len - 1, \textcolor{stringliteral}{"T:S=%02x%02x%02x%02x%02x%02x%02x%02x"}
3099             \textcolor{stringliteral}{",A=%02x%02x%02x%02x%02x%02x"}
3100             \textcolor{stringliteral}{",V=%04x"}
3101             \textcolor{stringliteral}{",Z=%d"}
3102             \textcolor{stringliteral}{",I=%d"}
3103             \textcolor{stringliteral}{",P=%d"}
3104             \textcolor{stringliteral}{",L=%d"}
3105             \textcolor{stringliteral}{",B=%02x%02x%02x%02x%02x%02x%02x%02x"}
3106             \textcolor{stringliteral}{",C=%d"},
3107             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[0],
3108             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[1],
3109             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[2],
3110             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[3],
3111             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[4],
3112             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[5],
3113             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[6],
3114             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a699f4611107a6da58e4e4153858c8578}{StreamID}[7],
3115             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3116             Dest\_Addr[0],
3117             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3118             Dest\_Addr[1],
3119             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3120             Dest\_Addr[2],
3121             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3122             Dest\_Addr[3],
3123             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3124             Dest\_Addr[4],
3125             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3126             Dest\_Addr[5],
3127             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.
      \hyperlink{structmsrpdu__talker__fail_a2692740f7b03349e71660154ab23c514}{DataFrameParameters}.
3128             Vlan\_ID,
3129             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_a242e25479e8eaed3db66af00fdc18c38}{MaxFrameSize},
3130             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a93b4d8a68a100778d9f7c6ee205919cf}{TSpec}.
      \hyperlink{structmsrpdu__talker__fail_ae3ace1fbc365fc85cd7df0cf6a74589e}{MaxIntervalFrames},
3131             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_aefea4c8e80c276baf1e53a6faaa81921}{PriorityAndRank},
3132             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a4e1069f44922cb58eab0cb2e7522c9fc}{AccumulatedLatency},
3133             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3134             BridgeID[0],
3135             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3136             BridgeID[1],
3137             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3138             BridgeID[2],
3139             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3140             BridgeID[3],
3141             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3142             BridgeID[4],
3143             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3144             BridgeID[5],
3145             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3146             BridgeID[6],
3147             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3148             BridgeID[7],
3149             attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen}.\hyperlink{structmsrpdu__talker__fail_a9d33050cd08b9aea7dabb464533247c6}{FailureInformation}.
3150             FailureCode);
3151     \}
3152 
3153     snprintf(regsrc, sub\_str\_len - 1, \textcolor{stringliteral}{"R=%02x%02x%02x%02x%02x%02x"},
3154         attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[0],
3155         attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[1],
3156         attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[2],
3157         attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[3],
3158         attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[4], attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[5]);
3159 
3160     \hyperlink{mrp_8c_a178c5a4ac1dbc4bb40064aaaae6ed84e}{mrp\_decode\_state}(&attrib->\hyperlink{structmsrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}, &attrib->
      \hyperlink{structmsrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant},
3161                  mrp\_state, \textcolor{keyword}{sizeof}(mrp\_state));
3162 
3163     \textcolor{keywordflow}{switch} (notify) \{
3164     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a4f47669fbd02fd9dc10351e38bfeca61}{MRP\_NOTIFY\_NEW}:
3165         snprintf(msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ} - 1, \textcolor{stringliteral}{"SNE %s %s %s\(\backslash\)n"}, variant, regsrc, mrp\_state);
3166         \textcolor{keywordflow}{break};
3167     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_aa4e82a87fc11579ce97185e182ddfda4}{MRP\_NOTIFY\_JOIN}:
3168         snprintf(msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ} - 1, \textcolor{stringliteral}{"SJO %s %s %s\(\backslash\)n"}, variant, regsrc, mrp\_state);
3169         \textcolor{keywordflow}{break};
3170     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a841700929a5cf0f5df937120c5f38105}{MRP\_NOTIFY\_LV}:
3171         snprintf(msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ} - 1, \textcolor{stringliteral}{"SLE %s %s %s\(\backslash\)n"}, variant, regsrc, mrp\_state);
3172         \textcolor{keywordflow}{break};
3173     \textcolor{keywordflow}{default}:
3174         \textcolor{keywordflow}{goto} free\_msgbuf;
3175         \textcolor{keywordflow}{break};
3176     \}
3177 
3178     client = \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients};
3179     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != client) \{
3180         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(&(client->\hyperlink{structclient__s_abf7df3c8f5ff035f1843f41668a2168c}{client}), msgbuf, 
      \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
3181         client = client->\hyperlink{structclient__s_af3acd6523ace0fc96b77f04cf1b88d06}{next};
3182     \}
3183 
3184  free\_msgbuf:
3185     \textcolor{keywordflow}{if} (regsrc)
3186         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(regsrc);
3187     \textcolor{keywordflow}{if} (variant)
3188         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(variant);
3189     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
3190     \textcolor{keywordflow}{return} 0;
3191 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_a5da196a4ee11c5e32f0b2781d64a0ecb_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+txpdu@{msrp\+\_\+txpdu}}
\index{msrp\+\_\+txpdu@{msrp\+\_\+txpdu}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+txpdu(void)}{msrp_txpdu(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int msrp\+\_\+txpdu (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{msrp_8c_ac88df3051b78bad84a78695b50d4ee95}{}\label{msrp_8c_ac88df3051b78bad84a78695b50d4ee95}


msrp.\+c 파일의 2918 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2919 \{
2920     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, *msgbuf\_wrptr;
2921     \textcolor{keywordtype}{int} msgbuf\_len;
2922     \textcolor{keywordtype}{int} bytes = 0;
2923     \hyperlink{structeth__hdr}{eth\_hdr\_t} *eth;
2924     \hyperlink{structmrpdu}{mrpdu\_t} *\hyperlink{structmrpdu}{mrpdu};
2925     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr;
2926     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof;
2927     \textcolor{keywordtype}{int} rc;
2928     \textcolor{keywordtype}{int} lva = 0;
2929 
2930     msgbuf = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE});
2931     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
2932         \textcolor{keywordflow}{return} -1;
2933     memset(msgbuf, 0, \hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE});
2934     msgbuf\_len = 0;
2935 
2936     msgbuf\_wrptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
2937 
2938     eth = (\hyperlink{structeth__hdr}{eth\_hdr\_t} *) msgbuf\_wrptr;
2939 
2940     \textcolor{comment}{/* note that MSRP frames should always be untagged (no vlan) */}
2941     eth->\hyperlink{structeth__hdr_a657ead984e65fc7252e805e62f083a7c}{typelen} = htons(\hyperlink{msrp_8h_aa7e86b03530c32b55bd7498078a10755}{MSRP\_ETYPE});
2942     memcpy(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}, \hyperlink{msrp_8c_a070a733a3f761e5125cc63797116c6e4}{MSRP\_ADDR}, \textcolor{keyword}{sizeof}(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}));
2943     memcpy(eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr}, \hyperlink{msrp_8c_ab42ba46b155e06fe7850ed877f07de86}{STATION\_ADDR}, \textcolor{keyword}{sizeof}(eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr}));
2944 
2945     msgbuf\_wrptr += \textcolor{keyword}{sizeof}(\hyperlink{mrpd_8h_adb02009b0d416a4c7ba2f427dbf0e5cb}{eth\_hdr\_t});
2946 
2947     mrpdu = (\hyperlink{structmrpdu}{mrpdu\_t} *) msgbuf\_wrptr;
2948 
2949     mrpdu->\hyperlink{structmrpdu_a033f6fc814bd016f671e9b07cebfdab2}{ProtocolVersion} = \hyperlink{msrp_8h_ab586b72cfee1c8a8deebb044a2a27b48}{MSRP\_PROT\_VER};
2950     mrpdu\_msg\_ptr = \hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu);
2951     mrpdu\_msg\_eof = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)msgbuf + \hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE};
2952 
2953     \textcolor{keywordflow}{if} (\hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_aefeb3936cf0a8963a3e1646e35b291e9}{lva}.\hyperlink{structmrp__timer_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
2954         lva = 1;
2955         \hyperlink{msrp_8c_a2632449b508d61015863de936e0f902c}{MSRP\_db}->\hyperlink{structmsrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_aefeb3936cf0a8963a3e1646e35b291e9}{lva}.\hyperlink{structmrp__timer_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
2956     \}
2957 
2958     rc = \hyperlink{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a}{msrp\_emit\_talkervectors}(mrpdu\_msg\_ptr, mrpdu\_msg\_eof, &bytes, lva, 
      \hyperlink{msrp_8h_a4251d2276eb968bf519a08c0c9e63ba6}{MSRP\_TALKER\_ADV\_TYPE});
2959     \textcolor{keywordflow}{if} (-1 == rc)
2960         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
2961 
2962     mrpdu\_msg\_ptr += bytes;
2963 
2964     rc = \hyperlink{msrp_8c_aa4d3620253677d13ae2cc310cbc1977a}{msrp\_emit\_talkervectors}(mrpdu\_msg\_ptr, mrpdu\_msg\_eof, &bytes, lva, 
      \hyperlink{msrp_8h_ad2f7477046437e0bd42e95ad93dc540d}{MSRP\_TALKER\_FAILED\_TYPE});
2965     \textcolor{keywordflow}{if} (-1 == rc)
2966         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
2967 
2968     mrpdu\_msg\_ptr += bytes;
2969 
2970     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr >= (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
2971         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
2972 
2973     rc = \hyperlink{msrp_8c_af74507f310bab4f7d519658251b81a84}{msrp\_emit\_listenvectors}(mrpdu\_msg\_ptr, mrpdu\_msg\_eof, &bytes, lva);
2974     \textcolor{keywordflow}{if} (-1 == rc)
2975         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
2976 
2977     mrpdu\_msg\_ptr += bytes;
2978 
2979     rc = \hyperlink{msrp_8c_a21f111f16656e338180baced35f16178}{msrp\_emit\_domainvectors}(mrpdu\_msg\_ptr, mrpdu\_msg\_eof, &bytes, lva);
2980     \textcolor{keywordflow}{if} (-1 == rc)
2981         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
2982 
2983     mrpdu\_msg\_ptr += bytes;
2984 
2985     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr == \hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu)) \{
2986         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* nothing to send */}
2987     \}
2988 
2989     \textcolor{comment}{/* endmark */}
2990     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) \{
2991         *mrpdu\_msg\_ptr = 0;
2992         mrpdu\_msg\_ptr++;
2993         *mrpdu\_msg\_ptr = 0;
2994         mrpdu\_msg\_ptr++;
2995     \} \textcolor{keywordflow}{else}
2996         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
2997 
2998     msgbuf\_len = mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
2999 
3000     bytes = \hyperlink{mrpw_8c_a7019f75f6f4372b0a905f57803829871}{mrpd\_send}(\hyperlink{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{msrp\_socket}, msgbuf, msgbuf\_len, 0);
3001 \textcolor{preprocessor}{#if LOG\_MSRP}
3002     \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MSRP send PDU\(\backslash\)n"});
3003 \textcolor{preprocessor}{#endif}
3004     \textcolor{keywordflow}{if} (bytes <= 0) \{
3005 \textcolor{preprocessor}{#if LOG\_ERRORS}
3006         fprintf(stderr, \textcolor{stringliteral}{"%s - Error on send %s"}, \_\_FUNCTION\_\_, strerror(errno));
3007 \textcolor{preprocessor}{#endif}
3008         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
3009     \}
3010 
3011     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
3012     \textcolor{keywordflow}{return} 0;
3013  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
3014     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
3015     \textcolor{comment}{/* caller should assume TXLAF */}
3016     \textcolor{keywordflow}{return} -1;
3017 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ac88df3051b78bad84a78695b50d4ee95_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ac88df3051b78bad84a78695b50d4ee95_icgraph}
\end{center}
\end{figure}


\index{msrp.\+c@{msrp.\+c}!vectorize\+\_\+talker@{vectorize\+\_\+talker}}
\index{vectorize\+\_\+talker@{vectorize\+\_\+talker}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{vectorize\+\_\+talker(struct msrp\+\_\+attribute $\ast$first\+\_\+attrib, uint8\+\_\+t streamid\+\_\+firstval[8], uint8\+\_\+t mac\+\_\+firstval[6], struct msrp\+\_\+attribute $\ast$candidate\+\_\+attrib)}{vectorize_talker(struct msrp_attribute *first_attrib, uint8_t streamid_firstval[8], uint8_t mac_firstval[6], struct msrp_attribute *candidate_attrib)}}]{\setlength{\rightskip}{0pt plus 5cm}static int vectorize\+\_\+talker (
\begin{DoxyParamCaption}
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{first\+\_\+attrib, }
\item[{{\bf uint8\+\_\+t}}]{streamid\+\_\+firstval\mbox{[}8\mbox{]}, }
\item[{{\bf uint8\+\_\+t}}]{mac\+\_\+firstval\mbox{[}6\mbox{]}, }
\item[{struct {\bf msrp\+\_\+attribute} $\ast$}]{candidate\+\_\+attrib}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{msrp_8c_ad1ffbc9f796cdb5d5afb88a540346493}{}\label{msrp_8c_ad1ffbc9f796cdb5d5afb88a540346493}


msrp.\+c 파일의 2213 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2217 \{
2218     \textcolor{keyword}{struct }\hyperlink{structmsrpdu__talker__fail}{msrpdu\_talker\_fail}  first;
2219 
2220     \textcolor{comment}{/*}
2221 \textcolor{comment}{     * Make a copy of the "first" attrib and update ID and MAC with new}
2222 \textcolor{comment}{     * values before comparing}
2223 \textcolor{comment}{     */}
2224     first = first\_attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen};
2225     memcpy(first.StreamID, streamid\_firstval, 8);
2226     memcpy(first.DataFrameParameters.Dest\_Addr, mac\_firstval, 6);
2227     \textcolor{keywordflow}{return} (memcmp(&first, &candidate\_attrib->\hyperlink{structmsrp__attribute_a3ef689bda345890720a9e52cc01a46d3}{attribute}.\hyperlink{structmsrp__attribute_a940e887e9c7477a40dba8b9964d18de2}{talk\_listen},
2228             \textcolor{keyword}{sizeof}(first)) == 0);
2229 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{msrp_8c_ad1ffbc9f796cdb5d5afb88a540346493_icgraph}
\end{center}
\end{figure}




\subsection{변수 문서화}
\index{msrp.\+c@{msrp.\+c}!M\+S\+R\+P\+\_\+\+A\+D\+DR@{M\+S\+R\+P\+\_\+\+A\+D\+DR}}
\index{M\+S\+R\+P\+\_\+\+A\+D\+DR@{M\+S\+R\+P\+\_\+\+A\+D\+DR}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{M\+S\+R\+P\+\_\+\+A\+D\+DR}{MSRP_ADDR}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char M\+S\+R\+P\+\_\+\+A\+D\+DR\mbox{[}$\,$\mbox{]} = \{ 0x01, 0x80, 0x\+C2, 0x00, 0x00, 0x0\+E \}}\hypertarget{msrp_8c_a070a733a3f761e5125cc63797116c6e4}{}\label{msrp_8c_a070a733a3f761e5125cc63797116c6e4}


msrp.\+c 파일의 61 번째 라인에서 정의되었습니다.

\index{msrp.\+c@{msrp.\+c}!M\+S\+R\+P\+\_\+db@{M\+S\+R\+P\+\_\+db}}
\index{M\+S\+R\+P\+\_\+db@{M\+S\+R\+P\+\_\+db}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{M\+S\+R\+P\+\_\+db}{MSRP_db}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf msrp\+\_\+database}$\ast$ M\+S\+R\+P\+\_\+db}\hypertarget{msrp_8c_a2632449b508d61015863de936e0f902c}{}\label{msrp_8c_a2632449b508d61015863de936e0f902c}


msrp.\+c 파일의 67 번째 라인에서 정의되었습니다.

\index{msrp.\+c@{msrp.\+c}!msrp\+\_\+socket@{msrp\+\_\+socket}}
\index{msrp\+\_\+socket@{msrp\+\_\+socket}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{msrp\+\_\+socket}{msrp_socket}}]{\setlength{\rightskip}{0pt plus 5cm}S\+O\+C\+K\+ET msrp\+\_\+socket}\hypertarget{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}{}\label{msrp_8c_a743cd84649ee1c7a93be5c80fe272b78}


msrp.\+c 파일의 66 번째 라인에서 정의되었습니다.

\index{msrp.\+c@{msrp.\+c}!S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR@{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR}}
\index{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR@{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR}!msrp.\+c@{msrp.\+c}}
\subsubsection[{\texorpdfstring{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR}{STATION_ADDR}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR\mbox{[}$\,$\mbox{]}}\hypertarget{msrp_8c_ab42ba46b155e06fe7850ed877f07de86}{}\label{msrp_8c_ab42ba46b155e06fe7850ed877f07de86}


mrpd.\+c 파일의 99 번째 라인에서 정의되었습니다.

