\hypertarget{mmrp_8c}{}\section{daemons/mrpd/mmrp.c 파일 참조}
\label{mmrp_8c}\index{daemons/mrpd/mmrp.\+c@{daemons/mrpd/mmrp.\+c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include \char`\"{}parse.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mrpd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mrp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mmrp.\+h\char`\"{}}\\*
mmrp.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c__incl}
\end{center}
\end{figure}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919}{mmrp\+\_\+send\+\_\+notifications} (struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$attrib, int notify)
\item 
int \hyperlink{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c}{mmrp\+\_\+txpdu} (void)
\item 
struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$ \hyperlink{mmrp_8c_ae1caabda703cfb0e484a2cbadcec985c}{mmrp\+\_\+lookup} (struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{mmrp_8c_a94754c54c3e50b9dac5949cd46b0c776}{mmrp\+\_\+add} (struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{mmrp_8c_adbac38210e51ceccaf4986e3105ac42b}{mmrp\+\_\+merge} (struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\+\_\+event} (int event, struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$rattrib)
\item 
struct \hyperlink{structmmrp__attribute}{mmrp\+\_\+attribute} $\ast$ \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\+\_\+alloc} ()
\item 
void \hyperlink{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{mmrp\+\_\+increment\+\_\+macaddr} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr})
\item 
int \hyperlink{mmrp_8c_a4ee9f804f3087ebe0175fa6b252af230}{mmrp\+\_\+recv\+\_\+msg} ()
\item 
int \hyperlink{mmrp_8c_a415f332f83bf099d1ed451652d4a86b5}{mmrp\+\_\+emit\+\_\+svcvectors} (unsigned char $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)
\item 
int \hyperlink{mmrp_8c_a06f1d32056c2981ed81a0813868f01f3}{mmrp\+\_\+emit\+\_\+macvectors} (unsigned char $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)
\item 
int \hyperlink{mmrp_8c_a71ebdfaa9e7295dba3bfa7564c49378c}{mmrp\+\_\+dumptable} (struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
int \hyperlink{mmrp_8c_adbd7b966270eac75ed4759074974119e}{mmrp\+\_\+cmd\+\_\+parse\+\_\+mac} (char $\ast$buf, int buflen, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$mac, int $\ast$err\+\_\+index)
\item 
int \hyperlink{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311}{mmrp\+\_\+cmd\+\_\+mac} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$mac, int mrp\+\_\+event)
\item 
int \hyperlink{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3}{mmrp\+\_\+cmd\+\_\+parse\+\_\+service} (char $\ast$buf, int buflen, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$service, int $\ast$err\+\_\+index)
\item 
int \hyperlink{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc}{mmrp\+\_\+cmd\+\_\+service} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} service, int mrp\+\_\+event)
\item 
int \hyperlink{mmrp_8c_a80e4cd4658a40390ebe9cea163581c45}{mmrp\+\_\+recv\+\_\+cmd} (char $\ast$buf, int buflen, struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
int \hyperlink{mmrp_8c_a5b29834ea6559ef166c451cd001841bd}{mmrp\+\_\+init} (int \hyperlink{mrpw_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\+\_\+enable})
\item 
int \hyperlink{mmrp_8c_ab1d9d63f7619b1f06b01c5833f027f24}{mmrp\+\_\+reclaim} (void)
\item 
void \hyperlink{mmrp_8c_adec64f22de481e6d12312db8f67009fc}{mmrp\+\_\+reset} (void)
\item 
void \hyperlink{mmrp_8c_ad00b443aef7fb39111695a356c0ea9cb}{mmrp\+\_\+bye} (struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\end{DoxyCompactItemize}
\subsection*{변수}
\begin{DoxyCompactItemize}
\item 
unsigned char \hyperlink{mmrp_8c_ac75d2e5b34d0ee445fc399174a9538ce}{M\+M\+R\+P\+\_\+\+A\+D\+DR} \mbox{[}$\,$\mbox{]} = \{ 0x01, 0x80, 0x\+C2, 0x00, 0x00, 0x20 \}
\item 
unsigned char \hyperlink{mmrp_8c_ab42ba46b155e06fe7850ed877f07de86}{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR} \mbox{[}$\,$\mbox{]}
\item 
S\+O\+C\+K\+ET \hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\+\_\+socket}
\item 
struct \hyperlink{structmmrp__database}{mmrp\+\_\+database} $\ast$ \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{M\+M\+R\+P\+\_\+db}
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+add@{mmrp\+\_\+add}}
\index{mmrp\+\_\+add@{mmrp\+\_\+add}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+add(struct mmrp\+\_\+attribute $\ast$rattrib)}{mmrp_add(struct mmrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+add (
\begin{DoxyParamCaption}
\item[{struct {\bf mmrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a94754c54c3e50b9dac5949cd46b0c776}{}\label{mmrp_8c_a94754c54c3e50b9dac5949cd46b0c776}


mmrp.\+c 파일의 85 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
86 \{
87     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
88     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib\_tail;
89     \textcolor{keywordtype}{int} mac\_eq;
90 
91     \textcolor{comment}{/* XXX do a lookup first to guarantee uniqueness? */}
92 
93     attrib\_tail = attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
94 
95     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
96         \textcolor{comment}{/* sort list into types, then sorted in order within types */}
97         \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
98             \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} == attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
99                 \textcolor{keywordflow}{if} (attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq} <
100                     rattrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq}) \{
101                     \textcolor{comment}{/* possible tail insertion ... */}
102 
103                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}) \{
104                         \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} ==
105                             attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
106                             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
107                             \textcolor{keywordflow}{continue};
108                         \}
109                     \}
110 
111                     rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
112                     rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = attrib;
113                     attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = rattrib;
114                     \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next})
115                         rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = rattrib;
116                     \textcolor{keywordflow}{return} 0;
117 
118                 \} \textcolor{keywordflow}{else} \{
119                     \textcolor{comment}{/* head insertion ... */}
120                     rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = attrib;
121                     rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = attrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev};
122                     attrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = rattrib;
123                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev})
124                         rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev}->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = rattrib;
125                     \textcolor{keywordflow}{else}
126                         \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list} = rattrib;
127 
128                     \textcolor{keywordflow}{return} 0;
129                 \}
130             \} \textcolor{keywordflow}{else} \{
131                 mac\_eq = memcmp(attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr},
132                         rattrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, 6);
133 
134                 \textcolor{keywordflow}{if} (mac\_eq < 0) \{
135                     \textcolor{comment}{/* possible tail insertion ... */}
136 
137                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}) \{
138                         \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE} ==
139                             attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
140                             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
141                             \textcolor{keywordflow}{continue};
142                         \}
143                     \}
144 
145                     rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
146                     rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = attrib;
147                     attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = rattrib;
148                     \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next})
149                         rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = rattrib;
150                     \textcolor{keywordflow}{return} 0;
151 
152                 \} \textcolor{keywordflow}{else} \{
153                     \textcolor{comment}{/* head insertion ... */}
154                     rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = attrib;
155                     rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = attrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev};
156                     attrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = rattrib;
157                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev})
158                         rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev}->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = rattrib;
159                     \textcolor{keywordflow}{else}
160                         \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list} = rattrib;
161 
162                     \textcolor{keywordflow}{return} 0;
163                 \}
164             \}
165         \}
166         attrib\_tail = attrib;
167         attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
168     \}
169 
170     \textcolor{comment}{/* if we are here we didn't need to stitch in a a sorted entry}
171 \textcolor{comment}{     * so append it onto the tail (if it exists)}
172 \textcolor{comment}{     */}
173 
174     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib\_tail) \{
175         rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
176         rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
177         \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list} = rattrib;
178     \} \textcolor{keywordflow}{else} \{
179         rattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
180         rattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = attrib\_tail;
181         attrib\_tail->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = rattrib;
182     \}
183 
184     \textcolor{keywordflow}{return} 0;
185 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a94754c54c3e50b9dac5949cd46b0c776_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+alloc@{mmrp\+\_\+alloc}}
\index{mmrp\+\_\+alloc@{mmrp\+\_\+alloc}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+alloc()}{mmrp_alloc()}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf mmrp\+\_\+attribute}$\ast$ mmrp\+\_\+alloc (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{}\label{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}


mmrp.\+c 파일의 399 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
400 \{
401     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
402 
403     attrib = (\textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *) \hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} 
      \hyperlink{structmmrp__attribute}{mmrp\_attribute}));
404     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
405         \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
406 
407     memset(attrib, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structmmrp__attribute}{mmrp\_attribute}));
408 
409     attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_a4179c286e5c5f6489dd0db7aa4f8fb84}{MRP\_VO\_STATE};
410     attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
411     attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg} = \hyperlink{mrp_8h_aba082c372473ab19ad097360ad5aad18}{MRP\_SND\_NULL};
412     attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode} = \hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL};
413 \textcolor{preprocessor}{#ifdef LOG\_MRP}
414     attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a36519f39fcb22bd3b6b05b51d2bb7fbf}{mrp\_previous\_state} = -1;
415 \textcolor{preprocessor}{#endif}
416 
417     attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} = \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE};
418     attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE};
419 \textcolor{preprocessor}{#ifdef LOG\_MRP}
420     attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a36519f39fcb22bd3b6b05b51d2bb7fbf}{mrp\_previous\_state} = -1;
421 \textcolor{preprocessor}{#endif}
422     \textcolor{keywordflow}{return} attrib;
423 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+bye@{mmrp\+\_\+bye}}
\index{mmrp\+\_\+bye@{mmrp\+\_\+bye}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+bye(struct sockaddr\+\_\+in $\ast$client)}{mmrp_bye(struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}void mmrp\+\_\+bye (
\begin{DoxyParamCaption}
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_ad00b443aef7fb39111695a356c0ea9cb}{}\label{mmrp_8c_ad00b443aef7fb39111695a356c0ea9cb}


mmrp.\+c 파일의 1822 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1823 \{
1824     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db})
1825         \hyperlink{mrp_8c_acb17ba76c88c8425d5daf5132bcaf623}{mrp\_client\_delete}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
1826 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{mmrp_8c_ad00b443aef7fb39111695a356c0ea9cb_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ad00b443aef7fb39111695a356c0ea9cb_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+cmd\+\_\+mac@{mmrp\+\_\+cmd\+\_\+mac}}
\index{mmrp\+\_\+cmd\+\_\+mac@{mmrp\+\_\+cmd\+\_\+mac}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+cmd\+\_\+mac(uint8\+\_\+t $\ast$mac, int mrp\+\_\+event)}{mmrp_cmd_mac(uint8_t *mac, int mrp_event)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+cmd\+\_\+mac (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{mac, }
\item[{int}]{mrp\+\_\+event}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311}{}\label{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311}


mmrp.\+c 파일의 1577 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1578 \{
1579     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
1580     attrib = \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\_alloc}();
1581     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1582         \textcolor{keywordflow}{return} -1;
1583     attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE};
1584     memcpy(attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, mac, 6);
1585     \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(mrp\_event, attrib);
1586     \textcolor{keywordflow}{return} 0;
1587 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+cmd\+\_\+parse\+\_\+mac@{mmrp\+\_\+cmd\+\_\+parse\+\_\+mac}}
\index{mmrp\+\_\+cmd\+\_\+parse\+\_\+mac@{mmrp\+\_\+cmd\+\_\+parse\+\_\+mac}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+cmd\+\_\+parse\+\_\+mac(char $\ast$buf, int buflen, uint8\+\_\+t $\ast$mac, int $\ast$err\+\_\+index)}{mmrp_cmd_parse_mac(char *buf, int buflen, uint8_t *mac, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+cmd\+\_\+parse\+\_\+mac (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{mac, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_adbd7b966270eac75ed4759074974119e}{}\label{mmrp_8c_adbd7b966270eac75ed4759074974119e}


mmrp.\+c 파일의 1565 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1566 \{
1567     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
1568         \{\textcolor{stringliteral}{"M"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1a8704dcea9d4223b804f7a4a8a1e28421}{parse\_mac}, mac\},
1569         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
1570     \};
1571     \textcolor{keywordflow}{if} (buflen < 17)
1572         \textcolor{keywordflow}{return} -1;
1573     memset(mac, 0, 6);
1574     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
1575 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{mmrp_8c_adbd7b966270eac75ed4759074974119e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_adbd7b966270eac75ed4759074974119e_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+cmd\+\_\+parse\+\_\+service@{mmrp\+\_\+cmd\+\_\+parse\+\_\+service}}
\index{mmrp\+\_\+cmd\+\_\+parse\+\_\+service@{mmrp\+\_\+cmd\+\_\+parse\+\_\+service}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+cmd\+\_\+parse\+\_\+service(char $\ast$buf, int buflen, uint8\+\_\+t $\ast$service, int $\ast$err\+\_\+index)}{mmrp_cmd_parse_service(char *buf, int buflen, uint8_t *service, int *err_index)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+cmd\+\_\+parse\+\_\+service (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{service, }
\item[{int $\ast$}]{err\+\_\+index}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3}{}\label{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3}


mmrp.\+c 파일의 1589 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1591 \{
1592     \textcolor{keyword}{struct }\hyperlink{structparse__param}{parse\_param} specs[] = \{
1593         \{\textcolor{stringliteral}{"S"} \hyperlink{parse_8h_aec88e9092a20d8b1021aab9be79f2999}{PARSE\_ASSIGN}, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ad8e70adbd665b392e08d67b77839e326}{parse\_u8}, service\},
1594         \{0, \hyperlink{parse_8h_a93f84b99386e130a55f8403e259db5d1ae39724d02c4758b719cf742a740a7dc0}{parse\_null}, 0\}
1595     \};
1596     *service = 0;
1597     \textcolor{keywordflow}{if} (buflen < 5)
1598         \textcolor{keywordflow}{return} -1;
1599     \textcolor{keywordflow}{return} \hyperlink{parse_8c_a2f6a69a9fef60eee9fc83d6f16367302}{parse}(buf + 4, buflen - 4, specs, err\_index);
1600 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+cmd\+\_\+service@{mmrp\+\_\+cmd\+\_\+service}}
\index{mmrp\+\_\+cmd\+\_\+service@{mmrp\+\_\+cmd\+\_\+service}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+cmd\+\_\+service(uint8\+\_\+t service, int mrp\+\_\+event)}{mmrp_cmd_service(uint8_t service, int mrp_event)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+cmd\+\_\+service (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{service, }
\item[{int}]{mrp\+\_\+event}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc}{}\label{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc}


mmrp.\+c 파일의 1602 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1603 \{
1604     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
1605     attrib = \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\_alloc}();
1606     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1607         \textcolor{keywordflow}{return} -1;
1608     attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE};
1609     attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq} = service;
1610     \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(mrp\_event, attrib);
1611     \textcolor{keywordflow}{return} 0;
1612 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+dumptable@{mmrp\+\_\+dumptable}}
\index{mmrp\+\_\+dumptable@{mmrp\+\_\+dumptable}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+dumptable(struct sockaddr\+\_\+in $\ast$client)}{mmrp_dumptable(struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+dumptable (
\begin{DoxyParamCaption}
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a71ebdfaa9e7295dba3bfa7564c49378c}{}\label{mmrp_8c_a71ebdfaa9e7295dba3bfa7564c49378c}


mmrp.\+c 파일의 1482 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1483 \{
1484     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1485     \textcolor{keywordtype}{char} *msgbuf\_wrptr;
1486     \textcolor{keywordtype}{char} *stage;
1487     \textcolor{keywordtype}{char} *variant;
1488     \textcolor{keywordtype}{char} *regsrc;
1489     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
1490 
1491     msgbuf = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
1492     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
1493         \textcolor{keywordflow}{return} -1;
1494 
1495     stage = variant = regsrc = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1496 
1497     stage = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
1498     variant = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
1499     regsrc = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
1500 
1501     \textcolor{keywordflow}{if} ((\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == stage) || (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == variant) || (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == regsrc))
1502         \textcolor{keywordflow}{goto} free\_msgbuf;
1503 
1504     memset(msgbuf, 0, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
1505 
1506     msgbuf\_wrptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1507 
1508     attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
1509 
1510     \textcolor{keywordflow}{if} (attrib == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
1511         sprintf(msgbuf, \textcolor{stringliteral}{"MMRP:Empty\(\backslash\)n"});
1512     \}
1513 
1514     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
1515         \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} == attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
1516             sprintf(variant, \textcolor{stringliteral}{"S=%d"}, attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq});
1517         \} \textcolor{keywordflow}{else} \{
1518             sprintf(variant, \textcolor{stringliteral}{"M=%02x%02x%02x%02x%02x%02x"},
1519                 attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[0],
1520                 attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[1],
1521                 attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[2],
1522                 attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[3],
1523                 attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[4],
1524                 attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[5]);
1525         \}
1526         sprintf(regsrc, \textcolor{stringliteral}{"R=%02x%02x%02x%02x%02x%02x"},
1527             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[0],
1528             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[1],
1529             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[2],
1530             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[3],
1531             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[4],
1532             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[5]);
1533         \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state}) \{
1534         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE}:
1535             sprintf(stage, \textcolor{stringliteral}{"MIN %s %s\(\backslash\)n"}, variant, regsrc);
1536             \textcolor{keywordflow}{break};
1537         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0f5c8d184b38de3dc1e554c3bb3451fc}{MRP\_LV\_STATE}:
1538             sprintf(stage, \textcolor{stringliteral}{"MLV %s %s\(\backslash\)n"}, variant, regsrc);
1539             \textcolor{keywordflow}{break};
1540         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE}:
1541             sprintf(stage, \textcolor{stringliteral}{"MMT %s %s\(\backslash\)n"}, variant, regsrc);
1542             \textcolor{keywordflow}{break};
1543         \textcolor{keywordflow}{default}:
1544             \textcolor{keywordflow}{break};
1545         \}
1546         sprintf(msgbuf\_wrptr, \textcolor{stringliteral}{"%s"}, stage);
1547         msgbuf\_wrptr += strnlen(stage, 128);
1548         attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1549     \}
1550 
1551     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
1552 
1553  free\_msgbuf:
1554     \textcolor{keywordflow}{if} (regsrc)
1555         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(regsrc);
1556     \textcolor{keywordflow}{if} (variant)
1557         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(variant);
1558     \textcolor{keywordflow}{if} (stage)
1559         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(stage);
1560     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1561     \textcolor{keywordflow}{return} 0;
1562 
1563 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{mmrp_8c_a71ebdfaa9e7295dba3bfa7564c49378c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a71ebdfaa9e7295dba3bfa7564c49378c_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+emit\+\_\+macvectors@{mmrp\+\_\+emit\+\_\+macvectors}}
\index{mmrp\+\_\+emit\+\_\+macvectors@{mmrp\+\_\+emit\+\_\+macvectors}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+emit\+\_\+macvectors(unsigned char $\ast$msgbuf, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)}{mmrp_emit_macvectors(unsigned char *msgbuf, unsigned char *msgbuf_eof, int *bytes_used, int lva)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+emit\+\_\+macvectors (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msgbuf, }
\item[{unsigned char $\ast$}]{msgbuf\+\_\+eof, }
\item[{int $\ast$}]{bytes\+\_\+used, }
\item[{int}]{lva}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a06f1d32056c2981ed81a0813868f01f3}{}\label{mmrp_8c_a06f1d32056c2981ed81a0813868f01f3}


mmrp.\+c 파일의 1042 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1044 \{
1045     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
1046     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
1047     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1048     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof = msgbuf\_eof;
1049     uint16\_t numvalues;
1050     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
1051     \textcolor{keywordtype}{int} vectidx;
1052     \textcolor{keywordtype}{int} vectevt[3];
1053     \textcolor{keywordtype}{int} vectevt\_idx;
1054     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} macvec\_firstval[6];
1055     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib, *vattrib;
1056     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vector\_size = 11;
1057     \textcolor{keywordtype}{int} mac\_eq;
1058 
1059     \textcolor{comment}{/* need at least 11 bytes for a single vector */}
1060     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr > (mrpdu\_msg\_eof - vector\_size))
1061         \textcolor{keywordflow}{goto} oops;
1062 
1063     mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
1064     mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} = \hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE};
1065     mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} = 6;
1066 
1067     attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
1068 
1069     mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data};
1070 
1071     while ((mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - vector\_size - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) && (
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib)) \{
1072 
1073         \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE} != attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
1074             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1075             \textcolor{keywordflow}{continue};
1076         \}
1077 
1078         \textcolor{keywordflow}{if} (0 == attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
1079             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1080             \textcolor{keywordflow}{continue};
1081         \}
1082         attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
1083         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL} == attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.
      \hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode}) \{
1084             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1085             \textcolor{keywordflow}{continue};
1086         \}
1087 
1088         \textcolor{comment}{/* pointing to at least one attribute which needs to be transmitted */}
1089         memcpy(macvec\_firstval, attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, 6);
1090         memcpy(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents},
1091                attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, 6);
1092 
1093         \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
1094         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
1095             \textcolor{comment}{/*}
1096 \textcolor{comment}{             * If 'In' in indicated by the applicant attribute, the}
1097 \textcolor{comment}{             * look at the registrar state to determine whether to}
1098 \textcolor{comment}{             * send an In (if registrar is also In) or an Mt if the}
1099 \textcolor{comment}{             * registrar is either Mt or Lv.}
1100 \textcolor{comment}{             */}
1101             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
1102                 vectevt[0] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
1103             \textcolor{keywordflow}{else}
1104                 vectevt[0] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
1105             \textcolor{keywordflow}{break};
1106         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
1107             vectevt[0] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
1108             \textcolor{keywordflow}{break};
1109         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
1110             vectevt[0] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
1111             \textcolor{keywordflow}{break};
1112         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
1113             \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
1114 \textcolor{comment}{             * the corresponding registrar state to determine whether}
1115 \textcolor{comment}{             * to send a JoinIn (if the registar state is 'In') or}
1116 \textcolor{comment}{             * a JoinMt if the registrar state is MT or LV.}
1117 \textcolor{comment}{             */}
1118             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
1119                 vectevt[0] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
1120             \textcolor{keywordflow}{else}
1121                 vectevt[0] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
1122             \textcolor{keywordflow}{break};
1123         \textcolor{keywordflow}{default}:
1124             \textcolor{comment}{/* huh? */}
1125             \textcolor{keywordflow}{goto} oops;
1126             \textcolor{keywordflow}{break};
1127         \}
1128 
1129         vectevt\_idx = 1;
1130         numvalues = 1;
1131 
1132         vectevt[1] = 0;
1133         vectevt[2] = 0;
1134 
1135         \textcolor{comment}{/* now attempt to vectorize contiguous other attributes}
1136 \textcolor{comment}{         * which also need to be transmitted}
1137 \textcolor{comment}{         */}
1138 
1139         vectidx = 6;
1140         vattrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1141 
1142         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != vattrib) \{
1143             \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE} != vattrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})
1144                 \textcolor{keywordflow}{break};
1145 
1146             \textcolor{keywordflow}{if} (0 == vattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx})
1147                 \textcolor{keywordflow}{break};
1148 
1149             \hyperlink{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{mmrp\_increment\_macaddr}(macvec\_firstval);
1150 
1151             mac\_eq =
1152                 memcmp(vattrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, macvec\_firstval,
1153                    6);
1154 
1155             \textcolor{keywordflow}{if} (0 != mac\_eq)
1156                 \textcolor{keywordflow}{break};
1157 
1158             vattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
1159 
1160             \textcolor{keywordflow}{switch} (vattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
1161             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
1162                 \textcolor{comment}{/*}
1163 \textcolor{comment}{                 * If 'In' in indicated by the applicant attribute, the}
1164 \textcolor{comment}{                 * look at the registrar state to determine whether to}
1165 \textcolor{comment}{                 * send an In (if registrar is also In) or an Mt if the}
1166 \textcolor{comment}{                 * registrar is either Mt or Lv.}
1167 \textcolor{comment}{                 */}
1168                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} ==
1169                     vattrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
1170                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
1171                 \textcolor{keywordflow}{else}
1172                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
1173                 \textcolor{keywordflow}{break};
1174             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
1175                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
1176                 \textcolor{keywordflow}{break};
1177             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
1178                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
1179                 \textcolor{keywordflow}{break};
1180             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
1181                 \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
1182 \textcolor{comment}{                 * the corresponding registrar state to determine whether}
1183 \textcolor{comment}{                 * to send a JoinIn (if the registar state is 'In') or}
1184 \textcolor{comment}{                 * a JoinMt if the registrar state is MT or LV.}
1185 \textcolor{comment}{                 */}
1186                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
1187                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
1188                 \textcolor{keywordflow}{else}
1189                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
1190                 \textcolor{keywordflow}{break};
1191             \textcolor{keywordflow}{default}:
1192                 \textcolor{comment}{/* huh? */}
1193                 \textcolor{keywordflow}{goto} oops;
1194                 \textcolor{keywordflow}{break};
1195             \}
1196 
1197             vectevt\_idx++;
1198             numvalues++;
1199 
1200             \textcolor{keywordflow}{if} (vectevt\_idx > 2) \{
1201                 vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
1202                                 vectevt[1],
1203                                 vectevt[2]);
1204 
1205                 mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}
1206                     [vectidx] = vect\_3pack;
1207                 vectidx++;
1208                 vectevt[0] = 0;
1209                 vectevt[1] = 0;
1210                 vectevt[2] = 0;
1211                 vectevt\_idx = 0;
1212             \}
1213 
1214             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
1215                 > (mrpdu\_msg\_eof - vector\_size))
1216                 \textcolor{keywordflow}{goto} oops;
1217 
1218             vattrib = vattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1219         \}
1220 
1221         \textcolor{comment}{/* handle any trailers */}
1222         \textcolor{keywordflow}{if} (vectevt\_idx > 0) \{
1223             vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
1224                             vectevt[1], vectevt[2]);
1225 
1226             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx] =
1227                 vect\_3pack;
1228             vectidx++;
1229         \}
1230 
1231         \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]) >
1232             (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
1233             \textcolor{keywordflow}{goto} oops;
1234 
1235         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(numvalues);
1236 
1237         \textcolor{keywordflow}{if} (lva)
1238             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} |= \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
1239 
1240         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
1241             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
1242 
1243         \textcolor{comment}{/* 2 byte header, followed by FirstValues/Vectors - remember vectidx starts at 0 */}
1244         mrpdu\_msg\_ptr =
1245             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]);
1246 
1247         attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1248 
1249         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1250     \}
1251 
1252     \textcolor{keywordflow}{if} (mrpdu\_vectorptr == (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}) \{
1253         *bytes\_used = 0;
1254         \textcolor{keywordflow}{return} 0;
1255     \}
1256 
1257     \textcolor{comment}{/* endmark */}
1258     *mrpdu\_msg\_ptr = 0;
1259     mrpdu\_msg\_ptr++;
1260     *mrpdu\_msg\_ptr = 0;
1261     mrpdu\_msg\_ptr++;
1262 
1263     *bytes\_used = (mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf});
1264     \textcolor{keywordflow}{return} 0;
1265  oops:
1266     \textcolor{comment}{/* an internal error - caller should assume TXLAF */}
1267     *bytes\_used = 0;
1268     \textcolor{keywordflow}{return} -1;
1269 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a06f1d32056c2981ed81a0813868f01f3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a06f1d32056c2981ed81a0813868f01f3_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+emit\+\_\+svcvectors@{mmrp\+\_\+emit\+\_\+svcvectors}}
\index{mmrp\+\_\+emit\+\_\+svcvectors@{mmrp\+\_\+emit\+\_\+svcvectors}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+emit\+\_\+svcvectors(unsigned char $\ast$msgbuf, unsigned char $\ast$msgbuf\+\_\+eof, int $\ast$bytes\+\_\+used, int lva)}{mmrp_emit_svcvectors(unsigned char *msgbuf, unsigned char *msgbuf_eof, int *bytes_used, int lva)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+emit\+\_\+svcvectors (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msgbuf, }
\item[{unsigned char $\ast$}]{msgbuf\+\_\+eof, }
\item[{int $\ast$}]{bytes\+\_\+used, }
\item[{int}]{lva}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a415f332f83bf099d1ed451652d4a86b5}{}\label{mmrp_8c_a415f332f83bf099d1ed451652d4a86b5}


mmrp.\+c 파일의 799 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
801 \{
802     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
803     uint16\_t numvalues;
804     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
805     \textcolor{keywordtype}{int} vectidx;
806     \textcolor{keywordtype}{int} vectevt[3];
807     \textcolor{keywordtype}{int} vectevt\_idx;
808     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} svcreq\_firstval;
809     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib, *vattrib;
810     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
811     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
812     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof = msgbuf\_eof;
813     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} attrib\_found\_flag = 0;
814     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vector\_size = 6;
815 
816     \textcolor{comment}{/* need at least 6 bytes for a single vector */}
817     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr > (mrpdu\_msg\_eof - vector\_size))
818         \textcolor{keywordflow}{goto} oops;
819 
820     mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
821     mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} = \hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE};
822     mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} = 1;
823 
824     attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
825 
826     mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data};
827 
828     while ((mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - vector\_size - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) && (
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib)) \{
829 
830         \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} != attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
831             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
832             \textcolor{keywordflow}{continue};
833         \}
834 
835         \textcolor{keywordflow}{if} (0 == attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
836             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
837             \textcolor{keywordflow}{continue};
838         \}
839         attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
840         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a4090175ac72af181b331346403141efc}{MRP\_ENCODE\_OPTIONAL} == attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.
      \hyperlink{structmrp__applicant__attribute_a29558c1e60f974924d00ebfe5daa02d2}{encode}) \{
841             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
842             \textcolor{keywordflow}{continue};
843         \}
844 
845         attrib\_found\_flag = 1;
846         \textcolor{comment}{/* pointing to at least one attribute which needs to be transmitted */}
847         svcreq\_firstval = attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq};
848         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[0] =
849             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq};
850 
851         \textcolor{keywordflow}{switch} (attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
852         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
853             \textcolor{comment}{/*}
854 \textcolor{comment}{             * If 'In' in indicated by the applicant attribute, the}
855 \textcolor{comment}{             * look at the registrar state to determine whether to}
856 \textcolor{comment}{             * send an In (if registrar is also In) or an Mt if the}
857 \textcolor{comment}{             * registrar is either Mt or Lv.}
858 \textcolor{comment}{             */}
859             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
860                 vectevt[0] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
861             \textcolor{keywordflow}{else}
862                 vectevt[0] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
863             \textcolor{keywordflow}{break};
864         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
865             vectevt[0] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
866             \textcolor{keywordflow}{break};
867         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
868             vectevt[0] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
869             \textcolor{keywordflow}{break};
870         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
871             \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
872 \textcolor{comment}{             * the corresponding registrar state to determine whether}
873 \textcolor{comment}{             * to send a JoinIn (if the registar state is 'In') or}
874 \textcolor{comment}{             * a JoinMt if the registrar state is MT or LV.}
875 \textcolor{comment}{             */}
876             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
877                 vectevt[0] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
878             \textcolor{keywordflow}{else}
879                 vectevt[0] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
880             \textcolor{keywordflow}{break};
881         \textcolor{keywordflow}{default}:
882             \textcolor{comment}{/* huh? */}
883             \textcolor{keywordflow}{goto} oops;
884             \textcolor{keywordflow}{break};
885         \}
886 
887         vectevt\_idx = 1;
888         numvalues = 1;
889 
890         \textcolor{comment}{/* now attempt to vectorize contiguous other attributes}
891 \textcolor{comment}{         * which also need to be transmitted}
892 \textcolor{comment}{         */}
893 
894         vectidx = 2;
895         vattrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
896 
897         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != vattrib) \{
898             \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} != vattrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type})
899                 \textcolor{keywordflow}{break};
900 
901             \textcolor{keywordflow}{if} (0 == vattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx})
902                 \textcolor{keywordflow}{break};
903 
904             svcreq\_firstval++;
905 
906             \textcolor{keywordflow}{if} (vattrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq} != svcreq\_firstval)
907                 \textcolor{keywordflow}{break};
908 
909             vattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
910 
911             \textcolor{keywordflow}{switch} (vattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_ab5da457547f90222856e97e186840f16}{sndmsg}) \{
912             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a65de89abcee7799ad6d2bf93223d865b}{MRP\_SND\_IN}:
913                 \textcolor{comment}{/*}
914 \textcolor{comment}{                 * If 'In' in indicated by the applicant attribute, the}
915 \textcolor{comment}{                 * look at the registrar state to determine whether to}
916 \textcolor{comment}{                 * send an In (if registrar is also In) or an Mt if the}
917 \textcolor{comment}{                 * registrar is either Mt or Lv.}
918 \textcolor{comment}{                 */}
919                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} ==
920                     vattrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
921                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN};
922                 \textcolor{keywordflow}{else}
923                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT};
924                 \textcolor{keywordflow}{break};
925             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a9524a40536688e41bc37013c412d0592}{MRP\_SND\_NEW}:
926                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW};
927                 \textcolor{keywordflow}{break};
928             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a207fd70a4515bca4573a21ce7b0677f3}{MRP\_SND\_LV}:
929                 vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV};
930                 \textcolor{keywordflow}{break};
931             \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ad734c1e366b17f71f1649371499a26e1}{MRP\_SND\_JOIN}:
932                 \textcolor{comment}{/* IF 'Join' in indicated by the applicant, look at}
933 \textcolor{comment}{                 * the corresponding registrar state to determine whether}
934 \textcolor{comment}{                 * to send a JoinIn (if the registar state is 'In') or}
935 \textcolor{comment}{                 * a JoinMt if the registrar state is MT or LV.}
936 \textcolor{comment}{                 */}
937                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == vattrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
938                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ};
939                 \textcolor{keywordflow}{else}
940                     vectevt[vectevt\_idx] = \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT};
941                 \textcolor{keywordflow}{break};
942             \textcolor{keywordflow}{default}:
943                 \textcolor{comment}{/* huh? */}
944                 \textcolor{keywordflow}{goto} oops;
945                 \textcolor{keywordflow}{break};
946             \}
947 
948             vectevt\_idx++;
949             numvalues++;
950 
951             \textcolor{keywordflow}{if} (vectevt\_idx > 2) \{
952                 vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
953                                 vectevt[1],
954                                 vectevt[2]);
955 
956                 mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}
957                     [vectidx] = vect\_3pack;
958                 vectidx++;
959                 vectevt[0] = 0;
960                 vectevt[1] = 0;
961                 vectevt[2] = 0;
962                 vectevt\_idx = 0;
963             \}
964 
965             \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx])
966                 > (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
967                 \textcolor{keywordflow}{goto} oops;
968 
969             vattrib = vattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
970         \}
971 
972         \textcolor{comment}{/* handle any trailers */}
973         \textcolor{keywordflow}{if} (vectevt\_idx > 0) \{
974             vect\_3pack = \hyperlink{mrp_8h_abbe8c850dcafe2a5fda76c1151dd4d4e}{MRPDU\_3PACK\_ENCODE}(vectevt[0],
975                             vectevt[1], vectevt[2]);
976 
977             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx] =
978                 vect\_3pack;
979             vectidx++;
980         \}
981 
982         \textcolor{keywordflow}{if} (&(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]) >
983             (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
984             \textcolor{keywordflow}{goto} oops;
985 
986         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(numvalues);
987 
988         \textcolor{keywordflow}{if} (lva) \{
989             mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} |= \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
990             lva = 0;
991         \}
992 
993         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
994             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
995 
996         \textcolor{comment}{/* 2 byte header, followed by FirstValues/Vectors - remember vectidx starts at 0 */}
997         mrpdu\_msg\_ptr =
998             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[vectidx]);
999 
1000         attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1001 
1002         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1003 
1004     \}
1005 
1006     \textcolor{comment}{/*}
1007 \textcolor{comment}{     * If no attributes are declared, send a LeaveAll with an all 0}
1008 \textcolor{comment}{     * FirstValue, Number of Values set to 0 and not attribute event.}
1009 \textcolor{comment}{     */}
1010     \textcolor{keywordflow}{if} ((0 == attrib\_found\_flag) && \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag}) \{
1011 
1012         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(0) |
1013                         \hyperlink{mrp_8h_aaf8752afe3c7a3dfc7edfabcd58db588}{MRPDU\_VECT\_LVA\_FLAG};
1014         mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader} =
1015             htons(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader});
1016 
1017         mrpdu\_msg\_ptr =
1018             &(mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[mrpdu\_msg->
      \hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength}]);
1019         mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
1020     \}
1021 
1022     \textcolor{keywordflow}{if} (mrpdu\_vectorptr == (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->
      \hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data}) \{
1023         *bytes\_used = 0;
1024         \textcolor{keywordflow}{return} 0;
1025     \}
1026 
1027     \textcolor{comment}{/* endmark */}
1028     *mrpdu\_msg\_ptr = 0;
1029     mrpdu\_msg\_ptr++;
1030     *mrpdu\_msg\_ptr = 0;
1031     mrpdu\_msg\_ptr++;
1032 
1033     *bytes\_used = (mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf});
1034     \textcolor{keywordflow}{return} 0;
1035  oops:
1036     \textcolor{comment}{/* an internal error - caller should assume TXLAF */}
1037     *bytes\_used = 0;
1038     \textcolor{keywordflow}{return} -1;
1039 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a415f332f83bf099d1ed451652d4a86b5_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+event@{mmrp\+\_\+event}}
\index{mmrp\+\_\+event@{mmrp\+\_\+event}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+event(int event, struct mmrp\+\_\+attribute $\ast$rattrib)}{mmrp_event(int event, struct mmrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+event (
\begin{DoxyParamCaption}
\item[{int}]{event, }
\item[{struct {\bf mmrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{}\label{mmrp_8c_a494d680e84bb2796362c1f1beb754771}


mmrp.\+c 파일의 201 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
202 \{
203     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
204     \textcolor{keywordtype}{int} count = 0;
205 
206     \textcolor{keywordflow}{switch} (event) \{
207     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER}:
208         \hyperlink{mrp_8c_ad42384ab059d663e202e580d41a64c08}{mrp\_lvatimer\_stop}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
209         \hyperlink{mrp_8c_a1a9cfb025f5995d622477c446a1e46d7}{mrp\_jointimer\_stop}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
210         \textcolor{comment}{/* update state */}
211         attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
212 
213         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
214 \textcolor{preprocessor}{#if LOG\_MMRP}
215             \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MMRP -> mrp\_applicant\_fsm\(\backslash\)n"});
216 \textcolor{preprocessor}{#endif}
217             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
218                       &(attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_a49db74ad792de9b57bc08c273a3dc684}{MRP\_EVENT\_TXLA},
219                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
220             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
221                       &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_a49db74ad792de9b57bc08c273a3dc684}{MRP\_EVENT\_TXLA});
222             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
223         \}
224 
225         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER});
226 
227         \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag} = 1;
228         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX});
229         \hyperlink{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c}{mmrp\_txpdu}();
230         \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag} = 0;
231         \textcolor{keywordflow}{break};
232     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}:
233         \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
234         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == rattrib)
235             \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* XXX internal fault */}
236 
237         \textcolor{comment}{/* update state */}
238         attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
239 
240         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
241             \textcolor{keywordflow}{if} (attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == rattrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
242 \textcolor{preprocessor}{#if LOG\_MMRP}
243                 \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MMRP -> mrp\_applicant\_fsm\(\backslash\)n"});
244 \textcolor{preprocessor}{#endif}
245                 \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
246                       &(attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA},
247                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
248                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
249                       &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA});
250             \}
251             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
252         \}
253 
254         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA});
255 
256         \textcolor{keywordflow}{break};
257     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX}:
258         \hyperlink{mrp_8c_a1a9cfb025f5995d622477c446a1e46d7}{mrp\_jointimer\_stop}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
259         attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
260 
261         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
262 \textcolor{preprocessor}{#if LOG\_MMRP}
263             \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MMRP -> mrp\_applicant\_fsm\(\backslash\)n"});
264 \textcolor{preprocessor}{#endif}
265             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
266                       &(attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX},
267                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
268             count += \hyperlink{mrp_8c_a992ae582a10aa753e05efad96e636920}{mrp\_applicant\_state\_transition\_implies\_tx}(&(
      attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}));
269             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
270         \}
271 
272         \hyperlink{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c}{mmrp\_txpdu}();
273 
274         \textcolor{comment}{/*}
275 \textcolor{comment}{         * Certain state transitions imply we need to request another tx}
276 \textcolor{comment}{         * opportunity.}
277 \textcolor{comment}{         */}
278         \textcolor{keywordflow}{if} (count) \{
279             \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
280         \}
281 
282         \textcolor{keywordflow}{break};
283     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER}:
284         \hyperlink{mrp_8c_ae9dc27744c17e2817ced68ab6409cc2f}{mrp\_lvtimer\_stop}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
285         attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
286 
287         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
288             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
289                       &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
290                       \hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER});
291 
292             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
293         \}
294         \textcolor{keywordflow}{break};
295     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC}:
296         attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
297 
298         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
299             \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
300         \}
301 
302         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
303             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
304                       &(attrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}),
305                       \hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC},
306                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
307 \textcolor{preprocessor}{#if LOG\_MMRP}
308             mmrp\_print\_debug\_info(event, attrib);
309 \textcolor{preprocessor}{#endif}
310             attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
311         \}
312         \textcolor{keywordflow}{break};
313     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}:
314     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}:
315     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW}:
316     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ}:
317     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT}:
318     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}:
319     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN}:
320     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT}:
321     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV}:
322         \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
323         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == rattrib)
324             \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* XXX internal fault */}
325 
326         \textcolor{comment}{/* update state */}
327         attrib = \hyperlink{mmrp_8c_ae1caabda703cfb0e484a2cbadcec985c}{mmrp\_lookup}(rattrib);
328 
329         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
330             \textcolor{comment}{/* ignore rMT! if attribute does not already exist */}
331             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT} == event) \{
332                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
333                 \textcolor{keywordflow}{return} 0;
334             \}
335             \hyperlink{mmrp_8c_a94754c54c3e50b9dac5949cd46b0c776}{mmrp\_add}(rattrib);
336             attrib = rattrib;
337         \} \textcolor{keywordflow}{else} \{
338             \hyperlink{mmrp_8c_adbac38210e51ceccaf4986e3105ac42b}{mmrp\_merge}(rattrib);
339             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
340         \}
341 
342 \textcolor{preprocessor}{#if LOG\_MMRP}
343         \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MMRP -> mrp\_applicant\_fsm\(\backslash\)n"});
344 \textcolor{preprocessor}{#endif}
345         \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), &(attrib->
      \hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}),
346                   event,
347                   \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
348         \textcolor{comment}{/* remap local requests into registrar events */}
349         \textcolor{keywordflow}{switch} (event) \{
350         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}:
351             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
352                       &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_ad926766e10d051bc1ad0d8c4dd1d8114}{MRP\_EVENT\_BEGIN});
353             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a4f47669fbd02fd9dc10351e38bfeca61}{MRP\_NOTIFY\_NEW};
354             \textcolor{keywordflow}{break};
355         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}:
356             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
357                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
358                           &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
359                           \hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ});
360             \textcolor{keywordflow}{else}
361                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
362                           &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
363                           \hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT});
364             \textcolor{keywordflow}{break};
365         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}:
366             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
367                       &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV});
368             \textcolor{keywordflow}{break};
369         \textcolor{keywordflow}{default}:
370             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
371                       &(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), event);
372             \textcolor{keywordflow}{break};
373         \}
374         \textcolor{keywordflow}{break};
375     \textcolor{keywordflow}{default}:
376         \textcolor{keywordflow}{break};
377     \}
378 
379     \textcolor{comment}{/*}
380 \textcolor{comment}{     * XXX should honor the MMRP\_db->mrp\_db.registration and}
381 \textcolor{comment}{     * MMRP\_db->mrp\_db.participant controls}
382 \textcolor{comment}{     */}
383 
384     \textcolor{comment}{/* generate local notifications */}
385     attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
386 
387     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
388         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE} != attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify}) \{
389             \hyperlink{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919}{mmrp\_send\_notifications}(attrib,
390                         attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify});
391             attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE};
392         \}
393         attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
394     \}
395 
396     \textcolor{keywordflow}{return} 0;
397 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a494d680e84bb2796362c1f1beb754771_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a494d680e84bb2796362c1f1beb754771_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+increment\+\_\+macaddr@{mmrp\+\_\+increment\+\_\+macaddr}}
\index{mmrp\+\_\+increment\+\_\+macaddr@{mmrp\+\_\+increment\+\_\+macaddr}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+increment\+\_\+macaddr(uint8\+\_\+t $\ast$macaddr)}{mmrp_increment_macaddr(uint8_t *macaddr)}}]{\setlength{\rightskip}{0pt plus 5cm}void mmrp\+\_\+increment\+\_\+macaddr (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{macaddr}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{}\label{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}


mmrp.\+c 파일의 425 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
426 \{
427 
428     \textcolor{keywordtype}{int} i;
429 
430     i = 5;
431     \textcolor{keywordflow}{while} (i > 0) \{
432         \textcolor{keywordflow}{if} (255 != \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}[i]) \{
433             \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}[i]++;
434             \textcolor{keywordflow}{return};
435         \}
436         \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}[i] = 0;
437         i--;
438     \}
439     \textcolor{keywordflow}{return};
440 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+init@{mmrp\+\_\+init}}
\index{mmrp\+\_\+init@{mmrp\+\_\+init}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+init(int mmrp\+\_\+enable)}{mmrp_init(int mmrp_enable)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+init (
\begin{DoxyParamCaption}
\item[{int}]{mmrp\+\_\+enable}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a5b29834ea6559ef166c451cd001841bd}{}\label{mmrp_8c_a5b29834ea6559ef166c451cd001841bd}


mmrp.\+c 파일의 1717 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1718 \{
1719     \textcolor{keywordtype}{int} rc;
1720 
1721     \textcolor{comment}{/* XXX doesn't handle re-start */}
1722 
1723     \hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\_socket} = \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET};
1724     \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1725 
1726     \textcolor{keywordflow}{if} (0 == \hyperlink{mrpd_8c_ad3139c31ff2065414a32aff30445c816}{mmrp\_enable}) \{
1727         \textcolor{keywordflow}{return} 0;
1728     \}
1729 
1730     rc = \hyperlink{mrpd_8c_a66b3d8a38b07fb44e541a98077d8da93}{mrpd\_init\_protocol\_socket}(\hyperlink{mmrp_8h_adea7aaa34d3ac34bc388b49c079758a9}{MMRP\_ETYPE}, &
      \hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\_socket}, \hyperlink{mmrp_8c_ac75d2e5b34d0ee445fc399174a9538ce}{MMRP\_ADDR});
1731     \textcolor{keywordflow}{if} (rc < 0)
1732         \textcolor{keywordflow}{return} -1;
1733 
1734     \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db} = (\textcolor{keyword}{struct }\hyperlink{structmmrp__database}{mmrp\_database} *) \hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} 
      \hyperlink{structmmrp__database}{mmrp\_database}));
1735 
1736     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db})
1737         \textcolor{keywordflow}{goto} abort\_socket;
1738 
1739     memset(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structmmrp__database}{mmrp\_database}));
1740 
1741     \textcolor{comment}{/* if registration is FIXED or FORBIDDEN}
1742 \textcolor{comment}{     * updates from MRP are discarded, and}
1743 \textcolor{comment}{     * only IN and JOININ messages are sent}
1744 \textcolor{comment}{     */}
1745     \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a76843f7fb36637f07903bdab30dd3658}{registration} = 
      \hyperlink{mrp_8h_a11e1dbd903411e2172c6be2c472591b2}{MRP\_REGISTRAR\_CTL\_NORMAL};   \textcolor{comment}{/* default */}
1746 
1747     \textcolor{comment}{/* if participant role is 'SILENT' (or non-participant)}
1748 \textcolor{comment}{     * applicant doesn't send any messages -}
1749 \textcolor{comment}{     *}
1750 \textcolor{comment}{     * Note - theoretically configured per-attribute}
1751 \textcolor{comment}{     */}
1752     \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a08ed403eabc8682a01da8a737ac32c31}{participant} = 
      \hyperlink{mrp_8h_a80a35ccc7edea256258cd0d64ad8c352}{MRP\_APPLICANT\_CTL\_NORMAL};   \textcolor{comment}{/* default */}
1753 
1754     rc = \hyperlink{mrpd_8c_a5b0b02e11db50efcae15acdc84592365}{mrpd\_init\_timers}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
1755 
1756     \textcolor{keywordflow}{if} (rc < 0)
1757         \textcolor{keywordflow}{goto} abort\_alloc;
1758 
1759     \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_ad926766e10d051bc1ad0d8c4dd1d8114}{MRP\_EVENT\_BEGIN});
1760     \textcolor{keywordflow}{return} 0;
1761 
1762  abort\_alloc:
1763     \textcolor{comment}{/* free MMRP\_db and related structures */}
1764     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db});
1765     \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1766  abort\_socket:
1767     \hyperlink{mrpd_8c_a19778b71809cd3a21e7677bd0a155e51}{mrpd\_close\_socket}(\hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\_socket});
1768     \hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\_socket} = \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET};
1769     \textcolor{comment}{/* XXX */}
1770     \textcolor{keywordflow}{return} -1;
1771 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a5b29834ea6559ef166c451cd001841bd_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a5b29834ea6559ef166c451cd001841bd_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+lookup@{mmrp\+\_\+lookup}}
\index{mmrp\+\_\+lookup@{mmrp\+\_\+lookup}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+lookup(struct mmrp\+\_\+attribute $\ast$rattrib)}{mmrp_lookup(struct mmrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf mmrp\+\_\+attribute}$\ast$ mmrp\+\_\+lookup (
\begin{DoxyParamCaption}
\item[{struct {\bf mmrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_ae1caabda703cfb0e484a2cbadcec985c}{}\label{mmrp_8c_ae1caabda703cfb0e484a2cbadcec985c}


mmrp.\+c 파일의 58 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
59 \{
60     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
61     \textcolor{keywordtype}{int} mac\_eq;
62 
63     attrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
64     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
65         \textcolor{keywordflow}{if} (rattrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} == attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
66             \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} == attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
67                 \textcolor{comment}{/* this makes no sense to me ...}
68 \textcolor{comment}{                 * its boolean .. but ..}
69 \textcolor{comment}{                 */}
70                 \textcolor{keywordflow}{if} (attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq} ==
71                     rattrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq})
72                     \textcolor{keywordflow}{return} attrib;
73             \} \textcolor{keywordflow}{else} \{
74                 mac\_eq = memcmp(attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr},
75                         rattrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, 6);
76                 \textcolor{keywordflow}{if} (0 == mac\_eq)
77                     \textcolor{keywordflow}{return} attrib;
78             \}
79         \}
80         attrib = attrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
81     \}
82     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
83 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ae1caabda703cfb0e484a2cbadcec985c_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+merge@{mmrp\+\_\+merge}}
\index{mmrp\+\_\+merge@{mmrp\+\_\+merge}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+merge(struct mmrp\+\_\+attribute $\ast$rattrib)}{mmrp_merge(struct mmrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+merge (
\begin{DoxyParamCaption}
\item[{struct {\bf mmrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_adbac38210e51ceccaf4986e3105ac42b}{}\label{mmrp_8c_adbac38210e51ceccaf4986e3105ac42b}


mmrp.\+c 파일의 187 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
188 \{
189     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
190 
191     attrib = \hyperlink{mmrp_8c_ae1caabda703cfb0e484a2cbadcec985c}{mmrp\_lookup}(rattrib);
192 
193     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
194         \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* shouldn't happen */}
195 
196     \textcolor{comment}{/* primarily we update the last mac address state for diagnostics */}
197     memcpy(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, rattrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}, 6);
198     \textcolor{keywordflow}{return} 0;
199 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{mmrp_8c_adbac38210e51ceccaf4986e3105ac42b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_adbac38210e51ceccaf4986e3105ac42b_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+reclaim@{mmrp\+\_\+reclaim}}
\index{mmrp\+\_\+reclaim@{mmrp\+\_\+reclaim}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+reclaim(void)}{mmrp_reclaim(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+reclaim (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_ab1d9d63f7619b1f06b01c5833f027f24}{}\label{mmrp_8c_ab1d9d63f7619b1f06b01c5833f027f24}


mmrp.\+c 파일의 1773 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1774 \{
1775     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *mattrib, *free\_mattrib;
1776 
1777     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db})
1778         \textcolor{keywordflow}{return} 0;
1779 
1780     mattrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
1781     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != mattrib) \{
1782         \textcolor{keywordflow}{if} ((mattrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_ae8dcb801cef8331bbef351220b9631d0}{MRP\_MT\_STATE}) &&
1783             ((mattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_a4179c286e5c5f6489dd0db7aa4f8fb84}{MRP\_VO\_STATE}) ||
1784              (mattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_a1ea8e5576e73ff786fe420fe1e51cfaf}{MRP\_AO\_STATE}) ||
1785              (mattrib->\hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}.\hyperlink{structmrp__applicant__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state} == \hyperlink{mrp_8h_ae12a5764b75063959a5180538d5c3dec}{MRP\_QO\_STATE}))) \{
1786             \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != mattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev})
1787                 mattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev}->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next} = mattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1788             \textcolor{keywordflow}{else}
1789                 \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list} = mattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1790             \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != mattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next})
1791                 mattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next}->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev} = mattrib->\hyperlink{structmmrp__attribute_a7fbec6f5452666d1234cf6138dc9f0ba}{prev};
1792             free\_mattrib = mattrib;
1793             mattrib = mattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1794             \hyperlink{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919}{mmrp\_send\_notifications}(free\_mattrib, 
      \hyperlink{mrp_8h_a841700929a5cf0f5df937120c5f38105}{MRP\_NOTIFY\_LV});
1795             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_mattrib);
1796         \} \textcolor{keywordflow}{else}
1797             mattrib = mattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1798     \}
1799     \textcolor{keywordflow}{return} 0;
1800 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ab1d9d63f7619b1f06b01c5833f027f24_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ab1d9d63f7619b1f06b01c5833f027f24_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+recv\+\_\+cmd@{mmrp\+\_\+recv\+\_\+cmd}}
\index{mmrp\+\_\+recv\+\_\+cmd@{mmrp\+\_\+recv\+\_\+cmd}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+recv\+\_\+cmd(char $\ast$buf, int buflen, struct sockaddr\+\_\+in $\ast$client)}{mmrp_recv_cmd(char *buf, int buflen, struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+recv\+\_\+cmd (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a80e4cd4658a40390ebe9cea163581c45}{}\label{mmrp_8c_a80e4cd4658a40390ebe9cea163581c45}


mmrp.\+c 파일의 1614 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1615 \{
1616     \textcolor{keywordtype}{int} rc;
1617     \textcolor{keywordtype}{int} err\_index;
1618     \textcolor{keywordtype}{char} respbuf[12];
1619     \textcolor{keywordtype}{int} mrp\_event;
1620     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} svcreq\_param;
1621     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} macvec\_param[6];
1622 
1623     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}) \{
1624         snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERC MMRP\_db %s\(\backslash\)n"}, buf);
1625         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1626         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1627     \}
1628 
1629     rc = \hyperlink{mrp_8c_ad342a9b9e146ac2b9027550e60958807}{mrp\_client\_add}(&(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), 
      \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
1630 
1631     \textcolor{keywordflow}{if} (buflen < 3)
1632         \textcolor{keywordflow}{return} -1;
1633 
1634     \textcolor{keywordflow}{if} (\textcolor{charliteral}{'M'} != buf[0])
1635         \textcolor{keywordflow}{return} -1;
1636 
1637     \textcolor{comment}{/*}
1638 \textcolor{comment}{     * M?? - query MMRP Registrar MAC Address database}
1639 \textcolor{comment}{     * M+? - JOIN a MAC address or service declaration}
1640 \textcolor{comment}{     * M++   NEW a MAC Address (XXX: MMRP doesn't use 'New' though?)}
1641 \textcolor{comment}{     * M-- - LV a MAC address or service declaration}
1642 \textcolor{comment}{     */}
1643     \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"M??"}, 3) == 0) \{
1644         \hyperlink{mmrp_8c_a71ebdfaa9e7295dba3bfa7564c49378c}{mmrp\_dumptable}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
1645     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"M--:S"}, 5) == 0) \{
1646         rc = \hyperlink{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3}{mmrp\_cmd\_parse\_service}(buf, buflen, &svcreq\_param,
1647                         &err\_index);
1648         \textcolor{keywordflow}{if} (rc)
1649             \textcolor{keywordflow}{goto} out\_ERP;
1650         rc = \hyperlink{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc}{mmrp\_cmd\_service}(svcreq\_param, \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV});
1651         \textcolor{keywordflow}{if} (rc)
1652             \textcolor{keywordflow}{goto} out\_ERI;
1653     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"M--:M"}, 5) == 0) \{
1654         \textcolor{comment}{/*}
1655 \textcolor{comment}{         * XXX note could also register VID with mac address if we ever wanted to}
1656 \textcolor{comment}{         * support more than one Spanning Tree context}
1657 \textcolor{comment}{         */}
1658 
1659         \textcolor{comment}{/* buf[] should look similar to 'M--:M=010203040506' */}
1660         rc = \hyperlink{mmrp_8c_adbd7b966270eac75ed4759074974119e}{mmrp\_cmd\_parse\_mac}(buf, buflen, macvec\_param, &err\_index);
1661         \textcolor{keywordflow}{if} (rc)
1662             \textcolor{keywordflow}{goto} out\_ERP;
1663         rc = \hyperlink{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311}{mmrp\_cmd\_mac}(macvec\_param, \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV});
1664         \textcolor{keywordflow}{if} (rc)
1665             \textcolor{keywordflow}{goto} out\_ERI;
1666     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((strncmp(buf, \textcolor{stringliteral}{"M++:S"}, 5) == 0)
1667            || (strncmp(buf, \textcolor{stringliteral}{"M+?:S"}, 5) == 0)) \{
1668         \textcolor{comment}{/* buf[] should look similar to 'M+?:S=1' or 'M++:S=1'}
1669 \textcolor{comment}{         */}
1670         rc = \hyperlink{mmrp_8c_a8a8aeb17cac88d9d41958f8289839cc3}{mmrp\_cmd\_parse\_service}(buf, buflen, &svcreq\_param,
1671                         &err\_index);
1672         \textcolor{keywordflow}{if} (rc)
1673             \textcolor{keywordflow}{goto} out\_ERP;
1674         \textcolor{keywordflow}{if} (\textcolor{charliteral}{'?'} == buf[2]) \{
1675             mrp\_event = \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN};
1676         \} \textcolor{keywordflow}{else} \{
1677             mrp\_event = \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW};
1678         \}
1679         rc = \hyperlink{mmrp_8c_ace39623ab0a02b5a198828952cda3fcc}{mmrp\_cmd\_service}(svcreq\_param, mrp\_event);
1680         \textcolor{keywordflow}{if} (rc)
1681             \textcolor{keywordflow}{goto} out\_ERI;
1682     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((strncmp(buf, \textcolor{stringliteral}{"M++:M"}, 5) == 0)
1683            || (strncmp(buf, \textcolor{stringliteral}{"M+?:M"}, 5) == 0)) \{
1684         \textcolor{comment}{/* buf[] should look similar to 'M+?:M=010203040506' */}
1685         rc = \hyperlink{mmrp_8c_adbd7b966270eac75ed4759074974119e}{mmrp\_cmd\_parse\_mac}(buf, buflen, macvec\_param, &err\_index);
1686         \textcolor{keywordflow}{if} (rc)
1687             \textcolor{keywordflow}{goto} out\_ERP;
1688         \textcolor{keywordflow}{if} (\textcolor{charliteral}{'?'} == buf[2]) \{
1689             mrp\_event = \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN};
1690         \} \textcolor{keywordflow}{else} \{
1691             mrp\_event = \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW};
1692         \}
1693         rc = \hyperlink{mmrp_8c_a915a8cc8cfc572543564ab2f9d56b311}{mmrp\_cmd\_mac}(macvec\_param, mrp\_event);
1694         \textcolor{keywordflow}{if} (rc)
1695             \textcolor{keywordflow}{goto} out\_ERI;
1696     \} \textcolor{keywordflow}{else} \{
1697         snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERC MMRP %s"}, buf);
1698         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1699         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1700     \}
1701     \textcolor{keywordflow}{return} 0;
1702 
1703  out\_ERI:
1704     snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERI %s"}, buf);
1705     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1706     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1707 
1708  out\_ERP:
1709     snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERP %s"}, buf);
1710     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1711     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1712 
1713  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
1714     \textcolor{keywordflow}{return} -1;
1715 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a80e4cd4658a40390ebe9cea163581c45_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a80e4cd4658a40390ebe9cea163581c45_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+recv\+\_\+msg@{mmrp\+\_\+recv\+\_\+msg}}
\index{mmrp\+\_\+recv\+\_\+msg@{mmrp\+\_\+recv\+\_\+msg}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+recv\+\_\+msg()}{mmrp_recv_msg()}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+recv\+\_\+msg (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_a4ee9f804f3087ebe0175fa6b252af230}{}\label{mmrp_8c_a4ee9f804f3087ebe0175fa6b252af230}


mmrp.\+c 파일의 442 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
443 \{
444     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
445     \textcolor{keywordtype}{int} bytes = 0;
446     \hyperlink{structeth__hdr}{eth\_hdr\_t} *eth;
447     \hyperlink{structmrpdu}{mrpdu\_t} *\hyperlink{structmrpdu}{mrpdu};
448     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
449     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr;
450     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof;
451     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
452     uint16\_t numvalues;
453     uint16\_t numvalues\_processed;
454     \textcolor{keywordtype}{int} numvectorbytes;
455     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
456     \textcolor{keywordtype}{int} vectidx;
457     \textcolor{keywordtype}{int} vectevt[3];
458     \textcolor{keywordtype}{int} vectevt\_idx;
459     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} svcreq\_firstval;
460     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} macvec\_firstval[6];
461     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *attrib;
462     \textcolor{keywordtype}{int} endmarks;
463     \textcolor{keywordtype}{int} saw\_lva = 0;
464 
465     bytes = \hyperlink{mrpd_8c_a0860392c6a9650cf57c2c2cc4c5247c4}{mrpd\_recvmsgbuf}(\hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\_socket}, &msgbuf);
466     \textcolor{keywordflow}{if} (bytes <= 0)
467         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
468 
469     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})bytes < (\textcolor{keyword}{sizeof}(\hyperlink{structeth__hdr}{eth\_hdr\_t}) + \textcolor{keyword}{sizeof}(\hyperlink{structmrpdu}{mrpdu\_t}) +
470                    \textcolor{keyword}{sizeof}(\hyperlink{structmrpdu__message}{mrpdu\_message\_t})))
471         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
472 
473     eth = (\hyperlink{structeth__hdr}{eth\_hdr\_t} *) msgbuf;
474 
475     \textcolor{comment}{/* note that MMRP frames should always arrive untagged (no vlan) */}
476     \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_adea7aaa34d3ac34bc388b49c079758a9}{MMRP\_ETYPE} != ntohs(eth->\hyperlink{structeth__hdr_a657ead984e65fc7252e805e62f083a7c}{typelen}))
477         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
478 
479     \textcolor{comment}{/* check dest mac address too */}
480     \textcolor{keywordflow}{if} (memcmp(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}, \hyperlink{mmrp_8c_ac75d2e5b34d0ee445fc399174a9538ce}{MMRP\_ADDR}, \textcolor{keyword}{sizeof}(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr})))
481         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
482 
483     mrpdu = (\hyperlink{structmrpdu}{mrpdu\_t} *) (msgbuf + \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structeth__hdr}{eth\_hdr}));
484 
485     \textcolor{comment}{/*}
486 \textcolor{comment}{    if (MMRP\_PROT\_VER != mrpdu->ProtocolVersion)}
487 \textcolor{comment}{        goto out;}
488 \textcolor{comment}{    */}
489 
490     mrpdu\_msg\_ptr = \hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu);
491 
492     mrpdu\_msg\_eof = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)mrpdu\_msg\_ptr;
493     mrpdu\_msg\_eof += bytes;
494     mrpdu\_msg\_eof -= \textcolor{keyword}{sizeof}(\hyperlink{mrpd_8h_adb02009b0d416a4c7ba2f427dbf0e5cb}{eth\_hdr\_t});
495     mrpdu\_msg\_eof -= \hyperlink{mrpd_8h_ab10cf1aca74f27f4a1c0754fd71c1b5a}{MRPD\_OFFSETOF\_MRPD\_GET\_MRPDU\_MESSAGE\_LIST};
496 
497     endmarks = 0;
498 
499     \textcolor{keywordflow}{while} (mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) \{
500         mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
501         \textcolor{keywordflow}{if} ((mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} == 0) &&
502             (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} == 0)) \{
503             mrpdu\_msg\_ptr += 2;
504             endmarks++;
505             \textcolor{keywordflow}{if} (endmarks < 2)
506                 \textcolor{keywordflow}{continue};   \textcolor{comment}{/* end-mark */}
507             \textcolor{keywordflow}{else}
508                 \textcolor{keywordflow}{break};  \textcolor{comment}{/* two endmarks - end of messages */}
509         \}
510 
511         endmarks = 0;   \textcolor{comment}{/* reset the endmark counter */}
512 
513         \textcolor{keywordflow}{switch} (mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}) \{
514         \textcolor{keywordflow}{case} \hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE}:
515             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 1) \{
516                 \textcolor{comment}{/* we could seek for an endmark to recover}
517 \textcolor{comment}{                 */}
518                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
519             \}
520             \textcolor{comment}{/* AttributeListLength not used for MMRP, hence}
521 \textcolor{comment}{             * Data points to the beginning of the VectorAttributes}
522 \textcolor{comment}{             */}
523             mrpdu\_vectorptr =
524                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data};
525             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
526 
527             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
528                  && (mrpdu\_msg\_ptr[1] == 0))) \{
529                 numvalues =
530                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
531                              (mrpdu\_vectorptr->
532                               VectorHeader));
533 
534                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->
      \hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader})) && !saw\_lva) \{
535                     saw\_lva = 1;
536                     attrib = \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\_alloc}();
537                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
538                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
539 
540                     attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =  \hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE};               
541                     \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, attrib);
542                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
543                 \}
544 
545                 \textcolor{keywordflow}{if} (0 == numvalues)
546                     \textcolor{comment}{/* Malformed - cant tell how long the trailing vectors are */}
547                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
548 
549                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents} +
550                      numvalues / 3) >= mrpdu\_msg\_eof)
551                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
552                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
553 
554                 svcreq\_firstval =
555                     mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents}[0];
556 
557                 \textcolor{comment}{/* if not an even multiple ... */}
558                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
559                     numvectorbytes = (numvalues / 3) + 1;
560                 \textcolor{keywordflow}{else}
561                     numvectorbytes = (numvalues / 3);
562 
563                 \textcolor{keywordflow}{for} (vectidx = 1;
564                      vectidx <= (numvectorbytes + 1);
565                      vectidx++) \{
566                     vect\_3pack =
567                         mrpdu\_vectorptr->
568                         FirstValue\_VectorEvents[vectidx];
569                     vectevt[0] = vect\_3pack / 36;
570                     vectevt[1] =
571                         (vect\_3pack - vectevt[0] * 36) / 6;
572                     vectevt[2] =
573                         vect\_3pack - (36 * vectevt[0]) -
574                         (6 * vectevt[1]);
575 
576                     numvalues\_processed =
577                         (numvalues > 3 ? 3 : numvalues);
578 
579                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
580                          vectevt\_idx < numvalues\_processed;
581                          vectevt\_idx++) \{
582 
583                         \textcolor{keywordflow}{if} (1 < svcreq\_firstval)    \textcolor{comment}{/*discard junk */}
584                             \textcolor{keywordflow}{continue};
585 
586                         attrib = \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\_alloc}();
587                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
588                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
589 
590                         attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE};
591                         attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq} =
592                             svcreq\_firstval;
593                         svcreq\_firstval++;
594                         memcpy(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
595                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
596                                6);
597 
598                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
599                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
600                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
601                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
602                                  attrib);
603                             \textcolor{keywordflow}{break};
604                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
605                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
606                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
607                                  attrib);
608                             \textcolor{keywordflow}{break};
609                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
610                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
611                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
612                                  attrib);
613                             \textcolor{keywordflow}{break};
614                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
615                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
616                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
617                                  attrib);
618                             \textcolor{keywordflow}{break};
619                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
620                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
621                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
622                                  attrib);
623                             \textcolor{keywordflow}{break};
624                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
625                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
626                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
627                                  attrib);
628                             \textcolor{keywordflow}{break};
629                         \textcolor{keywordflow}{default}:
630                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
631                             \textcolor{keywordflow}{break};
632                         \}
633                     \}
634                     numvalues -= numvalues\_processed;
635                 \}
636 
637                 \textcolor{comment}{/* as either firstval is either 0 or 1 ... the common}
638 \textcolor{comment}{                 * case will be nulls for evt\_2 and evt\_3 ...}
639 \textcolor{comment}{                 */}
640 
641                 \textcolor{comment}{/* 2 byte numvalues + 34 byte FirstValue + (n) vector bytes */}
642                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
643                 mrpdu\_msg\_ptr += 3 + numvectorbytes;
644                 mrpdu\_vectorptr =
645                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
646             \}
647 
648             \textcolor{keywordflow}{break};
649         \textcolor{keywordflow}{case} \hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE}:
650             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 6) \{
651                 \textcolor{comment}{/* we can seek for an endmark to recover .. but this version}
652 \textcolor{comment}{                 * dumps the entire packet as malformed}
653 \textcolor{comment}{                 */}
654                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
655             \}
656             \textcolor{comment}{/* AttributeListLength not used for MMRP, hence}
657 \textcolor{comment}{             * Data points to the beginning of the VectorAttributes}
658 \textcolor{comment}{             */}
659             mrpdu\_vectorptr =
660                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data};
661             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
662 
663             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
664                  && (mrpdu\_msg\_ptr[1] == 0))) \{
665                 numvalues =
666                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
667                              (mrpdu\_vectorptr->
668                               VectorHeader));
669 
670                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->
      \hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader}))) \{
671                     attrib = \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\_alloc}();
672                     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
673                         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
674 
675                     attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} =  \hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE};               
676                     \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, attrib);
677                     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
678                 \}
679 
680                 \textcolor{keywordflow}{if} (0 == numvalues)
681                     \textcolor{comment}{/* Malformed - cant tell how long the trailing vectors are */}
682                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
683 
684                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents} +
685                      numvalues / 3) >= mrpdu\_msg\_eof)
686                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
687                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
688 
689                 memcpy(macvec\_firstval,
690                        mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents},
691                        6);
692 
693                 \textcolor{comment}{/* if not an even multiple ... */}
694                 \textcolor{keywordflow}{if} (numvalues != ((numvalues / 3) * 3))
695                     numvectorbytes = (numvalues / 3) + 1;
696                 \textcolor{keywordflow}{else}
697                     numvectorbytes = (numvalues / 3);
698 
699                 \textcolor{keywordflow}{for} (vectidx = 6;
700                      vectidx <= (numvectorbytes + 6);
701                      vectidx++) \{
702                     vect\_3pack =
703                         mrpdu\_vectorptr->
704                         FirstValue\_VectorEvents[vectidx];
705                     vectevt[0] = vect\_3pack / 36;
706                     vectevt[1] =
707                         (vect\_3pack - vectevt[0] * 36) / 6;
708                     vectevt[2] =
709                         vect\_3pack - (36 * vectevt[0]) -
710                         (6 * vectevt[1]);
711 
712                     numvalues\_processed =
713                         (numvalues > 3 ? 3 : numvalues);
714 
715                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
716                          vectevt\_idx < numvalues\_processed;
717                          vectevt\_idx++) \{
718 
719                         attrib = \hyperlink{mmrp_8c_a3b1377c1ec5143e6ad86f0da01d4591d}{mmrp\_alloc}();
720                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
721                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
722 
723                         attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type} = \hyperlink{mmrp_8h_a24eca6edc854ee62dc2cf405e012e6c7}{MMRP\_MACVEC\_TYPE};
724                         memcpy(attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.
725                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, macvec\_firstval,
726                                6);
727                         \hyperlink{mmrp_8c_a962b9fde4b5ce90cbba393b4760b27e6}{mmrp\_increment\_macaddr}
728                             (macvec\_firstval);
729 
730                         memcpy(attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
731                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
732                                6);
733 
734                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
735                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
736                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
737                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
738                                  attrib);
739                             \textcolor{keywordflow}{break};
740                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
741                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
742                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
743                                  attrib);
744                             \textcolor{keywordflow}{break};
745                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
746                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
747                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
748                                  attrib);
749                             \textcolor{keywordflow}{break};
750                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
751                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
752                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
753                                  attrib);
754                             \textcolor{keywordflow}{break};
755                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
756                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
757                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
758                                  attrib);
759                             \textcolor{keywordflow}{break};
760                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
761                             \hyperlink{mmrp_8c_a494d680e84bb2796362c1f1beb754771}{mmrp\_event}
762                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
763                                  attrib);
764                             \textcolor{keywordflow}{break};
765                         \textcolor{keywordflow}{default}:
766                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
767                             \textcolor{keywordflow}{break};
768                         \}
769                     \}
770                     numvalues -= numvalues\_processed;
771                 \}
772 
773                 \textcolor{comment}{/* 1 byte Type, 1 byte Len, 6 byte FirstValue, and (n) vector bytes */}
774                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
775                 mrpdu\_msg\_ptr += 8 + numvectorbytes;
776 
777                 mrpdu\_vectorptr =
778                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
779             \}
780             \textcolor{keywordflow}{break};
781         \textcolor{keywordflow}{default}:
782             \textcolor{comment}{/* unrecognized attribute type}
783 \textcolor{comment}{             * we can seek for an endmark to recover .. but this version}
784 \textcolor{comment}{             * dumps the entire packet as malformed}
785 \textcolor{comment}{             */}
786             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
787         \}
788     \}
789 
790     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
791     \textcolor{keywordflow}{return} 0;
792  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
793     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
794 
795     \textcolor{keywordflow}{return} -1;
796 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a4ee9f804f3087ebe0175fa6b252af230_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_a4ee9f804f3087ebe0175fa6b252af230_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+reset@{mmrp\+\_\+reset}}
\index{mmrp\+\_\+reset@{mmrp\+\_\+reset}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+reset(void)}{mmrp_reset(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void mmrp\+\_\+reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_adec64f22de481e6d12312db8f67009fc}{}\label{mmrp_8c_adec64f22de481e6d12312db8f67009fc}


mmrp.\+c 파일의 1803 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1804 \{
1805     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *free\_sattrib;
1806     \textcolor{keyword}{struct }\hyperlink{structmmrp__attribute}{mmrp\_attribute} *sattrib;
1807 
1808     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db})
1809         \textcolor{keywordflow}{return};
1810 
1811     sattrib = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_aa65ffa246b17a8932ec564602195a338}{attrib\_list};
1812     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != sattrib) \{
1813         free\_sattrib = sattrib;
1814         sattrib = sattrib->\hyperlink{structmmrp__attribute_a71b7895c31d4661fc0b66940a640e733}{next};
1815         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_sattrib);
1816     \}
1817     \hyperlink{mrp_8c_adde14a545c8c52173b54c3c39ae9bbb1}{mrp\_client\_remove\_all}(&\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients});
1818     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db});
1819 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{mmrp_8c_adec64f22de481e6d12312db8f67009fc_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=268pt]{mmrp_8c_adec64f22de481e6d12312db8f67009fc_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+send\+\_\+notifications@{mmrp\+\_\+send\+\_\+notifications}}
\index{mmrp\+\_\+send\+\_\+notifications@{mmrp\+\_\+send\+\_\+notifications}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+send\+\_\+notifications(struct mmrp\+\_\+attribute $\ast$attrib, int notify)}{mmrp_send_notifications(struct mmrp_attribute *attrib, int notify)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+send\+\_\+notifications (
\begin{DoxyParamCaption}
\item[{struct {\bf mmrp\+\_\+attribute} $\ast$}]{attrib, }
\item[{int}]{notify}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919}{}\label{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919}


mmrp.\+c 파일의 1405 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1406 \{
1407     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1408     \textcolor{keywordtype}{char} *variant;
1409     \textcolor{keywordtype}{char} *regsrc;
1410     \textcolor{keywordtype}{char} mrp\_state[8];
1411     \hyperlink{structclient__s}{client\_t} *\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client};
1412 
1413     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
1414         \textcolor{keywordflow}{return} -1;
1415 
1416     msgbuf = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
1417     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
1418         \textcolor{keywordflow}{return} -1;
1419 
1420     variant = regsrc = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1421 
1422     variant = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
1423     regsrc = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(128);
1424 
1425     \textcolor{keywordflow}{if} ((\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == variant) || (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == regsrc))
1426         \textcolor{keywordflow}{goto} free\_msgbuf;
1427 
1428     memset(msgbuf, 0, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
1429 
1430     \textcolor{keywordflow}{if} (\hyperlink{mmrp_8h_a60e9dcf68973f00958a8bcdbc9595735}{MMRP\_SVCREQ\_TYPE} == attrib->\hyperlink{structmmrp__attribute_ad44b615021ed3ccb734fcaf583ef4a03}{type}) \{
1431         sprintf(variant, \textcolor{stringliteral}{"S=%d"}, attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a4cbde8a8ff7947691adb3e1de9ac37e5}{svcreq});
1432     \} \textcolor{keywordflow}{else} \{
1433         sprintf(variant, \textcolor{stringliteral}{"M=%02x%02x%02x%02x%02x%02x"},
1434             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[0],
1435             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[1],
1436             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[2],
1437             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[3],
1438             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[4],
1439             attrib->\hyperlink{structmmrp__attribute_ab1c9c414897b81c364683779d24d1de1}{attribute}.\hyperlink{structmmrp__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[5]);
1440     \}
1441 
1442     sprintf(regsrc, \textcolor{stringliteral}{"R=%02x%02x%02x%02x%02x%02x"},
1443         attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[0],
1444         attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[1],
1445         attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[2],
1446         attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[3],
1447         attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[4], attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
      \hyperlink{structmrp__registrar__attribute_a3c39313f42d97e1a0bdb140add9ff200}{macaddr}[5]);
1448 
1449     \hyperlink{mrp_8c_a178c5a4ac1dbc4bb40064aaaae6ed84e}{mrp\_decode\_state}(&attrib->\hyperlink{structmmrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}, &attrib->
      \hyperlink{structmmrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant},
1450                  mrp\_state, \textcolor{keyword}{sizeof}(mrp\_state));
1451 
1452     \textcolor{keywordflow}{switch} (notify) \{
1453     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a4f47669fbd02fd9dc10351e38bfeca61}{MRP\_NOTIFY\_NEW}:
1454         snprintf(msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ} - 1, \textcolor{stringliteral}{"MNE %s %s %s\(\backslash\)n"}, variant, regsrc, mrp\_state);
1455         \textcolor{keywordflow}{break};
1456     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_aa4e82a87fc11579ce97185e182ddfda4}{MRP\_NOTIFY\_JOIN}:
1457         snprintf(msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ} - 1, \textcolor{stringliteral}{"MJO %s %s %s\(\backslash\)n"},  variant, regsrc, mrp\_state);
1458         \textcolor{keywordflow}{break};
1459     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a841700929a5cf0f5df937120c5f38105}{MRP\_NOTIFY\_LV}:
1460         snprintf(msgbuf, \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ} - 1, \textcolor{stringliteral}{"MLE %s %s %s\(\backslash\)n"},  variant, regsrc, mrp\_state);
1461         \textcolor{keywordflow}{break};
1462     \textcolor{keywordflow}{default}:
1463         \textcolor{keywordflow}{goto} free\_msgbuf;
1464         \textcolor{keywordflow}{break};
1465     \}
1466 
1467     client = \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients};
1468     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != client) \{
1469         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(&(client->\hyperlink{structclient__s_abf7df3c8f5ff035f1843f41668a2168c}{client}), msgbuf, 
      \hyperlink{mrpd_8h_a63a4db05a55163366a16c61994e77a6f}{MAX\_MRPD\_CMDSZ});
1470         client = client->\hyperlink{structclient__s_af3acd6523ace0fc96b77f04cf1b88d06}{next};
1471     \}
1472 
1473  free\_msgbuf:
1474     \textcolor{keywordflow}{if} (variant)
1475         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(variant);
1476     \textcolor{keywordflow}{if} (regsrc)
1477         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(regsrc);
1478     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1479     \textcolor{keywordflow}{return} 0;
1480 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ab01c7ee68ce8fa51eaca3a8513e46919_icgraph}
\end{center}
\end{figure}


\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+txpdu@{mmrp\+\_\+txpdu}}
\index{mmrp\+\_\+txpdu@{mmrp\+\_\+txpdu}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+txpdu(void)}{mmrp_txpdu(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mmrp\+\_\+txpdu (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c}{}\label{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c}


mmrp.\+c 파일의 1271 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1272 \{
1273     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, *msgbuf\_wrptr;
1274     \textcolor{keywordtype}{int} msgbuf\_len;
1275     \textcolor{keywordtype}{int} bytes = 0;
1276     \hyperlink{structeth__hdr}{eth\_hdr\_t} *eth;
1277     \hyperlink{structmrpdu}{mrpdu\_t} *\hyperlink{structmrpdu}{mrpdu};
1278     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr;
1279     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof;
1280     \textcolor{keywordtype}{int} rc;
1281     \textcolor{keywordtype}{int} lva = 0;
1282 
1283     msgbuf = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE});
1284     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
1285         \textcolor{keywordflow}{return} -1;
1286     memset(msgbuf, 0, \hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE});
1287     msgbuf\_len = 0;
1288 
1289     msgbuf\_wrptr = \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1290 
1291     eth = (\hyperlink{structeth__hdr}{eth\_hdr\_t} *) msgbuf\_wrptr;
1292 
1293     \textcolor{comment}{/* note that MMRP frames should always be untagged (no vlan) */}
1294     eth->\hyperlink{structeth__hdr_a657ead984e65fc7252e805e62f083a7c}{typelen} = htons(\hyperlink{mmrp_8h_adea7aaa34d3ac34bc388b49c079758a9}{MMRP\_ETYPE});
1295     memcpy(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}, \hyperlink{mmrp_8c_ac75d2e5b34d0ee445fc399174a9538ce}{MMRP\_ADDR}, \textcolor{keyword}{sizeof}(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}));
1296     memcpy(eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr}, \hyperlink{mmrp_8c_ab42ba46b155e06fe7850ed877f07de86}{STATION\_ADDR}, \textcolor{keyword}{sizeof}(eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr}));
1297 
1298     msgbuf\_wrptr += \textcolor{keyword}{sizeof}(\hyperlink{mrpd_8h_adb02009b0d416a4c7ba2f427dbf0e5cb}{eth\_hdr\_t});
1299 
1300     mrpdu = (\hyperlink{structmrpdu}{mrpdu\_t} *) msgbuf\_wrptr;
1301 
1302     \textcolor{comment}{/*}
1303 \textcolor{comment}{     * ProtocolVersion handling - a receiver must process received frames with a lesser}
1304 \textcolor{comment}{     * protcol version consistent with the older protocol processing requirements (e.g. a V2}
1305 \textcolor{comment}{     * agent receives a V1 message, the V1 message shoudl be parsed with V1 rules).}
1306 \textcolor{comment}{     *}
1307 \textcolor{comment}{     * However - if an agent receives a NEWER protocol, the agent shoudl still attempt}
1308 \textcolor{comment}{     * to parse the frame. If the agent finds an AttributeType not recognized}
1309 \textcolor{comment}{     * the agent discards the current message including any associated trailing vectors}
1310 \textcolor{comment}{     * up to the end-mark, and resumes with the next message or until the end of the PDU}
1311 \textcolor{comment}{     * is reached.}
1312 \textcolor{comment}{     *}
1313 \textcolor{comment}{     * If a VectorAttribute is found with an unknown Event for the Type, the specific}
1314 \textcolor{comment}{     * VectorAttrute is discarded and processing continues with the next VectorAttribute.}
1315 \textcolor{comment}{     */}
1316 
1317     mrpdu->\hyperlink{structmrpdu_a033f6fc814bd016f671e9b07cebfdab2}{ProtocolVersion} = \hyperlink{mmrp_8h_a46eac21809dbc4bb4f2ec0e42cece1e4}{MMRP\_PROT\_VER};
1318     mrpdu\_msg\_ptr = \hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu);
1319     mrpdu\_msg\_eof = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)msgbuf + \hyperlink{packet_8cpp_ad15d35a0d29a9dbf9324e3859ce3b008}{MAX\_FRAME\_SIZE};
1320 
1321     \textcolor{comment}{/*}
1322 \textcolor{comment}{     * Iterate over all attributes, transmitting those marked}
1323 \textcolor{comment}{     * with 'tx', attempting to coalesce multiple contiguous tx attributes}
1324 \textcolor{comment}{     * with appropriate vector encodings.}
1325 \textcolor{comment}{     *}
1326 \textcolor{comment}{     * MMRP\_MACVEC\_TYPE FirstValue is the 6-byte MAC address, with}
1327 \textcolor{comment}{     * corresponding attrib\_length=6}
1328 \textcolor{comment}{     *}
1329 \textcolor{comment}{     * MMRP\_SVCREQ\_TYPE FirstValue is a single byte - values follow,}
1330 \textcolor{comment}{     * attrib\_length=1}
1331 \textcolor{comment}{     *}
1332 \textcolor{comment}{     * MMRP uses ThreePackedEvents for all vector encodings}
1333 \textcolor{comment}{     *}
1334 \textcolor{comment}{     * the expanded version of the MRPDU looks like}
1335 \textcolor{comment}{     * ProtocolVersion}
1336 \textcolor{comment}{     * AttributeType}
1337 \textcolor{comment}{     * AttributeLength}
1338 \textcolor{comment}{     * <Variable number of>}
1339 \textcolor{comment}{     *              LeaveAllEvent | NumberOfValues}
1340 \textcolor{comment}{     *              <Variable FirstValue>}
1341 \textcolor{comment}{     *              <VectorEventBytes>}
1342 \textcolor{comment}{     * EndMark}
1343 \textcolor{comment}{     *}
1344 \textcolor{comment}{     * in effect, each AttributeType present gets its own 'message' with}
1345 \textcolor{comment}{     * variable number of vectors. So with MMRP, you will have at most}
1346 \textcolor{comment}{     * two messages (SVCREQ or MACVEC)}
1347 \textcolor{comment}{     */}
1348 
1349     \textcolor{keywordflow}{if} (\hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_aefeb3936cf0a8963a3e1646e35b291e9}{lva}.\hyperlink{structmrp__timer_a40590f55f82df430f8035df8dd4f03c2}{tx}) \{
1350         lva = 1;
1351         \hyperlink{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{MMRP\_db}->\hyperlink{structmmrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_aefeb3936cf0a8963a3e1646e35b291e9}{lva}.\hyperlink{structmrp__timer_a40590f55f82df430f8035df8dd4f03c2}{tx} = 0;
1352     \}
1353 
1354     rc = \hyperlink{mmrp_8c_a06f1d32056c2981ed81a0813868f01f3}{mmrp\_emit\_macvectors}(mrpdu\_msg\_ptr, mrpdu\_msg\_eof, &bytes, lva);
1355     \textcolor{keywordflow}{if} (-1 == rc)
1356         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1357 
1358     mrpdu\_msg\_ptr += bytes;
1359 
1360     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr >= (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ}))
1361         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1362 
1363     rc = \hyperlink{mmrp_8c_a415f332f83bf099d1ed451652d4a86b5}{mmrp\_emit\_svcvectors}(mrpdu\_msg\_ptr, mrpdu\_msg\_eof, &bytes, lva);
1364     \textcolor{keywordflow}{if} (-1 == rc)
1365         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1366 
1367     mrpdu\_msg\_ptr += bytes;
1368 
1369     \textcolor{comment}{/* endmark */}
1370 
1371     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr == \hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu)) \{
1372         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1373         \textcolor{keywordflow}{return} 0;
1374     \}
1375 
1376     \textcolor{keywordflow}{if} (mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) \{
1377         *mrpdu\_msg\_ptr = 0;
1378         mrpdu\_msg\_ptr++;
1379         *mrpdu\_msg\_ptr = 0;
1380         mrpdu\_msg\_ptr++;
1381     \} \textcolor{keywordflow}{else}
1382         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1383 
1384     msgbuf\_len = mrpdu\_msg\_ptr - \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
1385 
1386     bytes = \hyperlink{mrpw_8c_a7019f75f6f4372b0a905f57803829871}{mrpd\_send}(\hyperlink{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{mmrp\_socket}, msgbuf, msgbuf\_len, 0);
1387 \textcolor{preprocessor}{#if LOG\_MMRP}
1388     \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MMRP send PDU\(\backslash\)n"});
1389 \textcolor{preprocessor}{#endif}
1390     \textcolor{keywordflow}{if} (bytes <= 0) \{
1391 \textcolor{preprocessor}{#if LOG\_ERRORS}
1392         fprintf(stderr, \textcolor{stringliteral}{"%s - Error on send %s"}, \_\_FUNCTION\_\_, strerror(errno));
1393 \textcolor{preprocessor}{#endif}
1394         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1395     \}
1396 
1397     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1398     \textcolor{keywordflow}{return} 0;
1399  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
1400     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
1401     \textcolor{comment}{/* caller should assume TXLAF */}
1402     \textcolor{keywordflow}{return} -1;
1403 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mmrp_8c_ae87e5c5c879707f5f90fbd5008255e7c_icgraph}
\end{center}
\end{figure}




\subsection{변수 문서화}
\index{mmrp.\+c@{mmrp.\+c}!M\+M\+R\+P\+\_\+\+A\+D\+DR@{M\+M\+R\+P\+\_\+\+A\+D\+DR}}
\index{M\+M\+R\+P\+\_\+\+A\+D\+DR@{M\+M\+R\+P\+\_\+\+A\+D\+DR}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{M\+M\+R\+P\+\_\+\+A\+D\+DR}{MMRP_ADDR}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char M\+M\+R\+P\+\_\+\+A\+D\+DR\mbox{[}$\,$\mbox{]} = \{ 0x01, 0x80, 0x\+C2, 0x00, 0x00, 0x20 \}}\hypertarget{mmrp_8c_ac75d2e5b34d0ee445fc399174a9538ce}{}\label{mmrp_8c_ac75d2e5b34d0ee445fc399174a9538ce}


mmrp.\+c 파일의 50 번째 라인에서 정의되었습니다.

\index{mmrp.\+c@{mmrp.\+c}!M\+M\+R\+P\+\_\+db@{M\+M\+R\+P\+\_\+db}}
\index{M\+M\+R\+P\+\_\+db@{M\+M\+R\+P\+\_\+db}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{M\+M\+R\+P\+\_\+db}{MMRP_db}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf mmrp\+\_\+database}$\ast$ M\+M\+R\+P\+\_\+db}\hypertarget{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}{}\label{mmrp_8c_acea0810e73cb6b2bce5c27bb4d1b5b18}


mmrp.\+c 파일의 56 번째 라인에서 정의되었습니다.

\index{mmrp.\+c@{mmrp.\+c}!mmrp\+\_\+socket@{mmrp\+\_\+socket}}
\index{mmrp\+\_\+socket@{mmrp\+\_\+socket}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{mmrp\+\_\+socket}{mmrp_socket}}]{\setlength{\rightskip}{0pt plus 5cm}S\+O\+C\+K\+ET mmrp\+\_\+socket}\hypertarget{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}{}\label{mmrp_8c_ad2c9cdf7e23d2cf3875bd410709c27c8}


mmrp.\+c 파일의 54 번째 라인에서 정의되었습니다.

\index{mmrp.\+c@{mmrp.\+c}!S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR@{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR}}
\index{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR@{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR}!mmrp.\+c@{mmrp.\+c}}
\subsubsection[{\texorpdfstring{S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR}{STATION_ADDR}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+D\+DR\mbox{[}$\,$\mbox{]}}\hypertarget{mmrp_8c_ab42ba46b155e06fe7850ed877f07de86}{}\label{mmrp_8c_ab42ba46b155e06fe7850ed877f07de86}


mrpd.\+c 파일의 99 번째 라인에서 정의되었습니다.

