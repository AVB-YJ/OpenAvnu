\hypertarget{mvrp_8h}{}\section{daemons/mrpd/mvrp.h 파일 참조}
\label{mvrp_8h}\index{daemons/mrpd/mvrp.\+h@{daemons/mrpd/mvrp.\+h}}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmvrp__attribute}{mvrp\+\_\+attribute}
\item 
struct \hyperlink{structmvrp__database}{mvrp\+\_\+database}
\end{DoxyCompactItemize}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}{M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE}~0x88\+F5
\item 
\#define \hyperlink{mvrp_8h_a1132086a1d0999b4efa04a64f87cc2c2}{M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER}~0x00
\item 
\#define \hyperlink{mvrp_8h_a39db7c276328ff15937018a477abd59e}{M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE}~1
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{mvrp_8h_ad47f57aadab06ad5d8fd73656beaedb7}{mvrp\+\_\+init} (int \hyperlink{mrpw_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\+\_\+enable})
\item 
void \hyperlink{mvrp_8h_a9e947608dafe561a56664cdc29133589}{mvrp\+\_\+reset} (void)
\item 
int \hyperlink{mvrp_8h_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\+\_\+event} (int event, struct \hyperlink{structmvrp__attribute}{mvrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{mvrp_8h_a3f72134f3c8f16b0ad7d1aec0daf61a2}{mvrp\+\_\+recv\+\_\+cmd} (char $\ast$buf, int buflen, struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
struct \hyperlink{structmvrp__attribute}{mvrp\+\_\+attribute} $\ast$ \hyperlink{mvrp_8h_aea1eabcd7ef518ab12fb740b7cb40101}{mvrp\+\_\+lookup} (struct \hyperlink{structmvrp__attribute}{mvrp\+\_\+attribute} $\ast$rattrib)
\item 
int \hyperlink{mvrp_8h_ab97cad47467dfaf8e55c7aa048b9e226}{mvrp\+\_\+reclaim} (void)
\item 
void \hyperlink{mvrp_8h_a27761658967d18d903b98ca32d9bdd63}{mvrp\+\_\+bye} (struct sockaddr\+\_\+in $\ast$\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client})
\item 
int \hyperlink{mvrp_8h_abc8ecd8b4fb3b7fc7442c162f0a893e7}{mvrp\+\_\+recv\+\_\+msg} (void)
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{mvrp.\+h@{mvrp.\+h}!M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE@{M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE}}
\index{M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE@{M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE}{MVRP_ETYPE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+V\+R\+P\+\_\+\+E\+T\+Y\+PE~0x88\+F5}\hypertarget{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}{}\label{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}


mvrp.\+h 파일의 48 번째 라인에서 정의되었습니다.

\index{mvrp.\+h@{mvrp.\+h}!M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER@{M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER}}
\index{M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER@{M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER}{MVRP_PROT_VER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+V\+R\+P\+\_\+\+P\+R\+O\+T\+\_\+\+V\+ER~0x00}\hypertarget{mvrp_8h_a1132086a1d0999b4efa04a64f87cc2c2}{}\label{mvrp_8h_a1132086a1d0999b4efa04a64f87cc2c2}


mvrp.\+h 파일의 49 번째 라인에서 정의되었습니다.

\index{mvrp.\+h@{mvrp.\+h}!M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE@{M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE}}
\index{M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE@{M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE}{MVRP_VID_TYPE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+V\+R\+P\+\_\+\+V\+I\+D\+\_\+\+T\+Y\+PE~1}\hypertarget{mvrp_8h_a39db7c276328ff15937018a477abd59e}{}\label{mvrp_8h_a39db7c276328ff15937018a477abd59e}


mvrp.\+h 파일의 51 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+bye@{mvrp\+\_\+bye}}
\index{mvrp\+\_\+bye@{mvrp\+\_\+bye}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+bye(struct sockaddr\+\_\+in $\ast$client)}{mvrp_bye(struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}void mvrp\+\_\+bye (
\begin{DoxyParamCaption}
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_a27761658967d18d903b98ca32d9bdd63}{}\label{mvrp_8h_a27761658967d18d903b98ca32d9bdd63}


mvrp.\+c 파일의 1362 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1363 \{
1364     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db})
1365         \hyperlink{mrp_8c_acb17ba76c88c8425d5daf5132bcaf623}{mrp\_client\_delete}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
1366 
1367 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=268pt]{mvrp_8h_a27761658967d18d903b98ca32d9bdd63_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_a27761658967d18d903b98ca32d9bdd63_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+event@{mvrp\+\_\+event}}
\index{mvrp\+\_\+event@{mvrp\+\_\+event}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+event(int event, struct mvrp\+\_\+attribute $\ast$rattrib)}{mvrp_event(int event, struct mvrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}int mvrp\+\_\+event (
\begin{DoxyParamCaption}
\item[{int}]{event, }
\item[{struct {\bf mvrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_a8233b6c80e371d771ecf46b527a1dbf1}{}\label{mvrp_8h_a8233b6c80e371d771ecf46b527a1dbf1}


mvrp.\+c 파일의 155 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
156 \{
157     \textcolor{keyword}{struct }\hyperlink{structmvrp__attribute}{mvrp\_attribute} *attrib;
158     \textcolor{keywordtype}{int} count = 0;
159     \textcolor{keywordtype}{int} rc;
160 
161 \textcolor{preprocessor}{#if LOG\_MVRP}
162     \hyperlink{mrpd_8c_a4297c4bc693f82e4cb9f04a56431840b}{mrpd\_log\_printf}(\textcolor{stringliteral}{"MVRP event %s\(\backslash\)n"}, \hyperlink{mrp_8h_a8ad26350e490db2481e870532f2c2433}{mrp\_event\_string}(event));
163 \textcolor{preprocessor}{#endif}
164 
165     \textcolor{keywordflow}{switch} (event) \{
166     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER}:
167         \hyperlink{mrp_8c_ad42384ab059d663e202e580d41a64c08}{mrp\_lvatimer\_stop}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
168         \hyperlink{mrp_8c_a1a9cfb025f5995d622477c446a1e46d7}{mrp\_jointimer\_stop}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
169         \textcolor{comment}{/* update state */}
170         attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
171 
172         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
173             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
174                       &(attrib->\hyperlink{structmvrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_a49db74ad792de9b57bc08c273a3dc684}{MRP\_EVENT\_TXLA},
175                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
176             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
177                       &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_a49db74ad792de9b57bc08c273a3dc684}{MRP\_EVENT\_TXLA});
178 \textcolor{preprocessor}{#if LOG\_MVRP}
179             mvrp\_print\_debug\_info(event, attrib);
180 \textcolor{preprocessor}{#endif}
181             attrib = attrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
182         \}
183 
184         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_a8088f6bff6d11fdddbea73c3596356ca}{MRP\_EVENT\_LVATIMER});
185 
186         \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag} = 1;
187         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX});
188         \hyperlink{mvrp_8c_ac2d184afe8684a044eb9b556e1091e42}{mvrp\_txpdu}();
189         \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a5c551b6ff3976e96ec18e69b0706a532}{send\_empty\_LeaveAll\_flag} = 0;
190         \textcolor{keywordflow}{break};
191     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}:
192         \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
193         \textcolor{comment}{/* update state */}
194         attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
195 
196         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
197             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
198                       &(attrib->\hyperlink{structmvrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA},
199                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
200             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
201                       &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA});
202 \textcolor{preprocessor}{#if LOG\_MVRP}
203             mvrp\_print\_debug\_info(event, attrib);
204 \textcolor{preprocessor}{#endif}
205             attrib = attrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
206         \}
207 
208         \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA});
209 
210         \textcolor{keywordflow}{break};
211     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX}:
212         \hyperlink{mrp_8c_a1a9cfb025f5995d622477c446a1e46d7}{mrp\_jointimer\_stop}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
213         attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
214 
215         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
216             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
217                       &(attrib->\hyperlink{structmvrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}), \hyperlink{mrp_8h_afc138ed41cc8e8ca7f7ccb9ec3347bf2}{MRP\_EVENT\_TX},
218                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
219 \textcolor{preprocessor}{#if LOG\_MVRP}
220             mvrp\_print\_debug\_info(event, attrib);
221 \textcolor{preprocessor}{#endif}
222             count += \hyperlink{mrp_8c_a992ae582a10aa753e05efad96e636920}{mrp\_applicant\_state\_transition\_implies\_tx}(&(
      attrib->\hyperlink{structmvrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}));
223             attrib = attrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
224         \}
225 
226         \hyperlink{mvrp_8c_ac2d184afe8684a044eb9b556e1091e42}{mvrp\_txpdu}();
227 
228         \textcolor{comment}{/*}
229 \textcolor{comment}{         * Certain state transitions imply we need to request another tx}
230 \textcolor{comment}{         * opportunity.}
231 \textcolor{comment}{         */}
232         \textcolor{keywordflow}{if} (count) \{
233             \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
234         \}
235         \textcolor{keywordflow}{break};
236     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER}:
237         \hyperlink{mrp_8c_ae9dc27744c17e2817ced68ab6409cc2f}{mrp\_lvtimer\_stop}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
238         attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
239 
240         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
241             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
242                       &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
243                       \hyperlink{mrp_8h_acf9a8791c6d90b6323ac11e00d79f626}{MRP\_EVENT\_LVTIMER});
244 
245 \textcolor{preprocessor}{#if LOG\_MVRP}
246             mvrp\_print\_debug\_info(event, attrib);
247 \textcolor{preprocessor}{#endif}
248             attrib = \hyperlink{mvrp_8c_a96d69ff04be1d4076b91b438b64f709a}{mvrp\_conditional\_reclaim}(attrib);
249         \}
250         \textcolor{keywordflow}{break};
251     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC}:
252         attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
253 
254         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
255             \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
256         \}
257 
258         \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
259             \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
260                       &(attrib->\hyperlink{structmvrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}),
261                       \hyperlink{mrp_8h_ae0ba8d40bfa479a2f4f9dc84732cd4d1}{MRP\_EVENT\_PERIODIC},
262                       \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
263 \textcolor{preprocessor}{#if LOG\_MVRP}
264             mvrp\_print\_debug\_info(event, attrib);
265 \textcolor{preprocessor}{#endif}
266             attrib = attrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
267         \}
268         \textcolor{keywordflow}{break};
269     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}:
270     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}:
271     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW}:
272     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ}:
273     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT}:
274     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}:
275     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN}:
276     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT}:
277     \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV}:
278         \hyperlink{mrp_8c_a6dae5292c68e6e7d9f19c18c174219f2}{mrp\_jointimer\_start}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
279         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == rattrib)
280             \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/* XXX internal fault */}
281 
282         \textcolor{comment}{/* update state */}
283         attrib = \hyperlink{mvrp_8c_aea1eabcd7ef518ab12fb740b7cb40101}{mvrp\_lookup}(rattrib);
284 
285         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib) \{
286             \textcolor{comment}{/* ignore rMT! if attribute does not already exist */}
287             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT} == event) \{
288                 \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
289                 \textcolor{keywordflow}{return} 0;
290             \}
291             \hyperlink{mvrp_8c_a1ca6b8c0621f5a40b0b5de0a526db154}{mvrp\_add}(rattrib);
292             attrib = rattrib;
293         \} \textcolor{keywordflow}{else} \{
294             \hyperlink{mvrp_8c_a1fb84ac28b60cca073833e89f47e686d}{mvrp\_merge}(rattrib);
295             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rattrib);
296         \}
297 
298         \hyperlink{mrp_8c_aa9b640b997e3a09bd1ee1dce72ecda12}{mrp\_applicant\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), &(attrib->
      \hyperlink{structmvrp__attribute_a9ee7e01253c78c410bf44f18a6372d92}{applicant}),
299                   event,
300                   \hyperlink{mrp_8c_a974b1a782e68ccea082758b5ec0e288a}{mrp\_registrar\_in}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar})));
301         \textcolor{comment}{/* remap local requests into registrar events */}
302         \textcolor{keywordflow}{switch} (event) \{
303         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW}:
304             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
305                       &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_ad926766e10d051bc1ad0d8c4dd1d8114}{MRP\_EVENT\_BEGIN});
306             attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a4f47669fbd02fd9dc10351e38bfeca61}{MRP\_NOTIFY\_NEW};
307             \textcolor{keywordflow}{break};
308         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN}:
309             \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a9a4fdac17018dd611f332d89b4f642bc}{MRP\_IN\_STATE} == attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a81aba50506912ce81758c19f9859445e}{mrp\_state})
310                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
311                           &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
312                           \hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ});
313             \textcolor{keywordflow}{else}
314                 \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
315                           &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}),
316                           \hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT});
317             \textcolor{keywordflow}{break};
318         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV}:
319             \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
320                       &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), \hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV});
321             \textcolor{keywordflow}{break};
322         \textcolor{keywordflow}{default}:
323             rc = \hyperlink{mrp_8c_acb9b03668d000bdc49c042f1b47d32f4}{mrp\_registrar\_fsm}(&(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}),
324                            &(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), event);
325             \textcolor{keywordflow}{if} (-1 == rc) \{
326                 printf
327                     (\textcolor{stringliteral}{"MVRP registrar error on attrib->attribute = %d\(\backslash\)n"},
328                      attrib->\hyperlink{structmvrp__attribute_a3b3d3596e1475518967e76e0e222a458}{attribute});
329             \}
330             \textcolor{keywordflow}{break};
331         \}
332         attrib = \hyperlink{mvrp_8c_a96d69ff04be1d4076b91b438b64f709a}{mvrp\_conditional\_reclaim}(attrib);
333 \textcolor{preprocessor}{#if LOG\_MVRP}
334         \textcolor{keywordflow}{if} (attrib != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
335             mvrp\_print\_debug\_info(event, attrib);
336 \textcolor{preprocessor}{#endif}
337         \textcolor{keywordflow}{break};
338     \textcolor{keywordflow}{default}:
339         \textcolor{keywordflow}{break};
340     \}
341 
342     \textcolor{comment}{/*}
343 \textcolor{comment}{     * XXX should honor the MVRP\_db->mrp\_db.registration and}
344 \textcolor{comment}{     * MVRP\_db->mrp\_db.participant controls}
345 \textcolor{comment}{     */}
346 
347     \textcolor{comment}{/* generate local notifications */}
348     attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
349 
350     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
351         \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE} != attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify}) \{
352             \hyperlink{mvrp_8c_a19375320a72b88ef17e4077be3f50b60}{mvrp\_send\_notifications}(attrib,
353                         attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify});
354             attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.\hyperlink{structmrp__registrar__attribute_a6c17ea8bcc28c91e490e1112d5348541}{notify} = \hyperlink{mrp_8h_a5d20c6dacd68d2750d9bd89e028d2aeb}{MRP\_NOTIFY\_NONE};
355         \}
356         attrib = attrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
357     \}
358 
359     \textcolor{keywordflow}{return} 0;
360 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_a8233b6c80e371d771ecf46b527a1dbf1_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_a8233b6c80e371d771ecf46b527a1dbf1_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+init@{mvrp\+\_\+init}}
\index{mvrp\+\_\+init@{mvrp\+\_\+init}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+init(int mvrp\+\_\+enable)}{mvrp_init(int mvrp_enable)}}]{\setlength{\rightskip}{0pt plus 5cm}int mvrp\+\_\+init (
\begin{DoxyParamCaption}
\item[{int}]{mvrp\+\_\+enable}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_ad47f57aadab06ad5d8fd73656beaedb7}{}\label{mvrp_8h_ad47f57aadab06ad5d8fd73656beaedb7}


mvrp.\+c 파일의 1243 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1244 \{
1245     \textcolor{keywordtype}{int} rc;
1246 
1247     \textcolor{comment}{/* XXX doesn't handle re-start */}
1248 
1249     \hyperlink{mvrp_8c_af6724e3786b97cec4803af3f5372166c}{mvrp\_socket} = \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET};
1250     \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1251 
1252     \textcolor{keywordflow}{if} (0 == \hyperlink{mrpd_8c_ab5bdb305967e9668954905d1793599f8}{mvrp\_enable}) \{
1253         \textcolor{keywordflow}{return} 0;
1254     \}
1255 
1256     rc = \hyperlink{mrpd_8c_a66b3d8a38b07fb44e541a98077d8da93}{mrpd\_init\_protocol\_socket}(\hyperlink{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}{MVRP\_ETYPE}, &
      \hyperlink{mvrp_8c_af6724e3786b97cec4803af3f5372166c}{mvrp\_socket},
1257                        \hyperlink{mvrp_8c_a23e7031812943e281baf0daab7c0ebdb}{MVRP\_CUSTOMER\_BRIDGE\_ADDR});
1258     \textcolor{keywordflow}{if} (rc < 0)
1259         \textcolor{keywordflow}{return} -1;
1260 
1261     \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db} = (\textcolor{keyword}{struct }\hyperlink{structmvrp__database}{mvrp\_database}*) \hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} 
      \hyperlink{structmvrp__database}{mvrp\_database}));
1262 
1263     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db})
1264         \textcolor{keywordflow}{goto} abort\_socket;
1265 
1266     memset(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structmvrp__database}{mvrp\_database}));
1267 
1268     \textcolor{comment}{/* if registration is FIXED or FORBIDDEN}
1269 \textcolor{comment}{     * updates from MRP are discarded, and}
1270 \textcolor{comment}{     * only IN and JOININ messages are sent}
1271 \textcolor{comment}{     */}
1272     \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a76843f7fb36637f07903bdab30dd3658}{registration} = 
      \hyperlink{mrp_8h_a11e1dbd903411e2172c6be2c472591b2}{MRP\_REGISTRAR\_CTL\_NORMAL};   \textcolor{comment}{/* default */}
1273 
1274     \textcolor{comment}{/* if participant role is 'SILENT' (or non-participant)}
1275 \textcolor{comment}{     * applicant doesn't send any messages -}
1276 \textcolor{comment}{     *}
1277 \textcolor{comment}{     * Note - theoretically configured per-attribute}
1278 \textcolor{comment}{     */}
1279     \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a08ed403eabc8682a01da8a737ac32c31}{participant} = 
      \hyperlink{mrp_8h_a80a35ccc7edea256258cd0d64ad8c352}{MRP\_APPLICANT\_CTL\_NORMAL};   \textcolor{comment}{/* default */}
1280 
1281     rc = \hyperlink{mrpd_8c_a5b0b02e11db50efcae15acdc84592365}{mrpd\_init\_timers}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}));
1282 
1283     \textcolor{keywordflow}{if} (rc < 0)
1284         \textcolor{keywordflow}{goto} abort\_alloc;
1285 
1286     \hyperlink{mrp_8c_ad0bb039d29737ed13eb012ec30a37ef9}{mrp\_lvatimer\_fsm}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}), 
      \hyperlink{mrp_8h_ad926766e10d051bc1ad0d8c4dd1d8114}{MRP\_EVENT\_BEGIN});
1287     \textcolor{keywordflow}{return} 0;
1288 
1289  abort\_alloc:
1290     \textcolor{comment}{/* free MVRP\_db and related structures */}
1291     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db});
1292     \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1293  abort\_socket:
1294     \hyperlink{mrpd_8c_a19778b71809cd3a21e7677bd0a155e51}{mrpd\_close\_socket}(\hyperlink{mvrp_8c_af6724e3786b97cec4803af3f5372166c}{mvrp\_socket});
1295     \hyperlink{mvrp_8c_af6724e3786b97cec4803af3f5372166c}{mvrp\_socket} = \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET};
1296     \textcolor{comment}{/* XXX */}
1297     \textcolor{keywordflow}{return} -1;
1298 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_ad47f57aadab06ad5d8fd73656beaedb7_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_ad47f57aadab06ad5d8fd73656beaedb7_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+lookup@{mvrp\+\_\+lookup}}
\index{mvrp\+\_\+lookup@{mvrp\+\_\+lookup}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+lookup(struct mvrp\+\_\+attribute $\ast$rattrib)}{mvrp_lookup(struct mvrp_attribute *rattrib)}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf mvrp\+\_\+attribute}$\ast$ mvrp\+\_\+lookup (
\begin{DoxyParamCaption}
\item[{struct {\bf mvrp\+\_\+attribute} $\ast$}]{rattrib}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_aea1eabcd7ef518ab12fb740b7cb40101}{}\label{mvrp_8h_aea1eabcd7ef518ab12fb740b7cb40101}


mvrp.\+c 파일의 74 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
75 \{
76     \textcolor{keyword}{struct }\hyperlink{structmvrp__attribute}{mvrp\_attribute} *attrib;
77 
78     attrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
79     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != attrib) \{
80         \textcolor{keywordflow}{if} (attrib->\hyperlink{structmvrp__attribute_a3b3d3596e1475518967e76e0e222a458}{attribute} == rattrib->\hyperlink{structmvrp__attribute_a3b3d3596e1475518967e76e0e222a458}{attribute})
81             \textcolor{keywordflow}{return} attrib;
82         attrib = attrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
83     \}
84     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
85 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_aea1eabcd7ef518ab12fb740b7cb40101_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+reclaim@{mvrp\+\_\+reclaim}}
\index{mvrp\+\_\+reclaim@{mvrp\+\_\+reclaim}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+reclaim(void)}{mvrp_reclaim(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mvrp\+\_\+reclaim (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_ab97cad47467dfaf8e55c7aa048b9e226}{}\label{mvrp_8h_ab97cad47467dfaf8e55c7aa048b9e226}


mvrp.\+c 파일의 1330 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1331 \{
1332     \textcolor{keyword}{struct }\hyperlink{structmvrp__attribute}{mvrp\_attribute} *vattrib;
1333     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db})
1334         \textcolor{keywordflow}{return} 0;
1335 
1336     vattrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
1337     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != vattrib) \{
1338         vattrib = \hyperlink{mvrp_8c_a96d69ff04be1d4076b91b438b64f709a}{mvrp\_conditional\_reclaim}(vattrib);
1339 
1340     \}
1341     \textcolor{keywordflow}{return} 0;
1342 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_ab97cad47467dfaf8e55c7aa048b9e226_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_ab97cad47467dfaf8e55c7aa048b9e226_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+recv\+\_\+cmd@{mvrp\+\_\+recv\+\_\+cmd}}
\index{mvrp\+\_\+recv\+\_\+cmd@{mvrp\+\_\+recv\+\_\+cmd}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+recv\+\_\+cmd(char $\ast$buf, int buflen, struct sockaddr\+\_\+in $\ast$client)}{mvrp_recv_cmd(char *buf, int buflen, struct sockaddr_in *client)}}]{\setlength{\rightskip}{0pt plus 5cm}int mvrp\+\_\+recv\+\_\+cmd (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{struct sockaddr\+\_\+in $\ast$}]{client}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_a3f72134f3c8f16b0ad7d1aec0daf61a2}{}\label{mvrp_8h_a3f72134f3c8f16b0ad7d1aec0daf61a2}


mvrp.\+c 파일의 1172 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1173 \{
1174     \textcolor{keywordtype}{int} rc;
1175     \textcolor{keywordtype}{int} mrp\_event;
1176     \textcolor{keywordtype}{char} respbuf[12];
1177     uint16\_t vid\_param;
1178     \textcolor{keywordtype}{int} err\_index;
1179 
1180     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}) \{
1181         snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERC MVRP\_db %s\(\backslash\)n"}, buf);
1182         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1183         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1184     \}
1185 
1186     rc = \hyperlink{mrp_8c_ad342a9b9e146ac2b9027550e60958807}{mrp\_client\_add}(&(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.\hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients}), 
      \hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
1187 
1188     \textcolor{keywordflow}{if} (buflen < 3)
1189         \textcolor{keywordflow}{return} -1;
1190 
1191     \textcolor{keywordflow}{if} (\textcolor{charliteral}{'V'} != buf[0])
1192         \textcolor{keywordflow}{return} -1;
1193 
1194     \textcolor{comment}{/*}
1195 \textcolor{comment}{     * V?? - query MVRP Registrar VID database}
1196 \textcolor{comment}{     * V+? - JOIN a VID}
1197 \textcolor{comment}{     * V++   NEW a VID (XXX: note network disturbance)}
1198 \textcolor{comment}{     * V-- - LV a VID}
1199 \textcolor{comment}{     */}
1200     \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"V??"}, 3) == 0) \{
1201         \hyperlink{mvrp_8c_a8be58d5b5ac577c732c27c4949ee321c}{mvrp\_dumptable}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client});
1202     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strncmp(buf, \textcolor{stringliteral}{"V--"}, 3) == 0) \{
1203         rc = \hyperlink{mvrp_8c_a79d16d49759017ec0c4b078c4908a80a}{mvrp\_cmd\_parse\_vid}(buf, buflen, &vid\_param, &err\_index);
1204         \textcolor{keywordflow}{if} (rc)
1205             \textcolor{keywordflow}{goto} out\_ERP;
1206         rc = \hyperlink{mvrp_8c_afa3f36fd78135a64f46a68637255e3be}{mvrp\_cmd\_vid}(vid\_param, \hyperlink{mrp_8h_a50c24398dc19a268492fb2e30f1c8b18}{MRP\_EVENT\_LV});
1207         \textcolor{keywordflow}{if} (rc)
1208             \textcolor{keywordflow}{goto} out\_ERI;
1209     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((strncmp(buf, \textcolor{stringliteral}{"V++"}, 3) == 0)
1210            || (strncmp(buf, \textcolor{stringliteral}{"V+?"}, 3) == 0)) \{
1211         rc = \hyperlink{mvrp_8c_a79d16d49759017ec0c4b078c4908a80a}{mvrp\_cmd\_parse\_vid}(buf, buflen, &vid\_param, &err\_index);
1212         \textcolor{keywordflow}{if} (rc)
1213             \textcolor{keywordflow}{goto} out\_ERP;
1214         \textcolor{keywordflow}{if} (\textcolor{charliteral}{'?'} == buf[2]) \{
1215             mrp\_event = \hyperlink{mrp_8h_a73034a9f9d56f42478a0cb46eff9fd34}{MRP\_EVENT\_JOIN};
1216         \} \textcolor{keywordflow}{else} \{
1217             mrp\_event = \hyperlink{mrp_8h_a69f6f4690b00da18d02751bb7c9019df}{MRP\_EVENT\_NEW};
1218         \}
1219         rc = \hyperlink{mvrp_8c_afa3f36fd78135a64f46a68637255e3be}{mvrp\_cmd\_vid}(vid\_param, mrp\_event);
1220         \textcolor{keywordflow}{if} (rc)
1221             \textcolor{keywordflow}{goto} out\_ERI;
1222     \} \textcolor{keywordflow}{else} \{
1223         snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERC MVRP %s"}, buf);
1224         \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1225         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1226     \}
1227     \textcolor{keywordflow}{return} 0;
1228 
1229  out\_ERI:
1230     snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERI %s"}, buf);
1231     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1232     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1233 
1234  out\_ERP:
1235     snprintf(respbuf, \textcolor{keyword}{sizeof}(respbuf) - 1, \textcolor{stringliteral}{"ERP %s"}, buf);
1236     \hyperlink{mrpd_8c_a0b11a3acfabce074af443f2fc82c562e}{mrpd\_send\_ctl\_msg}(\hyperlink{jack__listener_8c_afed7053cd7bdd1cce33dec7213f340ea}{client}, respbuf, \textcolor{keyword}{sizeof}(respbuf));
1237     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
1238 
1239  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
1240     \textcolor{keywordflow}{return} -1;
1241 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_a3f72134f3c8f16b0ad7d1aec0daf61a2_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_a3f72134f3c8f16b0ad7d1aec0daf61a2_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+recv\+\_\+msg@{mvrp\+\_\+recv\+\_\+msg}}
\index{mvrp\+\_\+recv\+\_\+msg@{mvrp\+\_\+recv\+\_\+msg}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+recv\+\_\+msg(void)}{mvrp_recv_msg(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mvrp\+\_\+recv\+\_\+msg (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_abc8ecd8b4fb3b7fc7442c162f0a893e7}{}\label{mvrp_8h_abc8ecd8b4fb3b7fc7442c162f0a893e7}


mvrp.\+c 파일의 389 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
390 \{
391     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
392     \textcolor{keywordtype}{int} bytes = 0;
393     \hyperlink{structeth__hdr}{eth\_hdr\_t} *eth;
394     \hyperlink{structmrpdu}{mrpdu\_t} *\hyperlink{structmrpdu}{mrpdu};
395     \hyperlink{structmrpdu__message}{mrpdu\_message\_t} *mrpdu\_msg;
396     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_ptr;
397     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *mrpdu\_msg\_eof;
398     \hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *mrpdu\_vectorptr;
399     uint16\_t numvalues;
400     uint16\_t numvalues\_processed;
401     \textcolor{keywordtype}{int} numvectorbytes;
402     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} vect\_3pack;
403     \textcolor{keywordtype}{int} vectidx;
404     \textcolor{keywordtype}{int} vectevt[3];
405     \textcolor{keywordtype}{int} vectevt\_idx;
406     uint16\_t vid\_firstval;
407     \textcolor{keyword}{struct }\hyperlink{structmvrp__attribute}{mvrp\_attribute} *attrib;
408     \textcolor{keywordtype}{int} endmarks;
409     \textcolor{keywordtype}{int} saw\_vlan\_lva = 0;
410 
411     bytes = \hyperlink{mrpd_8c_a0860392c6a9650cf57c2c2cc4c5247c4}{mrpd\_recvmsgbuf}(\hyperlink{mvrp_8c_af6724e3786b97cec4803af3f5372166c}{mvrp\_socket}, &msgbuf);
412     \textcolor{keywordflow}{if} (bytes <= 0)
413         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
414 
415     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})bytes < (\textcolor{keyword}{sizeof}(\hyperlink{structeth__hdr}{eth\_hdr\_t}) + \textcolor{keyword}{sizeof}(\hyperlink{structmrpdu}{mrpdu\_t}) +
416                    \textcolor{keyword}{sizeof}(\hyperlink{structmrpdu__message}{mrpdu\_message\_t})))
417         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
418 
419     eth = (\hyperlink{structeth__hdr}{eth\_hdr\_t} *) msgbuf;
420 
421     \textcolor{comment}{/* note that MVRP frames should always arrive untagged (no vlan) */}
422     \textcolor{keywordflow}{if} (\hyperlink{mvrp_8h_a3ad4d369044fe353738f68d5e89b48d9}{MVRP\_ETYPE} != ntohs(eth->\hyperlink{structeth__hdr_a657ead984e65fc7252e805e62f083a7c}{typelen}))
423         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
424 
425     \textcolor{comment}{/* check dest mac address too */}
426     \textcolor{keywordflow}{if} (memcmp(eth->\hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr}, \hyperlink{mvrp_8c_a23e7031812943e281baf0daab7c0ebdb}{MVRP\_CUSTOMER\_BRIDGE\_ADDR}, \textcolor{keyword}{sizeof}(eth->
      \hyperlink{structeth__hdr_a28d4ce6cefd6bcaad82b0cf1fb6f189a}{destaddr})))
427         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
428 
429     mrpdu = (\hyperlink{structmrpdu}{mrpdu\_t} *) (msgbuf + \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structeth__hdr}{eth\_hdr}));
430 
431     \textcolor{comment}{/*}
432 \textcolor{comment}{     * ProtocolVersion handling - a receiver must process received frames with a lesser}
433 \textcolor{comment}{     * protocol version consistent with the older protocol processing requirements (e.g. a V2}
434 \textcolor{comment}{     * agent receives a V1 message, the V1 message should be parsed with V1 rules).}
435 \textcolor{comment}{     *}
436 \textcolor{comment}{     * However - if an agent receives a NEWER protocol, the agent should still attempt}
437 \textcolor{comment}{     * to parse the frame. If the agent finds an AttributeType not recognized}
438 \textcolor{comment}{     * the agent discards the current message including any associated trailing vectors}
439 \textcolor{comment}{     * up to the end-mark, and resumes with the next message or until the end of the PDU}
440 \textcolor{comment}{     * is reached.}
441 \textcolor{comment}{     *}
442 \textcolor{comment}{     * If a VectorAttribute is found with an unknown Event for the Type, the specific}
443 \textcolor{comment}{     * VectorAttrute is discarded and processing continues with the next VectorAttribute.}
444 \textcolor{comment}{     */}
445 
446     \textcolor{comment}{/*}
447 \textcolor{comment}{    if (MVRP\_PROT\_VER != mrpdu->ProtocolVersion)}
448 \textcolor{comment}{        goto out;}
449 \textcolor{comment}{    */}
450 
451     mrpdu\_msg\_ptr = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)\hyperlink{mrpd_8h_a6fe364e9285891c714ddafd14e7e5aa6}{MRPD\_GET\_MRPDU\_MESSAGE\_LIST}(mrpdu);
452 
453     mrpdu\_msg\_eof = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)mrpdu\_msg\_ptr;
454     mrpdu\_msg\_eof += bytes;
455     mrpdu\_msg\_eof -= \textcolor{keyword}{sizeof}(\hyperlink{mrpd_8h_adb02009b0d416a4c7ba2f427dbf0e5cb}{eth\_hdr\_t});
456     mrpdu\_msg\_eof -= \hyperlink{mrpd_8h_ab10cf1aca74f27f4a1c0754fd71c1b5a}{MRPD\_OFFSETOF\_MRPD\_GET\_MRPDU\_MESSAGE\_LIST};
457 
458     \textcolor{comment}{/*}
459 \textcolor{comment}{     * MVRP\_VID\_TYPE FirstValue is the 12 bit (2-byte) VLAN with}
460 \textcolor{comment}{     * corresponding attrib\_length=2}
461 \textcolor{comment}{     *}
462 \textcolor{comment}{     * MVRP uses ThreePackedEvents for all vector encodings}
463 \textcolor{comment}{     *}
464 \textcolor{comment}{     * walk list until we run to the end of the PDU, or encounter a double end-mark}
465 \textcolor{comment}{     */}
466 
467     endmarks = 0;
468 
469     \textcolor{keywordflow}{while} (mrpdu\_msg\_ptr < (mrpdu\_msg\_eof - \hyperlink{mrp_8h_a8d1d2cae1344a2ed5c4cc2e34dab8279}{MRPDU\_ENDMARK\_SZ})) \{
470         mrpdu\_msg = (\hyperlink{structmrpdu__message}{mrpdu\_message\_t} *) mrpdu\_msg\_ptr;
471         \textcolor{keywordflow}{if} ((mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType} == 0) &&
472             (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} == 0)) \{
473             mrpdu\_msg\_ptr += 2;
474             endmarks++;
475             \textcolor{keywordflow}{if} (endmarks < 2)
476                 \textcolor{keywordflow}{continue};   \textcolor{comment}{/* end-mark of message-list */}
477             \textcolor{keywordflow}{else}
478                 \textcolor{keywordflow}{break};  \textcolor{comment}{/* two endmarks - end of message list */}
479         \}
480 
481         endmarks = 0;
482 
483         \textcolor{keywordflow}{switch} (mrpdu\_msg->\hyperlink{structmrpdu__message_a3dd83acf51706885c5b37387a958a010}{AttributeType}) \{
484         \textcolor{keywordflow}{case} \hyperlink{mvrp_8h_a39db7c276328ff15937018a477abd59e}{MVRP\_VID\_TYPE}:
485             \textcolor{keywordflow}{if} (mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} != 2) \{
486                 \textcolor{comment}{/* we can seek for an endmark to recover .. but this version}
487 \textcolor{comment}{                 * dumps the entire packet as malformed}
488 \textcolor{comment}{                 */}
489                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
490             \}
491             \textcolor{comment}{/* AttributeListLength not used for MVRP, hence}
492 \textcolor{comment}{             * Data points to the beginning of the VectorAttributes}
493 \textcolor{comment}{             */}
494             mrpdu\_vectorptr =
495                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data};
496             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
497 
498             \textcolor{keywordflow}{while} (!((mrpdu\_msg\_ptr[0] == 0)
499                  && (mrpdu\_msg\_ptr[1] == 0))) \{
500                 numvalues =
501                     \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
502                              (mrpdu\_vectorptr->
503                               VectorHeader));
504 
505                 \textcolor{keywordflow}{if} (\hyperlink{mrp_8h_a7e066ab8a959a4cc1ee67f72833ea5f9}{MRPDU\_VECT\_LVA}(ntohs(mrpdu\_vectorptr->
      \hyperlink{structmrpdu__vectorattrib_af3ce9d09162a6ac7a51a5e8ef1166f94}{VectorHeader})) && !saw\_vlan\_lva) \{
506                     saw\_vlan\_lva = 1;
507                     \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}(\hyperlink{mrp_8h_ae839aa1da9bc287453cdbf7e6e574e57}{MRP\_EVENT\_RLA}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
508                 \}
509 
510                 \textcolor{keywordflow}{if} (0 == numvalues)
511                     \textcolor{comment}{/* Malformed - cant tell how long the trailing vectors are */}
512                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
513 
514                 \textcolor{keywordflow}{if} ((mrpdu\_vectorptr->\hyperlink{structmrpdu__vectorattrib_aadb45c52c58d863f199ba2cb4e450e6d}{FirstValue\_VectorEvents} +
515                      numvalues / 3) >= mrpdu\_msg\_eof)
516                     \textcolor{comment}{/* Malformed - runs off the end of the pdu */}
517                     \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
518 
519                 vid\_firstval = (((uint16\_t)
520                          mrpdu\_vectorptr->
521                          FirstValue\_VectorEvents[0]) <<
522                         8)
523                     | mrpdu\_vectorptr->
524                     FirstValue\_VectorEvents[1];
525 
526                 \textcolor{comment}{/* if not an even multiple ... */}
527                 if (numvalues != ((numvalues / 3) * 3))
528                     numvectorbytes = (numvalues / 3) + 1;
529                 \textcolor{keywordflow}{else}
530                     numvectorbytes = (numvalues / 3);
531 
532                 \textcolor{keywordflow}{for} (vectidx = 2;
533                      vectidx <= (numvectorbytes + 2);
534                      vectidx++) \{
535                     vect\_3pack =
536                         mrpdu\_vectorptr->
537                         FirstValue\_VectorEvents[vectidx];
538                     vectevt[0] = vect\_3pack / 36;
539                     vectevt[1] =
540                         (vect\_3pack - vectevt[0] * 36) / 6;
541                     vectevt[2] =
542                         vect\_3pack - (36 * vectevt[0]) -
543                         (6 * vectevt[1]);
544 
545                     numvalues\_processed =
546                         (numvalues > 3 ? 3 : numvalues);
547 
548                     \textcolor{keywordflow}{for} (vectevt\_idx = 0;
549                          vectevt\_idx < numvalues\_processed;
550                          vectevt\_idx++) \{
551 
552                         \textcolor{keywordflow}{if} (0xFFF < vid\_firstval)   \textcolor{comment}{/*discard junk */}
553                             \textcolor{keywordflow}{continue};
554 
555                         attrib = \hyperlink{mvrp_8c_a17aeb6c26258446d2331fd16484a51a4}{mvrp\_alloc}();
556                         \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == attrib)
557                             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};    \textcolor{comment}{/* oops - internal error */}
558 
559                         attrib->\hyperlink{structmvrp__attribute_a3b3d3596e1475518967e76e0e222a458}{attribute} =
560                             vid\_firstval;
561                         vid\_firstval++;
562                         memcpy(attrib->\hyperlink{structmvrp__attribute_a9e893db6ef01e9cda330159f5d3ee764}{registrar}.
563                                \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}, eth->\hyperlink{structeth__hdr_aeeb6cb7e4de7ccfa502c3e4616af41ad}{srcaddr},
564                                6);
565 
566                         \textcolor{keywordflow}{switch} (vectevt[vectevt\_idx]) \{
567                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a7ac06a9f5c955cabb6e3c7af4a129b16}{MRPDU\_NEW}:
568                             \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}
569                                 (\hyperlink{mrp_8h_a51a47692a4f1690ea8a90c21a65a9722}{MRP\_EVENT\_RNEW},
570                                  attrib);
571                             \textcolor{keywordflow}{break};
572                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_acc825a41fd36f63dd06795f2e6c26559}{MRPDU\_JOININ}:
573                             \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}
574                                 (\hyperlink{mrp_8h_ae9248e2c4044367659e4c9cd81139edd}{MRP\_EVENT\_RJOININ},
575                                  attrib);
576                             \textcolor{keywordflow}{break};
577                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a0d8eb50820091cb13893458ed027efc9}{MRPDU\_IN}:
578                             \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}
579                                 (\hyperlink{mrp_8h_adbdd94c4053091feb476250e51ecf692}{MRP\_EVENT\_RIN},
580                                  attrib);
581                             \textcolor{keywordflow}{break};
582                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a976aa21d4cffc6bd678ee4b6ae3d28a5}{MRPDU\_JOINMT}:
583                             \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}
584                                 (\hyperlink{mrp_8h_a8fa98cc04b70afb2607ed4728a4308f7}{MRP\_EVENT\_RJOINMT},
585                                  attrib);
586                             \textcolor{keywordflow}{break};
587                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a46d1a097d122e17caae216077f304e41}{MRPDU\_MT}:
588                             \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}
589                                 (\hyperlink{mrp_8h_aedd7001fbfb09da80432301a0095f686}{MRP\_EVENT\_RMT},
590                                  attrib);
591                             \textcolor{keywordflow}{break};
592                         \textcolor{keywordflow}{case} \hyperlink{mrp_8h_a58d328f0cc2785d145882257de49cf46}{MRPDU\_LV}:
593                             \hyperlink{mvrp_8c_a8233b6c80e371d771ecf46b527a1dbf1}{mvrp\_event}
594                                 (\hyperlink{mrp_8h_a12ce2ba0758f249e0ceb872a9d3cdbc3}{MRP\_EVENT\_RLV},
595                                  attrib);
596                             \textcolor{keywordflow}{break};
597                         \textcolor{keywordflow}{default}:
598                             \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(attrib);
599                             \textcolor{keywordflow}{break};
600                         \}
601                     \}
602                     numvalues -= numvalues\_processed;
603                 \}
604 
605                 \textcolor{comment}{/* 1 byte Type, 1 byte Len, 2 byte FirstValue, and (n) vector bytes */}
606                 mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
607                 mrpdu\_msg\_ptr += 4 + numvectorbytes;
608 
609                 mrpdu\_vectorptr =
610                     (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg\_ptr;
611             \}
612             \textcolor{keywordflow}{break};
613         \textcolor{keywordflow}{default}:
614             \textcolor{comment}{/*}
615 \textcolor{comment}{             * If protocol version is 0, but attribute type is unknown, we have}
616 \textcolor{comment}{             * a malformed PDU, so terminate parsing.}
617 \textcolor{comment}{             */}
618             \textcolor{keywordflow}{if} (\hyperlink{mvrp_8h_a1132086a1d0999b4efa04a64f87cc2c2}{MVRP\_PROT\_VER} == mrpdu->\hyperlink{structmrpdu_a033f6fc814bd016f671e9b07cebfdab2}{ProtocolVersion})
619                 \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
620 
621             \textcolor{comment}{/*}
622 \textcolor{comment}{             * Try to parse unknown message type.}
623 \textcolor{comment}{             */}
624             mrpdu\_vectorptr =
625                 (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *) mrpdu\_msg->\hyperlink{structmrpdu__message_a365ab2667948b1615e9662e639e27dcb}{Data};
626             numvalues = \hyperlink{mrp_8h_a0bf39295fbef19c7724728660f38a13a}{MRPDU\_VECT\_NUMVALUES}(ntohs
627                              (mrpdu\_vectorptr->
628                               VectorHeader));
629             mrpdu\_msg\_ptr = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) mrpdu\_vectorptr;
630             \textcolor{comment}{/* skip this null attribute ... some switches generate these ... */}
631             \textcolor{comment}{/* 2 byte numvalues + FirstValue + vector bytes */}
632             mrpdu\_msg\_ptr += 2 + mrpdu\_msg->\hyperlink{structmrpdu__message_a5f2b49cd60c758023398b61c08f28e94}{AttributeLength} + (numvalues + 2) / 3;
633             mrpdu\_vectorptr = (\hyperlink{structmrpdu__vectorattrib}{mrpdu\_vectorattrib\_t} *)mrpdu\_msg\_ptr;
634             \textcolor{keywordflow}{break};
635         \}
636     \}
637 
638     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
639     \textcolor{keywordflow}{return} 0;
640  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
641     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
642 
643     \textcolor{keywordflow}{return} -1;
644 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_abc8ecd8b4fb3b7fc7442c162f0a893e7_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mvrp_8h_abc8ecd8b4fb3b7fc7442c162f0a893e7_icgraph}
\end{center}
\end{figure}


\index{mvrp.\+h@{mvrp.\+h}!mvrp\+\_\+reset@{mvrp\+\_\+reset}}
\index{mvrp\+\_\+reset@{mvrp\+\_\+reset}!mvrp.\+h@{mvrp.\+h}}
\subsubsection[{\texorpdfstring{mvrp\+\_\+reset(void)}{mvrp_reset(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void mvrp\+\_\+reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mvrp_8h_a9e947608dafe561a56664cdc29133589}{}\label{mvrp_8h_a9e947608dafe561a56664cdc29133589}


mvrp.\+c 파일의 1344 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1345 \{
1346     \textcolor{keyword}{struct }\hyperlink{structmvrp__attribute}{mvrp\_attribute} *free\_sattrib;
1347     \textcolor{keyword}{struct }\hyperlink{structmvrp__attribute}{mvrp\_attribute} *sattrib;
1348 
1349     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db})
1350         \textcolor{keywordflow}{return};
1351 
1352     sattrib = \hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a463dff8bce0eaaee9897b5190ffc9460}{attrib\_list};
1353     \textcolor{keywordflow}{while} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} != sattrib) \{
1354         free\_sattrib = sattrib;
1355         sattrib = sattrib->\hyperlink{structmvrp__attribute_a6443b8a395d0b5481049fdb981ca012a}{next};
1356         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(free\_sattrib);
1357     \}
1358     \hyperlink{mrp_8c_adde14a545c8c52173b54c3c39ae9bbb1}{mrp\_client\_remove\_all}(&\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db}->\hyperlink{structmvrp__database_a7e08db3b85c932325ce3a3605a09ab0c}{mrp\_db}.
      \hyperlink{structmrp__database_a32ba484209aea1112a353d0bbed96816}{clients});
1359     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(\hyperlink{mvrp_8c_a69153097f1eb68878b4a0eb4d4f5810f}{MVRP\_db});
1360 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{mvrp_8h_a9e947608dafe561a56664cdc29133589_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{mvrp_8h_a9e947608dafe561a56664cdc29133589_icgraph}
\end{center}
\end{figure}


