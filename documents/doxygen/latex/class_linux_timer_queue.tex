\hypertarget{class_linux_timer_queue}{}\section{Linux\+Timer\+Queue 클래스 참조}
\label{class_linux_timer_queue}\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}


Extends \hyperlink{class_o_s_timer_queue}{O\+S\+Timer\+Queue} to Linux.  




{\ttfamily \#include $<$linux\+\_\+hal\+\_\+common.\+hpp$>$}



Linux\+Timer\+Queue에 대한 상속 다이어그램 \+: 
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=213pt]{class_linux_timer_queue__inherit__graph}
\end{center}
\end{figure}


Linux\+Timer\+Queue에 대한 협력 다이어그램\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_linux_timer_queue__coll__graph}
\end{center}
\end{figure}
\subsection*{Public 멤버 함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_linux_timer_queue_abecd74c46859b7dc05bc6c04e87282f4}{$\sim$\+Linux\+Timer\+Queue} ()
\begin{DoxyCompactList}\small\item\em Deletes pre-\/allocated internal variables. \end{DoxyCompactList}\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{class_linux_timer_queue_af91c63e95e1888dc178cbd09764ae2af}{add\+Event} (unsigned long micros, int type, \hyperlink{avbts__ostimerq_8hpp_ac7e0bdbe70d3e2951c02906cf4ed3aed}{ostimerq\+\_\+handler} func, \hyperlink{structevent__descriptor__t}{event\+\_\+descriptor\+\_\+t} $\ast$arg, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} rm, unsigned $\ast$event)
\begin{DoxyCompactList}\small\item\em Add an event to the timer queue. \end{DoxyCompactList}\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{class_linux_timer_queue_a85d2e5f092c3854728747bdb9177291d}{cancel\+Event} (int type, unsigned $\ast$event)
\begin{DoxyCompactList}\small\item\em Removes an event from the timer queue. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected 멤버 함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_linux_timer_queue_a3a1624718eac03aabe338148163a8c97}{Linux\+Timer\+Queue} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{class_linux_timer_queue_aee8048628ff2b5c026c9e15acdcaacb8}{init} ()
\begin{DoxyCompactList}\small\item\em Initializes internal variables. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private 멤버 함수}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_linux_timer_queue_a423ad61c56c43b1562df656060ba6a73}{Linux\+Timer\+Queue\+Action} (\hyperlink{struct_linux_timer_queue_action_arg}{Linux\+Timer\+Queue\+Action\+Arg} $\ast$arg)
\end{DoxyCompactItemize}
\subsection*{Private 속성}
\begin{DoxyCompactItemize}
\item 
\hyperlink{linux__hal__common_8hpp_ac74f8b051ab5568ff5d8938e7e594ced}{Linux\+Timer\+Queue\+Map\+\_\+t} \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timer\+Queue\+Map}
\item 
int \hyperlink{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}{key}
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{class_linux_timer_queue_a53a2d16dac430353052f49aaa0cce34a}{stop}
\item 
\hyperlink{linux__hal__common_8hpp_aa2cde2c34cbf889762eaa42f613d9270}{Linux\+Timer\+Queue\+Private\+\_\+t} \hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\+\_\+private}
\item 
\hyperlink{class_o_s_lock}{O\+S\+Lock} $\ast$ \hyperlink{class_linux_timer_queue_abdb6f223dacf8c3cf12e918dd48ed210}{lock}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_linux_timer_queue_a6ea4bc20feaf63bfad3217ab59d5ca75}{Linux\+Timer\+Queue\+Factory}
\item 
void $\ast$ \hyperlink{class_linux_timer_queue_a57b16fcbb008bbb516e808c2d9e86bf9}{Linux\+Timer\+Queue\+Handler} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Linux timer queue handler. Deals with linux queues. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{상세한 설명}
Extends \hyperlink{class_o_s_timer_queue}{O\+S\+Timer\+Queue} to Linux. 

linux\+\_\+hal\+\_\+common.\+hpp 파일의 410 번째 라인에서 정의되었습니다.



\subsection{생성자 \& 소멸자 문서화}
\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{Linux\+Timer\+Queue()}{LinuxTimerQueue()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Linux\+Timer\+Queue} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{class_linux_timer_queue_a3a1624718eac03aabe338148163a8c97}{}\label{class_linux_timer_queue_a3a1624718eac03aabe338148163a8c97}


Default constructor. 



linux\+\_\+hal\+\_\+common.\+hpp 파일의 424 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
424                       \{
425         \hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\_private} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
426     \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{class_linux_timer_queue_a3a1624718eac03aabe338148163a8c97_cgraph}
\end{center}
\end{figure}


\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!````~Linux\+Timer\+Queue@{$\sim$\+Linux\+Timer\+Queue}}
\index{````~Linux\+Timer\+Queue@{$\sim$\+Linux\+Timer\+Queue}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{$\sim$\+Linux\+Timer\+Queue()}{~LinuxTimerQueue()}}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf Linux\+Timer\+Queue} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_linux_timer_queue_abecd74c46859b7dc05bc6c04e87282f4}{}\label{class_linux_timer_queue_abecd74c46859b7dc05bc6c04e87282f4}


Deletes pre-\/allocated internal variables. 



linux\+\_\+hal\+\_\+common.\+cpp 파일의 412 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
412                                   \{
413     pthread\_join(\hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\_private}->\hyperlink{struct_linux_timer_queue_private_a62d0a2e78babe1e8a32b2a09a5d4e197}{signal\_thread},\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
414     \textcolor{keywordflow}{if}( \hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\_private} != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \textcolor{keyword}{delete} \hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\_private};
415 \}
\end{DoxyCode}


\subsection{멤버 함수 문서화}
\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!add\+Event@{add\+Event}}
\index{add\+Event@{add\+Event}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{add\+Event(unsigned long micros, int type, ostimerq\+\_\+handler func, event\+\_\+descriptor\+\_\+t $\ast$arg, bool rm, unsigned $\ast$event)}{addEvent(unsigned long micros, int type, ostimerq_handler func, event_descriptor_t *arg, bool rm, unsigned *event)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} add\+Event (
\begin{DoxyParamCaption}
\item[{unsigned long}]{micros, }
\item[{int}]{type, }
\item[{{\bf ostimerq\+\_\+handler}}]{func, }
\item[{{\bf event\+\_\+descriptor\+\_\+t} $\ast$}]{arg, }
\item[{{\bf bool}}]{rm, }
\item[{unsigned $\ast$}]{event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_linux_timer_queue_af91c63e95e1888dc178cbd09764ae2af}{}\label{class_linux_timer_queue_af91c63e95e1888dc178cbd09764ae2af}


Add an event to the timer queue. 


\begin{DoxyParams}{매개변수}
{\em micros} & Time in microsseconds \\
\hline
{\em type} & \hyperlink{class_event}{Event} type \\
\hline
{\em func} & Callback \\
\hline
{\em arg} & inner argument of type \hyperlink{structevent__descriptor__t}{event\+\_\+descriptor\+\_\+t} \\
\hline
{\em rm} & when true, allows elements to be deleted from the queue \\
\hline
{\em event} & \mbox{[}inout\mbox{]} Pointer to the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE success, F\+A\+L\+SE fail 
\end{DoxyReturn}


\hyperlink{class_o_s_timer_queue_aedd4a6892651a861ca78a9862065b539}{O\+S\+Timer\+Queue}를 구현.



linux\+\_\+hal\+\_\+common.\+cpp 파일의 498 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
499                                                       \{
500     \hyperlink{struct_linux_timer_queue_action_arg}{LinuxTimerQueueActionArg} *outer\_arg;
501     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
502     LinuxTimerQueueMap\_t::iterator iter;
503 
504 
505     outer\_arg = \textcolor{keyword}{new} \hyperlink{struct_linux_timer_queue_action_arg}{LinuxTimerQueueActionArg};
506     outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_afc701b8a5b43cd1d29422c68856bc614}{inner\_arg} = arg;
507     outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a059a8adfbb578bc50c97a96ae2ac0779}{rm} = rm;
508     outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_aaa1ebdc5351c8e4b6cd0b92aabfa4d52}{func} = func;
509     outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_ac765329451135abec74c45e1897abf26}{type} = \hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type};
510 
511     \textcolor{comment}{// Find key that we can use}
512     \textcolor{keywordflow}{while}( \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.find( \hyperlink{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}{key} ) != \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.end() ) \{
513         ++\hyperlink{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}{key};
514     \}
515 
516     \{
517         \textcolor{keyword}{struct }itimerspec its;
518         memset(&(outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a9baffc52a0a03ab47948763b47ab6d91}{sevp}), 0, \textcolor{keyword}{sizeof}(outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a9baffc52a0a03ab47948763b47ab6d91}{sevp}));
519         outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a9baffc52a0a03ab47948763b47ab6d91}{sevp}.sigev\_notify = SIGEV\_SIGNAL;
520         outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a9baffc52a0a03ab47948763b47ab6d91}{sevp}.sigev\_signo  = SIGUSR1;
521         outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a9baffc52a0a03ab47948763b47ab6d91}{sevp}.sigev\_value.sival\_int = \hyperlink{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}{key};
522         \textcolor{keywordflow}{if} ( timer\_create
523              (CLOCK\_MONOTONIC, &outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a9baffc52a0a03ab47948763b47ab6d91}{sevp}, &outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a1f6b0d9bef8b2411e159a7753850235d}{timer\_handle})
524              == -1) \{
525             \hyperlink{gptp__log_8hpp_afefbb1009717c128012bfeed94842987}{GPTP\_LOG\_ERROR}(\textcolor{stringliteral}{"timer\_create failed - %s"}, strerror(errno));
526             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
527         \}
528         \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}[\hyperlink{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}{key}] = outer\_arg;
529 
530         memset(&its, 0, \textcolor{keyword}{sizeof}(its));
531         its.it\_value.tv\_sec = micros / 1000000;
532         its.it\_value.tv\_nsec = (micros % 1000000) * 1000;
533         err = timer\_settime( outer\_arg->\hyperlink{struct_linux_timer_queue_action_arg_a1f6b0d9bef8b2411e159a7753850235d}{timer\_handle}, 0, &its, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
534         \textcolor{keywordflow}{if}( err < 0 ) \{
535             \hyperlink{gptp__log_8hpp_afefbb1009717c128012bfeed94842987}{GPTP\_LOG\_ERROR}(\textcolor{stringliteral}{"Failed to arm timer: %s"}, strerror(errno));
536             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
537         \}
538     \}
539 
540     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
541 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_linux_timer_queue_af91c63e95e1888dc178cbd09764ae2af_icgraph}
\end{center}
\end{figure}


\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!cancel\+Event@{cancel\+Event}}
\index{cancel\+Event@{cancel\+Event}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{cancel\+Event(int type, unsigned $\ast$event)}{cancelEvent(int type, unsigned *event)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} cancel\+Event (
\begin{DoxyParamCaption}
\item[{int}]{type, }
\item[{unsigned $\ast$}]{event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_linux_timer_queue_a85d2e5f092c3854728747bdb9177291d}{}\label{class_linux_timer_queue_a85d2e5f092c3854728747bdb9177291d}


Removes an event from the timer queue. 


\begin{DoxyParams}{매개변수}
{\em type} & \hyperlink{class_event}{Event} type \\
\hline
{\em event} & \mbox{[}inout\mbox{]} Pointer to the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
T\+R\+UE success, F\+A\+L\+SE fail 
\end{DoxyReturn}


\hyperlink{class_o_s_timer_queue_a781246a92c0fa7d331f94829e937243f}{O\+S\+Timer\+Queue}를 구현.



linux\+\_\+hal\+\_\+common.\+cpp 파일의 544 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
544                                                              \{
545     LinuxTimerQueueMap\_t::iterator iter;
546     \textcolor{keywordflow}{for}( iter = \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.begin(); iter != \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.end();) \{
547         \textcolor{keywordflow}{if}( (iter->second)->type == \hyperlink{namespaceastime__fitline_a7aead736a07eaf25623ad7bfa1f0ee2d}{type} ) \{
548             \textcolor{comment}{// Delete element}
549             \textcolor{keywordflow}{if}( (iter->second)->rm ) \{
550                 \textcolor{keyword}{delete} (iter->second)->inner\_arg;
551             \}
552             timer\_delete(iter->second->timer\_handle);
553             \textcolor{keyword}{delete} iter->second;
554             \hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.erase(iter++);
555         \} \textcolor{keywordflow}{else} \{
556             ++iter;
557         \}
558     \}
559 
560     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
561 \}
\end{DoxyCode}
\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!init@{init}}
\index{init@{init}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{init()}{init()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{class_linux_timer_queue_aee8048628ff2b5c026c9e15acdcaacb8}{}\label{class_linux_timer_queue_aee8048628ff2b5c026c9e15acdcaacb8}


Initializes internal variables. 

\begin{DoxyReturn}{반환값}
T\+R\+UE if success, F\+A\+L\+SE otherwise. 
\end{DoxyReturn}


\hyperlink{class_o_s_timer_queue_ac4ae554e242cee73c504038d88855eba}{O\+S\+Timer\+Queue}(으)로부터 재구현되었습니다.



linux\+\_\+hal\+\_\+common.\+cpp 파일의 417 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
417                            \{
418     \hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\_private} = \textcolor{keyword}{new} \hyperlink{struct_linux_timer_queue_private}{LinuxTimerQueuePrivate};
419     \textcolor{keywordflow}{if}( \hyperlink{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{\_private} == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
420 
421     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
422 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_linux_timer_queue_aee8048628ff2b5c026c9e15acdcaacb8_icgraph}
\end{center}
\end{figure}


\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!Linux\+Timer\+Queue\+Action@{Linux\+Timer\+Queue\+Action}}
\index{Linux\+Timer\+Queue\+Action@{Linux\+Timer\+Queue\+Action}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{Linux\+Timer\+Queue\+Action(\+Linux\+Timer\+Queue\+Action\+Arg $\ast$arg)}{LinuxTimerQueueAction(LinuxTimerQueueActionArg *arg)}}]{\setlength{\rightskip}{0pt plus 5cm}void Linux\+Timer\+Queue\+Action (
\begin{DoxyParamCaption}
\item[{{\bf Linux\+Timer\+Queue\+Action\+Arg} $\ast$}]{arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_linux_timer_queue_a423ad61c56c43b1562df656060ba6a73}{}\label{class_linux_timer_queue_a423ad61c56c43b1562df656060ba6a73}


linux\+\_\+hal\+\_\+common.\+cpp 파일의 468 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
468                                                                            \{
469     arg->\hyperlink{struct_linux_timer_queue_action_arg_aaa1ebdc5351c8e4b6cd0b92aabfa4d52}{func}( arg->\hyperlink{struct_linux_timer_queue_action_arg_afc701b8a5b43cd1d29422c68856bc614}{inner\_arg} );
470 
471     \textcolor{keywordflow}{return};
472 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_linux_timer_queue_a423ad61c56c43b1562df656060ba6a73_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_linux_timer_queue_a423ad61c56c43b1562df656060ba6a73_icgraph}
\end{center}
\end{figure}




\subsection{Friend, 그리고 관련된 함수 문서화}
\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!Linux\+Timer\+Queue\+Factory@{Linux\+Timer\+Queue\+Factory}}
\index{Linux\+Timer\+Queue\+Factory@{Linux\+Timer\+Queue\+Factory}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{Linux\+Timer\+Queue\+Factory}{LinuxTimerQueueFactory}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Linux\+Timer\+Queue\+Factory}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{class_linux_timer_queue_a6ea4bc20feaf63bfad3217ab59d5ca75}{}\label{class_linux_timer_queue_a6ea4bc20feaf63bfad3217ab59d5ca75}


linux\+\_\+hal\+\_\+common.\+hpp 파일의 411 번째 라인에서 정의되었습니다.

\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!Linux\+Timer\+Queue\+Handler@{Linux\+Timer\+Queue\+Handler}}
\index{Linux\+Timer\+Queue\+Handler@{Linux\+Timer\+Queue\+Handler}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{Linux\+Timer\+Queue\+Handler}{LinuxTimerQueueHandler}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ Linux\+Timer\+Queue\+Handler (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{class_linux_timer_queue_a57b16fcbb008bbb516e808c2d9e86bf9}{}\label{class_linux_timer_queue_a57b16fcbb008bbb516e808c2d9e86bf9}


Linux timer queue handler. Deals with linux queues. 


\begin{DoxyParams}{매개변수}
{\em arg} & \mbox{[}in\mbox{]} \hyperlink{class_linux_timer_queue}{Linux\+Timer\+Queue} arguments \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
void 
\end{DoxyReturn}


linux\+\_\+hal\+\_\+common.\+cpp 파일의 424 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
424                                           \{
425     \hyperlink{class_linux_timer_queue}{LinuxTimerQueue} *timerq = (\hyperlink{class_linux_timer_queue}{LinuxTimerQueue} *) arg;
426     sigset\_t waitfor;
427     \textcolor{keyword}{struct }timespec \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout};
428     \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout}.tv\_sec = 0; \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout}.tv\_nsec = 100000000; \textcolor{comment}{/* 100 ms */}
429 
430     sigemptyset( &waitfor );
431     \hyperlink{gptp__log_8hpp_ae4c6efe7c9cf6d7d3bbd28a0fd087d61}{GPTP\_LOG\_DEBUG}(\textcolor{stringliteral}{"Signal thread started"});
432     \textcolor{keywordflow}{while}( !timerq->\hyperlink{class_linux_timer_queue_a53a2d16dac430353052f49aaa0cce34a}{stop} ) \{
433         siginfo\_t info;
434         LinuxTimerQueueMap\_t::iterator iter;
435         sigaddset( &waitfor, SIGUSR1 );
436         \textcolor{keywordflow}{if}( sigtimedwait( &waitfor, &info, &\hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout} ) == -1 ) \{
437             \textcolor{keywordflow}{if}( errno == EAGAIN ) \{
438                 \textcolor{keywordflow}{continue};
439             \}
440             \textcolor{keywordflow}{else} \{
441                 \hyperlink{gptp__log_8hpp_afefbb1009717c128012bfeed94842987}{GPTP\_LOG\_ERROR}(\textcolor{stringliteral}{"Signal thread sigtimedwait error: %d"}, errno);
442                 \textcolor{keywordflow}{break};
443             \}
444         \}
445         \textcolor{keywordflow}{if}( timerq->\hyperlink{class_linux_timer_queue_abdb6f223dacf8c3cf12e918dd48ed210}{lock}->\hyperlink{class_o_s_lock_a9186992157d223030a002f3aded7aba2}{lock}() != \hyperlink{avbts__oslock_8hpp_a6ade377184a937ebffbe2a94b7369a64a6bbac1b2760c150f568c6beaa33deea0}{oslock\_ok} ) \{
446             \textcolor{keywordflow}{break};
447         \}
448 
449         iter = timerq->\hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.find(info.si\_value.sival\_int);
450         \textcolor{keywordflow}{if}( iter != timerq->\hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.end() ) \{
451             \textcolor{keyword}{struct }\hyperlink{struct_linux_timer_queue_action_arg}{LinuxTimerQueueActionArg} *arg = iter->second;
452             timerq->\hyperlink{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{timerQueueMap}.erase(iter);
453             timerq->\hyperlink{class_linux_timer_queue_a423ad61c56c43b1562df656060ba6a73}{LinuxTimerQueueAction}( arg );
454             \textcolor{keywordflow}{if}( arg->\hyperlink{struct_linux_timer_queue_action_arg_a059a8adfbb578bc50c97a96ae2ac0779}{rm} ) \{
455                 \textcolor{keyword}{delete} arg->\hyperlink{struct_linux_timer_queue_action_arg_afc701b8a5b43cd1d29422c68856bc614}{inner\_arg};
456             \}
457             timer\_delete(arg->\hyperlink{struct_linux_timer_queue_action_arg_a1f6b0d9bef8b2411e159a7753850235d}{timer\_handle});
458             \textcolor{keyword}{delete} arg;
459         \}
460         \textcolor{keywordflow}{if}( timerq->\hyperlink{class_linux_timer_queue_abdb6f223dacf8c3cf12e918dd48ed210}{lock}->\hyperlink{class_o_s_lock_a5b965df44250112cac3cf967dc998bec}{unlock}() != \hyperlink{avbts__oslock_8hpp_a6ade377184a937ebffbe2a94b7369a64a6bbac1b2760c150f568c6beaa33deea0}{oslock\_ok} ) \{
461             \textcolor{keywordflow}{break};
462         \}
463     \}
464     \hyperlink{gptp__log_8hpp_ae4c6efe7c9cf6d7d3bbd28a0fd087d61}{GPTP\_LOG\_DEBUG}(\textcolor{stringliteral}{"Signal thread exit"});
465     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
466 \}
\end{DoxyCode}


\subsection{필드 문서화}
\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!\+\_\+private@{\+\_\+private}}
\index{\+\_\+private@{\+\_\+private}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{\+\_\+private}{_private}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Linux\+Timer\+Queue\+Private\+\_\+t} \+\_\+private\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}{}\label{class_linux_timer_queue_a7bb3221b5cf50ce69a938da040601c1b}


linux\+\_\+hal\+\_\+common.\+hpp 파일의 417 번째 라인에서 정의되었습니다.

\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!key@{key}}
\index{key@{key}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{key}{key}}]{\setlength{\rightskip}{0pt plus 5cm}int key\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}{}\label{class_linux_timer_queue_a35af0be900467fedbb610bd6ea65ed78}


linux\+\_\+hal\+\_\+common.\+hpp 파일의 415 번째 라인에서 정의되었습니다.

\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!lock@{lock}}
\index{lock@{lock}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{lock}{lock}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf O\+S\+Lock}$\ast$ lock\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_linux_timer_queue_abdb6f223dacf8c3cf12e918dd48ed210}{}\label{class_linux_timer_queue_abdb6f223dacf8c3cf12e918dd48ed210}


linux\+\_\+hal\+\_\+common.\+hpp 파일의 418 번째 라인에서 정의되었습니다.

\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!stop@{stop}}
\index{stop@{stop}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{stop}{stop}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} stop\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_linux_timer_queue_a53a2d16dac430353052f49aaa0cce34a}{}\label{class_linux_timer_queue_a53a2d16dac430353052f49aaa0cce34a}


linux\+\_\+hal\+\_\+common.\+hpp 파일의 416 번째 라인에서 정의되었습니다.

\index{Linux\+Timer\+Queue@{Linux\+Timer\+Queue}!timer\+Queue\+Map@{timer\+Queue\+Map}}
\index{timer\+Queue\+Map@{timer\+Queue\+Map}!Linux\+Timer\+Queue@{Linux\+Timer\+Queue}}
\subsubsection[{\texorpdfstring{timer\+Queue\+Map}{timerQueueMap}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Linux\+Timer\+Queue\+Map\+\_\+t} timer\+Queue\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}{}\label{class_linux_timer_queue_a108ec18a8374f47037489ab2d93b73ba}


linux\+\_\+hal\+\_\+common.\+hpp 파일의 414 번째 라인에서 정의되었습니다.



이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.\+:\begin{DoxyCompactItemize}
\item 
daemons/gptp/linux/src/\hyperlink{linux__hal__common_8hpp}{linux\+\_\+hal\+\_\+common.\+hpp}\item 
daemons/gptp/linux/src/\hyperlink{linux__hal__common_8cpp}{linux\+\_\+hal\+\_\+common.\+cpp}\end{DoxyCompactItemize}
