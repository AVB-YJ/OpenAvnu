\hypertarget{pcap__rawsock_8h}{}\section{lib/avtp\+\_\+pipeline/platform/\+Linux/rawsock/pcap\+\_\+rawsock.h 파일 참조}
\label{pcap__rawsock_8h}\index{lib/avtp\+\_\+pipeline/platform/\+Linux/rawsock/pcap\+\_\+rawsock.\+h@{lib/avtp\+\_\+pipeline/platform/\+Linux/rawsock/pcap\+\_\+rawsock.\+h}}
{\ttfamily \#include \char`\"{}rawsock\+\_\+impl.\+h\char`\"{}}\\*
{\ttfamily \#include $<$pcap/pcap.\+h$>$}\\*
pcap\+\_\+rawsock.\+h에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h__incl}
\end{center}
\end{figure}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpcap__rawsock__t}{pcap\+\_\+rawsock\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \hyperlink{pcap__rawsock_8h_a0a8ccb76a50b33b62200d25875baf6f2}{pcap\+Rawsock\+Open} (\hyperlink{structpcap__rawsock__t}{pcap\+\_\+rawsock\+\_\+t} $\ast$rawsock, const char $\ast$\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} rx\+\_\+mode, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} tx\+\_\+mode, \hyperlink{openavb__types__base__pub_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16} \hyperlink{rawsock__tx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype}, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} \hyperlink{gstavbsink_8c_ad662aa56c1696f09c0ac6b97abafac6d}{frame\+\_\+size}, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} num\+\_\+frames)
\item 
void \hyperlink{pcap__rawsock_8h_a57db320388f0b9741f2f55c2750d7f78}{pcap\+Rawsock\+Close} (void $\ast$pv\+Rawsock)
\item 
\hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} $\ast$ \hyperlink{pcap__rawsock_8h_a25f53798d10cfcf32871566b64ba1c95}{pcap\+Rawsock\+Get\+Tx\+Frame} (void $\ast$pv\+Rawsock, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} blocking, unsigned int $\ast$len)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{pcap__rawsock_8h_ae50d7bfd486328cf5207637c5a0b3391}{pcap\+Rawsock\+Tx\+Frame\+Ready} (void $\ast$pv\+Rawsock, \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} $\ast$p\+Buffer, unsigned int len, \hyperlink{openavb__types__base__pub_8h_a25809e0734a149248fcf5831efa4e33d}{U64} time\+Nsec)
\item 
int \hyperlink{pcap__rawsock_8h_ae4219863e7a67f501919d5fb217fcaa3}{pcap\+Rawsock\+Send} (void $\ast$pv\+Rawsock)
\item 
\hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} $\ast$ \hyperlink{pcap__rawsock_8h_a7b6e80c120d401c1b02f593ee0be9cb8}{pcap\+Rawsock\+Get\+Rx\+Frame} (void $\ast$pv\+Rawsock, \hyperlink{openavb__types__base__pub_8h_a696390429f2f3b644bde8d0322a24124}{U32} \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout}, unsigned int $\ast$offset, unsigned int $\ast$len)
\item 
int \hyperlink{pcap__rawsock_8h_a2e18fc989ce60015bf9a7d530007daf5}{pcap\+Rawsock\+Rx\+Parse\+Hdr} (void $\ast$pv\+Rawsock, \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} $\ast$p\+Buffer, \hyperlink{structhdr__info__t}{hdr\+\_\+info\+\_\+t} $\ast$p\+Info)
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{pcap__rawsock_8h_a457c55314a429feeaa984ce8c925a40d}{pcap\+Rawsock\+Rx\+Multicast} (void $\ast$pv\+Rawsock, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} add\+\_\+membership, const \hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8} addr\mbox{[}\hyperlink{avb__avtp_8h_a9822d89774e0d6ddaa06503950130423}{E\+T\+H\+\_\+\+A\+L\+EN}\mbox{]})
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Close@{pcap\+Rawsock\+Close}}
\index{pcap\+Rawsock\+Close@{pcap\+Rawsock\+Close}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Close(void $\ast$pv\+Rawsock)}{pcapRawsockClose(void *pvRawsock)}}]{\setlength{\rightskip}{0pt plus 5cm}void pcap\+Rawsock\+Close (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_a57db320388f0b9741f2f55c2750d7f78}{}\label{pcap__rawsock_8h_a57db320388f0b9741f2f55c2750d7f78}


pcap\+\_\+rawsock.\+c 파일의 130 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
131 \{
132     \hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t} *rawsock = (\hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t}*)pvRawsock;
133 
134     \textcolor{keywordflow}{if} (rawsock) \{
135         pcap\_close(rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle});
136     \}
137 
138     \hyperlink{rawsock__impl_8c_a4b868d77584899fedc55c42e223df585}{baseRawsockClose}(rawsock);
139 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{pcap__rawsock_8h_a57db320388f0b9741f2f55c2750d7f78_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a57db320388f0b9741f2f55c2750d7f78_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Get\+Rx\+Frame@{pcap\+Rawsock\+Get\+Rx\+Frame}}
\index{pcap\+Rawsock\+Get\+Rx\+Frame@{pcap\+Rawsock\+Get\+Rx\+Frame}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Get\+Rx\+Frame(void $\ast$pv\+Rawsock, U32 timeout, unsigned int $\ast$offset, unsigned int $\ast$len)}{pcapRawsockGetRxFrame(void *pvRawsock, U32 timeout, unsigned int *offset, unsigned int *len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U8}$\ast$ pcap\+Rawsock\+Get\+Rx\+Frame (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock, }
\item[{{\bf U32}}]{timeout, }
\item[{unsigned int $\ast$}]{offset, }
\item[{unsigned int $\ast$}]{len}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_a7b6e80c120d401c1b02f593ee0be9cb8}{}\label{pcap__rawsock_8h_a7b6e80c120d401c1b02f593ee0be9cb8}


pcap\+\_\+rawsock.\+c 파일의 180 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
181 \{
182     \hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t} *rawsock = (\hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t}*)pvRawsock;
183 
184     rawsock->\hyperlink{structpcap__rawsock__t_ae6451f27abf3b4dcac75da87d87d5a8c}{rxHeader} = 0;
185     \textcolor{keyword}{const} u\_char *packet = 0;
186     \textcolor{keywordtype}{int} ret;
187 
188     \textcolor{keywordflow}{if} (rawsock) \{
189         ret = pcap\_next\_ex(rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}, &rawsock->\hyperlink{structpcap__rawsock__t_ae6451f27abf3b4dcac75da87d87d5a8c}{rxHeader}, &packet);
190         \textcolor{keywordflow}{switch}(ret) \{
191         \textcolor{keywordflow}{case} 1:
192             *offset = 0;
193             *len = rawsock->\hyperlink{structpcap__rawsock__t_ae6451f27abf3b4dcac75da87d87d5a8c}{rxHeader}->caplen;
194             \textcolor{keywordflow}{return} (\hyperlink{openavb__types__base__pub_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}*)packet;
195         \textcolor{keywordflow}{case} -1:
196             \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"pcap\_next\_ex failed: %s"}, pcap\_geterr(rawsock->
      \hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}));
197             \textcolor{keywordflow}{break};
198         \textcolor{keywordflow}{case} 0:
199             \textcolor{comment}{// timeout;}
200             \textcolor{keywordflow}{break};
201         \textcolor{keywordflow}{case} -2:
202             \textcolor{comment}{// no packets to be read from savefile}
203             \textcolor{comment}{// this should not happened}
204             \textcolor{keywordflow}{break};
205         \textcolor{keywordflow}{default}:
206             \textcolor{keywordflow}{break};
207         \}
208     \}
209 
210     \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
211 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a7b6e80c120d401c1b02f593ee0be9cb8_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Get\+Tx\+Frame@{pcap\+Rawsock\+Get\+Tx\+Frame}}
\index{pcap\+Rawsock\+Get\+Tx\+Frame@{pcap\+Rawsock\+Get\+Tx\+Frame}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Get\+Tx\+Frame(void $\ast$pv\+Rawsock, bool blocking, unsigned int $\ast$len)}{pcapRawsockGetTxFrame(void *pvRawsock, bool blocking, unsigned int *len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U8}$\ast$ pcap\+Rawsock\+Get\+Tx\+Frame (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock, }
\item[{{\bf bool}}]{blocking, }
\item[{unsigned int $\ast$}]{len}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_a25f53798d10cfcf32871566b64ba1c95}{}\label{pcap__rawsock_8h_a25f53798d10cfcf32871566b64ba1c95}


pcap\+\_\+rawsock.\+c 파일의 141 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
142 \{
143     \hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t} *rawsock = (\hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t}*)pvRawsock;
144 
145     \textcolor{keywordflow}{if} (rawsock) \{
146         *len = rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_aa3dad37bb3b3c95138a96b2668936923}{frameSize};
147         \textcolor{keywordflow}{return} rawsock->\hyperlink{structpcap__rawsock__t_a7661fa3516bae1bdfe2000e2dea164ae}{txBuffer};
148     \}
149 
150     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
151 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a25f53798d10cfcf32871566b64ba1c95_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Open@{pcap\+Rawsock\+Open}}
\index{pcap\+Rawsock\+Open@{pcap\+Rawsock\+Open}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Open(pcap\+\_\+rawsock\+\_\+t $\ast$rawsock, const char $\ast$ifname, bool rx\+\_\+mode, bool tx\+\_\+mode, U16 ethertype, U32 frame\+\_\+size, U32 num\+\_\+frames)}{pcapRawsockOpen(pcap_rawsock_t *rawsock, const char *ifname, bool rx_mode, bool tx_mode, U16 ethertype, U32 frame_size, U32 num_frames)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ pcap\+Rawsock\+Open (
\begin{DoxyParamCaption}
\item[{{\bf pcap\+\_\+rawsock\+\_\+t} $\ast$}]{rawsock, }
\item[{const char $\ast$}]{ifname, }
\item[{{\bf bool}}]{rx\+\_\+mode, }
\item[{{\bf bool}}]{tx\+\_\+mode, }
\item[{{\bf U16}}]{ethertype, }
\item[{{\bf U32}}]{frame\+\_\+size, }
\item[{{\bf U32}}]{num\+\_\+frames}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_a0a8ccb76a50b33b62200d25875baf6f2}{}\label{pcap__rawsock_8h_a0a8ccb76a50b33b62200d25875baf6f2}


pcap\+\_\+rawsock.\+c 파일의 73 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
74 \{
75     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_a8fb2c92eb64f80cb2ecb22d129df5a95}{AVB\_TRACE\_RAWSOCK});
76 
77     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_afcf1f0c1d10ae9efe3782eb6cae78355}{AVB\_LOGF\_DEBUG}(\textcolor{stringliteral}{"Open, rx=%d, tx=%d, ethertype=%x size=%d, num=%d"},    rx\_mode, tx\_mode, 
      \hyperlink{avtp__rx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype}, \hyperlink{gstavbsink_8c_ad662aa56c1696f09c0ac6b97abafac6d}{frame\_size}, num\_frames);
78 
79     \hyperlink{rawsock__impl_8c_a63d234ca58178da0dbe635962b70846d}{baseRawsockOpen}(&rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}, \hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, rx\_mode, tx\_mode, 
      \hyperlink{avtp__rx_8c_af3d6d4ec5b93edfddc9de51233ae9f7e}{ethertype}, \hyperlink{gstavbsink_8c_ad662aa56c1696f09c0ac6b97abafac6d}{frame\_size}, num\_frames);
80 
81     \textcolor{keywordflow}{if} (tx\_mode) \{
82         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a28a4d0350d530ad95c95b8383c00cd9c}{AVB\_LOG\_DEBUG}(\textcolor{stringliteral}{"pcap rawsock transmit mode will bypass FQTSS"});
83     \}
84 
85     rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle} = 0;
86 
87     \textcolor{comment}{// Get info about the network device}
88     \textcolor{keywordflow}{if} (!\hyperlink{simple__rawsock_8c_a4a74553012375bcbfc02684b3381f183}{simpleAvbCheckInterface}(\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, &(rawsock->
      \hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_a854c8024bff83a6b215a4897ac1d8944}{ifInfo}))) \{
89         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"Creating rawsock; bad interface name: %s"}, 
      \hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname});
90         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rawsock);
91         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a8fb2c92eb64f80cb2ecb22d129df5a95}{AVB\_TRACE\_RAWSOCK});
92         \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
93     \}
94 
95     \textcolor{comment}{// Deal with frame size.}
96     \textcolor{keywordflow}{if} (rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_aa3dad37bb3b3c95138a96b2668936923}{frameSize} == 0) \{
97         \textcolor{comment}{// use interface MTU as max frames size, if none specified}
98         rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_aa3dad37bb3b3c95138a96b2668936923}{frameSize} = rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_a854c8024bff83a6b215a4897ac1d8944}{ifInfo}.
      \hyperlink{structif__info__t_a5f8594e356005c64e4a2625755b6c849}{mtu} + ETH\_HLEN + \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN};
99     \}
100     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_aa3dad37bb3b3c95138a96b2668936923}{frameSize} > rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_a854c8024bff83a6b215a4897ac1d8944}{ifInfo}.
      \hyperlink{structif__info__t_a5f8594e356005c64e4a2625755b6c849}{mtu} + ETH\_HLEN + \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN}) \{
101         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_ac8495212c30dbf627b5ae3a9f01f4e2a}{AVB\_LOG\_ERROR}(\textcolor{stringliteral}{"Creating rawsock; requested frame size exceeds MTU"});
102         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rawsock);
103         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a8fb2c92eb64f80cb2ecb22d129df5a95}{AVB\_TRACE\_RAWSOCK});
104         \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
105     \}
106 
107     \textcolor{keywordtype}{char} errbuf[PCAP\_ERRBUF\_SIZE];
108     rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle} = \hyperlink{pcap__rawsock_8c_acebb1785ea10fab6ef118c5a1c964411}{open\_pcap\_dev}(\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, rawsock->
      \hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_aa3dad37bb3b3c95138a96b2668936923}{frameSize}, errbuf);
109     \textcolor{keywordflow}{if} (!rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}) \{
110         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"Cannot open device %s: %s"}, \hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, errbuf);
111         \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(rawsock);
112         \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a8fb2c92eb64f80cb2ecb22d129df5a95}{AVB\_TRACE\_RAWSOCK});
113         \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
114     \}
115 
116     \textcolor{comment}{// fill virtual functions table}
117     \hyperlink{structrawsock__cb__t}{rawsock\_cb\_t} *cb = &rawsock->\hyperlink{structpcap__rawsock__t_a1507c5af4508d59cb0a730a852763e94}{base}.\hyperlink{structbase__rawsock_a2b12273a224877b0bbbe5e7f774c7568}{cb};
118     cb->\hyperlink{structrawsock__cb__t_a985e065be665d4efc528911317edb3fa}{close} = \hyperlink{pcap__rawsock_8c_a57db320388f0b9741f2f55c2750d7f78}{pcapRawsockClose};
119     cb->\hyperlink{structrawsock__cb__t_abac4c30aae337d681176b220b37237fc}{getTxFrame} = \hyperlink{pcap__rawsock_8c_a25f53798d10cfcf32871566b64ba1c95}{pcapRawsockGetTxFrame};
120     cb->\hyperlink{structrawsock__cb__t_ae06401a7fdbf21f6bfd7fd65d8e760d0}{txFrameReady} = \hyperlink{pcap__rawsock_8c_ae50d7bfd486328cf5207637c5a0b3391}{pcapRawsockTxFrameReady};
121     cb->\hyperlink{structrawsock__cb__t_ae6202a72f83a5d92e126344ed22470a1}{send} = \hyperlink{pcap__rawsock_8c_ae4219863e7a67f501919d5fb217fcaa3}{pcapRawsockSend};
122     cb->\hyperlink{structrawsock__cb__t_ae9c0b8e9e26d88a6d7ef3191fec6cd5a}{getRxFrame} = \hyperlink{pcap__rawsock_8c_a7b6e80c120d401c1b02f593ee0be9cb8}{pcapRawsockGetRxFrame};
123     cb->\hyperlink{structrawsock__cb__t_a0683e53a5342e7e7aa9755ffcccb49cb}{rxMulticast} = \hyperlink{pcap__rawsock_8c_a457c55314a429feeaa984ce8c925a40d}{pcapRawsockRxMulticast};
124     cb->\hyperlink{structrawsock__cb__t_a21ebeb1cf85f9d386cbe5c3e9f46a1d4}{rxParseHdr} = \hyperlink{pcap__rawsock_8c_a2e18fc989ce60015bf9a7d530007daf5}{pcapRawsockRxParseHdr};
125 
126     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_a8fb2c92eb64f80cb2ecb22d129df5a95}{AVB\_TRACE\_RAWSOCK});
127     \textcolor{keywordflow}{return} rawsock;
128 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a0a8ccb76a50b33b62200d25875baf6f2_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a0a8ccb76a50b33b62200d25875baf6f2_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Rx\+Multicast@{pcap\+Rawsock\+Rx\+Multicast}}
\index{pcap\+Rawsock\+Rx\+Multicast@{pcap\+Rawsock\+Rx\+Multicast}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Rx\+Multicast(void $\ast$pv\+Rawsock, bool add\+\_\+membership, const U8 addr[E\+T\+H\+\_\+\+A\+L\+EN])}{pcapRawsockRxMulticast(void *pvRawsock, bool add_membership, const U8 addr[ETH_ALEN])}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} pcap\+Rawsock\+Rx\+Multicast (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock, }
\item[{{\bf bool}}]{add\+\_\+membership, }
\item[{const {\bf U8}}]{addr\mbox{[}\+E\+T\+H\+\_\+\+A\+L\+E\+N\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_a457c55314a429feeaa984ce8c925a40d}{}\label{pcap__rawsock_8h_a457c55314a429feeaa984ce8c925a40d}


pcap\+\_\+rawsock.\+c 파일의 227 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
228 \{
229     \hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t} *rawsock = (\hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t}*)pvRawsock;
230 
231     \textcolor{keyword}{struct }bpf\_program comp\_filter\_exp;
232     \textcolor{keywordtype}{char} filter\_exp[30];
233 
234     sprintf(filter\_exp, \textcolor{stringliteral}{"ether dst %02x:%02x:%02x:%02x:%02x:%02x"}, addr[0], addr[1], addr[2], addr[3], addr
      [4], addr[5]);
235 
236     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_afcf1f0c1d10ae9efe3782eb6cae78355}{AVB\_LOGF\_DEBUG}(\textcolor{stringliteral}{"%s %d %s"}, \_\_func\_\_, (\textcolor{keywordtype}{int})add\_membership, filter\_exp);
237 
238     \textcolor{keywordflow}{if} (pcap\_compile(rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}, &comp\_filter\_exp, filter\_exp, 0, PCAP\_NETMASK\_UNKNOWN) < 0) \{
239         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"Could not parse filter %s: %s"}, filter\_exp, pcap\_geterr(rawsock->
      \hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}));
240         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
241     \}
242 
243     \textcolor{keywordflow}{if} (pcap\_setfilter(rawsock->\hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}, &comp\_filter\_exp) < 0) \{
244         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"Could not install filter %s: %s"}, filter\_exp, pcap\_geterr(rawsock->
      \hyperlink{structpcap__rawsock__t_a6c138155d7b3442efd19d0aa3f93e548}{handle}));
245         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
246     \}
247 
248     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
249 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a457c55314a429feeaa984ce8c925a40d_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Rx\+Parse\+Hdr@{pcap\+Rawsock\+Rx\+Parse\+Hdr}}
\index{pcap\+Rawsock\+Rx\+Parse\+Hdr@{pcap\+Rawsock\+Rx\+Parse\+Hdr}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Rx\+Parse\+Hdr(void $\ast$pv\+Rawsock, U8 $\ast$p\+Buffer, hdr\+\_\+info\+\_\+t $\ast$p\+Info)}{pcapRawsockRxParseHdr(void *pvRawsock, U8 *pBuffer, hdr_info_t *pInfo)}}]{\setlength{\rightskip}{0pt plus 5cm}int pcap\+Rawsock\+Rx\+Parse\+Hdr (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock, }
\item[{{\bf U8} $\ast$}]{p\+Buffer, }
\item[{{\bf hdr\+\_\+info\+\_\+t} $\ast$}]{p\+Info}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_a2e18fc989ce60015bf9a7d530007daf5}{}\label{pcap__rawsock_8h_a2e18fc989ce60015bf9a7d530007daf5}


pcap\+\_\+rawsock.\+c 파일의 213 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
214 \{
215     \textcolor{keywordtype}{int} hdrLen = \hyperlink{rawsock__impl_8c_a14493f3f2d15fcbaebffb68c0f56c124}{baseRawsockRxParseHdr}(pvRawsock, pBuffer, pInfo);
216 
217     \hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t} *rawsock = (\hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t}*)pvRawsock;
218     \textcolor{keywordflow}{if} (rawsock && rawsock->\hyperlink{structpcap__rawsock__t_ae6451f27abf3b4dcac75da87d87d5a8c}{rxHeader}) \{
219         pInfo->\hyperlink{structhdr__info__t_ad7bf7613b53788b73c72e70d5335e7c8}{ts}.tv\_sec = rawsock->\hyperlink{structpcap__rawsock__t_ae6451f27abf3b4dcac75da87d87d5a8c}{rxHeader}->ts.tv\_sec;
220         \textcolor{comment}{// we requested nanosecond timestamp precision, so probably we don't have to scale here}
221         pInfo->\hyperlink{structhdr__info__t_ad7bf7613b53788b73c72e70d5335e7c8}{ts}.tv\_nsec = rawsock->\hyperlink{structpcap__rawsock__t_ae6451f27abf3b4dcac75da87d87d5a8c}{rxHeader}->ts.tv\_usec;
222     \}
223     \textcolor{keywordflow}{return} hdrLen;
224 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a2e18fc989ce60015bf9a7d530007daf5_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_a2e18fc989ce60015bf9a7d530007daf5_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Send@{pcap\+Rawsock\+Send}}
\index{pcap\+Rawsock\+Send@{pcap\+Rawsock\+Send}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Send(void $\ast$pv\+Rawsock)}{pcapRawsockSend(void *pvRawsock)}}]{\setlength{\rightskip}{0pt plus 5cm}int pcap\+Rawsock\+Send (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_ae4219863e7a67f501919d5fb217fcaa3}{}\label{pcap__rawsock_8h_ae4219863e7a67f501919d5fb217fcaa3}


pcap\+\_\+rawsock.\+c 파일의 173 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
174 \{
175     \textcolor{comment}{// pcapRawsock sends frames in pcapRawsockTxFrameReady}
176 
177     \textcolor{keywordflow}{return} 1;
178 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_ae4219863e7a67f501919d5fb217fcaa3_icgraph}
\end{center}
\end{figure}


\index{pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}!pcap\+Rawsock\+Tx\+Frame\+Ready@{pcap\+Rawsock\+Tx\+Frame\+Ready}}
\index{pcap\+Rawsock\+Tx\+Frame\+Ready@{pcap\+Rawsock\+Tx\+Frame\+Ready}!pcap\+\_\+rawsock.\+h@{pcap\+\_\+rawsock.\+h}}
\subsubsection[{\texorpdfstring{pcap\+Rawsock\+Tx\+Frame\+Ready(void $\ast$pv\+Rawsock, U8 $\ast$p\+Buffer, unsigned int len, U64 time\+Nsec)}{pcapRawsockTxFrameReady(void *pvRawsock, U8 *pBuffer, unsigned int len, U64 timeNsec)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} pcap\+Rawsock\+Tx\+Frame\+Ready (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Rawsock, }
\item[{{\bf U8} $\ast$}]{p\+Buffer, }
\item[{unsigned int}]{len, }
\item[{{\bf U64}}]{time\+Nsec}
\end{DoxyParamCaption}
)}\hypertarget{pcap__rawsock_8h_ae50d7bfd486328cf5207637c5a0b3391}{}\label{pcap__rawsock_8h_ae50d7bfd486328cf5207637c5a0b3391}


pcap\+\_\+rawsock.\+c 파일의 153 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
154 \{
155     \hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t} *rawsock = (\hyperlink{structpcap__rawsock__t}{pcap\_rawsock\_t}*)pvRawsock;
156     \textcolor{keywordtype}{int} ret = -1;
157 
158     \textcolor{keywordflow}{if} (timeNsec) \{
159         \hyperlink{maap__log_8h_ae9decd5440c360a6d0ab5175c9cf08be}{IF\_LOG\_INTERVAL}(1000) \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a6e7cd550837a0406e98b81a840d10ea9}{AVB\_LOG\_WARNING}("launch time is unsupported 
      \hyperlink{jack_8c_afc03a33132f7c0bcacbeeeaf5b8510c0}{in} pcap\_rawsock");
160     \}
161 
162     if (rawsock) \{
163         ret = pcap\_sendpacket(rawsock->handle, pBuffer, len);
164         \textcolor{keywordflow}{if} (ret == -1) \{
165             \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"pcap\_sendpacket failed: %s"}, pcap\_geterr(rawsock->handle));
166         \}
167 
168     \}
169     \textcolor{keywordflow}{return} ret == 0;
170 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcap__rawsock_8h_ae50d7bfd486328cf5207637c5a0b3391_icgraph}
\end{center}
\end{figure}


