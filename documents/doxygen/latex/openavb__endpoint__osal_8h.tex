\hypertarget{openavb__endpoint__osal_8h}{}\section{lib/avtp\+\_\+pipeline/platform/\+Linux/endpoint/openavb\+\_\+endpoint\+\_\+osal.h 파일 참조}
\label{openavb__endpoint__osal_8h}\index{lib/avtp\+\_\+pipeline/platform/\+Linux/endpoint/openavb\+\_\+endpoint\+\_\+osal.\+h@{lib/avtp\+\_\+pipeline/platform/\+Linux/endpoint/openavb\+\_\+endpoint\+\_\+osal.\+h}}
{\ttfamily \#include $<$linux/un.\+h$>$}\\*
{\ttfamily \#include $<$net/if.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$signal.\+h$>$}\\*
openavb\+\_\+endpoint\+\_\+osal.\+h에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{openavb__endpoint__osal_8h__incl}
\end{center}
\end{figure}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__endpoint__osal_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{데이타 구조}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structopenavb_endpoint_message__t}{openavb\+Endpoint\+Message\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{openavb__endpoint__osal_8h_a2c47f1b0071a065c7e3443851b8558be}{start\+Endpoint} (int \hyperlink{rawsock__tx_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}{mode}, int ifindex, const char $\ast$\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, unsigned mtu, unsigned link\+\_\+kbit, unsigned nsr\+\_\+kbit)
\item 
void \hyperlink{openavb__endpoint__osal_8h_a8666ad5fd6df6399ca2158fa8db8c181}{stop\+Endpoint} ()
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\index{openavb\+\_\+endpoint\+\_\+osal.\+h@{openavb\+\_\+endpoint\+\_\+osal.\+h}!start\+Endpoint@{start\+Endpoint}}
\index{start\+Endpoint@{start\+Endpoint}!openavb\+\_\+endpoint\+\_\+osal.\+h@{openavb\+\_\+endpoint\+\_\+osal.\+h}}
\subsubsection[{\texorpdfstring{start\+Endpoint(int mode, int ifindex, const char $\ast$ifname, unsigned mtu, unsigned link\+\_\+kbit, unsigned nsr\+\_\+kbit)}{startEndpoint(int mode, int ifindex, const char *ifname, unsigned mtu, unsigned link_kbit, unsigned nsr_kbit)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} start\+Endpoint (
\begin{DoxyParamCaption}
\item[{int}]{mode, }
\item[{int}]{ifindex, }
\item[{const char $\ast$}]{ifname, }
\item[{unsigned}]{mtu, }
\item[{unsigned}]{link\+\_\+kbit, }
\item[{unsigned}]{nsr\+\_\+kbit}
\end{DoxyParamCaption}
)}\hypertarget{openavb__endpoint__osal_8h_a2c47f1b0071a065c7e3443851b8558be}{}\label{openavb__endpoint__osal_8h_a2c47f1b0071a065c7e3443851b8558be}


openavb\+\_\+endpoint\+\_\+osal.\+c 파일의 53 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
54 \{
55     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ae556b1548b3dcb1b8d51811611bcd57e}{AVB\_TRACE\_ENDPOINT});
56     \hyperlink{build_2sdk__eavb_2openavb__pub_8h_af6dc11e782355927eb0f4c5b89abe914}{LOG\_EAVB\_CORE\_VERSION}();
57 
58     \textcolor{comment}{// Ensure that we're running as root}
59     \textcolor{comment}{//  (need to be root to use raw sockets)}
60     uid\_t euid = geteuid();
61     \textcolor{keywordflow}{if} (euid != (uid\_t)0) \{
62         fprintf(stderr, \textcolor{stringliteral}{"Error: needs to run as root\(\backslash\)n\(\backslash\)n"});
63         \textcolor{keywordflow}{goto} error;
64     \}
65 
66     \textcolor{comment}{// Set endpoint configuration}
67     memset(&\hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}, 0, \textcolor{keyword}{sizeof}(\hyperlink{structopenavb__endpoint__cfg__t}{openavb\_endpoint\_cfg\_t}));
68     \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a3a09404ec6009d8bebf0a96f01d77dde}{fqtss\_mode} = \hyperlink{rawsock__tx_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}{mode};
69     \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a01e636f8746c84f1cf3d45c4afbfde35}{ifindex} = ifindex;
70     \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_af9f36281e7abc3e1e6c467f8881cbfa2}{mtu} = mtu;
71 
72     \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a27c44d17d0775a010acf648685444d5e}{link\_kbit} = link\_kbit;
73     \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a786d3fe3842764d5a022f0227542c759}{nsr\_kbit} = nsr\_kbit;
74 
75     \hyperlink{openavb__endpoint__cfg_8c_ad38b1ce19f4b8472e8f98126dead8aaf}{openavbReadConfig}(\hyperlink{openavb__endpoint__cfg_8h_a2a9479fa031a6f9b119ac95ad76347d5}{DEFAULT\_INI\_FILE}, 
      \hyperlink{openavb__endpoint__cfg_8h_aac0c0a0990dab323559c758cabccbb07}{DEFAULT\_SAVE\_INI\_FILE}, &\hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg});
76 
77     \hyperlink{structif__info__t}{if\_info\_t} ifinfo;
78     \textcolor{keywordflow}{if} (\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname} && \hyperlink{openavb__rawsock_8c_a6f18910848a4522f50c59b32a8fc3213}{openavbCheckInterface}(\hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, &ifinfo)) \{
79         strncpy(\hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a11d6071e5fa37b0c5776e17651485f11}{ifname}, \hyperlink{aaf-talker_8c_ac7b430acaa92a7a26fbcdad47d2efc20}{ifname}, \textcolor{keyword}{sizeof}(\hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a11d6071e5fa37b0c5776e17651485f11}{ifname}));
80         memcpy(\hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_adc83f17023461d176d86627c972fcf3e}{ifmac}, &ifinfo.\hyperlink{structif__info__t_a42d8b5e2d1a2c12771953cdf097f7173}{mac}, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
81         \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_a01e636f8746c84f1cf3d45c4afbfde35}{ifindex} = ifinfo.\hyperlink{structif__info__t_a750b5d744c39a06bfb13e6eb010e35d0}{index};
82         \hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg}.\hyperlink{structopenavb__endpoint__cfg__t_af9f36281e7abc3e1e6c467f8881cbfa2}{mtu} = ifinfo.\hyperlink{structif__info__t_a5f8594e356005c64e4a2625755b6c849}{mtu};
83     \}
84 
85     \hyperlink{openavb__endpoint__osal_8c_aefdb2398fe1d1ee44c8ced6e84af7356}{endpointRunning} = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
86     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = pthread\_create(&\hyperlink{openavb__endpoint__osal_8c_aabbe1123f060d5ed836e53d41d961b6f}{endpointServerHandle}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 
      \hyperlink{openavb__endpoint__osal_8c_a7243a2093075077508c744bcb9632008}{endpointServerThread}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
87     \textcolor{keywordflow}{if} (err) \{
88         \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_a7965828e6f132ce789a962b917519e24}{AVB\_LOGF\_ERROR}(\textcolor{stringliteral}{"Failed to start endpoint thread: %s"}, strerror(err));
89         \textcolor{keywordflow}{goto} error;
90     \}
91 
92     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ae556b1548b3dcb1b8d51811611bcd57e}{AVB\_TRACE\_ENDPOINT});
93     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
94 
95 error:
96     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ae556b1548b3dcb1b8d51811611bcd57e}{AVB\_TRACE\_ENDPOINT});
97     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
98 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__endpoint__osal_8h_a2c47f1b0071a065c7e3443851b8558be_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__endpoint__osal_8h_a2c47f1b0071a065c7e3443851b8558be_icgraph}
\end{center}
\end{figure}


\index{openavb\+\_\+endpoint\+\_\+osal.\+h@{openavb\+\_\+endpoint\+\_\+osal.\+h}!stop\+Endpoint@{stop\+Endpoint}}
\index{stop\+Endpoint@{stop\+Endpoint}!openavb\+\_\+endpoint\+\_\+osal.\+h@{openavb\+\_\+endpoint\+\_\+osal.\+h}}
\subsubsection[{\texorpdfstring{stop\+Endpoint()}{stopEndpoint()}}]{\setlength{\rightskip}{0pt plus 5cm}void stop\+Endpoint (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{openavb__endpoint__osal_8h_a8666ad5fd6df6399ca2158fa8db8c181}{}\label{openavb__endpoint__osal_8h_a8666ad5fd6df6399ca2158fa8db8c181}


openavb\+\_\+endpoint\+\_\+osal.\+c 파일의 100 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
101 \{
102     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_ab2bfc814f0447a6d975e8332be197b85}{AVB\_TRACE\_ENTRY}(\hyperlink{openavb__trace_8h_ae556b1548b3dcb1b8d51811611bcd57e}{AVB\_TRACE\_ENDPOINT});
103 
104     \hyperlink{openavb__endpoint__osal_8c_aefdb2398fe1d1ee44c8ced6e84af7356}{endpointRunning} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
105     pthread\_join(\hyperlink{openavb__endpoint__osal_8c_aabbe1123f060d5ed836e53d41d961b6f}{endpointServerHandle}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
106 
107     \hyperlink{openavb__endpoint__cfg_8c_aa193f10f282167b4715b83d64af329f8}{openavbUnconfigure}(&\hyperlink{openavb__endpoint__osal_8c_a4bc033da01bf5e6046affe353ccbde0d}{x\_cfg});
108 
109     \hyperlink{build_2sdk__eavb_2openavb__log__pub_8h_afd47d3bbb5f5219dd0a18ebba4ba9b3e}{AVB\_LOG\_INFO}(\textcolor{stringliteral}{"Shutting down"});
110 
111     \hyperlink{build_2sdk__eavb_2openavb__trace__pub_8h_a0906ddd9e84cc650a76634fe8ff766d7}{AVB\_TRACE\_EXIT}(\hyperlink{openavb__trace_8h_ae556b1548b3dcb1b8d51811611bcd57e}{AVB\_TRACE\_ENDPOINT});
112 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=296pt]{openavb__endpoint__osal_8h_a8666ad5fd6df6399ca2158fa8db8c181_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{openavb__endpoint__osal_8h_a8666ad5fd6df6399ca2158fa8db8c181_icgraph}
\end{center}
\end{figure}


