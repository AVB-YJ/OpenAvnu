\hypertarget{maap__packet_8c}{}\section{daemons/maap/common/maap\+\_\+packet.c 파일 참조}
\label{maap__packet_8c}\index{daemons/maap/common/maap\+\_\+packet.\+c@{daemons/maap/common/maap\+\_\+packet.\+c}}
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}maap.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}maap\+\_\+packet.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}maap\+\_\+log.\+h\char`\"{}}\\*
maap\+\_\+packet.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{maap__packet_8c__incl}
\end{center}
\end{figure}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{maap__packet_8c_af641e281ec3ad594d47b9071f3cbc493}{M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT}~\char`\"{}Packet\char`\"{}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{maap__packet_8c_a32695149ad598bfdb071eb146926950b}{unpack\+\_\+maap} (\hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} $\ast$packet, const \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$stream)
\item 
int \hyperlink{maap__packet_8c_a219a9cbe130aa9f2aeb60e962cc0bee7}{pack\+\_\+maap} (const \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} $\ast$packet, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$stream)
\item 
void \hyperlink{maap__packet_8c_a9063c2879e9df1c7c1164ff761f19b0d}{init\+\_\+packet} (\hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} $\ast$packet, \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\+\_\+t} dest\+\_\+mac, \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\+\_\+t} src\+\_\+mac)
\item 
\hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\+\_\+t} \hyperlink{maap__packet_8c_a1d9cd5a0a6193c524cb0f2dcd9560934}{convert\+\_\+mac\+\_\+address} (const \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{maap__packet_8c_a661c56673782c56e73ccbfa8a8bbabc7}{compare\+\_\+mac\+\_\+addresses} (\hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\+\_\+t} local\+\_\+mac, \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\+\_\+t} remote\+\_\+mac)
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}!M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT@{M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT}}
\index{M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT@{M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT}!maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}}
\subsubsection[{\texorpdfstring{M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT}{MAAP_LOG_COMPONENT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+A\+P\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+NT~\char`\"{}Packet\char`\"{}}\hypertarget{maap__packet_8c_af641e281ec3ad594d47b9071f3cbc493}{}\label{maap__packet_8c_af641e281ec3ad594d47b9071f3cbc493}


maap\+\_\+packet.\+c 파일의 34 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\index{maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}!compare\+\_\+mac\+\_\+addresses@{compare\+\_\+mac\+\_\+addresses}}
\index{compare\+\_\+mac\+\_\+addresses@{compare\+\_\+mac\+\_\+addresses}!maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}}
\subsubsection[{\texorpdfstring{compare\+\_\+mac\+\_\+addresses(uint64\+\_\+t local\+\_\+mac, uint64\+\_\+t remote\+\_\+mac)}{compare_mac_addresses(uint64_t local_mac, uint64_t remote_mac)}}]{\setlength{\rightskip}{0pt plus 5cm}int compare\+\_\+mac\+\_\+addresses (
\begin{DoxyParamCaption}
\item[{{\bf uint64\+\_\+t}}]{local\+\_\+mac, }
\item[{{\bf uint64\+\_\+t}}]{remote\+\_\+mac}
\end{DoxyParamCaption}
)}\hypertarget{maap__packet_8c_a661c56673782c56e73ccbfa8a8bbabc7}{}\label{maap__packet_8c_a661c56673782c56e73ccbfa8a8bbabc7}
Compare two M\+AC addresses, starting with the least-\/significant bytes, to determine if the local address is numerically lower.

\begin{DoxyNote}{주의}
This is equivalent to the compare\+\_\+\+M\+AC function in I\+E\+EE 1722-\/2016 B3.\+6.\+4
\end{DoxyNote}

\begin{DoxyParams}{매개변수}
{\em local\+\_\+mac} & The M\+AC Address for the local network interface of the computer running this application \\
\hline
{\em remote\+\_\+mac} & The source M\+AC Address in a M\+A\+AP packet that was received\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
1 if the local\+\_\+mac is less than then remote\+\_\+mac, 0 otherwise 
\end{DoxyReturn}


maap\+\_\+packet.\+c 파일의 182 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
183 \{
184     \textcolor{keywordtype}{int} i;
185     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} local\_byte, remote\_byte;
186 
187     \textcolor{keywordflow}{for} (i = 0; i < 6; ++i)
188     \{
189         \textcolor{comment}{/* Test the next least-significant byte. */}
190         local\_byte = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t})(local\_mac & 0xFF);
191         remote\_byte = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t})(remote\_mac & 0xFF);
192 
193         \textcolor{comment}{/* See if we have a difference. */}
194         \textcolor{keywordflow}{if} (local\_byte < remote\_byte) \textcolor{keywordflow}{return} 1;
195         \textcolor{keywordflow}{if} (local\_byte > remote\_byte) \textcolor{keywordflow}{return} 0;
196 
197         \textcolor{comment}{/* Try the next lowest-byte in the next iteration. */}
198         local\_mac = local\_mac >> 8;
199         remote\_mac = remote\_mac >> 8;
200     \}
201 
202     \textcolor{comment}{/* Assume that our own packet was somehow reflected back at us.}
203 \textcolor{comment}{     * Return 1 to ignore this packet. */}
204     \textcolor{keywordflow}{return} 1;
205 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{maap__packet_8c_a661c56673782c56e73ccbfa8a8bbabc7_icgraph}
\end{center}
\end{figure}


\index{maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}!convert\+\_\+mac\+\_\+address@{convert\+\_\+mac\+\_\+address}}
\index{convert\+\_\+mac\+\_\+address@{convert\+\_\+mac\+\_\+address}!maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}}
\subsubsection[{\texorpdfstring{convert\+\_\+mac\+\_\+address(const uint8\+\_\+t macaddr[])}{convert_mac_address(const uint8_t macaddr[])}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64\+\_\+t} convert\+\_\+mac\+\_\+address (
\begin{DoxyParamCaption}
\item[{const {\bf uint8\+\_\+t}}]{macaddr\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{maap__packet_8c_a1d9cd5a0a6193c524cb0f2dcd9560934}{}\label{maap__packet_8c_a1d9cd5a0a6193c524cb0f2dcd9560934}
Convert a byte-\/order M\+AC Address into a 64-\/bit number.

The 64-\/bit number format is used to fill \hyperlink{struct_m_a_a_p___packet_acb85280d2eab3ae8bc045112037a565d}{M\+A\+A\+P\+\_\+\+Packet\+::\+DA} and \hyperlink{struct_m_a_a_p___packet_a725bf85ec39adedda8b4adb109c29ded}{M\+A\+A\+P\+\_\+\+Packet\+::\+SA} in the \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure.


\begin{DoxyParams}{매개변수}
{\em macaddr} & Pointer to the byte-\/order M\+AC Address to convert\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
A 64-\/bit number equivalent to the supplied M\+AC Address 
\end{DoxyReturn}


maap\+\_\+packet.\+c 파일의 173 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
174 \{
175     \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t} retVal;
176 
177     assert(\hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr});
178     retVal = \hyperlink{maap_2common_2platform_8h_a2a8ca309f7e308fc8e381f598f5d5aff}{BE64TOH}(*(\hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t} *)\hyperlink{aaf-talker_8c_a951f0a7da0c9d9009218fb069f9d3f2a}{macaddr}) >> 16;
179     \textcolor{keywordflow}{return} retVal;
180 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{maap__packet_8c_a1d9cd5a0a6193c524cb0f2dcd9560934_icgraph}
\end{center}
\end{figure}


\index{maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}!init\+\_\+packet@{init\+\_\+packet}}
\index{init\+\_\+packet@{init\+\_\+packet}!maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}}
\subsubsection[{\texorpdfstring{init\+\_\+packet(\+M\+A\+A\+P\+\_\+\+Packet $\ast$packet, uint64\+\_\+t dest\+\_\+mac, uint64\+\_\+t src\+\_\+mac)}{init_packet(MAAP_Packet *packet, uint64_t dest_mac, uint64_t src_mac)}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+packet (
\begin{DoxyParamCaption}
\item[{{\bf M\+A\+A\+P\+\_\+\+Packet} $\ast$}]{packet, }
\item[{{\bf uint64\+\_\+t}}]{dest\+\_\+mac, }
\item[{{\bf uint64\+\_\+t}}]{src\+\_\+mac}
\end{DoxyParamCaption}
)}\hypertarget{maap__packet_8c_a9063c2879e9df1c7c1164ff761f19b0d}{}\label{maap__packet_8c_a9063c2879e9df1c7c1164ff761f19b0d}
Initialize a \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure to prepare for sending a M\+A\+AP packet.


\begin{DoxyParams}{매개변수}
{\em packet} & Pointer to an empty \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure to fill \\
\hline
{\em dest\+\_\+mac} & Destination M\+AC Address for the packet \\
\hline
{\em src\+\_\+mac} & Source M\+AC Address for the packet \\
\hline
\end{DoxyParams}


maap\+\_\+packet.\+c 파일의 152 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
152                                                                            \{
153     assert(packet);
154     assert(dest\_mac != 0);
155     assert(src\_mac != 0);
156 
157     packet->\hyperlink{struct_m_a_a_p___packet_acb85280d2eab3ae8bc045112037a565d}{DA} = dest\_mac;
158     packet->\hyperlink{struct_m_a_a_p___packet_a725bf85ec39adedda8b4adb109c29ded}{SA} = src\_mac;
159     packet->\hyperlink{struct_m_a_a_p___packet_a1a9102ebc02a8e42299ec477781088cd}{Ethertype} = \hyperlink{maap_8h_a30d904d6751d5f3bc1f6f283bff4e8a9}{MAAP\_TYPE};
160     packet->\hyperlink{struct_m_a_a_p___packet_ac5d9ab8403fb9ca24facc32b821dd53b}{subtype} = \hyperlink{maap_8h_a912646d59468b9c7e1186218e0ecc76a}{MAAP\_SUBTYPE};
161     packet->\hyperlink{struct_m_a_a_p___packet_a86f6b56adf7c3c38c254b7f71dce6a6c}{SV} = 0; \textcolor{comment}{/* SV is 0 - Defined in IEEE 1722-2016 Table F.23 */}
162     packet->\hyperlink{struct_m_a_a_p___packet_ab22abc2906422da61885ac6c8e6a1a59}{version} = 0;  \textcolor{comment}{/* AVTP version is 0 - Defined in IEEE 1722-2016 4.4.3.4 */}
163     packet->\hyperlink{struct_m_a_a_p___packet_aeaaffeace8c23899e558022f62ce6de4}{message\_type} = 0;
164     packet->\hyperlink{struct_m_a_a_p___packet_a67dab883e86b903bfbffb8e4c25829b9}{maap\_version} = 1; \textcolor{comment}{/* MAAP version is 1 - Defined in IEEE 1722-2016 B.2.3.1 */}
165     packet->\hyperlink{struct_m_a_a_p___packet_acc7cd70455e6e455ac498477b95f9e21}{control\_data\_length} = 16; \textcolor{comment}{/* Control data length is 16 - Defined in IEEE
       1722-2016 B.2.1 */}
166     packet->\hyperlink{struct_m_a_a_p___packet_af5af7b461263e29ceb91a8d3a8bc2c97}{stream\_id} = 0; \textcolor{comment}{/* MAAP stream\_id is 0 - Defined in IEEE 1722-2016 B.2.4 */}
167     packet->\hyperlink{struct_m_a_a_p___packet_a6e54c2881571f11a3a4a82c664794326}{requested\_start\_address} = 0;
168     packet->\hyperlink{struct_m_a_a_p___packet_a3b7ca808f59412368434591249aa8a79}{requested\_count} = 0;
169     packet->\hyperlink{struct_m_a_a_p___packet_a75c1b7fade099765ff29a3302e3ad072}{conflict\_start\_address} = 0;
170     packet->\hyperlink{struct_m_a_a_p___packet_a7454bb2b51c745c38822d008f1a322a1}{conflict\_count} = 0;
171 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{maap__packet_8c_a9063c2879e9df1c7c1164ff761f19b0d_icgraph}
\end{center}
\end{figure}


\index{maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}!pack\+\_\+maap@{pack\+\_\+maap}}
\index{pack\+\_\+maap@{pack\+\_\+maap}!maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}}
\subsubsection[{\texorpdfstring{pack\+\_\+maap(const M\+A\+A\+P\+\_\+\+Packet $\ast$packet, uint8\+\_\+t $\ast$stream)}{pack_maap(const MAAP_Packet *packet, uint8_t *stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int pack\+\_\+maap (
\begin{DoxyParamCaption}
\item[{const {\bf M\+A\+A\+P\+\_\+\+Packet} $\ast$}]{packet, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{maap__packet_8c_a219a9cbe130aa9f2aeb60e962cc0bee7}{}\label{maap__packet_8c_a219a9cbe130aa9f2aeb60e962cc0bee7}
Convert (pack) a \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure into a binary stream of bytes.


\begin{DoxyParams}{매개변수}
{\em packet} & \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure to convert \\
\hline
{\em stream} & Pointer to the buffer to fill with the binary stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
0 if successful, -\/1 if an error occurred. 
\end{DoxyReturn}


maap\+\_\+packet.\+c 파일의 96 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
96                                                           \{
97     \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t} tmp64;
98     uint16\_t tmp16;
99     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} tmp8;
100 
101     assert(packet);
102     assert(stream);
103 
104     tmp64 = \hyperlink{maap_2common_2platform_8h_a165bb946f548b2537889ec00ed7aefc6}{HTOBE64}(packet->\hyperlink{struct_m_a_a_p___packet_acb85280d2eab3ae8bc045112037a565d}{DA} << 16);
105     memcpy(stream, &tmp64, 6);
106     stream += 6;
107 
108     tmp64 = \hyperlink{maap_2common_2platform_8h_a165bb946f548b2537889ec00ed7aefc6}{HTOBE64}(packet->\hyperlink{struct_m_a_a_p___packet_a725bf85ec39adedda8b4adb109c29ded}{SA} << 16);
109     memcpy(stream, &tmp64, 6);
110     stream += 6;
111 
112     tmp16 = \hyperlink{maap_2common_2platform_8h_a06e31e7a754ee4da242efc0bf503dad5}{HTOBE16}(packet->\hyperlink{struct_m_a_a_p___packet_a1a9102ebc02a8e42299ec477781088cd}{Ethertype});
113     memcpy(stream, &tmp16, 2);
114     stream += 2;
115 
116     tmp8 = (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) packet->\hyperlink{struct_m_a_a_p___packet_ac5d9ab8403fb9ca24facc32b821dd53b}{subtype};
117     *stream = tmp8;
118     stream++;
119 
120     tmp8 = (packet->\hyperlink{struct_m_a_a_p___packet_a86f6b56adf7c3c38c254b7f71dce6a6c}{SV} << 7) | ((packet->\hyperlink{struct_m_a_a_p___packet_ab22abc2906422da61885ac6c8e6a1a59}{version} & 0x07) << 4) |
121         (packet->\hyperlink{struct_m_a_a_p___packet_aeaaffeace8c23899e558022f62ce6de4}{message\_type} & 0x0f);
122     *stream = tmp8;
123     stream++;
124 
125     tmp16 = \hyperlink{maap_2common_2platform_8h_a06e31e7a754ee4da242efc0bf503dad5}{HTOBE16}(((packet->\hyperlink{struct_m_a_a_p___packet_a67dab883e86b903bfbffb8e4c25829b9}{maap\_version} & 0x001f) << 11) |
126                     (packet->\hyperlink{struct_m_a_a_p___packet_acc7cd70455e6e455ac498477b95f9e21}{control\_data\_length} & 0x07ff));
127     memcpy(stream, &tmp16, 2);
128     stream += 2;
129 
130     tmp64 = \hyperlink{maap_2common_2platform_8h_a165bb946f548b2537889ec00ed7aefc6}{HTOBE64}(packet->\hyperlink{struct_m_a_a_p___packet_af5af7b461263e29ceb91a8d3a8bc2c97}{stream\_id});
131     memcpy(stream, &tmp64, 8);
132     stream += 8;
133 
134     tmp64 = \hyperlink{maap_2common_2platform_8h_a165bb946f548b2537889ec00ed7aefc6}{HTOBE64}(packet->\hyperlink{struct_m_a_a_p___packet_a6e54c2881571f11a3a4a82c664794326}{requested\_start\_address} << 16);
135     memcpy(stream, &tmp64, 6);
136     stream += 6;
137 
138     tmp16 = \hyperlink{maap_2common_2platform_8h_a06e31e7a754ee4da242efc0bf503dad5}{HTOBE16}(packet->\hyperlink{struct_m_a_a_p___packet_a3b7ca808f59412368434591249aa8a79}{requested\_count});
139     memcpy(stream, &tmp16, 2);
140     stream += 2;
141 
142     tmp64 = \hyperlink{maap_2common_2platform_8h_a165bb946f548b2537889ec00ed7aefc6}{HTOBE64}(packet->\hyperlink{struct_m_a_a_p___packet_a75c1b7fade099765ff29a3302e3ad072}{conflict\_start\_address} << 16);
143     memcpy(stream, &tmp64, 6);
144     stream += 6;
145 
146     tmp16 = \hyperlink{maap_2common_2platform_8h_a06e31e7a754ee4da242efc0bf503dad5}{HTOBE16}(packet->\hyperlink{struct_m_a_a_p___packet_a7454bb2b51c745c38822d008f1a322a1}{conflict\_count});
147     memcpy(stream, &tmp16, 2);
148 
149     \textcolor{keywordflow}{return} 0;
150 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{maap__packet_8c_a219a9cbe130aa9f2aeb60e962cc0bee7_icgraph}
\end{center}
\end{figure}


\index{maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}!unpack\+\_\+maap@{unpack\+\_\+maap}}
\index{unpack\+\_\+maap@{unpack\+\_\+maap}!maap\+\_\+packet.\+c@{maap\+\_\+packet.\+c}}
\subsubsection[{\texorpdfstring{unpack\+\_\+maap(\+M\+A\+A\+P\+\_\+\+Packet $\ast$packet, const uint8\+\_\+t $\ast$stream)}{unpack_maap(MAAP_Packet *packet, const uint8_t *stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int unpack\+\_\+maap (
\begin{DoxyParamCaption}
\item[{{\bf M\+A\+A\+P\+\_\+\+Packet} $\ast$}]{packet, }
\item[{const {\bf uint8\+\_\+t} $\ast$}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{maap__packet_8c_a32695149ad598bfdb071eb146926950b}{}\label{maap__packet_8c_a32695149ad598bfdb071eb146926950b}
Convert (unpack) a binary stream of bytes into a \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure


\begin{DoxyParams}{매개변수}
{\em packet} & \hyperlink{struct_m_a_a_p___packet}{M\+A\+A\+P\+\_\+\+Packet} structure to fill with the packet contents \\
\hline
{\em stream} & Pointer to the buffer containing the binary stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{반환값}
0 if successful, -\/1 if an error occurred. 
\end{DoxyReturn}


maap\+\_\+packet.\+c 파일의 37 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
37                                                             \{
38     \hyperlink{parse_8c_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t} tmp64;
39     uint16\_t tmp16;
40     \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} tmp8;
41 
42     assert(packet);
43     assert(stream);
44 
45     memcpy(&tmp64, stream, 6);
46     packet->\hyperlink{struct_m_a_a_p___packet_acb85280d2eab3ae8bc045112037a565d}{DA} = \hyperlink{maap_2common_2platform_8h_a2a8ca309f7e308fc8e381f598f5d5aff}{BE64TOH}(tmp64) >> 16;
47     stream += 6;
48 
49     memcpy(&tmp64, stream, 6);
50     packet->\hyperlink{struct_m_a_a_p___packet_a725bf85ec39adedda8b4adb109c29ded}{SA} = \hyperlink{maap_2common_2platform_8h_a2a8ca309f7e308fc8e381f598f5d5aff}{BE64TOH}(tmp64) >> 16;
51     stream += 6;
52 
53     memcpy(&tmp16, stream, 2);
54     packet->\hyperlink{struct_m_a_a_p___packet_a1a9102ebc02a8e42299ec477781088cd}{Ethertype} = \hyperlink{maap_2common_2platform_8h_a373bd157bfce97355972ed3715838e4a}{BE16TOH}(tmp16);
55     stream += 2;
56 
57     tmp8 = *stream;
58     packet->\hyperlink{struct_m_a_a_p___packet_ac5d9ab8403fb9ca24facc32b821dd53b}{subtype} = tmp8;
59     stream++;
60 
61     tmp8 = *stream;
62     packet->\hyperlink{struct_m_a_a_p___packet_a86f6b56adf7c3c38c254b7f71dce6a6c}{SV} = (tmp8 & 0x80) >> 7;
63     packet->\hyperlink{struct_m_a_a_p___packet_ab22abc2906422da61885ac6c8e6a1a59}{version} = (tmp8 & 0x70) >> 4;
64     packet->\hyperlink{struct_m_a_a_p___packet_aeaaffeace8c23899e558022f62ce6de4}{message\_type} = tmp8 & 0x0f;
65     stream++;
66 
67     memcpy(&tmp8, stream, 1);
68     packet->\hyperlink{struct_m_a_a_p___packet_a67dab883e86b903bfbffb8e4c25829b9}{maap\_version} = (tmp8 & 0xf8) >> 3;
69 
70     memcpy(&tmp16, stream, 2);
71     packet->\hyperlink{struct_m_a_a_p___packet_acc7cd70455e6e455ac498477b95f9e21}{control\_data\_length} = \hyperlink{maap_2common_2platform_8h_a373bd157bfce97355972ed3715838e4a}{BE16TOH}(tmp16) & 0x07ff;
72     stream += 2;
73 
74     memcpy(&tmp64, stream, 8);
75     packet->\hyperlink{struct_m_a_a_p___packet_af5af7b461263e29ceb91a8d3a8bc2c97}{stream\_id} = \hyperlink{maap_2common_2platform_8h_a2a8ca309f7e308fc8e381f598f5d5aff}{BE64TOH}(tmp64);
76     stream += 8;
77 
78     memcpy(&tmp64, stream, 6);
79     packet->\hyperlink{struct_m_a_a_p___packet_a6e54c2881571f11a3a4a82c664794326}{requested\_start\_address} = \hyperlink{maap_2common_2platform_8h_a2a8ca309f7e308fc8e381f598f5d5aff}{BE64TOH}(tmp64) >> 16;
80     stream += 6;
81 
82     memcpy(&tmp16, stream, 2);
83     packet->\hyperlink{struct_m_a_a_p___packet_a3b7ca808f59412368434591249aa8a79}{requested\_count} = \hyperlink{maap_2common_2platform_8h_a373bd157bfce97355972ed3715838e4a}{BE16TOH}(tmp16);
84     stream += 2;
85 
86     memcpy(&tmp64, stream, 6);
87     packet->\hyperlink{struct_m_a_a_p___packet_a75c1b7fade099765ff29a3302e3ad072}{conflict\_start\_address} = \hyperlink{maap_2common_2platform_8h_a2a8ca309f7e308fc8e381f598f5d5aff}{BE64TOH}(tmp64) >> 16;
88     stream += 6;
89 
90     memcpy(&tmp16, stream, 2);
91     packet->\hyperlink{struct_m_a_a_p___packet_a7454bb2b51c745c38822d008f1a322a1}{conflict\_count} = \hyperlink{maap_2common_2platform_8h_a373bd157bfce97355972ed3715838e4a}{BE16TOH}(tmp16);
92 
93     \textcolor{keywordflow}{return} 0;
94  \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{maap__packet_8c_a32695149ad598bfdb071eb146926950b_icgraph}
\end{center}
\end{figure}


