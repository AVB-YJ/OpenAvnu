\hypertarget{igb__main_8c}{}\section{kmod/igb/igb\+\_\+main.c 파일 참조}
\label{igb__main_8c}\index{kmod/igb/igb\+\_\+main.\+c@{kmod/igb/igb\+\_\+main.\+c}}
{\ttfamily \#include $<$linux/module.\+h$>$}\\*
{\ttfamily \#include $<$linux/types.\+h$>$}\\*
{\ttfamily \#include $<$linux/init.\+h$>$}\\*
{\ttfamily \#include $<$linux/vmalloc.\+h$>$}\\*
{\ttfamily \#include $<$linux/pagemap.\+h$>$}\\*
{\ttfamily \#include $<$linux/netdevice.\+h$>$}\\*
{\ttfamily \#include $<$linux/tcp.\+h$>$}\\*
{\ttfamily \#include $<$linux/if\+\_\+vlan.\+h$>$}\\*
{\ttfamily \#include $<$linux/if\+\_\+bridge.\+h$>$}\\*
{\ttfamily \#include \char`\"{}igb.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}igb\+\_\+vmdq.\+h\char`\"{}}\\*
igb\+\_\+main.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c__incl}
\end{center}
\end{figure}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{igb__main_8c_a09e4305a738b05fa08560c11596e0be5}{D\+R\+V\+\_\+\+D\+E\+B\+UG}
\item 
\#define \hyperlink{igb__main_8c_af040abadba34e55f47bf8d354b42b7d5}{D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF}
\item 
\#define \hyperlink{igb__main_8c_a20831b0e0f04f661b85338bd663b792e}{V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX}~\char`\"{}\+\_\+\+A\+VB\char`\"{}
\item 
\#define \hyperlink{igb__main_8c_a76841dbb6095f691540bdef5698be8a4}{M\+AJ}~5
\item 
\#define \hyperlink{igb__main_8c_adbd5cbe76e047a39e0a34f085cdae6fe}{M\+IN}~3
\item 
\#define \hyperlink{igb__main_8c_a03505fe2d99ef550d9e1d39f57048908}{B\+U\+I\+LD}~2
\item 
\#define \hyperlink{igb__main_8c_a5c83b7da74b54082299de70a26d0fcdf}{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}
\item 
\#define \hyperlink{igb__main_8c_ad0fa0c5ef5d39e43b8c24599d82d0d38}{Q\+\_\+\+I\+D\+X\+\_\+82576}(i)~(((i \& 0x1) $<$$<$ 3) + (i $>$$>$ 1))
\item 
\#define \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE}~-\/1
\item 
\#define \hyperlink{igb__main_8c_adcb72b96af39f3e93fdf898d5bf39496}{E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3}~(3 $<$$<$ 3)
\item 
\#define \hyperlink{igb__main_8c_ad012c6ed86cdc3679970034374e5fca0}{I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET}~8
\item 
\#define \hyperlink{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG}(\+\_\+input,  \+\_\+flag,  \+\_\+result)
\item 
\#define \hyperlink{igb__main_8c_afcc7615119633e262a7324bdbcf7b1e6}{M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}~9238
\item 
\#define \hyperlink{igb__main_8c_a1378ca6e1a98ab93ddb97d97e6c3eac1}{P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK}~0x00\+FF
\item 
\#define \hyperlink{igb__main_8c_ab6a02abf5699fb66c56f3e30c7c40b5e}{T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~(\hyperlink{kmod_2igb_2igb_8h_af8de05bee6d805501dae4b0249c2e752}{D\+E\+S\+C\+\_\+\+N\+E\+E\+D\+ED} $\ast$ 2)
\item 
\#define \hyperlink{igb__main_8c_a6fab39b3f6dc1637754b27b2c61f1bb9}{E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT}~0x00200000
\item 
\#define \hyperlink{igb__main_8c_a216dbb5c26a53581d55d2dc7daca44b9}{E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF}~0x10\+CA
\end{DoxyCompactItemize}
\subsection*{열거형 타입}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adf}{latency\+\_\+range} \{ \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\+\_\+latency} = 0, 
\hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\+\_\+latency} = 1, 
\hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\+\_\+latency} = 2, 
\hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa11a475be6e1d8db7c306136483afdbd3}{latency\+\_\+invalid} = 255
 \}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
\hyperlink{igb__main_8c_ac675c48b8e73c5511a61d23a7e5d78fe}{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+LE} (pci, \hyperlink{igb__main_8c_af07553d6773aa7c264ce9980b92e820e}{igb\+\_\+pci\+\_\+tbl})
\item 
static int \hyperlink{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be}{igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static int \hyperlink{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081}{igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359}{igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c}{igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a4728bc1a1a6cf04e7d50464297e04bd8}{igb\+\_\+setup\+\_\+mrqc} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static int \hyperlink{igb__main_8c_a3dc01fffcfed5bb0e37638d7eb52b14f}{igb\+\_\+probe} (struct pci\+\_\+dev $\ast$, const struct pci\+\_\+device\+\_\+id $\ast$)
\item 
static void \hyperlink{igb__main_8c_a3261c3d84d5f657f567d8c097bef6647}{igb\+\_\+remove} (struct pci\+\_\+dev $\ast$pdev)
\item 
static int \hyperlink{igb__main_8c_a7d3ee9c3cab145865842d809941f16e9}{igb\+\_\+sw\+\_\+init} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static int \hyperlink{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df}{igb\+\_\+open} (struct net\+\_\+device $\ast$)
\item 
static int \hyperlink{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03}{igb\+\_\+close} (struct net\+\_\+device $\ast$)
\item 
static void \hyperlink{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3}{igb\+\_\+configure} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a1a1ca14ed87bf2cde466ff5fb47c4428}{igb\+\_\+configure\+\_\+tx} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a13cb964c32d3f39309a7aae799e2207e}{igb\+\_\+configure\+\_\+rx} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a528dca2f5f240b4d00f10dee7cdc3623}{igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a775ebb4a5a03f8658614dd1cbb7d7b53}{igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea}{igb\+\_\+clean\+\_\+tx\+\_\+ring} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$)
\item 
static void \hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\+\_\+set\+\_\+rx\+\_\+mode} (struct net\+\_\+device $\ast$)
\item 
static void \hyperlink{igb__main_8c_ae09af2b1a9afa91c0778637e52893429}{igb\+\_\+update\+\_\+phy\+\_\+info} (struct timer\+\_\+list $\ast$)
\item 
static void \hyperlink{igb__main_8c_aa63ef354a4b7f05f30bb4b2f03768a3a}{igb\+\_\+watchdog} (struct timer\+\_\+list $\ast$)
\item 
static void \hyperlink{igb__main_8c_af4ffa12ce3926f44d3133b422fd8d0d0}{igb\+\_\+dma\+\_\+err\+\_\+timer} (struct timer\+\_\+list $\ast$)
\item 
static void \hyperlink{igb__main_8c_a10266793c4280f9d77a46f120a5d8edd}{igb\+\_\+watchdog\+\_\+task} (struct work\+\_\+struct $\ast$)
\item 
static void \hyperlink{igb__main_8c_a1227dcbe1dae9a8fe75bd2db08394e6c}{igb\+\_\+dma\+\_\+err\+\_\+task} (struct work\+\_\+struct $\ast$)
\item 
static \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{igb__main_8c_a52d09168d25687d3acd16e4dc75f289d}{igb\+\_\+select\+\_\+queue} (struct net\+\_\+device $\ast$dev, struct sk\+\_\+buff $\ast$skb, void $\ast$accel\+\_\+priv, select\+\_\+queue\+\_\+fallback\+\_\+t fallback)
\item 
static netdev\+\_\+tx\+\_\+t \hyperlink{igb__main_8c_a97db7a6ae44c1bcee47c3b24e57938c6}{igb\+\_\+xmit\+\_\+frame} (struct sk\+\_\+buff $\ast$skb, struct net\+\_\+device $\ast$)
\item 
static struct net\+\_\+device\+\_\+stats $\ast$ \hyperlink{igb__main_8c_acd317fc0ead8f2b982fa435d49b9e336}{igb\+\_\+get\+\_\+stats} (struct net\+\_\+device $\ast$)
\item 
static int \hyperlink{igb__main_8c_a679ea88c0e6e97ca27b4c1b4cbb182e4}{igb\+\_\+change\+\_\+mtu} (struct net\+\_\+device $\ast$, int)
\item 
static int \hyperlink{igb__main_8c_aa6ca4bd1e93b3935881ed32fa6588abc}{igb\+\_\+set\+\_\+mac} (struct net\+\_\+device $\ast$, void $\ast$)
\item 
static void \hyperlink{igb__main_8c_ace694fb8a9c0d0b98dad1ab65663564f}{igb\+\_\+set\+\_\+uta} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static irqreturn\+\_\+t \hyperlink{igb__main_8c_a04ef60ecbaeb6e4085e275af84763dba}{igb\+\_\+intr} (int irq, void $\ast$)
\item 
static irqreturn\+\_\+t \hyperlink{igb__main_8c_a2c37d808e7eba252b1e5429749a527c4}{igb\+\_\+intr\+\_\+msi} (int irq, void $\ast$)
\item 
static irqreturn\+\_\+t \hyperlink{igb__main_8c_a68bd77ae5cd7eabc9722aeefb7acda87}{igb\+\_\+msix\+\_\+other} (int irq, void $\ast$)
\item 
static void \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\+\_\+rar\+\_\+set\+\_\+qsel} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$, \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} $\ast$, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}, \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8})
\item 
static irqreturn\+\_\+t \hyperlink{igb__main_8c_ace5ba57d7d83febe6a5b503f888bbb15}{igb\+\_\+msix\+\_\+ring} (int irq, void $\ast$)
\item 
static int \hyperlink{igb__main_8c_a0891a97bf81e305338343648ec425352}{igb\+\_\+poll} (struct napi\+\_\+struct $\ast$, int)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_a0df50925c865d58960c2b71a23cda421}{igb\+\_\+clean\+\_\+tx\+\_\+irq} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_a3eb0b64e5c80a8f45cf27068a8b39cfa}{igb\+\_\+clean\+\_\+rx\+\_\+irq} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$, int)
\item 
static int \hyperlink{igb__main_8c_ad940c3b1eb1b2b06b8e386c5dfd05551}{igb\+\_\+ioctl} (struct net\+\_\+device $\ast$, struct ifreq $\ast$, int cmd)
\item 
static void \hyperlink{igb__main_8c_ab6ca6b626294d8918f1e2cd5368382c9}{igb\+\_\+tx\+\_\+timeout} (struct net\+\_\+device $\ast$)
\item 
static void \hyperlink{igb__main_8c_a28cee5c8570d27a7f7ba32a9af558048}{igb\+\_\+reset\+\_\+task} (struct work\+\_\+struct $\ast$)
\item 
static int \hyperlink{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid} (struct net\+\_\+device $\ast$, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16})
\item 
static int \hyperlink{igb__main_8c_a224da460941ee3366b0136ae4446e7ab}{igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid} (struct net\+\_\+device $\ast$, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16})
\item 
static void \hyperlink{igb__main_8c_a3336bb1dc2862727d2feb612addf854f}{igb\+\_\+restore\+\_\+vlan} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a}{igb\+\_\+ping\+\_\+all\+\_\+vfs} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_abe9dc5a15f22ebf94b5cb0a66fe8d4ad}{igb\+\_\+msg\+\_\+task} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static void \hyperlink{igb__main_8c_a5a58dbc702a3439803e8f041d582cd47}{igb\+\_\+vmm\+\_\+control} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static int \hyperlink{igb__main_8c_a269d345f5dbca55abaad7350a743fd48}{igb\+\_\+set\+\_\+vf\+\_\+mac} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$, int, unsigned char $\ast$)
\item 
static void \hyperlink{igb__main_8c_ae434ea20b23ad1352db39c03ded87023}{igb\+\_\+restore\+\_\+vf\+\_\+multicasts} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a7e8b98fdb70c2ec8039595f166707412}{igb\+\_\+process\+\_\+mdd\+\_\+event} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$)
\item 
static int \hyperlink{igb__main_8c_a37d2c2f4d47a83396f2157c760d74e78}{igb\+\_\+vf\+\_\+configure} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int vf)
\item 
static int \hyperlink{igb__main_8c_a6e088ede60069125e4c1420bf5932570}{igb\+\_\+init\+\_\+avb} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
static int \hyperlink{igb__main_8c_a04f55556365079d831d0d93d07a2c38c}{igb\+\_\+open\+\_\+file} (struct inode $\ast$inode, struct file $\ast$file)
\item 
static int \hyperlink{igb__main_8c_aa77102ece423b66b97a6f2377f427c08}{igb\+\_\+close\+\_\+file} (struct inode $\ast$inode, struct file $\ast$file)
\item 
static long \hyperlink{igb__main_8c_ae5bd4c417e2489bb0385cab2a7489a9e}{igb\+\_\+ioctl\+\_\+file} (struct file $\ast$file, unsigned int cmd, unsigned long arg)
\item 
static void \hyperlink{igb__main_8c_ae0d8eafe762b3a9360446cf45069c223}{igb\+\_\+vm\+\_\+open} (struct vm\+\_\+area\+\_\+struct $\ast$vma)
\item 
static void \hyperlink{igb__main_8c_a1391163aae4c801e33d16454dc40369e}{igb\+\_\+vm\+\_\+close} (struct vm\+\_\+area\+\_\+struct $\ast$vma)
\item 
static int \hyperlink{igb__main_8c_a1df79f624af7e65de42da01f08a3a755}{igb\+\_\+vm\+\_\+fault} (struct vm\+\_\+fault $\ast$fdata)
\item 
static int \hyperlink{igb__main_8c_ab1b42c6a3058ce5f661f5b02d1a5d16c}{igb\+\_\+mmap} (struct file $\ast$file, struct vm\+\_\+area\+\_\+struct $\ast$vma)
\item 
static ssize\+\_\+t \hyperlink{igb__main_8c_a14930973d792b5c52741e66f7f2cacfe}{igb\+\_\+read} (struct file $\ast$file, char \+\_\+\+\_\+user $\ast$buf, size\+\_\+t count, loff\+\_\+t $\ast$pos)
\item 
static ssize\+\_\+t \hyperlink{igb__main_8c_a305f1185c76fe2d493a5566d24e9bd13}{igb\+\_\+write} (struct file $\ast$file, const char \+\_\+\+\_\+user $\ast$buf, size\+\_\+t count, loff\+\_\+t $\ast$pos)
\item 
static unsigned int \hyperlink{igb__main_8c_a83853a0a7fe74843bcbfb5f430aee020}{igb\+\_\+pollfd} (struct file $\ast$file, poll\+\_\+table $\ast$wait)
\item 
static void \hyperlink{igb__main_8c_a2acc534a9271321a651905441e87b311}{igb\+\_\+shutdown} (struct pci\+\_\+dev $\ast$)
\item 
static pci\+\_\+ers\+\_\+result\+\_\+t \hyperlink{igb__main_8c_a93442300489d906fd231218bf887b541}{igb\+\_\+io\+\_\+error\+\_\+detected} (struct pci\+\_\+dev $\ast$, pci\+\_\+channel\+\_\+state\+\_\+t)
\item 
static pci\+\_\+ers\+\_\+result\+\_\+t \hyperlink{igb__main_8c_a214dc8ba6f8d109b33a01c70aa754e69}{igb\+\_\+io\+\_\+slot\+\_\+reset} (struct pci\+\_\+dev $\ast$)
\item 
static void \hyperlink{igb__main_8c_a2b8a714dd3d7f2dba5ed55175dcd17eb}{igb\+\_\+io\+\_\+resume} (struct pci\+\_\+dev $\ast$)
\item 
static void \hyperlink{igb__main_8c_adddcaa87ecc343dd16285cf157a3735b}{igb\+\_\+init\+\_\+fw} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a339f8d8ebe1372d3dd0a013568ed95ad}{igb\+\_\+init\+\_\+dmac} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} pba)
\item 
\hyperlink{igb__main_8c_a60e5621c74b19d64f8b66a74f2b5cd38}{M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+OR} (\char`\"{}Intel Corporation, $<$e1000-\/devel@lists.\+sourceforge.\+net$>$\char`\"{})
\item 
\hyperlink{igb__main_8c_aad730705652c3bde69196745879b3100}{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON} (\char`\"{}Intel(R) Gigabit Ethernet Network Driver\char`\"{})
\item 
\hyperlink{igb__main_8c_ad94b36675e7eb067ea3ce6ff9e244a44}{M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+SE} (\char`\"{}G\+PL\char`\"{})
\item 
\hyperlink{igb__main_8c_af9693326f78b9c2c1e510d0d461e1e9d}{M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+ON} (\hyperlink{igb__main_8c_a5c83b7da74b54082299de70a26d0fcdf}{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON})
\item 
static void \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\+\_\+vfta\+\_\+set} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vid, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} add)
\item 
\hyperlink{igb__main_8c_af2ed732a8364b5952289a8dba5d9b820}{module\+\_\+param} (\hyperlink{igb__main_8c_ac3e1795766a80ec63b157951b4b9a7d4}{debug}, int, 0)
\item 
\hyperlink{igb__main_8c_ad6347f244a24c452c219dbe2f43bab21}{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC} (\hyperlink{igb__main_8c_ac3e1795766a80ec63b157951b4b9a7d4}{debug},\char`\"{}Debug level (0=none, ..., 16=all)\char`\"{})
\item 
\hyperlink{igb__main_8c_aff834ff058ca6117efcc343f992cfbf4}{module\+\_\+param} (\hyperlink{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}{tx\+\_\+size}, int, 0)
\item 
\hyperlink{igb__main_8c_a1710462c697a0d57003326ad3b5a6e77}{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC} (\hyperlink{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}{tx\+\_\+size},\char`\"{}Tx Ring \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size} passed \hyperlink{jack_8c_afc03a33132f7c0bcacbeeeaf5b8510c0}{in} insmod parameter\char`\"{})
\item 
static int \+\_\+\+\_\+init \hyperlink{igb__main_8c_a7a855e2fddb3ed89f7bd2877fa5f46a2}{igb\+\_\+init\+\_\+module} (void)
\item 
\hyperlink{igb__main_8c_a3bbfaa48dfae072897e888501caa3e0b}{module\+\_\+init} (\hyperlink{igb__main_8c_a7a855e2fddb3ed89f7bd2877fa5f46a2}{igb\+\_\+init\+\_\+module})
\item 
static void \+\_\+\+\_\+exit \hyperlink{igb__main_8c_a843afea061333f06f5fed711c4157730}{igb\+\_\+exit\+\_\+module} (void)
\item 
\hyperlink{igb__main_8c_aa8bbe25623175b4758d092652c11af1a}{module\+\_\+exit} (\hyperlink{igb__main_8c_a843afea061333f06f5fed711c4157730}{igb\+\_\+exit\+\_\+module})
\item 
static void \hyperlink{igb__main_8c_a42128153ab2f46eb05568e7a522dbc7e}{igb\+\_\+cache\+\_\+ring\+\_\+register} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{igb__main_8c_a18a17d1066ac705775d0a27e1ebebabb}{e1000\+\_\+read\+\_\+reg} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg)
\item 
static void \hyperlink{igb__main_8c_a5cf85f1e32162097db9f35fa944a1239}{igb\+\_\+configure\+\_\+lli} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a42400e89c163a760b1a69841301a92af}{igb\+\_\+write\+\_\+ivar} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, int msix\+\_\+vector, int index, int offset)
\item 
static void \hyperlink{igb__main_8c_a10319a282e14f211bc084aa2a46a4115}{igb\+\_\+assign\+\_\+vector} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector, int msix\+\_\+vector)
\item 
static void \hyperlink{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d}{igb\+\_\+configure\+\_\+msix} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static int \hyperlink{igb__main_8c_a0dc0c5f3bd2c690dc5abfb60231bb60b}{igb\+\_\+request\+\_\+msix} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_ab024dc08d71e615a0df06efebba36d2b}{igb\+\_\+free\+\_\+q\+\_\+vector} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int v\+\_\+idx)
\item 
static void \hyperlink{igb__main_8c_a48d76737c7124584f71c25615a15f36f}{igb\+\_\+reset\+\_\+q\+\_\+vector} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int v\+\_\+idx)
\item 
static void \hyperlink{igb__main_8c_a11ede628403830ab78d46b095ae73901}{igb\+\_\+reset\+\_\+interrupt\+\_\+capability} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a07873e8efbcfe526b1cedb1c6358f349}{igb\+\_\+free\+\_\+q\+\_\+vectors} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{igb\+\_\+clear\+\_\+interrupt\+\_\+scheme} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a1d5250b25231ad456f05035f9e2dc9e2}{igb\+\_\+disable\+\_\+mdd} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_ab86bc3bb633ca727bf776b726716bec3}{igb\+\_\+enable\+\_\+mdd} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}{igb\+\_\+reset\+\_\+sriov\+\_\+capability} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_ab149dc554c4439d38e46207e7b7832be}{igb\+\_\+set\+\_\+sriov\+\_\+capability} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a43ae90888cd7d2b00b1e100564a429e1}{igb\+\_\+set\+\_\+interrupt\+\_\+capability} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} msix)
\item 
static void \hyperlink{igb__main_8c_a98e6ea0b881b9dc97fb3b378fe0c4caf}{igb\+\_\+add\+\_\+ring} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$ring, struct \hyperlink{structigb__ring__container}{igb\+\_\+ring\+\_\+container} $\ast$\hyperlink{shaper__daemon_8c_a6423244370f9aca2693040c79ba1f400}{head})
\item 
static int \hyperlink{igb__main_8c_ade1f0cd7250f41770e834c61fce26562}{igb\+\_\+alloc\+\_\+q\+\_\+vector} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, unsigned int v\+\_\+count, unsigned int v\+\_\+idx, unsigned int txr\+\_\+count, unsigned int txr\+\_\+idx, unsigned int rxr\+\_\+count, unsigned int rxr\+\_\+idx)
\item 
static int \hyperlink{igb__main_8c_a4f288e321d850d19c8ce6dd42320a74a}{igb\+\_\+alloc\+\_\+q\+\_\+vectors} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static int \hyperlink{igb__main_8c_a207b0420ab7dfc0695679280eebb4627}{igb\+\_\+init\+\_\+interrupt\+\_\+scheme} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} msix)
\item 
static int \hyperlink{igb__main_8c_a32532603496322c11a8410674629bfee}{igb\+\_\+request\+\_\+irq} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a8ccf51b131f19e9ab994e083efa1d9de}{igb\+\_\+free\+\_\+irq} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}{igb\+\_\+irq\+\_\+disable} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{igb\+\_\+irq\+\_\+enable} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_ab2a4a1c9c29637b276f842858d39b99e}{igb\+\_\+update\+\_\+mng\+\_\+vlan} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{igb\+\_\+release\+\_\+hw\+\_\+control} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a8db219783b6a954ed4b940220918109f}{igb\+\_\+get\+\_\+hw\+\_\+control} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41}{igb\+\_\+power\+\_\+up\+\_\+link} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f}{igb\+\_\+power\+\_\+down\+\_\+link} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90}{igb\+\_\+check\+\_\+swap\+\_\+media} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079}{igb\+\_\+up} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_aacbb63f4709878964f7afa56734e9333}{igb\+\_\+down} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_a63776b120e3bc874de248988b226b6e1}{igb\+\_\+reinit\+\_\+locked} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_a1c265efb53b914e9b3b442c6be192f73}{igb\+\_\+enable\+\_\+mas} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\+\_\+reset} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static netdev\+\_\+features\+\_\+t \hyperlink{igb__main_8c_a342dc3727928a47149304e78b86cb2f3}{igb\+\_\+fix\+\_\+features} (struct net\+\_\+device $\ast$netdev, netdev\+\_\+features\+\_\+t \hyperlink{lib_2avtp__pipeline_2build__avdecc_2_c_make_files_2feature__tests_8cxx_a1582568e32f689337602a16bf8a5bff0}{features})
\item 
static int \hyperlink{igb__main_8c_a4ce6bf238f666dfd594795d718bbaa5b}{igb\+\_\+set\+\_\+features} (struct net\+\_\+device $\ast$netdev, netdev\+\_\+features\+\_\+t \hyperlink{lib_2avtp__pipeline_2build__avdecc_2_c_make_files_2feature__tests_8cxx_a1582568e32f689337602a16bf8a5bff0}{features})
\item 
static int \hyperlink{igb__main_8c_a36243ac9e533818f1c9cae5072f79813}{igb\+\_\+ndo\+\_\+fdb\+\_\+add} (struct ndmsg $\ast$ndm, struct nlattr $\ast$tb\mbox{[}$\,$\mbox{]}, struct net\+\_\+device $\ast$dev, const unsigned char $\ast$addr, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} flags)
\item 
static int \hyperlink{igb__main_8c_a9eefd3c17025cc97d56c440e477a7241}{igb\+\_\+ndo\+\_\+bridge\+\_\+setlink} (struct net\+\_\+device $\ast$dev, struct nlmsghdr $\ast$nlh, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} flags)
\item 
static int \hyperlink{igb__main_8c_a944515112a10bfcfea1cfb69b8f1f4ee}{igb\+\_\+ndo\+\_\+bridge\+\_\+getlink} (struct sk\+\_\+buff $\ast$skb, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} pid, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} seq, struct net\+\_\+device $\ast$dev, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} filter\+\_\+mask, int nlflags)
\item 
static void \hyperlink{igb__main_8c_ac57a727efc45d28473debdf87991c31f}{igb\+\_\+set\+\_\+fw\+\_\+version} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a5cc3c25529cf9ab6a05466f2c697876b}{igb\+\_\+init\+\_\+mas} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7}{igb\+\_\+rar\+\_\+set} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} index)
\item 
static int \hyperlink{igb__main_8c_a496396105e9c09bddc3272b88b848d0d}{\+\_\+\+\_\+igb\+\_\+open} (struct net\+\_\+device $\ast$netdev, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} resuming)
\item 
static int \hyperlink{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f}{\+\_\+\+\_\+igb\+\_\+close} (struct net\+\_\+device $\ast$netdev, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} suspending)
\item 
int \hyperlink{igb__main_8c_a4c7d1f92c1d6b281ed27c5c469c6aa14}{igb\+\_\+setup\+\_\+tx\+\_\+resources} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring})
\item 
void \hyperlink{igb__main_8c_a4c5ad8518af9c1860fc46cafd90d52c0}{igb\+\_\+setup\+\_\+tctl} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{igb__main_8c_a304973d618965dc8a80e29de6d4851bd}{igb\+\_\+tx\+\_\+wthresh} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_a9423e1fde94639e91362c30b4b874efc}{igb\+\_\+configure\+\_\+tx\+\_\+ring} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$ring)
\item 
int \hyperlink{igb__main_8c_a46e1c7cbe11e26447e2ae0a0e4b97260}{igb\+\_\+setup\+\_\+rx\+\_\+resources} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring})
\item 
void \hyperlink{igb__main_8c_af7e4c5f535a1647ebb8b81ed82a38d96}{igb\+\_\+setup\+\_\+rctl} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static int \hyperlink{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de}{igb\+\_\+set\+\_\+vf\+\_\+rlpml} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size}, int vfn)
\item 
static void \hyperlink{igb__main_8c_a0249494762b540245daf3369f16b78c3}{igb\+\_\+rlpml\+\_\+set} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int vfn, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} enable)
\item 
static void \hyperlink{igb__main_8c_af094899cf6e9f4dff265d1d6edb5e639}{igb\+\_\+set\+\_\+vmolr} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int vfn, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} aupe)
\item 
void \hyperlink{igb__main_8c_a3c7af9ee2a4ec62998d9ec40aa64c118}{igb\+\_\+configure\+\_\+rx\+\_\+ring} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$ring)
\item 
void \hyperlink{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835}{igb\+\_\+free\+\_\+tx\+\_\+resources} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring})
\item 
void \hyperlink{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89}{igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$ring, struct \hyperlink{structigb__tx__buffer}{igb\+\_\+tx\+\_\+buffer} $\ast$tx\+\_\+buffer)
\item 
void \hyperlink{igb__main_8c_a720d12b2ab81f301056c531488a9812e}{igb\+\_\+free\+\_\+rx\+\_\+resources} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring})
\item 
void \hyperlink{igb__main_8c_a4d2e787907154102e3b72ee675f86726}{igb\+\_\+clean\+\_\+rx\+\_\+ring} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring})
\item 
int \hyperlink{igb__main_8c_a7ebac13f17345226b32ae850e715a63e}{igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list} (struct net\+\_\+device $\ast$netdev)
\item 
void \hyperlink{igb__main_8c_aa89f95f5b6053c416c0cc99e5ec7d788}{igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
void \hyperlink{igb__main_8c_a2cf16945bd079ae2294168c26359c461}{igb\+\_\+sync\+\_\+mac\+\_\+table} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
int \hyperlink{igb__main_8c_a5ea0d7eb9aa13571df752151a4305bfe}{igb\+\_\+available\+\_\+rars} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static int \hyperlink{igb__main_8c_aa5e79f95c7f883a2913619a8d4e69951}{igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list} (struct net\+\_\+device $\ast$netdev)
\item 
static void \hyperlink{igb__main_8c_a4ca49bc45d6fc881a7f7077245b60abe}{igb\+\_\+check\+\_\+wvbr} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_af3069d38456c31b76552c10a53def1c9}{igb\+\_\+spoof\+\_\+check} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
\hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_ab64cb6706f8303113a7af937ca35934f}{igb\+\_\+has\+\_\+link} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a5d1e40ba6141723d6502543947f35d48}{igb\+\_\+update\+\_\+ring\+\_\+itr} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector)
\item 
static void \hyperlink{igb__main_8c_a4b26bdd8e9656c8595ea05edc21999fe}{igb\+\_\+update\+\_\+itr} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector, struct \hyperlink{structigb__ring__container}{igb\+\_\+ring\+\_\+container} $\ast$ring\+\_\+container)
\item 
static void \hyperlink{igb__main_8c_ad63fc32a3c597bd661bc55a051a7120f}{igb\+\_\+set\+\_\+itr} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector)
\item 
void \hyperlink{igb__main_8c_a1980b6c3ff2a020639f9ede7a3424bb7}{igb\+\_\+tx\+\_\+ctxtdesc} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vlan\+\_\+macip\+\_\+lens, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} type\+\_\+tucmd, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} mss\+\_\+l4len\+\_\+idx)
\item 
static int \hyperlink{igb__main_8c_ad351ae5337bfaac691faf23907d91e62}{igb\+\_\+tso} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, struct \hyperlink{structigb__tx__buffer}{igb\+\_\+tx\+\_\+buffer} $\ast$first, \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} $\ast$hdr\+\_\+len)
\item 
static void \hyperlink{igb__main_8c_a4899351d862c42a504fd3e4e9dc26319}{igb\+\_\+tx\+\_\+csum} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, struct \hyperlink{structigb__tx__buffer}{igb\+\_\+tx\+\_\+buffer} $\ast$first)
\item 
static \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{igb__main_8c_a9b1045db7947d971e0dc557b00fcf738}{igb\+\_\+tx\+\_\+cmd\+\_\+type} (struct sk\+\_\+buff $\ast$skb, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} tx\+\_\+flags)
\item 
static void \hyperlink{igb__main_8c_a6ea61584f142e881b55bfee6709e10d2}{igb\+\_\+tx\+\_\+olinfo\+\_\+status} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, union \hyperlink{unione1000__adv__tx__desc}{e1000\+\_\+adv\+\_\+tx\+\_\+desc} $\ast$tx\+\_\+desc, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} tx\+\_\+flags, unsigned int paylen)
\item 
static void \hyperlink{igb__main_8c_aa0c9fcaa02f25bafdf7871fff48ae9c6}{igb\+\_\+tx\+\_\+map} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, struct \hyperlink{structigb__tx__buffer}{igb\+\_\+tx\+\_\+buffer} $\ast$first, const \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} hdr\+\_\+len)
\item 
static int \hyperlink{igb__main_8c_a132007995964d5aabebde7c9b0832c33}{\+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, const \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size})
\item 
static int \hyperlink{igb__main_8c_a07fa15ec03bb292010932287043d9bae}{igb\+\_\+maybe\+\_\+stop\+\_\+tx} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring}, const \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size})
\item 
netdev\+\_\+tx\+\_\+t \hyperlink{igb__main_8c_a11149ed7be93cd983752d15eb0b5c7f2}{igb\+\_\+xmit\+\_\+frame\+\_\+ring} (struct sk\+\_\+buff $\ast$skb, struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structtx__ring}{tx\+\_\+ring})
\item 
static struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$ \hyperlink{igb__main_8c_ad91dca1907e6733eb86827110b9b27c3}{igb\+\_\+tx\+\_\+queue\+\_\+mapping} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, struct sk\+\_\+buff $\ast$skb)
\item 
void \hyperlink{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677}{igb\+\_\+update\+\_\+stats} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7}{igb\+\_\+tsync\+\_\+interrupt} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static void \hyperlink{igb__main_8c_a476db26ba6dcacc132d78aff94f77242}{igb\+\_\+write\+\_\+itr} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector)
\item 
void \hyperlink{igb__main_8c_aceed335ac803389de10a31c496032f9d}{igb\+\_\+mta\+\_\+set} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} hash\+\_\+value)
\item 
static int \hyperlink{igb__main_8c_a2310d0167a360b05edf4c3aa4a32484c}{igb\+\_\+set\+\_\+vf\+\_\+promisc} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static int \hyperlink{igb__main_8c_a08934799dc338ca9945f1ffbf09a1cf3}{igb\+\_\+set\+\_\+vf\+\_\+multicasts} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static void \hyperlink{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5}{igb\+\_\+clear\+\_\+vf\+\_\+vfta} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\+\_\+vlvf\+\_\+set} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vid, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} add, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static int \hyperlink{igb__main_8c_a65d442493be7273ba5275312e197270f}{igb\+\_\+find\+\_\+vlvf\+\_\+entry} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, int vid)
\item 
static int \hyperlink{igb__main_8c_a37518d6544f86838af70789b578a6cb2}{igb\+\_\+set\+\_\+vf\+\_\+vlan} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static void \hyperlink{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61}{igb\+\_\+vf\+\_\+reset} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static void \hyperlink{igb__main_8c_abf709e6b4ef8ed9c86ba108be592b96d}{igb\+\_\+vf\+\_\+reset\+\_\+event} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static void \hyperlink{igb__main_8c_a779e71661381fbdbdb18a6062b03e74f}{igb\+\_\+vf\+\_\+reset\+\_\+msg} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static int \hyperlink{igb__main_8c_a08b0f3022564ddd668cd57fd5de5eaaf}{igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$\hyperlink{openavb__log_8c_a0c7e58a50354c4a4d6dad428d0e47029}{msg}, int vf)
\item 
static void \hyperlink{igb__main_8c_a1b68d827fe29b33454280f76ee89fc13}{igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
static void \hyperlink{igb__main_8c_a25d4016a5355329deff8e301aecccdc3}{igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vf)
\item 
void \hyperlink{igb__main_8c_aa30dd1341fc975ff18871e743edd678d}{igb\+\_\+ring\+\_\+irq\+\_\+enable} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector)
\item 
static void \hyperlink{igb__main_8c_a46fc715fbcaaf9756175ca26b0117c75}{igb\+\_\+reuse\+\_\+rx\+\_\+page} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, struct \hyperlink{structigb__rx__buffer}{igb\+\_\+rx\+\_\+buffer} $\ast$old\+\_\+buff)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_af61846c229d26f89b8ba6e2dfee55b9c}{igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page} (struct \hyperlink{structigb__rx__buffer}{igb\+\_\+rx\+\_\+buffer} $\ast$rx\+\_\+buffer, struct page $\ast$page, unsigned int truesize)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_a65acafe0bd791ce3f8dccdc54ef2b204}{igb\+\_\+add\+\_\+rx\+\_\+frag} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, struct \hyperlink{structigb__rx__buffer}{igb\+\_\+rx\+\_\+buffer} $\ast$rx\+\_\+buffer, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static struct sk\+\_\+buff $\ast$ \hyperlink{igb__main_8c_a2e28d3d9cd99c531a5584b3f327be1a4}{igb\+\_\+fetch\+\_\+rx\+\_\+buffer} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static void \hyperlink{igb__main_8c_a42b3b70a326545344ddeeea65329f6dd}{igb\+\_\+rx\+\_\+checksum} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$ring, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_a266496914a2a07ab37f462909ebdc551}{igb\+\_\+can\+\_\+lro} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static struct \hyperlink{structigb__lrohdr}{igb\+\_\+lrohdr} $\ast$ \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\+\_\+lro\+\_\+hdr} (struct sk\+\_\+buff $\ast$skb)
\item 
static void \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\+\_\+lro\+\_\+flush} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector, struct sk\+\_\+buff $\ast$skb)
\item 
static void \hyperlink{igb__main_8c_a6dc808ba69f6bb2be19abe0b2950c253}{igb\+\_\+lro\+\_\+flush\+\_\+all} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector)
\item 
static void \hyperlink{igb__main_8c_ab0a3a556dbfe0bc52bf3a63b22472387}{igb\+\_\+lro\+\_\+header\+\_\+ok} (struct sk\+\_\+buff $\ast$skb)
\item 
static void \hyperlink{igb__main_8c_a55e627577550e71548b6c6ac427659f7}{igb\+\_\+merge\+\_\+frags} (struct sk\+\_\+buff $\ast$lro\+\_\+skb, struct sk\+\_\+buff $\ast$new\+\_\+skb)
\item 
static void \hyperlink{igb__main_8c_a4cb452a8b23f2419cfe5893465bfe877}{igb\+\_\+lro\+\_\+receive} (struct \hyperlink{structigb__q__vector}{igb\+\_\+q\+\_\+vector} $\ast$q\+\_\+vector, struct sk\+\_\+buff $\ast$new\+\_\+skb)
\item 
static void \hyperlink{igb__main_8c_a4c49c031b2dd083f237db74034cc383a}{igb\+\_\+process\+\_\+skb\+\_\+fields} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_ac5bec4783e881c1bdbefcfdca0cd30d0}{igb\+\_\+is\+\_\+non\+\_\+eop} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc)
\item 
static unsigned int \hyperlink{igb__main_8c_a8603b3975948f4da1cf253d1394c64a6}{igb\+\_\+get\+\_\+headlen} (unsigned char $\ast$data, unsigned int max\+\_\+len)
\item 
static void \hyperlink{igb__main_8c_a8d54ff0489b1570a31e6736d45928032}{igb\+\_\+pull\+\_\+tail} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_ad42d792450c25d456742fd97dfc51a16}{igb\+\_\+cleanup\+\_\+headers} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, union \hyperlink{unione1000__adv__rx__desc}{e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)
\item 
static \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{igb__main_8c_a0f99c1204064af0a09d4097427ceee9d}{igb\+\_\+alloc\+\_\+mapped\+\_\+page} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, struct \hyperlink{structigb__rx__buffer}{igb\+\_\+rx\+\_\+buffer} $\ast$bi)
\item 
void \hyperlink{igb__main_8c_a7839664fe06f0629433799ef7e66de8d}{igb\+\_\+alloc\+\_\+rx\+\_\+buffers} (struct \hyperlink{structigb__ring}{igb\+\_\+ring} $\ast$\hyperlink{structrx__ring}{rx\+\_\+ring}, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} cleaned\+\_\+count)
\item 
void \hyperlink{igb__main_8c_af05b63fded54f2adb80b1a0d3d796f25}{e1000\+\_\+read\+\_\+pci\+\_\+cfg} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$value)
\item 
void \hyperlink{igb__main_8c_a76502146f6108fc5272618b87b4d1142}{e1000\+\_\+write\+\_\+pci\+\_\+cfg} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$value)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{igb__main_8c_a8b729caf83504e15bd66120a27ba4916}{e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$value)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{igb__main_8c_aa64b71180f655e67ed7921e0c6baf696}{e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$value)
\item 
void \hyperlink{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}{igb\+\_\+vlan\+\_\+mode} (struct net\+\_\+device $\ast$netdev, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{lib_2avtp__pipeline_2build__avdecc_2_c_make_files_2feature__tests_8cxx_a1582568e32f689337602a16bf8a5bff0}{features})
\item 
int \hyperlink{igb__main_8c_a9aa664ade8b327624724896a952eb61a}{igb\+\_\+set\+\_\+spd\+\_\+dplx} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} spddplx)
\item 
int \hyperlink{igb__main_8c_a006728b8753f23f4416aac863ad84cfa}{igb\+\_\+setup\+\_\+queues} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter})
\item 
static int \hyperlink{igb__main_8c_a8fa474f7e09a241d235da9d33d84c188}{\+\_\+\+\_\+igb\+\_\+shutdown} (struct pci\+\_\+dev $\ast$pdev, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} $\ast$enable\+\_\+wake, \hyperlink{avb__gptp_8h_af6a258d8f3ee5206d682d799316314b1}{bool} runtime)
\item 
int \hyperlink{igb__main_8c_a97704999b1165a6592ba664165c1ddc0}{igb\+\_\+add\+\_\+mac\+\_\+filter} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} $\ast$addr, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} queue)
\item 
int \hyperlink{igb__main_8c_aecb9d7d92e5e70e8ec5c531cc535a3b3}{igb\+\_\+del\+\_\+mac\+\_\+filter} (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$\hyperlink{structadapter}{adapter}, \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} $\ast$addr, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} queue)
\item 
static int \hyperlink{igb__main_8c_a918dabaf69741e5b835a92763d804b50}{\+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup} (struct device $\ast$dev, void $\ast$data)
\item 
static struct \hyperlink{structigb__adapter}{igb\+\_\+adapter} $\ast$ \hyperlink{igb__main_8c_a4e3e2b77b79ef21caa61082b19a0c3b6}{igb\+\_\+lookup} (char $\ast$id)
\item 
static int \hyperlink{igb__main_8c_a5e50faf6418c06493efc9b252294c81c}{igb\+\_\+bind} (struct file $\ast$file, void \+\_\+\+\_\+user $\ast$\hyperlink{aaf-talker_8c_ab70c96531b1b652d70c221cfaf3207f3}{argp})
\item 
static int \hyperlink{igb__main_8c_a9c58b2f45420f3721cea433524aa7c5c}{igb\+\_\+unbind} (struct file $\ast$file)
\item 
static long \hyperlink{igb__main_8c_a2271d56e6345d78572aa614976a58d3a}{igb\+\_\+getspeed} (struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg)
\item 
static long \hyperlink{igb__main_8c_ad52da4ebcd0f933f997f5aa61db4e0d1}{igb\+\_\+mapbuf\+\_\+user} (struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg, int ring)
\item 
static long \hyperlink{igb__main_8c_a4504883727c3b707446d7f4c5bb5e05d}{igb\+\_\+mapbuf} (struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg, int ring)
\item 
static long \hyperlink{igb__main_8c_ae7cebf4dcf256e27213909f389b11469}{igb\+\_\+unmapbuf} (struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg, int ring)
\end{DoxyCompactItemize}
\subsection*{변수}
\begin{DoxyCompactItemize}
\item 
char \hyperlink{igb__main_8c_a97163b5e0ff86098986aebe2b9e8ccfe}{igb\+\_\+driver\+\_\+name} \mbox{[}$\,$\mbox{]} = \char`\"{}igb\+\_\+avb\char`\"{}
\item 
char \hyperlink{igb__main_8c_a574edf7c28cc8e5a00702d7a581e710a}{igb\+\_\+driver\+\_\+version} \mbox{[}$\,$\mbox{]} = \hyperlink{igb__main_8c_a5c83b7da74b54082299de70a26d0fcdf}{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}
\item 
static const char \hyperlink{igb__main_8c_a6015f0d20a636b9a059f712be80e052e}{igb\+\_\+driver\+\_\+string} \mbox{[}$\,$\mbox{]}
\item 
static const char \hyperlink{igb__main_8c_a5a472f980d2c99065060c082a3f80376}{igb\+\_\+copyright} \mbox{[}$\,$\mbox{]}
\item 
static const struct pci\+\_\+device\+\_\+id \hyperlink{igb__main_8c_af07553d6773aa7c264ce9980b92e820e}{igb\+\_\+pci\+\_\+tbl} \mbox{[}$\,$\mbox{]}
\item 
static struct vm\+\_\+operations\+\_\+struct \hyperlink{igb__main_8c_a48307be98c937323bbdee49cbe7b9499}{igb\+\_\+mmap\+\_\+ops}
\item 
static struct pci\+\_\+error\+\_\+handlers \hyperlink{igb__main_8c_aa6882dccbf4fcc9b1202808f7df1771d}{igb\+\_\+err\+\_\+handler}
\item 
static struct file\+\_\+operations \hyperlink{igb__main_8c_a4448e0d951f22c66111a3228355915ad}{igb\+\_\+fops}
\item 
static struct miscdevice \hyperlink{igb__main_8c_a56502b636655b8aa8730204ae9e8dd28}{igb\+\_\+miscdev}
\item 
static struct pci\+\_\+driver \hyperlink{igb__main_8c_a45fd99b8fd5045e69f4ae20d76acbd1c}{igb\+\_\+driver}
\item 
static int \hyperlink{igb__main_8c_ac3e1795766a80ec63b157951b4b9a7d4}{debug} = N\+E\+T\+I\+F\+\_\+\+M\+S\+G\+\_\+\+D\+RV $\vert$ N\+E\+T\+I\+F\+\_\+\+M\+S\+G\+\_\+\+P\+R\+O\+BE
\item 
static int \hyperlink{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}{tx\+\_\+size} = 256
\item 
static const struct net\+\_\+device\+\_\+ops \hyperlink{igb__main_8c_ace4acbec9b710babfe6c7865609b49f7}{igb\+\_\+netdev\+\_\+ops}
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!B\+U\+I\+LD@{B\+U\+I\+LD}}
\index{B\+U\+I\+LD@{B\+U\+I\+LD}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{B\+U\+I\+LD}{BUILD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+U\+I\+LD~2}\hypertarget{igb__main_8c_a03505fe2d99ef550d9e1d39f57048908}{}\label{igb__main_8c_a03505fe2d99ef550d9e1d39f57048908}


igb\+\_\+main.\+c 파일의 83 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!D\+R\+V\+\_\+\+D\+E\+B\+UG@{D\+R\+V\+\_\+\+D\+E\+B\+UG}}
\index{D\+R\+V\+\_\+\+D\+E\+B\+UG@{D\+R\+V\+\_\+\+D\+E\+B\+UG}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{D\+R\+V\+\_\+\+D\+E\+B\+UG}{DRV_DEBUG}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+R\+V\+\_\+\+D\+E\+B\+UG}\hypertarget{igb__main_8c_a09e4305a738b05fa08560c11596e0be5}{}\label{igb__main_8c_a09e4305a738b05fa08560c11596e0be5}


igb\+\_\+main.\+c 파일의 76 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF@{D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF}}
\index{D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF@{D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF}{DRV_HW_PERF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+R\+V\+\_\+\+H\+W\+\_\+\+P\+E\+RF}\hypertarget{igb__main_8c_af040abadba34e55f47bf8d354b42b7d5}{}\label{igb__main_8c_af040abadba34e55f47bf8d354b42b7d5}


igb\+\_\+main.\+c 파일의 78 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON@{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON@{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}{DRV_VERSION}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}\hypertarget{igb__main_8c_a5c83b7da74b54082299de70a26d0fcdf}{}\label{igb__main_8c_a5c83b7da74b54082299de70a26d0fcdf}
{\bfseries 값\+:}
\begin{DoxyCode}
\_\_stringify(\hyperlink{igb__main_8c_a76841dbb6095f691540bdef5698be8a4}{MAJ}) \textcolor{stringliteral}{"."} \_\_stringify(\hyperlink{igb__main_8c_adbd5cbe76e047a39e0a34f085cdae6fe}{MIN}) \textcolor{stringliteral}{"."}\(\backslash\)
    \_\_stringify(\hyperlink{igb__main_8c_a03505fe2d99ef550d9e1d39f57048908}{BUILD}) \hyperlink{igb__main_8c_a20831b0e0f04f661b85338bd663b792e}{VERSION\_SUFFIX} \hyperlink{igb__main_8c_a09e4305a738b05fa08560c11596e0be5}{DRV\_DEBUG} 
      \hyperlink{igb__main_8c_af040abadba34e55f47bf8d354b42b7d5}{DRV\_HW\_PERF}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 84 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT@{E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT}}
\index{E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT@{E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT}{E1000_CTRL_EN_PHY_PWR_MGMT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E1000\+\_\+\+C\+T\+R\+L\+\_\+\+E\+N\+\_\+\+P\+H\+Y\+\_\+\+P\+W\+R\+\_\+\+M\+G\+MT~0x00200000}\hypertarget{igb__main_8c_a6fab39b3f6dc1637754b27b2c61f1bb9}{}\label{igb__main_8c_a6fab39b3f6dc1637754b27b2c61f1bb9}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF@{E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF}}
\index{E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF@{E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF}{E1000_DEV_ID_82576_VF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E1000\+\_\+\+D\+E\+V\+\_\+\+I\+D\+\_\+82576\+\_\+\+VF~0x10\+CA}\hypertarget{igb__main_8c_a216dbb5c26a53581d55d2dc7daca44b9}{}\label{igb__main_8c_a216dbb5c26a53581d55d2dc7daca44b9}


igb\+\_\+main.\+c 파일의 9504 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3@{E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3}}
\index{E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3@{E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3}{E1000_MRQC_ENABLE_DEF_Q3}}]{\setlength{\rightskip}{0pt plus 5cm}\#define E1000\+\_\+\+M\+R\+Q\+C\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+E\+F\+\_\+\+Q3~(3 $<$$<$ 3)}\hypertarget{igb__main_8c_adcb72b96af39f3e93fdf898d5bf39496}{}\label{igb__main_8c_adcb72b96af39f3e93fdf898d5bf39496}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE@{I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE}}
\index{I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE@{I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE}{IGB_N0_QUEUE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+G\+B\+\_\+\+N0\+\_\+\+Q\+U\+E\+UE~-\/1}\hypertarget{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{}\label{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}


igb\+\_\+main.\+c 파일의 554 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG@{I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG}}
\index{I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG@{I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG}{IGB_SET_FLAG}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+G\+B\+\_\+\+S\+E\+T\+\_\+\+F\+L\+AG(
\begin{DoxyParamCaption}
\item[{}]{\+\_\+input, }
\item[{}]{\+\_\+flag, }
\item[{}]{\+\_\+result}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{}\label{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}
{\bfseries 값\+:}
\begin{DoxyCode}
((\_flag <= \_result) ? \(\backslash\)
     ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})(\_input & \_flag) * (\_result / \_flag)) : \(\backslash\)
     ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})(\_input & \_flag) / (\_flag / \_result)))
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 5433 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET@{I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET}}
\index{I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET@{I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET}{IGB_STAGGERED_QUEUE_OFFSET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+G\+B\+\_\+\+S\+T\+A\+G\+G\+E\+R\+E\+D\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+O\+F\+F\+S\+ET~8}\hypertarget{igb__main_8c_ad012c6ed86cdc3679970034374e5fca0}{}\label{igb__main_8c_ad012c6ed86cdc3679970034374e5fca0}


igb\+\_\+main.\+c 파일의 4656 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+AJ@{M\+AJ}}
\index{M\+AJ@{M\+AJ}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+AJ}{MAJ}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+AJ~5}\hypertarget{igb__main_8c_a76841dbb6095f691540bdef5698be8a4}{}\label{igb__main_8c_a76841dbb6095f691540bdef5698be8a4}


igb\+\_\+main.\+c 파일의 81 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}}
\index{M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE@{M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE}{MAX_STD_JUMBO_FRAME_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+S\+T\+D\+\_\+\+J\+U\+M\+B\+O\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE~9238}\hypertarget{igb__main_8c_afcc7615119633e262a7324bdbcf7b1e6}{}\label{igb__main_8c_afcc7615119633e262a7324bdbcf7b1e6}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+IN@{M\+IN}}
\index{M\+IN@{M\+IN}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+IN}{MIN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+IN~3}\hypertarget{igb__main_8c_adbd5cbe76e047a39e0a34f085cdae6fe}{}\label{igb__main_8c_adbd5cbe76e047a39e0a34f085cdae6fe}


igb\+\_\+main.\+c 파일의 82 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK@{P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK}}
\index{P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK@{P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK}{PHY_IDLE_ERROR_COUNT_MASK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+H\+Y\+\_\+\+I\+D\+L\+E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+A\+SK~0x00\+FF}\hypertarget{igb__main_8c_a1378ca6e1a98ab93ddb97d97e6c3eac1}{}\label{igb__main_8c_a1378ca6e1a98ab93ddb97d97e6c3eac1}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!Q\+\_\+\+I\+D\+X\+\_\+82576@{Q\+\_\+\+I\+D\+X\+\_\+82576}}
\index{Q\+\_\+\+I\+D\+X\+\_\+82576@{Q\+\_\+\+I\+D\+X\+\_\+82576}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{Q\+\_\+\+I\+D\+X\+\_\+82576}{Q_IDX_82576}}]{\setlength{\rightskip}{0pt plus 5cm}\#define Q\+\_\+\+I\+D\+X\+\_\+82576(
\begin{DoxyParamCaption}
\item[{}]{i}
\end{DoxyParamCaption}
)~(((i \& 0x1) $<$$<$ 3) + (i $>$$>$ 1))}\hypertarget{igb__main_8c_ad0fa0c5ef5d39e43b8c24599d82d0d38}{}\label{igb__main_8c_ad0fa0c5ef5d39e43b8c24599d82d0d38}


igb\+\_\+main.\+c 파일의 450 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD@{T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}}
\index{T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD@{T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}{TX_WAKE_THRESHOLD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+X\+\_\+\+W\+A\+K\+E\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD~({\bf D\+E\+S\+C\+\_\+\+N\+E\+E\+D\+ED} $\ast$ 2)}\hypertarget{igb__main_8c_ab6a02abf5699fb66c56f3e30c7c40b5e}{}\label{igb__main_8c_ab6a02abf5699fb66c56f3e30c7c40b5e}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX@{V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX}}
\index{V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX@{V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX}{VERSION_SUFFIX}}]{\setlength{\rightskip}{0pt plus 5cm}\#define V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+U\+F\+F\+IX~\char`\"{}\+\_\+\+A\+VB\char`\"{}}\hypertarget{igb__main_8c_a20831b0e0f04f661b85338bd663b792e}{}\label{igb__main_8c_a20831b0e0f04f661b85338bd663b792e}


igb\+\_\+main.\+c 파일의 79 번째 라인에서 정의되었습니다.



\subsection{열거형 타입 문서화}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!latency\+\_\+range@{latency\+\_\+range}}
\index{latency\+\_\+range@{latency\+\_\+range}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{latency\+\_\+range}{latency_range}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf latency\+\_\+range}}\hypertarget{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adf}{}\label{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adf}
\begin{Desc}
\item[열거형 멤버]\par
\begin{description}
\index{lowest\+\_\+latency@{lowest\+\_\+latency}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!lowest\+\_\+latency@{lowest\+\_\+latency}}\item[{\em 
lowest\+\_\+latency\hypertarget{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{}\label{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}
}]\index{low\+\_\+latency@{low\+\_\+latency}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!low\+\_\+latency@{low\+\_\+latency}}\item[{\em 
low\+\_\+latency\hypertarget{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{}\label{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}
}]\index{bulk\+\_\+latency@{bulk\+\_\+latency}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!bulk\+\_\+latency@{bulk\+\_\+latency}}\item[{\em 
bulk\+\_\+latency\hypertarget{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{}\label{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}
}]\index{latency\+\_\+invalid@{latency\+\_\+invalid}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!latency\+\_\+invalid@{latency\+\_\+invalid}}\item[{\em 
latency\+\_\+invalid\hypertarget{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa11a475be6e1d8db7c306136483afdbd3}{}\label{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa11a475be6e1d8db7c306136483afdbd3}
}]\end{description}
\end{Desc}


igb\+\_\+main.\+c 파일의 5048 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5048                    \{
5049     \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\_latency} = 0,
5050     \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency} = 1,
5051     \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency} = 2,
5052     \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa11a475be6e1d8db7c306136483afdbd3}{latency\_invalid} = 255
5053 \};
\end{DoxyCode}


\subsection{함수 문서화}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!\+\_\+\+\_\+igb\+\_\+close@{\+\_\+\+\_\+igb\+\_\+close}}
\index{\+\_\+\+\_\+igb\+\_\+close@{\+\_\+\+\_\+igb\+\_\+close}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+igb\+\_\+close(struct net\+\_\+device $\ast$netdev, bool suspending)}{__igb_close(struct net_device *netdev, bool suspending)}}]{\setlength{\rightskip}{0pt plus 5cm}static int \+\_\+\+\_\+igb\+\_\+close (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{{\bf bool}}]{suspending}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f}{}\label{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f}
igb\+\_\+close -\/ Disables a network interface \+: network interface device structure

Returns 0, this is not allowed to fail

The close entry point is called when an interface is de-\/activated by the OS. The hardware is still under the driver\textquotesingle{}s control, but needs to be disabled. A global M\+AC reset is issued to stop the hardware, and all transmit and receive resources are freed. 

igb\+\_\+main.\+c 파일의 3452 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3453 \{
3454     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
3455 \textcolor{preprocessor}{#ifdef CONFIG\_PM\_RUNTIME}
3456     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
3457 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PM\_RUNTIME */}\textcolor{preprocessor}{}
3458 
3459     \hyperlink{kcompat_8h_a5ff98df171641db7a034f6f1d4425157}{WARN\_ON}(test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa11bf36bdba8153146a1fa18ce807324c}{\_\_IGB\_RESETTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}));
3460 
3461 \textcolor{preprocessor}{#ifdef CONFIG\_PM\_RUNTIME}
3462     \textcolor{keywordflow}{if} (!suspending)
3463         pm\_runtime\_get\_sync(&pdev->dev);
3464 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PM\_RUNTIME */}\textcolor{preprocessor}{}
3465 
3466     \hyperlink{igb__main_8c_aacbb63f4709878964f7afa56734e9333}{igb\_down}(adapter);
3467 
3468     \hyperlink{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{igb\_release\_hw\_control}(adapter);
3469 
3470     \hyperlink{igb__main_8c_a8ccf51b131f19e9ab994e083efa1d9de}{igb\_free\_irq}(adapter);
3471 
3472     \textcolor{keywordflow}{if}(!suspending || (system\_state != SYSTEM\_RUNNING))\{
3473         \hyperlink{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359}{igb\_free\_all\_tx\_resources}(adapter);
3474         \hyperlink{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c}{igb\_free\_all\_rx\_resources}(adapter);
3475     \}
3476 
3477 \textcolor{preprocessor}{#ifdef CONFIG\_PM\_RUNTIME}
3478     \textcolor{keywordflow}{if} (!suspending)
3479         pm\_runtime\_put\_sync(&pdev->dev);
3480 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PM\_RUNTIME */}\textcolor{preprocessor}{}
3481 
3482     \textcolor{keywordflow}{return} 0;
3483 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!\+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx@{\+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx}}
\index{\+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx@{\+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx(struct igb\+\_\+ring $\ast$tx\+\_\+ring, const u16 size)}{__igb_maybe_stop_tx(struct igb_ring *tx_ring, const u16 size)}}]{\setlength{\rightskip}{0pt plus 5cm}static int \+\_\+\+\_\+igb\+\_\+maybe\+\_\+stop\+\_\+tx (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{const {\bf u16}}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a132007995964d5aabebde7c9b0832c33}{}\label{igb__main_8c_a132007995964d5aabebde7c9b0832c33}


igb\+\_\+main.\+c 파일의 5611 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5612 \{
5613     \textcolor{keyword}{struct }net\_device *netdev = \hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring);
5614 
5615     \textcolor{keywordflow}{if} (netif\_is\_multiqueue(netdev))
5616         netif\_stop\_subqueue(netdev, \hyperlink{kmod_2igb_2igb_8h_a58016ef5dcd985fe19ed93d5d8fb2647}{ring\_queue\_index}(tx\_ring));
5617     \textcolor{keywordflow}{else}
5618         netif\_stop\_queue(netdev);
5619 
5620     \textcolor{comment}{/* Herbert's original patch had:}
5621 \textcolor{comment}{     *  smp\_mb\_\_after\_netif\_stop\_queue();}
5622 \textcolor{comment}{     * but since that doesn't exist yet, just open code it.}
5623 \textcolor{comment}{     */}
5624     smp\_mb();
5625 
5626     \textcolor{comment}{/* We need to check again in a case another CPU has just}
5627 \textcolor{comment}{     * made room available.}
5628 \textcolor{comment}{     */}
5629     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a8eaef53b14521d2fb0a9db74f3ed1c97}{igb\_desc\_unused}(tx\_ring) < \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size})
5630         \textcolor{keywordflow}{return} -EBUSY;
5631 
5632     \textcolor{comment}{/* A reprieve! */}
5633     \textcolor{keywordflow}{if} (netif\_is\_multiqueue(netdev))
5634         netif\_wake\_subqueue(netdev, \hyperlink{kmod_2igb_2igb_8h_a58016ef5dcd985fe19ed93d5d8fb2647}{ring\_queue\_index}(tx\_ring));
5635     \textcolor{keywordflow}{else}
5636         netif\_wake\_queue(netdev);
5637 
5638     tx\_ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_af4a2d173ec4fcd7b2bf5a7b8e51e2fcd}{restart\_queue}++;
5639 
5640     \textcolor{keywordflow}{return} 0;
5641 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{igb__main_8c_a132007995964d5aabebde7c9b0832c33_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a132007995964d5aabebde7c9b0832c33_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!\+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup@{\+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup}}
\index{\+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup@{\+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup(struct device $\ast$dev, void $\ast$data)}{__igb_notify_lookup(struct device *dev, void *data)}}]{\setlength{\rightskip}{0pt plus 5cm}static int \+\_\+\+\_\+igb\+\_\+notify\+\_\+lookup (
\begin{DoxyParamCaption}
\item[{struct device $\ast$}]{dev, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a918dabaf69741e5b835a92763d804b50}{}\label{igb__main_8c_a918dabaf69741e5b835a92763d804b50}


igb\+\_\+main.\+c 파일의 10229 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10230 \{
10231     \textcolor{keyword}{struct }net\_device *netdev = dev\_get\_drvdata(dev);
10232     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(netdev);
10233     \textcolor{keyword}{struct }\hyperlink{structigb__pci__lookup}{igb\_pci\_lookup} *adapter\_lookup = (\textcolor{keyword}{struct }\hyperlink{structigb__pci__lookup}{igb\_pci\_lookup} *)data;
10234 
10235     \textcolor{comment}{/* look at pci string - if its me, update the adapter pointer */}
10236     printk(\textcolor{stringliteral}{"checking against adapter name %s\(\backslash\)n"}, pci\_name(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}));
10237 
10238     \textcolor{keywordflow}{if} (!(strncmp(pci\_name(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}), adapter\_lookup->\hyperlink{structigb__pci__lookup_a34a8460a3c4d9c1fc36e0ae255db51df}{pci\_info},
10239              \hyperlink{linux__hal__i210_8cpp_a3d5e72fee0b5b7de1b68e1152bc7a87d}{IGB\_BIND\_NAMESZ})))
10240         adapter\_lookup->\hyperlink{structigb__pci__lookup_a194d1b705839346098846e03d7ae3108}{adapter} = \hyperlink{structigb__pci__lookup_a194d1b705839346098846e03d7ae3108}{adapter};
10241 
10242     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
10243 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a918dabaf69741e5b835a92763d804b50_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!\+\_\+\+\_\+igb\+\_\+open@{\+\_\+\+\_\+igb\+\_\+open}}
\index{\+\_\+\+\_\+igb\+\_\+open@{\+\_\+\+\_\+igb\+\_\+open}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+igb\+\_\+open(struct net\+\_\+device $\ast$netdev, bool resuming)}{__igb_open(struct net_device *netdev, bool resuming)}}]{\setlength{\rightskip}{0pt plus 5cm}static int \+\_\+\+\_\+igb\+\_\+open (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{{\bf bool}}]{resuming}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a496396105e9c09bddc3272b88b848d0d}{}\label{igb__main_8c_a496396105e9c09bddc3272b88b848d0d}
igb\+\_\+open -\/ Called when a network interface is made active \+: network interface device structure

Returns 0 on success, negative value on failure

The open entry point is called when a network interface is made active by the system (I\+F\+F\+\_\+\+UP). At this point all resources needed for transmit and receive operations are allocated, the interrupt handler is registered with the OS, the watchdog timer is started, and the stack is notified that the interface is ready. 

igb\+\_\+main.\+c 파일의 3327 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3328 \{
3329     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
3330     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3331 \textcolor{preprocessor}{#ifdef CONFIG\_PM\_RUNTIME}
3332     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
3333 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PM\_RUNTIME */}\textcolor{preprocessor}{}
3334     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3335     \textcolor{keywordtype}{int} i;
3336 
3337     \textcolor{comment}{/* disallow open during test */}
3338     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa678f975f772c61bbaf6fa41982424896}{\_\_IGB\_TESTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state})) \{
3339         \hyperlink{kcompat_8h_a5ff98df171641db7a034f6f1d4425157}{WARN\_ON}(resuming);
3340         \textcolor{keywordflow}{return} -EBUSY;
3341     \}
3342 
3343 \textcolor{preprocessor}{#ifdef CONFIG\_PM\_RUNTIME}
3344     \textcolor{keywordflow}{if} (!resuming)
3345         pm\_runtime\_get\_sync(&pdev->dev);
3346 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PM\_RUNTIME */}\textcolor{preprocessor}{}
3347 
3348     netif\_carrier\_off(netdev);
3349 
3350     \textcolor{keywordflow}{if}(!resuming)\{
3351         \textcolor{comment}{/* allocate transmit descriptors */}
3352         err = \hyperlink{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be}{igb\_setup\_all\_tx\_resources}(adapter);
3353         \textcolor{keywordflow}{if} (err)
3354             \textcolor{keywordflow}{goto} err\_setup\_tx;
3355 
3356         \textcolor{comment}{/* allocate receive descriptors */}
3357         err = \hyperlink{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081}{igb\_setup\_all\_rx\_resources}(adapter);
3358         \textcolor{keywordflow}{if} (err)
3359             \textcolor{keywordflow}{goto} err\_setup\_rx;
3360     \}
3361 
3362     \hyperlink{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41}{igb\_power\_up\_link}(adapter);
3363 
3364     \textcolor{comment}{/* before we allocate an interrupt, we must be ready to handle it.}
3365 \textcolor{comment}{     * Setting DEBUG\_SHIRQ in the kernel makes it fire an interrupt}
3366 \textcolor{comment}{     * as soon as we call pci\_request\_irq, so we have to setup our}
3367 \textcolor{comment}{     * clean\_rx handler before we do so.}
3368 \textcolor{comment}{     */}
3369     \hyperlink{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3}{igb\_configure}(adapter);
3370 
3371     err = \hyperlink{igb__main_8c_a32532603496322c11a8410674629bfee}{igb\_request\_irq}(adapter);
3372     \textcolor{keywordflow}{if} (err)
3373         \textcolor{keywordflow}{goto} err\_req\_irq;
3374 
3375     \textcolor{comment}{/* Notify the stack of the actual queue counts. */}
3376     netif\_set\_real\_num\_tx\_queues(netdev,
3377                      adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools} ? 1 :
3378                      adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues});
3379 
3380     err = netif\_set\_real\_num\_rx\_queues(netdev,
3381                        adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools} ? 1 :
3382                        adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues});
3383     \textcolor{keywordflow}{if} (err)
3384         \textcolor{keywordflow}{goto} err\_set\_queues;
3385 
3386     \textcolor{comment}{/* From here on the code is the same as igb\_up() */}
3387     clear\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
3388 
3389     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
3390         napi\_enable(&(adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i]->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi}));
3391     \hyperlink{igb__main_8c_a5cf85f1e32162097db9f35fa944a1239}{igb\_configure\_lli}(adapter);
3392 
3393     \textcolor{comment}{/* Clear any pending interrupts. */}
3394     \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae3769f563a652045f35d90625fd7a4d9}{E1000\_ICR});
3395 
3396     \hyperlink{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{igb\_irq\_enable}(adapter);
3397 
3398     \textcolor{comment}{/* notify VFs that reset has been completed */}
3399     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) \{
3400         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg\_data = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
3401 
3402         reg\_data |= \hyperlink{kmod_2igb_2e1000__defines_8h_abe6fe3344762e83af46ce4fca4b328ff}{E1000\_CTRL\_EXT\_PFRSTD};
3403         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT}, reg\_data);
3404     \}
3405 
3406     netif\_tx\_start\_all\_queues(netdev);
3407 
3408     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
3409         schedule\_work(&adapter->\hyperlink{structigb__adapter_a6cbe39db8d0f9cc3f2ab5180f975b468}{dma\_err\_task});
3410 
3411     \textcolor{comment}{/* start the watchdog. */}
3412     hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status} = 1;
3413     schedule\_work(&adapter->\hyperlink{structigb__adapter_a9993a1d4be5ad0cac1e37cdca3d06021}{watchdog\_task});
3414 
3415     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
3416 
3417 err\_set\_queues:
3418     \hyperlink{igb__main_8c_a8ccf51b131f19e9ab994e083efa1d9de}{igb\_free\_irq}(adapter);
3419 err\_req\_irq:
3420     \hyperlink{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{igb\_release\_hw\_control}(adapter);
3421     \hyperlink{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f}{igb\_power\_down\_link}(adapter);
3422     \hyperlink{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c}{igb\_free\_all\_rx\_resources}(adapter);
3423 err\_setup\_rx:
3424     \hyperlink{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359}{igb\_free\_all\_tx\_resources}(adapter);
3425 err\_setup\_tx:
3426     \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\_reset}(adapter);
3427 
3428 \textcolor{preprocessor}{#ifdef CONFIG\_PM\_RUNTIME}
3429     \textcolor{keywordflow}{if} (!resuming)
3430         pm\_runtime\_put(&pdev->dev);
3431 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PM\_RUNTIME */}\textcolor{preprocessor}{}
3432 
3433     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3434 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_a496396105e9c09bddc3272b88b848d0d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a496396105e9c09bddc3272b88b848d0d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!\+\_\+\+\_\+igb\+\_\+shutdown@{\+\_\+\+\_\+igb\+\_\+shutdown}}
\index{\+\_\+\+\_\+igb\+\_\+shutdown@{\+\_\+\+\_\+igb\+\_\+shutdown}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+igb\+\_\+shutdown(struct pci\+\_\+dev $\ast$pdev, bool $\ast$enable\+\_\+wake, bool runtime)}{__igb_shutdown(struct pci_dev *pdev, bool *enable_wake, bool runtime)}}]{\setlength{\rightskip}{0pt plus 5cm}static int \+\_\+\+\_\+igb\+\_\+shutdown (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev, }
\item[{{\bf bool} $\ast$}]{enable\+\_\+wake, }
\item[{{\bf bool}}]{runtime}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a8fa474f7e09a241d235da9d33d84c188}{}\label{igb__main_8c_a8fa474f7e09a241d235da9d33d84c188}


igb\+\_\+main.\+c 파일의 9249 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9251 \{
9252     \textcolor{keyword}{struct }net\_device *netdev = pci\_get\_drvdata(pdev);
9253     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(netdev);
9254     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9255     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl, rctl, status;
9256     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} wufc = runtime ? \hyperlink{kmod_2igb_2e1000__defines_8h_acd4ed724fac7e287b454e00fa0b4c4a8}{E1000\_WUFC\_LNKC} : adapter->\hyperlink{structigb__adapter_a9ed903019524c5d830e85c6454814513}{wol};
9257 \textcolor{preprocessor}{#ifdef CONFIG\_PM}
9258     \textcolor{keywordtype}{int} retval = 0;
9259 \textcolor{preprocessor}{#endif}
9260 
9261     netif\_device\_detach(netdev);
9262 
9263     status = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7fad15ed91c7801a1b9c5f80843bab79}{E1000\_STATUS});
9264     \textcolor{keywordflow}{if} (status & \hyperlink{kmod_2igb_2e1000__defines_8h_a9530e2cd8a8240e291f873238a270c0f}{E1000\_STATUS\_LU})
9265         wufc &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_acd4ed724fac7e287b454e00fa0b4c4a8}{E1000\_WUFC\_LNKC};
9266 
9267     \textcolor{keywordflow}{if} (netif\_running(netdev))
9268         \hyperlink{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f}{\_\_igb\_close}(netdev, \textcolor{keyword}{true});
9269 
9270     \textcolor{keywordflow}{if}(system\_state != SYSTEM\_RUNNING)
9271         \hyperlink{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{igb\_clear\_interrupt\_scheme}(adapter);
9272 
9273 \textcolor{preprocessor}{#ifdef CONFIG\_PM}
9274     retval = pci\_save\_state(pdev);
9275     \textcolor{keywordflow}{if} (retval)
9276         \textcolor{keywordflow}{return} retval;
9277 \textcolor{preprocessor}{#endif}
9278 
9279     \textcolor{keywordflow}{if} (wufc) \{
9280         \hyperlink{igb__main_8c_af7e4c5f535a1647ebb8b81ed82a38d96}{igb\_setup\_rctl}(adapter);
9281         \hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\_set\_rx\_mode}(netdev);
9282 
9283         \textcolor{comment}{/* turn on all-multi mode if wake on multicast is enabled */}
9284         \textcolor{keywordflow}{if} (wufc & \hyperlink{kmod_2igb_2e1000__defines_8h_a2387be6d39a5ac33bcc7bac649cd8095}{E1000\_WUFC\_MC}) \{
9285             rctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL});
9286             rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a077d9c2113b532266b23ff46fa7f916d}{E1000\_RCTL\_MPE};
9287             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL}, rctl);
9288         \}
9289 
9290         ctrl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL});
9291         \textcolor{comment}{/* phy power management enable */}
9292 \textcolor{preprocessor}{        #define E1000\_CTRL\_EN\_PHY\_PWR\_MGMT 0x00200000}
9293         ctrl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a98b62f98f4b6f2180459a9030dd22afd}{E1000\_CTRL\_ADVD3WUC};
9294         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL}, ctrl);
9295 
9296         \textcolor{comment}{/* Allow time for pending master requests to run */}
9297         \hyperlink{e1000__api_8c_a385b28dd87b91144a56207e4c83f7939}{e1000\_disable\_pcie\_master}(hw);
9298 
9299         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3774795f5bd608df3f717379ef6dc1b5}{E1000\_WUC}, \hyperlink{kmod_2igb_2e1000__defines_8h_a018aefe7a2e3ceb05ff8171d31a9b93a}{E1000\_WUC\_PME\_EN});
9300         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a6f8e4ba2de0f8a1b9a41223ca4f62d55}{E1000\_WUFC}, wufc);
9301     \} \textcolor{keywordflow}{else} \{
9302         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3774795f5bd608df3f717379ef6dc1b5}{E1000\_WUC}, 0);
9303         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a6f8e4ba2de0f8a1b9a41223ca4f62d55}{E1000\_WUFC}, 0);
9304     \}
9305 
9306     *enable\_wake = wufc || adapter->\hyperlink{structigb__adapter_ac0396f5a94edbdfc286d7e6fc27550b7}{en\_mng\_pt};
9307     \textcolor{keywordflow}{if} (!*enable\_wake)
9308         \hyperlink{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f}{igb\_power\_down\_link}(adapter);
9309     \textcolor{keywordflow}{else}
9310         \hyperlink{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41}{igb\_power\_up\_link}(adapter);
9311 
9312     \textcolor{comment}{/* Release control of h/w to f/w.  If f/w is AMT enabled, this}
9313 \textcolor{comment}{     * would have already happened in close and is redundant.}
9314 \textcolor{comment}{     */}
9315     \hyperlink{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{igb\_release\_hw\_control}(adapter);
9316 
9317     pci\_disable\_device(pdev);
9318 
9319     \textcolor{keywordflow}{return} 0;
9320 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8fa474f7e09a241d235da9d33d84c188_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{igb__main_8c_a8fa474f7e09a241d235da9d33d84c188_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!e1000\+\_\+read\+\_\+pci\+\_\+cfg@{e1000\+\_\+read\+\_\+pci\+\_\+cfg}}
\index{e1000\+\_\+read\+\_\+pci\+\_\+cfg@{e1000\+\_\+read\+\_\+pci\+\_\+cfg}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+pci\+\_\+cfg(struct e1000\+\_\+hw $\ast$hw, u32 reg, u16 $\ast$value)}{e1000_read_pci_cfg(struct e1000_hw *hw, u32 reg, u16 *value)}}]{\setlength{\rightskip}{0pt plus 5cm}void e1000\+\_\+read\+\_\+pci\+\_\+cfg (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32}}]{reg, }
\item[{{\bf u16} $\ast$}]{value}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_af05b63fded54f2adb80b1a0d3d796f25}{}\label{igb__main_8c_af05b63fded54f2adb80b1a0d3d796f25}


igb\+\_\+main.\+c 파일의 8917 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8918 \{
8919     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = hw->\hyperlink{structe1000__hw_a24db0d03dc4f62a477f24d2a675b7d14}{back};
8920 
8921     pci\_read\_config\_word(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, reg, value);
8922 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af05b63fded54f2adb80b1a0d3d796f25_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg@{e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg}}
\index{e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg@{e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg(struct e1000\+\_\+hw $\ast$hw, u32 reg, u16 $\ast$value)}{e1000_read_pcie_cap_reg(struct e1000_hw *hw, u32 reg, u16 *value)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+read\+\_\+pcie\+\_\+cap\+\_\+reg (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32}}]{reg, }
\item[{{\bf u16} $\ast$}]{value}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a8b729caf83504e15bd66120a27ba4916}{}\label{igb__main_8c_a8b729caf83504e15bd66120a27ba4916}


igb\+\_\+main.\+c 파일의 8931 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8932 \{
8933     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = hw->\hyperlink{structe1000__hw_a24db0d03dc4f62a477f24d2a675b7d14}{back};
8934     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} cap\_offset;
8935 
8936     cap\_offset = pci\_find\_capability(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, \hyperlink{kcompat_8h_a9b0efbb129a8600203135a64377beed0}{PCI\_CAP\_ID\_EXP});
8937     \textcolor{keywordflow}{if} (!cap\_offset)
8938         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_ad776e411c87eeae0b82895b3acf144ac}{E1000\_ERR\_CONFIG};
8939 
8940     pci\_read\_config\_word(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, cap\_offset + reg, value);
8941 
8942     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
8943 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8b729caf83504e15bd66120a27ba4916_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!e1000\+\_\+read\+\_\+reg@{e1000\+\_\+read\+\_\+reg}}
\index{e1000\+\_\+read\+\_\+reg@{e1000\+\_\+read\+\_\+reg}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+reg(struct e1000\+\_\+hw $\ast$hw, u32 reg)}{e1000_read_reg(struct e1000_hw *hw, u32 reg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u32} e1000\+\_\+read\+\_\+reg (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32}}]{reg}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a18a17d1066ac705775d0a27e1ebebabb}{}\label{igb__main_8c_a18a17d1066ac705775d0a27e1ebebabb}


igb\+\_\+main.\+c 파일의 469 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
470 \{
471     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *igb = container\_of(hw, \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}, hw);
472     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} \_\_iomem *hw\_addr = READ\_ONCE(hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr});
473     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} value = 0;
474 
475     \textcolor{keywordflow}{if} (\hyperlink{e1000__mac_8h_af587b12345a855c82bfe665ba391c340}{E1000\_REMOVED}(hw\_addr))
476         \textcolor{keywordflow}{return} ~value;
477 
478     value = readl(&hw\_addr[reg]);
479 
480     \textcolor{comment}{/* reads should not return all F's */}
481     \textcolor{keywordflow}{if} (!(~value) && (!reg || !(~readl(hw\_addr)))) \{
482         \textcolor{keyword}{struct }net\_device *netdev = igb->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
483 
484         hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
485         netif\_device\_detach(netdev);
486         netdev\_err(netdev, \textcolor{stringliteral}{"PCIe link lost, device now detached\(\backslash\)n"});
487     \}
488 
489     \textcolor{keywordflow}{return} value;
490 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!e1000\+\_\+write\+\_\+pci\+\_\+cfg@{e1000\+\_\+write\+\_\+pci\+\_\+cfg}}
\index{e1000\+\_\+write\+\_\+pci\+\_\+cfg@{e1000\+\_\+write\+\_\+pci\+\_\+cfg}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+write\+\_\+pci\+\_\+cfg(struct e1000\+\_\+hw $\ast$hw, u32 reg, u16 $\ast$value)}{e1000_write_pci_cfg(struct e1000_hw *hw, u32 reg, u16 *value)}}]{\setlength{\rightskip}{0pt plus 5cm}void e1000\+\_\+write\+\_\+pci\+\_\+cfg (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32}}]{reg, }
\item[{{\bf u16} $\ast$}]{value}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a76502146f6108fc5272618b87b4d1142}{}\label{igb__main_8c_a76502146f6108fc5272618b87b4d1142}


igb\+\_\+main.\+c 파일의 8924 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8925 \{
8926     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = hw->\hyperlink{structe1000__hw_a24db0d03dc4f62a477f24d2a675b7d14}{back};
8927 
8928     pci\_write\_config\_word(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, reg, *value);
8929 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a76502146f6108fc5272618b87b4d1142_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg@{e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg}}
\index{e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg@{e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg(struct e1000\+\_\+hw $\ast$hw, u32 reg, u16 $\ast$value)}{e1000_write_pcie_cap_reg(struct e1000_hw *hw, u32 reg, u16 *value)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+write\+\_\+pcie\+\_\+cap\+\_\+reg (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32}}]{reg, }
\item[{{\bf u16} $\ast$}]{value}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aa64b71180f655e67ed7921e0c6baf696}{}\label{igb__main_8c_aa64b71180f655e67ed7921e0c6baf696}


igb\+\_\+main.\+c 파일의 8945 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8946 \{
8947     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = hw->\hyperlink{structe1000__hw_a24db0d03dc4f62a477f24d2a675b7d14}{back};
8948     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} cap\_offset;
8949 
8950     cap\_offset = pci\_find\_capability(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, \hyperlink{kcompat_8h_a9b0efbb129a8600203135a64377beed0}{PCI\_CAP\_ID\_EXP});
8951     \textcolor{keywordflow}{if} (!cap\_offset)
8952         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_ad776e411c87eeae0b82895b3acf144ac}{E1000\_ERR\_CONFIG};
8953 
8954     pci\_write\_config\_word(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, cap\_offset + reg, *value);
8955 
8956     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
8957 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa64b71180f655e67ed7921e0c6baf696_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa64b71180f655e67ed7921e0c6baf696_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+add\+\_\+mac\+\_\+filter@{igb\+\_\+add\+\_\+mac\+\_\+filter}}
\index{igb\+\_\+add\+\_\+mac\+\_\+filter@{igb\+\_\+add\+\_\+mac\+\_\+filter}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+add\+\_\+mac\+\_\+filter(struct igb\+\_\+adapter $\ast$adapter, u8 $\ast$addr, u16 queue)}{igb_add_mac_filter(struct igb_adapter *adapter, u8 *addr, u16 queue)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+add\+\_\+mac\+\_\+filter (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u8} $\ast$}]{addr, }
\item[{{\bf u16}}]{queue}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a97704999b1165a6592ba664165c1ddc0}{}\label{igb__main_8c_a97704999b1165a6592ba664165c1ddc0}


igb\+\_\+main.\+c 파일의 9676 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9677 \{
9678     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9679     \textcolor{keywordtype}{int} i;
9680 
9681     \textcolor{keywordflow}{if} (is\_zero\_ether\_addr(addr))
9682         \textcolor{keywordflow}{return} 0;
9683 
9684     \textcolor{keywordflow}{for} (i = 0; i < hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count}; i++) \{
9685         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} & \hyperlink{kmod_2igb_2igb_8h_a1019e014af60ceeb2c0abab6efe42f16}{IGB\_MAC\_STATE\_IN\_USE})
9686             \textcolor{keywordflow}{continue};
9687         adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} = (\hyperlink{kmod_2igb_2igb_8h_ae8dc5681cde451c06038797b1a278125}{IGB\_MAC\_STATE\_MODIFIED} |
9688                            \hyperlink{kmod_2igb_2igb_8h_a1019e014af60ceeb2c0abab6efe42f16}{IGB\_MAC\_STATE\_IN\_USE});
9689         memcpy(adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_ad0cb1fd890c452cd6b53222cc82474a4}{addr}, addr, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
9690         adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a4895577ef36597501c4510a0ff6cea06}{queue} = queue;
9691         \hyperlink{igb__main_8c_a2cf16945bd079ae2294168c26359c461}{igb\_sync\_mac\_table}(adapter);
9692         \textcolor{keywordflow}{return} 0;
9693     \}
9694     \textcolor{keywordflow}{return} -ENOMEM;
9695 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a97704999b1165a6592ba664165c1ddc0_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+add\+\_\+ring@{igb\+\_\+add\+\_\+ring}}
\index{igb\+\_\+add\+\_\+ring@{igb\+\_\+add\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+add\+\_\+ring(struct igb\+\_\+ring $\ast$ring, struct igb\+\_\+ring\+\_\+container $\ast$head)}{igb_add_ring(struct igb_ring *ring, struct igb_ring_container *head)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+add\+\_\+ring (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{ring, }
\item[{struct {\bf igb\+\_\+ring\+\_\+container} $\ast$}]{head}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a98e6ea0b881b9dc97fb3b378fe0c4caf}{}\label{igb__main_8c_a98e6ea0b881b9dc97fb3b378fe0c4caf}


igb\+\_\+main.\+c 파일의 1139 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1141 \{
1142     head->\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring} = ring;
1143     head->\hyperlink{structigb__ring__container_a7906e924925f78f27079e8aed507dc09}{count}++;
1144 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a98e6ea0b881b9dc97fb3b378fe0c4caf_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+add\+\_\+rx\+\_\+frag@{igb\+\_\+add\+\_\+rx\+\_\+frag}}
\index{igb\+\_\+add\+\_\+rx\+\_\+frag@{igb\+\_\+add\+\_\+rx\+\_\+frag}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+add\+\_\+rx\+\_\+frag(struct igb\+\_\+ring $\ast$rx\+\_\+ring, struct igb\+\_\+rx\+\_\+buffer $\ast$rx\+\_\+buffer, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_add_rx_frag(struct igb_ring *rx_ring, struct igb_rx_buffer *rx_buffer, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+add\+\_\+rx\+\_\+frag (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{struct {\bf igb\+\_\+rx\+\_\+buffer} $\ast$}]{rx\+\_\+buffer, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a65acafe0bd791ce3f8dccdc54ef2b204}{}\label{igb__main_8c_a65acafe0bd791ce3f8dccdc54ef2b204}
igb\+\_\+add\+\_\+rx\+\_\+frag -\/ Add contents of Rx buffer to sk\+\_\+buff \+: rx descriptor ring to transact packets on \+: buffer containing page to add \+: descriptor containing length of buffer written by hardware \+: sk\+\_\+buff to place the data into

This function will add the data contained in rx\+\_\+buffer-\/$>$page to the skb. This is done either through a direct copy if the data in the buffer is less than the skb header size, otherwise it will just attach the page as a frag to the skb.

The function will then update the page offset if necessary and return true if the buffer can be reused by the adapter. 

igb\+\_\+main.\+c 파일의 7567 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7571 \{
7572     \textcolor{keyword}{struct }page *page = rx\_buffer->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page};
7573     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size} = le16\_to\_cpu(rx\_desc->\hyperlink{unione1000__adv__rx__desc_ae205a722536b37bd9f0eedd0e08869cf}{wb}.\hyperlink{unione1000__adv__rx__desc_a5684937edd4489f4f26f63d2d1976f5e}{upper}.length);
7574 \textcolor{preprocessor}{#if (PAGE\_SIZE < 8192)}
7575     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} truesize = \hyperlink{kmod_2igb_2igb_8h_a8b3398992fa7da637eacbdf1bb483dae}{IGB\_RX\_BUFSZ};
7576 \textcolor{preprocessor}{#else}
7577     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} truesize = ALIGN(size, L1\_CACHE\_BYTES);
7578 \textcolor{preprocessor}{#endif}
7579 
7580     \textcolor{keywordflow}{if} ((size <= \hyperlink{kmod_2igb_2igb_8h_a68b5667b412d2248471bc5058f257d6b}{IGB\_RX\_HDR\_LEN}) && !skb\_is\_nonlinear(skb)) \{
7581         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *va = page\_address(page) + rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset};
7582 
7583 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
7584         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__82575_8h_a0196dbcde7c729b17d309564a12e3a6b}{E1000\_RXDADV\_STAT\_TSIP})) \{
7585             igb\_ptp\_rx\_pktstamp(rx\_ring->\hyperlink{structigb__ring_aa100c4670cf68cffe85570de281b83ce}{q\_vector}, va, skb);
7586             va += \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN};
7587             size -= \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN};
7588         \}
7589 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
7590 
7591         memcpy(\_\_skb\_put(skb, size), va, ALIGN(size, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long})));
7592 
7593         \textcolor{comment}{/* we can reuse buffer as-is, just make sure it is local */}
7594         \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(page\_to\_nid(page) == numa\_node\_id()))
7595             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
7596 
7597         \textcolor{comment}{/* this page cannot be reused so discard it */}
7598         put\_page(page);
7599         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7600     \}
7601 
7602     skb\_add\_rx\_frag(skb, skb\_shinfo(skb)->nr\_frags, page,
7603         rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset}, size, truesize);
7604 
7605     \textcolor{keywordflow}{return} \hyperlink{igb__main_8c_af61846c229d26f89b8ba6e2dfee55b9c}{igb\_can\_reuse\_rx\_page}(rx\_buffer, page, truesize);
7606 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{igb__main_8c_a65acafe0bd791ce3f8dccdc54ef2b204_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a65acafe0bd791ce3f8dccdc54ef2b204_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+alloc\+\_\+mapped\+\_\+page@{igb\+\_\+alloc\+\_\+mapped\+\_\+page}}
\index{igb\+\_\+alloc\+\_\+mapped\+\_\+page@{igb\+\_\+alloc\+\_\+mapped\+\_\+page}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+alloc\+\_\+mapped\+\_\+page(struct igb\+\_\+ring $\ast$rx\+\_\+ring, struct igb\+\_\+rx\+\_\+buffer $\ast$bi)}{igb_alloc_mapped_page(struct igb_ring *rx_ring, struct igb_rx_buffer *bi)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+alloc\+\_\+mapped\+\_\+page (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{struct {\bf igb\+\_\+rx\+\_\+buffer} $\ast$}]{bi}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a0f99c1204064af0a09d4097427ceee9d}{}\label{igb__main_8c_a0f99c1204064af0a09d4097427ceee9d}


igb\+\_\+main.\+c 파일의 8739 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8741 \{
8742     \textcolor{keyword}{struct }page *page = bi->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page};
8743     dma\_addr\_t dma;
8744 
8745     \textcolor{comment}{/* since we are recycling buffers we should seldom need to alloc */}
8746     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(page))
8747         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
8748 
8749     \textcolor{comment}{/* alloc new page for storage */}
8750     page = \hyperlink{openavb__igb_8c_ac71bb91fa61be58ec0f89792b4dd4002}{alloc\_page}(GFP\_ATOMIC | \hyperlink{kcompat_8h_a3a2e2e2556cc4aa78a8cc980499a9b44}{\_\_GFP\_COLD});
8751     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!page)) \{
8752         rx\_ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a260763fb6a6e3c1a33dc38d7e46bd610}{alloc\_failed}++;
8753         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
8754     \}
8755 
8756     \textcolor{comment}{/* map page for use */}
8757     dma = dma\_map\_page(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, page, 0, PAGE\_SIZE, DMA\_FROM\_DEVICE);
8758 
8759     \textcolor{comment}{/*}
8760 \textcolor{comment}{     * if mapping failed free memory back to system since}
8761 \textcolor{comment}{     * there isn't much point in holding memory we can't use}
8762 \textcolor{comment}{     */}
8763     \textcolor{keywordflow}{if} (dma\_mapping\_error(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, dma)) \{
8764         \_\_free\_page(page);
8765 
8766         rx\_ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a260763fb6a6e3c1a33dc38d7e46bd610}{alloc\_failed}++;
8767         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
8768     \}
8769 
8770     bi->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma} = dma;
8771     bi->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page} = page;
8772     bi->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset} = 0;
8773 
8774     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
8775 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0f99c1204064af0a09d4097427ceee9d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0f99c1204064af0a09d4097427ceee9d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+alloc\+\_\+q\+\_\+vector@{igb\+\_\+alloc\+\_\+q\+\_\+vector}}
\index{igb\+\_\+alloc\+\_\+q\+\_\+vector@{igb\+\_\+alloc\+\_\+q\+\_\+vector}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+alloc\+\_\+q\+\_\+vector(struct igb\+\_\+adapter $\ast$adapter, unsigned int v\+\_\+count, unsigned int v\+\_\+idx, unsigned int txr\+\_\+count, unsigned int txr\+\_\+idx, unsigned int rxr\+\_\+count, unsigned int rxr\+\_\+idx)}{igb_alloc_q_vector(struct igb_adapter *adapter, unsigned int v_count, unsigned int v_idx, unsigned int txr_count, unsigned int txr_idx, unsigned int rxr_count, unsigned int rxr_idx)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+alloc\+\_\+q\+\_\+vector (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{unsigned int}]{v\+\_\+count, }
\item[{unsigned int}]{v\+\_\+idx, }
\item[{unsigned int}]{txr\+\_\+count, }
\item[{unsigned int}]{txr\+\_\+idx, }
\item[{unsigned int}]{rxr\+\_\+count, }
\item[{unsigned int}]{rxr\+\_\+idx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ade1f0cd7250f41770e834c61fce26562}{}\label{igb__main_8c_ade1f0cd7250f41770e834c61fce26562}
igb\+\_\+alloc\+\_\+q\+\_\+vector -\/ Allocate memory for a single interrupt vector \+: board private structure to initialize \+: q\+\_\+vectors allocated on adapter, used for ring interleaving \+: index of vector in adapter struct \+: total number of Tx rings to allocate \+: index of first Tx ring to allocate \+: total number of Rx rings to allocate \+: index of first Rx ring to allocate

We allocate one q\+\_\+vector. If allocation fails we return -\/\+E\+N\+O\+M\+EM. 

igb\+\_\+main.\+c 파일의 1158 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1162 \{
1163     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector;
1164     \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *ring;
1165     \textcolor{keywordtype}{int} ring\_count, \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
1166 
1167     \textcolor{comment}{/* igb only supports 1 Tx and/or 1 Rx queue per vector */}
1168     \textcolor{keywordflow}{if} (txr\_count > 1 || rxr\_count > 1)
1169         \textcolor{keywordflow}{return} -ENOMEM;
1170 
1171     ring\_count = txr\_count + rxr\_count;
1172     size = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector}) +
1173            (sizeof(struct \hyperlink{structigb__ring}{igb\_ring}) * ring\_count);
1174 
1175     \textcolor{comment}{/* allocate q\_vector and rings */}
1176     q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[v\_idx];
1177     \textcolor{keywordflow}{if} (!q\_vector)
1178         q\_vector = kzalloc(size, GFP\_KERNEL);
1179     \textcolor{keywordflow}{else}
1180         memset(q\_vector, 0, size);
1181     \textcolor{keywordflow}{if} (!q\_vector)
1182         \textcolor{keywordflow}{return} -ENOMEM;
1183 
1184 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
1185     \textcolor{comment}{/* initialize LRO */}
1186     \_\_skb\_queue\_head\_init(&q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist}.\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active});
1187 
1188 \textcolor{preprocessor}{#endif}
1189     \textcolor{comment}{/* initialize NAPI */}
1190     netif\_napi\_add(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, &q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi},
1191                \hyperlink{igb__main_8c_a0891a97bf81e305338343648ec425352}{igb\_poll}, 64);
1192 
1193     \textcolor{comment}{/* tie q\_vector and adapter together */}
1194     adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[v\_idx] = q\_vector;
1195     q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter} = \hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
1196 
1197     \textcolor{comment}{/* initialize work limits */}
1198     q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a2b47c2bd8dc8cbb82489685b42113cb2}{work\_limit} = adapter->\hyperlink{structigb__adapter_a38160b23e340e85491e8e4e90facc386}{tx\_work\_limit};
1199 
1200     \textcolor{comment}{/* initialize ITR configuration */}
1201     q\_vector->\hyperlink{structigb__q__vector_a565de9cb041839ac468e909f96eda26b}{itr\_register} = adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} + 
      \hyperlink{kmod_2igb_2e1000__regs_8h_ab2aa3cf720221c488b0e64548692ed0f}{E1000\_EITR}(0);
1202     q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} = \hyperlink{kmod_2igb_2igb_8h_abedc14a0b1e1a08292fc10667fc4eb55}{IGB\_START\_ITR};
1203 
1204     \textcolor{comment}{/* initialize pointer to rings */}
1205     ring = q\_vector->ring;
1206 
1207     \textcolor{comment}{/* intialize ITR */}
1208     \textcolor{keywordflow}{if} (rxr\_count) \{
1209         \textcolor{comment}{/* rx or rx/tx vector */}
1210         \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_aebbc3c2e6199ad30f4dacdf1446543a4}{rx\_itr\_setting} || adapter->\hyperlink{structigb__adapter_aebbc3c2e6199ad30f4dacdf1446543a4}{rx\_itr\_setting} > 3)
1211             q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} = adapter->\hyperlink{structigb__adapter_aebbc3c2e6199ad30f4dacdf1446543a4}{rx\_itr\_setting};
1212     \} \textcolor{keywordflow}{else} \{
1213         \textcolor{comment}{/* tx only vector */}
1214         \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_a656e1ed19f6d6550e41ef4f8c7522663}{tx\_itr\_setting} || adapter->\hyperlink{structigb__adapter_a656e1ed19f6d6550e41ef4f8c7522663}{tx\_itr\_setting} > 3)
1215             q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} = adapter->\hyperlink{structigb__adapter_a656e1ed19f6d6550e41ef4f8c7522663}{tx\_itr\_setting};
1216     \}
1217 
1218     \textcolor{keywordflow}{if} (txr\_count) \{
1219         \textcolor{comment}{/* assign generic ring traits */}
1220         ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev} = &adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->dev;
1221         ring->\hyperlink{structigb__ring_a5b3eca5b24cb88421c27369d02ebe884}{netdev} = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
1222 
1223         \textcolor{comment}{/* configure backlink on ring */}
1224         ring->\hyperlink{structigb__ring_aa100c4670cf68cffe85570de281b83ce}{q\_vector} = q\_vector;
1225 
1226         \textcolor{comment}{/* update q\_vector Tx values */}
1227         \hyperlink{igb__main_8c_a98e6ea0b881b9dc97fb3b378fe0c4caf}{igb\_add\_ring}(ring, &q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx});
1228 
1229         \textcolor{comment}{/* For 82575, context index must be unique per ring. */}
1230         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575})
1231             set\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a2595c9c8380b6e89f1fb8e0a18ae11d3}{IGB\_RING\_FLAG\_TX\_CTX\_IDX}, &ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags});
1232 
1233         \textcolor{comment}{/* apply Tx specific ring traits */}
1234         ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count} = adapter->\hyperlink{structigb__adapter_ade2d7a11c2efc594d1b4c64ed24813bb}{tx\_ring\_count};
1235         ring->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index} = txr\_idx;
1236 
1237         \textcolor{comment}{/* assign ring to adapter */}
1238         adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[txr\_idx] = ring;
1239 
1240         \textcolor{comment}{/* push pointer to next ring */}
1241         ring++;
1242     \}
1243 
1244     \textcolor{keywordflow}{if} (rxr\_count) \{
1245         \textcolor{comment}{/* assign generic ring traits */}
1246         ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev} = &adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->dev;
1247         ring->\hyperlink{structigb__ring_a5b3eca5b24cb88421c27369d02ebe884}{netdev} = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
1248 
1249         \textcolor{comment}{/* configure backlink on ring */}
1250         ring->\hyperlink{structigb__ring_aa100c4670cf68cffe85570de281b83ce}{q\_vector} = q\_vector;
1251 
1252         \textcolor{comment}{/* update q\_vector Rx values */}
1253         \hyperlink{igb__main_8c_a98e6ea0b881b9dc97fb3b378fe0c4caf}{igb\_add\_ring}(ring, &q\_vector->rx);
1254 
1255 \textcolor{preprocessor}{#if defined(HAVE\_RHEL6\_NET\_DEVICE\_OPS\_EXT) || !defined(HAVE\_NDO\_SET\_FEATURES)}
1256         \textcolor{comment}{/* enable rx checksum */}
1257         set\_bit(IGB\_RING\_FLAG\_RX\_CSUM, &ring->\hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags});
1258 
1259 \textcolor{preprocessor}{#endif}
1260         \textcolor{comment}{/* set flag indicating ring supports SCTP checksum offload */}
1261         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
1262             set\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a8242d888c3e63ef8b5b1bc16435bc46b}{IGB\_RING\_FLAG\_RX\_SCTP\_CSUM}, &ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags});
1263 
1264         \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) ||
1265             (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}))
1266             set\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a62c5f10c8899e5cddfdb1629ede906ca}{IGB\_RING\_FLAG\_RX\_LB\_VLAN\_BSWAP}, &ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags});
1267 
1268         \textcolor{comment}{/* apply Rx specific ring traits */}
1269         ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count} = adapter->\hyperlink{structigb__adapter_a8cbee0f507afaaabb0f916510c26be42}{rx\_ring\_count};
1270         ring->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index} = rxr\_idx;
1271 
1272         \textcolor{comment}{/* assign ring to adapter */}
1273         adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[rxr\_idx] = ring;
1274     \}
1275 
1276     \textcolor{keywordflow}{return} 0;
1277 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ade1f0cd7250f41770e834c61fce26562_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ade1f0cd7250f41770e834c61fce26562_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+alloc\+\_\+q\+\_\+vectors@{igb\+\_\+alloc\+\_\+q\+\_\+vectors}}
\index{igb\+\_\+alloc\+\_\+q\+\_\+vectors@{igb\+\_\+alloc\+\_\+q\+\_\+vectors}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+alloc\+\_\+q\+\_\+vectors(struct igb\+\_\+adapter $\ast$adapter)}{igb_alloc_q_vectors(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+alloc\+\_\+q\+\_\+vectors (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4f288e321d850d19c8ce6dd42320a74a}{}\label{igb__main_8c_a4f288e321d850d19c8ce6dd42320a74a}
igb\+\_\+alloc\+\_\+q\+\_\+vectors -\/ Allocate memory for interrupt vectors \+: board private structure to initialize

We allocate one q\+\_\+vector per queue interrupt. If allocation fails we return -\/\+E\+N\+O\+M\+EM. 

igb\+\_\+main.\+c 파일의 1286 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1287 \{
1288     \textcolor{keywordtype}{int} q\_vectors = adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors};
1289     \textcolor{keywordtype}{int} rxr\_remaining = adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues};
1290     \textcolor{keywordtype}{int} txr\_remaining = adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues};
1291     \textcolor{keywordtype}{int} rxr\_idx = 0, txr\_idx = 0, v\_idx = 0;
1292     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
1293 
1294     \textcolor{keywordflow}{if} (q\_vectors >= (rxr\_remaining + txr\_remaining)) \{
1295         \textcolor{keywordflow}{for} (; rxr\_remaining; v\_idx++) \{
1296             err = \hyperlink{igb__main_8c_ade1f0cd7250f41770e834c61fce26562}{igb\_alloc\_q\_vector}(adapter, q\_vectors, v\_idx,
1297                          0, 0, 1, rxr\_idx);
1298 
1299             \textcolor{keywordflow}{if} (err)
1300                 \textcolor{keywordflow}{goto} err\_out;
1301 
1302             \textcolor{comment}{/* update counts and index */}
1303             rxr\_remaining--;
1304             rxr\_idx++;
1305         \}
1306     \}
1307 
1308     \textcolor{keywordflow}{for} (; v\_idx < q\_vectors; v\_idx++) \{
1309         \textcolor{keywordtype}{int} rqpv = DIV\_ROUND\_UP(rxr\_remaining, q\_vectors - v\_idx);
1310         \textcolor{keywordtype}{int} tqpv = DIV\_ROUND\_UP(txr\_remaining, q\_vectors - v\_idx);
1311 
1312         err = \hyperlink{igb__main_8c_ade1f0cd7250f41770e834c61fce26562}{igb\_alloc\_q\_vector}(adapter, q\_vectors, v\_idx,
1313                      tqpv, txr\_idx, rqpv, rxr\_idx);
1314 
1315         \textcolor{keywordflow}{if} (err)
1316             \textcolor{keywordflow}{goto} err\_out;
1317 
1318         \textcolor{comment}{/* update counts and index */}
1319         rxr\_remaining -= rqpv;
1320         txr\_remaining -= tqpv;
1321         rxr\_idx++;
1322         txr\_idx++;
1323     \}
1324 
1325     \textcolor{keywordflow}{return} 0;
1326 
1327 err\_out:
1328     adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} = 0;
1329     adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues} = 0;
1330     adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors} = 0;
1331 
1332     \textcolor{keywordflow}{while} (v\_idx--)
1333         \hyperlink{igb__main_8c_ab024dc08d71e615a0df06efebba36d2b}{igb\_free\_q\_vector}(adapter, v\_idx);
1334 
1335     \textcolor{keywordflow}{return} -ENOMEM;
1336 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4f288e321d850d19c8ce6dd42320a74a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4f288e321d850d19c8ce6dd42320a74a_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+alloc\+\_\+rx\+\_\+buffers@{igb\+\_\+alloc\+\_\+rx\+\_\+buffers}}
\index{igb\+\_\+alloc\+\_\+rx\+\_\+buffers@{igb\+\_\+alloc\+\_\+rx\+\_\+buffers}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+alloc\+\_\+rx\+\_\+buffers(struct igb\+\_\+ring $\ast$rx\+\_\+ring, u16 cleaned\+\_\+count)}{igb_alloc_rx_buffers(struct igb_ring *rx_ring, u16 cleaned_count)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+alloc\+\_\+rx\+\_\+buffers (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{{\bf u16}}]{cleaned\+\_\+count}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a7839664fe06f0629433799ef7e66de8d}{}\label{igb__main_8c_a7839664fe06f0629433799ef7e66de8d}
igb\+\_\+alloc\+\_\+rx\+\_\+buffers -\/ Replace used receive buffers; packet split \+: address of board private structure 

igb\+\_\+main.\+c 파일의 8782 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8783 \{
8784     \textcolor{keyword}{union }\hyperlink{unione1000__adv__rx__desc}{e1000\_adv\_rx\_desc} *rx\_desc;
8785     \textcolor{keyword}{struct }\hyperlink{structigb__rx__buffer}{igb\_rx\_buffer} *bi;
8786     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i = rx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use};
8787 
8788     \textcolor{comment}{/* nothing to do */}
8789     \textcolor{keywordflow}{if} (!cleaned\_count)
8790         \textcolor{keywordflow}{return};
8791 
8792     rx\_desc = \hyperlink{kmod_2igb_2igb_8h_aca4af1ac26473b8702e008159df7f659}{IGB\_RX\_DESC}(rx\_ring, i);
8793     bi = &rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info}[i];
8794     i -= rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
8795 
8796     \textcolor{keywordflow}{do} \{
8797 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
8798         \textcolor{keywordflow}{if} (!igb\_alloc\_mapped\_skb(rx\_ring, bi))
8799 \textcolor{preprocessor}{#else}
8800         \textcolor{keywordflow}{if} (!\hyperlink{igb__main_8c_a0f99c1204064af0a09d4097427ceee9d}{igb\_alloc\_mapped\_page}(rx\_ring, bi))
8801 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT */}\textcolor{preprocessor}{}
8802             \textcolor{keywordflow}{break};
8803 
8804         \textcolor{comment}{/*}
8805 \textcolor{comment}{         * Refresh the desc even if buffer\_addrs didn't change}
8806 \textcolor{comment}{         * because each write-back erases this info.}
8807 \textcolor{comment}{         */}
8808 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
8809         rx\_desc->\hyperlink{unione1000__adv__rx__desc_a749e71ccb083af11bad0fec38094928e}{read}.\hyperlink{unione1000__adv__rx__desc_ac260c56b31b07a2c96981d6612f1a4c2}{pkt\_addr} = cpu\_to\_le64(bi->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma});
8810 \textcolor{preprocessor}{#else}
8811         rx\_desc->\hyperlink{unione1000__adv__rx__desc_a749e71ccb083af11bad0fec38094928e}{read}.\hyperlink{unione1000__adv__rx__desc_ac260c56b31b07a2c96981d6612f1a4c2}{pkt\_addr} = cpu\_to\_le64(bi->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma} + bi->
      \hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset});
8812 \textcolor{preprocessor}{#endif}
8813 
8814         rx\_desc++;
8815         bi++;
8816         i++;
8817         \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!i)) \{
8818             rx\_desc = \hyperlink{kmod_2igb_2igb_8h_aca4af1ac26473b8702e008159df7f659}{IGB\_RX\_DESC}(rx\_ring, 0);
8819             bi = rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info};
8820             i -= rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
8821         \}
8822 
8823         \textcolor{comment}{/* clear the hdr\_addr for the next\_to\_use descriptor */}
8824         rx\_desc->\hyperlink{unione1000__adv__rx__desc_a749e71ccb083af11bad0fec38094928e}{read}.\hyperlink{unione1000__adv__rx__desc_a773bb72f266b15112bc68a5718a5957d}{hdr\_addr} = 0;
8825 
8826         cleaned\_count--;
8827     \} \textcolor{keywordflow}{while} (cleaned\_count);
8828 
8829     i += rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
8830 
8831     \textcolor{keywordflow}{if} (rx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} != i) \{
8832         \textcolor{comment}{/* record the next descriptor to use */}
8833         rx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = i;
8834 
8835 \textcolor{preprocessor}{#ifndef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
8836         \textcolor{comment}{/* update next to alloc since we have filled the ring */}
8837         rx\_ring->\hyperlink{structigb__ring_a0ed19f611cda670eaf9cd246fb6d6c07}{next\_to\_alloc} = i;
8838 
8839 \textcolor{preprocessor}{#endif}
8840         \textcolor{comment}{/*}
8841 \textcolor{comment}{         * Force memory writes to complete before letting h/w}
8842 \textcolor{comment}{         * know there are new descriptors to fetch.  (Only}
8843 \textcolor{comment}{         * applicable for weak-ordered memory model archs,}
8844 \textcolor{comment}{         * such as IA-64).}
8845 \textcolor{comment}{         */}
8846         \hyperlink{lib_2igb_2e1000__osdep_8h_a6cec6ad808589891b39e150d6a18152c}{wmb}();
8847         writel(i, rx\_ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail});
8848     \}
8849 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7839664fe06f0629433799ef7e66de8d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7839664fe06f0629433799ef7e66de8d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+assign\+\_\+vector@{igb\+\_\+assign\+\_\+vector}}
\index{igb\+\_\+assign\+\_\+vector@{igb\+\_\+assign\+\_\+vector}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+assign\+\_\+vector(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector, int msix\+\_\+vector)}{igb_assign_vector(struct igb_q_vector *q_vector, int msix_vector)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+assign\+\_\+vector (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector, }
\item[{int}]{msix\+\_\+vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a10319a282e14f211bc084aa2a46a4115}{}\label{igb__main_8c_a10319a282e14f211bc084aa2a46a4115}


igb\+\_\+main.\+c 파일의 555 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
556 \{
557     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
558     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
559     \textcolor{keywordtype}{int} rx\_queue = \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE};
560     \textcolor{keywordtype}{int} tx\_queue = \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE};
561     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} msixbm = 0;
562 
563     \textcolor{keywordflow}{if} (q\_vector->rx.ring)
564         rx\_queue = q\_vector->rx.ring->reg\_idx;
565     \textcolor{keywordflow}{if} (q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring})
566         tx\_queue = q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring}->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx};
567 
568     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
569     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}:
570         \textcolor{comment}{/* The 82575 assigns vectors using a bitmask, which matches the}
571 \textcolor{comment}{         * bitmask for the EICR/EIMS/EIMC registers.  To assign one}
572 \textcolor{comment}{         * or more queues to a vector, we write the appropriate bits}
573 \textcolor{comment}{         * into the MSIXBM register for that vector.}
574 \textcolor{comment}{         */}
575         \textcolor{keywordflow}{if} (rx\_queue > \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE})
576             msixbm = \hyperlink{kmod_2igb_2e1000__defines_8h_ae8ab45a08f1c120a0786cb1acabbd5af}{E1000\_EICR\_RX\_QUEUE0} << rx\_queue;
577         \textcolor{keywordflow}{if} (tx\_queue > \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE})
578             msixbm |= \hyperlink{kmod_2igb_2e1000__defines_8h_aa1f6d62e9ff9d12e8b2e392a78a097af}{E1000\_EICR\_TX\_QUEUE0} << tx\_queue;
579         \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries} && msix\_vector == 0)
580             msixbm |= \hyperlink{kmod_2igb_2e1000__defines_8h_a4a23604162683d0cda5f6db51065b81a}{E1000\_EIMS\_OTHER};
581         \hyperlink{kmod_2igb_2e1000__osdep_8h_a573888f2e2956f04a7c2429d75c74c2f}{E1000\_WRITE\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ac0351b720b7f2eef5dff0a09f4c1e7f9}{E1000\_MSIXBM}(0), msix\_vector, msixbm);
582         q\_vector->\hyperlink{structigb__q__vector_a49e09972bdb0c5771225bae8a7d21c53}{eims\_value} = msixbm;
583         \textcolor{keywordflow}{break};
584     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
585         \textcolor{comment}{/*}
586 \textcolor{comment}{         * 82576 uses a table that essentially consists of 2 columns}
587 \textcolor{comment}{         * with 8 rows.  The ordering is column-major so we use the}
588 \textcolor{comment}{         * lower 3 bits as the row index, and the 4th bit as the}
589 \textcolor{comment}{         * column offset.}
590 \textcolor{comment}{         */}
591         \textcolor{keywordflow}{if} (rx\_queue > \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE})
592             \hyperlink{igb__main_8c_a42400e89c163a760b1a69841301a92af}{igb\_write\_ivar}(hw, msix\_vector,
593                        rx\_queue & 0x7,
594                        (rx\_queue & 0x8) << 1);
595         \textcolor{keywordflow}{if} (tx\_queue > \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE})
596             \hyperlink{igb__main_8c_a42400e89c163a760b1a69841301a92af}{igb\_write\_ivar}(hw, msix\_vector,
597                        tx\_queue & 0x7,
598                        ((tx\_queue & 0x8) << 1) + 8);
599         q\_vector->\hyperlink{structigb__q__vector_a49e09972bdb0c5771225bae8a7d21c53}{eims\_value} = 1 << msix\_vector;
600         \textcolor{keywordflow}{break};
601     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}:
602     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
603     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
604     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}:
605     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}:
606         \textcolor{comment}{/*}
607 \textcolor{comment}{         * On 82580 and newer adapters the scheme is similar to 82576}
608 \textcolor{comment}{         * however instead of ordering column-major we have things}
609 \textcolor{comment}{         * ordered row-major.  So we traverse the table by using}
610 \textcolor{comment}{         * bit 0 as the column offset, and the remaining bits as the}
611 \textcolor{comment}{         * row index.}
612 \textcolor{comment}{         */}
613         \textcolor{keywordflow}{if} (rx\_queue > \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE})
614             \hyperlink{igb__main_8c_a42400e89c163a760b1a69841301a92af}{igb\_write\_ivar}(hw, msix\_vector,
615                        rx\_queue >> 1,
616                        (rx\_queue & 0x1) << 4);
617         \textcolor{keywordflow}{if} (tx\_queue > \hyperlink{igb__main_8c_a3e44ebce43730c1eb187bab9ff453a99}{IGB\_N0\_QUEUE})
618             \hyperlink{igb__main_8c_a42400e89c163a760b1a69841301a92af}{igb\_write\_ivar}(hw, msix\_vector,
619                        tx\_queue >> 1,
620                        ((tx\_queue & 0x1) << 4) + 8);
621         q\_vector->\hyperlink{structigb__q__vector_a49e09972bdb0c5771225bae8a7d21c53}{eims\_value} = 1 << msix\_vector;
622         \textcolor{keywordflow}{break};
623     \textcolor{keywordflow}{default}:
624         BUG();
625         \textcolor{keywordflow}{break};
626     \}
627 
628     \textcolor{comment}{/* add q\_vector eims value to global eims\_enable\_mask */}
629     adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask} |= q\_vector->\hyperlink{structigb__q__vector_a49e09972bdb0c5771225bae8a7d21c53}{eims\_value};
630 
631     \textcolor{comment}{/* configure q\_vector to set itr on first interrupt */}
632     q\_vector->\hyperlink{structigb__q__vector_a8b09ab6906db061b3b98fe51c121631c}{set\_itr} = 1;
633 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{igb__main_8c_a10319a282e14f211bc084aa2a46a4115_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a10319a282e14f211bc084aa2a46a4115_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+available\+\_\+rars@{igb\+\_\+available\+\_\+rars}}
\index{igb\+\_\+available\+\_\+rars@{igb\+\_\+available\+\_\+rars}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+available\+\_\+rars(struct igb\+\_\+adapter $\ast$adapter)}{igb_available_rars(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+available\+\_\+rars (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a5ea0d7eb9aa13571df752151a4305bfe}{}\label{igb__main_8c_a5ea0d7eb9aa13571df752151a4305bfe}


igb\+\_\+main.\+c 파일의 4466 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4467 \{
4468     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4469     \textcolor{keywordtype}{int} i, count = 0;
4470 
4471     \textcolor{keywordflow}{for} (i = 0; i < hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count}; i++) \{
4472         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} == 0)
4473             count++;
4474     \}
4475     \textcolor{keywordflow}{return} count;
4476 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5ea0d7eb9aa13571df752151a4305bfe_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+bind@{igb\+\_\+bind}}
\index{igb\+\_\+bind@{igb\+\_\+bind}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+bind(struct file $\ast$file, void \+\_\+\+\_\+user $\ast$argp)}{igb_bind(struct file *file, void __user *argp)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+bind (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{void \+\_\+\+\_\+user $\ast$}]{argp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a5e50faf6418c06493efc9b252294c81c}{}\label{igb__main_8c_a5e50faf6418c06493efc9b252294c81c}


igb\+\_\+main.\+c 파일의 10264 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10265 \{
10266     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10267     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
10268     \textcolor{keyword}{struct }\hyperlink{structigb__bind__cmd}{igb\_bind\_cmd} req;
10269     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
10270 
10271     \textcolor{keywordflow}{if} (copy\_from\_user(&req, \hyperlink{aaf-listener_8c_ab70c96531b1b652d70c221cfaf3207f3}{argp}, \textcolor{keyword}{sizeof}(req)))
10272         \textcolor{keywordflow}{return} -EFAULT;
10273     
10274     \textcolor{comment}{/*}
10275 \textcolor{comment}{     * Set the last character of req.iface to '/0' to}
10276 \textcolor{comment}{     * guarantee null termination of req.iface string}
10277 \textcolor{comment}{     * param in printk call.}
10278 \textcolor{comment}{     */}
10279 
10280     req.iface[\hyperlink{linux__hal__i210_8cpp_a3d5e72fee0b5b7de1b68e1152bc7a87d}{IGB\_BIND\_NAMESZ}-1] = 0;
10281     printk(\textcolor{stringliteral}{"bind to iface %s\(\backslash\)n"}, req.iface);
10282 
10283     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10284         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10285         \textcolor{keywordflow}{return} -ENOENT;
10286     \}
10287 
10288     adapter = \hyperlink{igb__main_8c_a4e3e2b77b79ef21caa61082b19a0c3b6}{igb\_lookup}(req.iface);
10289     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10290         printk(\textcolor{stringliteral}{"lookup failed to iface %s\(\backslash\)n"}, req.iface);
10291         \textcolor{keywordflow}{return} -ENOENT;
10292     \}
10293 
10294     igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter} = adapter;
10295 
10296     req.mmap\_size = 0;
10297     req.mmap\_size = pci\_resource\_len(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, 0);
10298 
10299     \textcolor{keywordflow}{if} (copy\_to\_user(\hyperlink{aaf-listener_8c_ab70c96531b1b652d70c221cfaf3207f3}{argp}, &req, \textcolor{keyword}{sizeof}(req))) \{
10300         printk(\textcolor{stringliteral}{"copyout to user failed\(\backslash\)n"});
10301         err = -EFAULT;
10302         \textcolor{keywordflow}{goto} failed;
10303     \}
10304 
10305     \textcolor{keywordflow}{return} 0;
10306 
10307 failed:
10308     igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10309     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10310 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5e50faf6418c06493efc9b252294c81c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{igb__main_8c_a5e50faf6418c06493efc9b252294c81c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+cache\+\_\+ring\+\_\+register@{igb\+\_\+cache\+\_\+ring\+\_\+register}}
\index{igb\+\_\+cache\+\_\+ring\+\_\+register@{igb\+\_\+cache\+\_\+ring\+\_\+register}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+cache\+\_\+ring\+\_\+register(struct igb\+\_\+adapter $\ast$adapter)}{igb_cache_ring_register(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+cache\+\_\+ring\+\_\+register (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a42128153ab2f46eb05568e7a522dbc7e}{}\label{igb__main_8c_a42128153ab2f46eb05568e7a522dbc7e}
igb\+\_\+cache\+\_\+ring\+\_\+register -\/ Descriptor ring to register mapping \+: board private structure to initialize

Once we know the feature-\/set enabled for the device, we\textquotesingle{}ll cache the register offset the descriptor ring is assigned to. 

igb\+\_\+main.\+c 파일의 458 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
459 \{
460     \textcolor{keywordtype}{int} i = 0, j = 0;
461     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rbase\_offset = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
462 
463     \textcolor{keywordflow}{for} (; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++)
464         adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i]->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx} = rbase\_offset + i;
465     for (; j < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; j++)
466         adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[j]->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx} = rbase\_offset + j;
467 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a42128153ab2f46eb05568e7a522dbc7e_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+can\+\_\+lro@{igb\+\_\+can\+\_\+lro}}
\index{igb\+\_\+can\+\_\+lro@{igb\+\_\+can\+\_\+lro}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+can\+\_\+lro(struct igb\+\_\+ring $\ast$rx\+\_\+ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_can_lro(struct igb_ring *rx_ring, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+can\+\_\+lro (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_a266496914a2a07ab37f462909ebdc551}{}\label{igb__main_8c_a266496914a2a07ab37f462909ebdc551}
igb\+\_\+can\+\_\+lro -\/ returns true if packet is T\+C\+P/\+I\+P\+V4 and L\+RO is enabled \+: board private structure \+: pointer to the rx descriptor \+: pointer to the skb to be merged 

igb\+\_\+main.\+c 파일의 7800 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7803 \{
7804     \textcolor{keyword}{struct }iphdr *iph = (\textcolor{keyword}{struct }iphdr *)skb->data;
7805     \hyperlink{kmod_2igb_2e1000__hw_8h_a42b303dec823d42e18116e091891a235}{\_\_le16} pkt\_info = rx\_desc->\hyperlink{unione1000__adv__rx__desc_ae205a722536b37bd9f0eedd0e08869cf}{wb}.\hyperlink{unione1000__adv__rx__desc_aa2f13e7f6127e8f784f2ac021f73a6d1}{lower}.lo\_dword.hs\_rss.pkt\_info;
7806 
7807     \textcolor{comment}{/* verify hardware indicates this is IPv4/TCP */}
7808     if ((!(pkt\_info & cpu\_to\_le16(\hyperlink{kmod_2igb_2e1000__82575_8h_a0d7ad5a7cac051b784a854334f46fc8c}{E1000\_RXDADV\_PKTTYPE\_TCP})) ||
7809         !(pkt\_info & cpu\_to\_le16(\hyperlink{kmod_2igb_2e1000__82575_8h_afc56019e53a31fc48f083a6a9b0bf671}{E1000\_RXDADV\_PKTTYPE\_IPV4}))))
7810         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7811 
7812     \textcolor{comment}{/* .. and LRO is enabled */}
7813     \textcolor{keywordflow}{if} (!(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(rx\_ring)->\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & \hyperlink{kcompat_8h_ad8819a3229664f156f3f1fd1d0aff2ba}{NETIF\_F\_LRO}))
7814         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7815 
7816     \textcolor{comment}{/* .. and we are not in promiscuous mode */}
7817     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(rx\_ring)->flags & IFF\_PROMISC)
7818         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7819 
7820     \textcolor{comment}{/* .. and the header is large enough for us to read IP/TCP fields */}
7821     \textcolor{keywordflow}{if} (!pskb\_may\_pull(skb, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__lrohdr}{igb\_lrohdr})))
7822         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7823 
7824     \textcolor{comment}{/* .. and there are no VLANs on packet */}
7825     \textcolor{keywordflow}{if} (skb->protocol != htons(ETH\_P\_IP))
7826         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7827 
7828     \textcolor{comment}{/* .. and we are version 4 with no options */}
7829     \textcolor{keywordflow}{if} (*(\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *)iph != 0x45)
7830         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7831 
7832     \textcolor{comment}{/* .. and the packet is not fragmented */}
7833     \textcolor{keywordflow}{if} (iph->frag\_off & htons(IP\_MF | \hyperlink{kcompat_8h_aa4f6fa2a30aff068831c7d2f4b5f2516}{IP\_OFFSET}))
7834         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7835 
7836     \textcolor{comment}{/* .. and that next header is TCP */}
7837     \textcolor{keywordflow}{if} (iph->protocol != IPPROTO\_TCP)
7838         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7839 
7840     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
7841 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a266496914a2a07ab37f462909ebdc551_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page@{igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page}}
\index{igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page@{igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page(struct igb\+\_\+rx\+\_\+buffer $\ast$rx\+\_\+buffer, struct page $\ast$page, unsigned int truesize)}{igb_can_reuse_rx_page(struct igb_rx_buffer *rx_buffer, struct page *page, unsigned int truesize)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+can\+\_\+reuse\+\_\+rx\+\_\+page (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+rx\+\_\+buffer} $\ast$}]{rx\+\_\+buffer, }
\item[{struct page $\ast$}]{page, }
\item[{unsigned int}]{truesize}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_af61846c229d26f89b8ba6e2dfee55b9c}{}\label{igb__main_8c_af61846c229d26f89b8ba6e2dfee55b9c}


igb\+\_\+main.\+c 파일의 7522 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7525 \{
7526     \textcolor{comment}{/* avoid re-using remote pages */}
7527     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(page\_to\_nid(page) != numa\_node\_id()))
7528         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7529 
7530 \textcolor{preprocessor}{#if (PAGE\_SIZE < 8192)}
7531     \textcolor{comment}{/* if we are only owner of page we can reuse it */}
7532     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(page\_count(page) != 1))
7533         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7534 
7535     \textcolor{comment}{/* flip page offset to other buffer */}
7536     rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset} ^= \hyperlink{kmod_2igb_2igb_8h_a8b3398992fa7da637eacbdf1bb483dae}{IGB\_RX\_BUFSZ};
7537 
7538 \textcolor{preprocessor}{#else}
7539     \textcolor{comment}{/* move offset up to the next cache line */}
7540     rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset} += truesize;
7541 
7542     \textcolor{keywordflow}{if} (rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset} > (PAGE\_SIZE - \hyperlink{kmod_2igb_2igb_8h_a8b3398992fa7da637eacbdf1bb483dae}{IGB\_RX\_BUFSZ}))
7543         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
7544 \textcolor{preprocessor}{#endif}
7545 
7546     \textcolor{comment}{/* bump ref count on page before it is given to the stack */}
7547     get\_page(page);
7548 
7549     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
7550 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af61846c229d26f89b8ba6e2dfee55b9c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+change\+\_\+mtu@{igb\+\_\+change\+\_\+mtu}}
\index{igb\+\_\+change\+\_\+mtu@{igb\+\_\+change\+\_\+mtu}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+change\+\_\+mtu(struct net\+\_\+device $\ast$, int)}{igb_change_mtu(struct net_device *, int)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+change\+\_\+mtu (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{int}]{new\+\_\+mtu}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a679ea88c0e6e97ca27b4c1b4cbb182e4}{}\label{igb__main_8c_a679ea88c0e6e97ca27b4c1b4cbb182e4}
igb\+\_\+change\+\_\+mtu -\/ Change the Maximum Transfer Unit \+: network interface device structure \+: new value for maximum frame size

Returns 0 on success, negative on failure 

igb\+\_\+main.\+c 파일의 5857 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5858 \{
5859     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
5860     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
5861     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
5862     \textcolor{keywordtype}{int} max\_frame = new\_mtu + ETH\_HLEN + ETH\_FCS\_LEN + \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN};
5863 
5864     \textcolor{keywordflow}{if} ((new\_mtu < 68) || (max\_frame > \hyperlink{kmod_2igb_2e1000__defines_8h_aa68b6d6d057e4a60c3b18c3e8bd70aaf}{MAX\_JUMBO\_FRAME\_SIZE})) \{
5865         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Invalid MTU setting\(\backslash\)n"});
5866         \textcolor{keywordflow}{return} -EINVAL;
5867     \}
5868 
5869 \textcolor{preprocessor}{#define MAX\_STD\_JUMBO\_FRAME\_SIZE 9238}
5870     \textcolor{keywordflow}{if} (max\_frame > \hyperlink{igb__main_8c_afcc7615119633e262a7324bdbcf7b1e6}{MAX\_STD\_JUMBO\_FRAME\_SIZE}) \{
5871         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"MTU > 9216 not supported.\(\backslash\)n"});
5872         \textcolor{keywordflow}{return} -EINVAL;
5873     \}
5874 
5875     \textcolor{comment}{/* adjust max frame to be at least the size of a standard frame */}
5876     \textcolor{keywordflow}{if} (max\_frame < (ETH\_FRAME\_LEN + ETH\_FCS\_LEN))
5877         max\_frame = ETH\_FRAME\_LEN + ETH\_FCS\_LEN;
5878 
5879     \textcolor{keywordflow}{while} (test\_and\_set\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa11bf36bdba8153146a1fa18ce807324c}{\_\_IGB\_RESETTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
5880         usleep\_range(1000, 2000);
5881 
5882     \textcolor{comment}{/* igb\_down has a dependency on max\_frame\_size */}
5883     adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size} = max\_frame;
5884 
5885     \textcolor{keywordflow}{if} (netif\_running(netdev))
5886         \hyperlink{igb__main_8c_aacbb63f4709878964f7afa56734e9333}{igb\_down}(adapter);
5887 
5888     dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"changing MTU from %d to %d\(\backslash\)n"},
5889          netdev->mtu, new\_mtu);
5890     netdev->mtu = new\_mtu;
5891     hw->\hyperlink{structe1000__hw_a498aa966bd77b214f1d67900bf6b8236}{dev\_spec}.\hyperlink{structe1000__hw_a65abf35e3ce1758616d7990fdb4d356e}{\_82575}.\hyperlink{structe1000__dev__spec__82575_a6bf07cd0dd9e1459d63d3e38c4159bee}{mtu} = new\_mtu;
5892 
5893     \textcolor{keywordflow}{if} (netif\_running(netdev))
5894         \hyperlink{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079}{igb\_up}(adapter);
5895     \textcolor{keywordflow}{else}
5896         \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\_reset}(adapter);
5897 
5898     clear\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa11bf36bdba8153146a1fa18ce807324c}{\_\_IGB\_RESETTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
5899 
5900     \textcolor{keywordflow}{return} 0;
5901 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_a679ea88c0e6e97ca27b4c1b4cbb182e4_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a679ea88c0e6e97ca27b4c1b4cbb182e4_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+check\+\_\+swap\+\_\+media@{igb\+\_\+check\+\_\+swap\+\_\+media}}
\index{igb\+\_\+check\+\_\+swap\+\_\+media@{igb\+\_\+check\+\_\+swap\+\_\+media}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+check\+\_\+swap\+\_\+media(struct igb\+\_\+adapter $\ast$adapter)}{igb_check_swap_media(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+check\+\_\+swap\+\_\+media (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90}{}\label{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90}


igb\+\_\+main.\+c 파일의 1643 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1644 \{
1645     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1646     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl\_ext, connsw;
1647     \textcolor{keywordtype}{bool} swap\_now = \textcolor{keyword}{false};
1648     \textcolor{keywordtype}{bool} link;
1649 
1650     ctrl\_ext = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
1651     connsw = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa1392665f89135ad7c6e6de93779c033}{E1000\_CONNSW});
1652     link = \hyperlink{igb__main_8c_ab64cb6706f8303113a7af937ca35934f}{igb\_has\_link}(adapter);
1653 
1654     \textcolor{comment}{/* need to live swap if current media is copper and we have fiber/serdes}
1655 \textcolor{comment}{     * to go to.}
1656 \textcolor{comment}{     */}
1657 
1658     \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) &&
1659         (!(connsw & \hyperlink{kmod_2igb_2e1000__defines_8h_acad7ea16b39f6885888961684f9b6191}{E1000\_CONNSW\_AUTOSENSE\_EN}))) \{
1660         swap\_now = \textcolor{keyword}{true};
1661     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!(connsw & \hyperlink{kmod_2igb_2e1000__defines_8h_a543ea15dc075f93c9e41abac9a95918e}{E1000\_CONNSW\_SERDESD})) \{
1662         \textcolor{comment}{/* copper signal takes time to appear */}
1663         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a3dbb691216c560668ca8304f557c8f88}{copper\_tries} < 3) \{
1664             adapter->\hyperlink{structigb__adapter_a3dbb691216c560668ca8304f557c8f88}{copper\_tries}++;
1665             connsw |= \hyperlink{kmod_2igb_2e1000__defines_8h_a28638f2de738d23e626f750f53e3e047}{E1000\_CONNSW\_AUTOSENSE\_CONF};
1666             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa1392665f89135ad7c6e6de93779c033}{E1000\_CONNSW}, connsw);
1667             \textcolor{keywordflow}{return};
1668         \} \textcolor{keywordflow}{else} \{
1669             adapter->\hyperlink{structigb__adapter_a3dbb691216c560668ca8304f557c8f88}{copper\_tries} = 0;
1670             \textcolor{keywordflow}{if} ((connsw & \hyperlink{kmod_2igb_2e1000__defines_8h_a8b2b55f820602afe68b69595cc345235}{E1000\_CONNSW\_PHYSD}) &&
1671                 (!(connsw & \hyperlink{kmod_2igb_2e1000__defines_8h_a806bc9424acde34a597f2e31fff5c778}{E1000\_CONNSW\_PHY\_PDN}))) \{
1672                 swap\_now = \textcolor{keyword}{true};
1673                 connsw &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a28638f2de738d23e626f750f53e3e047}{E1000\_CONNSW\_AUTOSENSE\_CONF};
1674                 \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa1392665f89135ad7c6e6de93779c033}{E1000\_CONNSW}, connsw);
1675             \}
1676         \}
1677     \}
1678 
1679     \textcolor{keywordflow}{if} (swap\_now) \{
1680         \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type}) \{
1681         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}:
1682             dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
1683                  \textcolor{stringliteral}{"%s:MAS: changing media to fiber/serdes\(\backslash\)n"},
1684             adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->name);
1685             ctrl\_ext |=
1686                 \hyperlink{kmod_2igb_2e1000__defines_8h_a7d9183c347011ccfd19c0e632caa09f6}{E1000\_CTRL\_EXT\_LINK\_MODE\_PCIE\_SERDES};
1687             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET};
1688             adapter->\hyperlink{structigb__adapter_a3dbb691216c560668ca8304f557c8f88}{copper\_tries} = 0;
1689             \textcolor{keywordflow}{break};
1690         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981a445c1bf4bb72fed4afbd4555ba3b01a9}{e1000\_media\_type\_internal\_serdes}:
1691         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981a041826ca4e120d8d904a878c09e965e6}{e1000\_media\_type\_fiber}:
1692             dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
1693                  \textcolor{stringliteral}{"%s:MAS: changing media to copper\(\backslash\)n"},
1694                  adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->name);
1695             ctrl\_ext &=
1696                 ~\hyperlink{kmod_2igb_2e1000__defines_8h_a7d9183c347011ccfd19c0e632caa09f6}{E1000\_CTRL\_EXT\_LINK\_MODE\_PCIE\_SERDES};
1697             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET};
1698             \textcolor{keywordflow}{break};
1699         \textcolor{keywordflow}{default}:
1700             \textcolor{comment}{/* shouldn't get here during regular operation */}
1701             dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
1702                 \textcolor{stringliteral}{"%s:AMS: Invalid media type found, returning\(\backslash\)n"},
1703                 adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->name);
1704             \textcolor{keywordflow}{break};
1705         \}
1706         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT}, ctrl\_ext);
1707     \}
1708 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+check\+\_\+wvbr@{igb\+\_\+check\+\_\+wvbr}}
\index{igb\+\_\+check\+\_\+wvbr@{igb\+\_\+check\+\_\+wvbr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+check\+\_\+wvbr(struct igb\+\_\+adapter $\ast$adapter)}{igb_check_wvbr(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+check\+\_\+wvbr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4ca49bc45d6fc881a7f7077245b60abe}{}\label{igb__main_8c_a4ca49bc45d6fc881a7f7077245b60abe}


igb\+\_\+main.\+c 파일의 4637 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4638 \{
4639     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4640     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} wvbr = 0;
4641 
4642     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
4643     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
4644     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
4645         wvbr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3a24c7d65883a6a4818734071ad6bfbd}{E1000\_WVBR});
4646         \textcolor{keywordflow}{if} (!wvbr)
4647             \textcolor{keywordflow}{return};
4648         \textcolor{keywordflow}{break};
4649     \textcolor{keywordflow}{default}:
4650         \textcolor{keywordflow}{break};
4651     \}
4652 
4653     adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr} |= wvbr;
4654 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4ca49bc45d6fc881a7f7077245b60abe_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings@{igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings}}
\index{igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings@{igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings(struct igb\+\_\+adapter $\ast$)}{igb_clean_all_rx_rings(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a775ebb4a5a03f8658614dd1cbb7d7b53}{}\label{igb__main_8c_a775ebb4a5a03f8658614dd1cbb7d7b53}
igb\+\_\+clean\+\_\+all\+\_\+rx\+\_\+rings -\/ Free Rx Buffers for all queues \+: board private structure 

igb\+\_\+main.\+c 파일의 4337 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4338 \{
4339     \textcolor{keywordtype}{int} i;
4340 
4341     \textcolor{comment}{/* AVB specific */}
4342     \textcolor{keywordflow}{for} (i = 2; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++)
4343         \hyperlink{igb__main_8c_a4d2e787907154102e3b72ee675f86726}{igb\_clean\_rx\_ring}(adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i]);
4344 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{igb__main_8c_a775ebb4a5a03f8658614dd1cbb7d7b53_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a775ebb4a5a03f8658614dd1cbb7d7b53_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings@{igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings}}
\index{igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings@{igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings(struct igb\+\_\+adapter $\ast$)}{igb_clean_all_tx_rings(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a528dca2f5f240b4d00f10dee7cdc3623}{}\label{igb__main_8c_a528dca2f5f240b4d00f10dee7cdc3623}
igb\+\_\+clean\+\_\+all\+\_\+tx\+\_\+rings -\/ Free Tx Buffers for all queues \+: board private structure 

igb\+\_\+main.\+c 파일의 4229 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4230 \{
4231     \textcolor{keywordtype}{int} i;
4232 
4233     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; i++)
4234         \hyperlink{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea}{igb\_clean\_tx\_ring}(adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i]);
4235 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a528dca2f5f240b4d00f10dee7cdc3623_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a528dca2f5f240b4d00f10dee7cdc3623_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clean\+\_\+rx\+\_\+irq@{igb\+\_\+clean\+\_\+rx\+\_\+irq}}
\index{igb\+\_\+clean\+\_\+rx\+\_\+irq@{igb\+\_\+clean\+\_\+rx\+\_\+irq}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clean\+\_\+rx\+\_\+irq(struct igb\+\_\+q\+\_\+vector $\ast$, int)}{igb_clean_rx_irq(struct igb_q_vector *, int)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+clean\+\_\+rx\+\_\+irq (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector, }
\item[{int}]{budget}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a3eb0b64e5c80a8f45cf27068a8b39cfa}{}\label{igb__main_8c_a3eb0b64e5c80a8f45cf27068a8b39cfa}


igb\+\_\+main.\+c 파일의 8599 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8600 \{
8601     \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *\hyperlink{structrx__ring}{rx\_ring} = q\_vector->rx.ring;
8602     \textcolor{keyword}{struct }sk\_buff *skb = rx\_ring->\hyperlink{structigb__ring_aeba6836824708325a83121030f092c30}{skb};
8603     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} total\_bytes = 0, total\_packets = 0;
8604     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} cleaned\_count = \hyperlink{kmod_2igb_2igb_8h_a8eaef53b14521d2fb0a9db74f3ed1c97}{igb\_desc\_unused}(rx\_ring);
8605 
8606     \textcolor{comment}{/* don't service user (AVB) queues */}
8607     \textcolor{keywordflow}{if} (rx\_ring->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index} < 2)
8608         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
8609 
8610     \textcolor{keywordflow}{do} \{
8611         \textcolor{keyword}{union }\hyperlink{unione1000__adv__rx__desc}{e1000\_adv\_rx\_desc} *rx\_desc;
8612 
8613         \textcolor{comment}{/* return some buffers to hardware, one at a time is too slow */}
8614         \textcolor{keywordflow}{if} (cleaned\_count >= \hyperlink{kmod_2igb_2igb_8h_a17f5b0e8e2903e7c72eddaf2011bcaad}{IGB\_RX\_BUFFER\_WRITE}) \{
8615             \hyperlink{igb__main_8c_a7839664fe06f0629433799ef7e66de8d}{igb\_alloc\_rx\_buffers}(rx\_ring, cleaned\_count);
8616             cleaned\_count = 0;
8617         \}
8618 
8619         rx\_desc = \hyperlink{kmod_2igb_2igb_8h_aca4af1ac26473b8702e008159df7f659}{IGB\_RX\_DESC}(rx\_ring, rx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean});
8620 
8621         \textcolor{keywordflow}{if} (!\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__defines_8h_a649e0efd4109f144991ab4f2983b520d}{E1000\_RXD\_STAT\_DD}))
8622             \textcolor{keywordflow}{break};
8623 
8624         \textcolor{comment}{/*}
8625 \textcolor{comment}{         * This memory barrier is needed to keep us from reading}
8626 \textcolor{comment}{         * any other fields out of the rx\_desc until we know the}
8627 \textcolor{comment}{         * RXD\_STAT\_DD bit is set}
8628 \textcolor{comment}{         */}
8629         \hyperlink{lib_2igb_2e1000__osdep_8h_a04c587cef17643201f0e631ceb64c0a7}{rmb}();
8630 
8631         \textcolor{comment}{/* retrieve a buffer from the ring */}
8632         skb = \hyperlink{igb__main_8c_a2e28d3d9cd99c531a5584b3f327be1a4}{igb\_fetch\_rx\_buffer}(rx\_ring, rx\_desc, skb);
8633 
8634         \textcolor{comment}{/* exit if we failed to retrieve a buffer */}
8635         \textcolor{keywordflow}{if} (!skb)
8636             \textcolor{keywordflow}{break};
8637 
8638         cleaned\_count++;
8639 
8640         \textcolor{comment}{/* fetch next buffer in frame if non-eop */}
8641         \textcolor{keywordflow}{if} (\hyperlink{igb__main_8c_ac5bec4783e881c1bdbefcfdca0cd30d0}{igb\_is\_non\_eop}(rx\_ring, rx\_desc))
8642             \textcolor{keywordflow}{continue};
8643 
8644         \textcolor{comment}{/* verify the packet layout is correct */}
8645         \textcolor{keywordflow}{if} (\hyperlink{igb__main_8c_ad42d792450c25d456742fd97dfc51a16}{igb\_cleanup\_headers}(rx\_ring, rx\_desc, skb)) \{
8646             skb = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
8647             \textcolor{keywordflow}{continue};
8648         \}
8649 
8650         \textcolor{comment}{/* probably a little skewed due to removing CRC */}
8651         total\_bytes += skb->len;
8652 
8653         \textcolor{comment}{/* populate checksum, timestamp, VLAN, and protocol */}
8654         \hyperlink{igb__main_8c_a4c49c031b2dd083f237db74034cc383a}{igb\_process\_skb\_fields}(rx\_ring, rx\_desc, skb);
8655 
8656 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
8657         \textcolor{keywordflow}{if} (\hyperlink{igb__main_8c_a266496914a2a07ab37f462909ebdc551}{igb\_can\_lro}(rx\_ring, rx\_desc, skb))
8658             \hyperlink{igb__main_8c_a4cb452a8b23f2419cfe5893465bfe877}{igb\_lro\_receive}(q\_vector, skb);
8659         \textcolor{keywordflow}{else}
8660 \textcolor{preprocessor}{#endif}
8661 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
8662             igb\_receive\_skb(q\_vector, skb);
8663 \textcolor{preprocessor}{#else}
8664             \hyperlink{kcompat_8h_aafa989179bffda43b345c00dd4569c9d}{napi\_gro\_receive}(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi}, skb);
8665 \textcolor{preprocessor}{#endif}
8666 \textcolor{preprocessor}{#ifndef NETIF\_F\_GRO}
8667 
8668         \hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(rx\_ring)->last\_rx = jiffies;
8669 \textcolor{preprocessor}{#endif}
8670 
8671         \textcolor{comment}{/* reset skb pointer */}
8672         skb = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
8673 
8674         \textcolor{comment}{/* update budget accounting */}
8675         total\_packets++;
8676     \} \textcolor{keywordflow}{while} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(total\_packets < budget));
8677 
8678     \textcolor{comment}{/* place incomplete frames back on ring for completion */}
8679     rx\_ring->\hyperlink{structigb__ring_aeba6836824708325a83121030f092c30}{skb} = skb;
8680 
8681     rx\_ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_ae5fef1d76642baa9a22fafc8c04907c5}{packets} += total\_packets;
8682     rx\_ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a1b0587fe9418ec065eee9e7593528b12}{bytes} += total\_bytes;
8683     q\_vector->rx.total\_packets += total\_packets;
8684     q\_vector->rx.total\_bytes += total\_bytes;
8685 
8686     \textcolor{keywordflow}{if} (cleaned\_count)
8687         \hyperlink{igb__main_8c_a7839664fe06f0629433799ef7e66de8d}{igb\_alloc\_rx\_buffers}(rx\_ring, cleaned\_count);
8688 
8689 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
8690     \hyperlink{igb__main_8c_a6dc808ba69f6bb2be19abe0b2950c253}{igb\_lro\_flush\_all}(q\_vector);
8691 
8692 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_NO\_LRO */}\textcolor{preprocessor}{}
8693     \textcolor{keywordflow}{return} (total\_packets < budget);
8694 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3eb0b64e5c80a8f45cf27068a8b39cfa_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3eb0b64e5c80a8f45cf27068a8b39cfa_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clean\+\_\+rx\+\_\+ring@{igb\+\_\+clean\+\_\+rx\+\_\+ring}}
\index{igb\+\_\+clean\+\_\+rx\+\_\+ring@{igb\+\_\+clean\+\_\+rx\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clean\+\_\+rx\+\_\+ring(struct igb\+\_\+ring $\ast$rx\+\_\+ring)}{igb_clean_rx_ring(struct igb_ring *rx_ring)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+clean\+\_\+rx\+\_\+ring (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a4d2e787907154102e3b72ee675f86726}{}\label{igb__main_8c_a4d2e787907154102e3b72ee675f86726}
igb\+\_\+clean\+\_\+rx\+\_\+ring -\/ Free Rx Buffers per Queue \+: ring to free buffers from 

igb\+\_\+main.\+c 파일의 4278 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4279 \{
4280     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
4281     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i;
4282 
4283     \textcolor{keywordflow}{if} (!rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info})
4284         \textcolor{keywordflow}{return};
4285 
4286 \textcolor{preprocessor}{#ifndef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
4287     \textcolor{keywordflow}{if} (rx\_ring->\hyperlink{structigb__ring_aeba6836824708325a83121030f092c30}{skb})
4288         dev\_kfree\_skb(rx\_ring->\hyperlink{structigb__ring_aeba6836824708325a83121030f092c30}{skb});
4289     rx\_ring->\hyperlink{structigb__ring_aeba6836824708325a83121030f092c30}{skb} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4290 
4291 \textcolor{preprocessor}{#endif}
4292     \textcolor{comment}{/* Free all the Rx ring sk\_buffs */}
4293     \textcolor{keywordflow}{for} (i = 0; i < rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}; i++) \{
4294         \textcolor{keyword}{struct }\hyperlink{structigb__rx__buffer}{igb\_rx\_buffer} *buffer\_info = &rx\_ring->
      \hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info}[i];
4295 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
4296         \textcolor{keywordflow}{if} (buffer\_info->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma}) \{
4297             dma\_unmap\_single(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
4298                      buffer\_info->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma},
4299                      rx\_ring->rx\_buffer\_len,
4300                      DMA\_FROM\_DEVICE);
4301             buffer\_info->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma} = 0;
4302         \}
4303 
4304         \textcolor{keywordflow}{if} (buffer\_info->skb) \{
4305             dev\_kfree\_skb(buffer\_info->skb);
4306             buffer\_info->skb = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4307         \}
4308 \textcolor{preprocessor}{#else}
4309         \textcolor{keywordflow}{if} (!buffer\_info->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page})
4310             \textcolor{keywordflow}{continue};
4311 
4312         dma\_unmap\_page(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
4313                    buffer\_info->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma},
4314                    PAGE\_SIZE,
4315                    DMA\_FROM\_DEVICE);
4316         \_\_free\_page(buffer\_info->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page});
4317 
4318         buffer\_info->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4319 \textcolor{preprocessor}{#endif}
4320     \}
4321 
4322     size = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structigb__rx__buffer}{igb\_rx\_buffer}) * rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
4323     memset(rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info}, 0, size);
4324 
4325     \textcolor{comment}{/* Zero out the descriptor ring */}
4326     memset(rx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc}, 0, rx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size});
4327 
4328     rx\_ring->\hyperlink{structigb__ring_a0ed19f611cda670eaf9cd246fb6d6c07}{next\_to\_alloc} = 0;
4329     rx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = 0;
4330     rx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = 0;
4331 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4d2e787907154102e3b72ee675f86726_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clean\+\_\+tx\+\_\+irq@{igb\+\_\+clean\+\_\+tx\+\_\+irq}}
\index{igb\+\_\+clean\+\_\+tx\+\_\+irq@{igb\+\_\+clean\+\_\+tx\+\_\+irq}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clean\+\_\+tx\+\_\+irq(struct igb\+\_\+q\+\_\+vector $\ast$)}{igb_clean_tx_irq(struct igb_q_vector *)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+clean\+\_\+tx\+\_\+irq (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a0df50925c865d58960c2b71a23cda421}{}\label{igb__main_8c_a0df50925c865d58960c2b71a23cda421}
igb\+\_\+clean\+\_\+tx\+\_\+irq -\/ Reclaim resources after transmit completes \+: pointer to q\+\_\+vector containing needed info returns T\+R\+UE if ring is completely cleaned 

igb\+\_\+main.\+c 파일의 7274 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7275 \{
7276     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
7277     \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *\hyperlink{structtx__ring}{tx\_ring} = q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring};
7278     \textcolor{keyword}{struct }\hyperlink{structigb__tx__buffer}{igb\_tx\_buffer} *tx\_buffer;
7279     \textcolor{keyword}{union }\hyperlink{unione1000__adv__tx__desc}{e1000\_adv\_tx\_desc} *tx\_desc;
7280     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} total\_bytes = 0, total\_packets = 0;
7281     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} budget = q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a2b47c2bd8dc8cbb82489685b42113cb2}{work\_limit};
7282     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = tx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean};
7283 
7284     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
7285         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
7286 
7287     \textcolor{comment}{/* don't service user (AVB) queues */}
7288     \textcolor{keywordflow}{if} (tx\_ring->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index} < 2)
7289         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
7290 
7291     tx\_buffer = &tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info}[i];
7292     tx\_desc = \hyperlink{kmod_2igb_2igb_8h_a495c84104e85090bca78cc9ed344455d}{IGB\_TX\_DESC}(tx\_ring, i);
7293     i -= tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
7294 
7295     \textcolor{keywordflow}{do} \{
7296         \textcolor{keyword}{union }\hyperlink{unione1000__adv__tx__desc}{e1000\_adv\_tx\_desc} *eop\_desc = tx\_buffer->
      \hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch};
7297 
7298         \textcolor{comment}{/* if next\_to\_watch is not set then there is no work pending */}
7299         \textcolor{keywordflow}{if} (!eop\_desc)
7300             \textcolor{keywordflow}{break};
7301 
7302         \textcolor{comment}{/* prevent any other reads prior to eop\_desc */}
7303         read\_barrier\_depends();
7304 
7305         \textcolor{comment}{/* if DD is not set pending work has not been completed */}
7306         \textcolor{keywordflow}{if} (!(eop\_desc->\hyperlink{unione1000__adv__tx__desc_acd3315da4a5fc38493b6a164103514c5}{wb}.\hyperlink{unione1000__adv__tx__desc_acb1e7555dd5af8139307a5411606d576}{status} & cpu\_to\_le32(\hyperlink{kmod_2igb_2e1000__defines_8h_a591e23674955e1c5db690fcab744cd54}{E1000\_TXD\_STAT\_DD})))
7307             \textcolor{keywordflow}{break};
7308 
7309         \textcolor{comment}{/* clear next\_to\_watch to prevent false hangs */}
7310         tx\_buffer->\hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
7311 
7312         \textcolor{comment}{/* update the statistics for this packet */}
7313         total\_bytes += tx\_buffer->\hyperlink{structigb__tx__buffer_a6e36fbc12221f170fbaa8134ae4e5e7c}{bytecount};
7314         total\_packets += tx\_buffer->\hyperlink{structigb__tx__buffer_a6c470eb193221275df0074f1af9faa47}{gso\_segs};
7315 
7316         \textcolor{comment}{/* free the skb */}
7317         dev\_kfree\_skb\_any(tx\_buffer->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb});
7318 
7319         \textcolor{comment}{/* unmap skb header data */}
7320         dma\_unmap\_single(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
7321                  dma\_unmap\_addr(tx\_buffer, dma),
7322                  dma\_unmap\_len(tx\_buffer, len),
7323                  DMA\_TO\_DEVICE);
7324 
7325         \textcolor{comment}{/* clear tx\_buffer data */}
7326         tx\_buffer->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
7327         dma\_unmap\_len\_set(tx\_buffer, len, 0);
7328 
7329         \textcolor{comment}{/* clear last DMA location and unmap remaining buffers */}
7330         \textcolor{keywordflow}{while} (tx\_desc != eop\_desc) \{
7331             tx\_buffer++;
7332             tx\_desc++;
7333             i++;
7334             \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!i)) \{
7335                 i -= tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
7336                 tx\_buffer = tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info};
7337                 tx\_desc = \hyperlink{kmod_2igb_2igb_8h_a495c84104e85090bca78cc9ed344455d}{IGB\_TX\_DESC}(tx\_ring, 0);
7338             \}
7339 
7340             \textcolor{comment}{/* unmap any remaining paged data */}
7341             \textcolor{keywordflow}{if} (dma\_unmap\_len(tx\_buffer, len)) \{
7342                 dma\_unmap\_page(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
7343                            dma\_unmap\_addr(tx\_buffer, dma),
7344                            dma\_unmap\_len(tx\_buffer, len),
7345                            DMA\_TO\_DEVICE);
7346                 dma\_unmap\_len\_set(tx\_buffer, len, 0);
7347             \}
7348         \}
7349 
7350         \textcolor{comment}{/* move us one more past the eop\_desc for start of next pkt */}
7351         tx\_buffer++;
7352         tx\_desc++;
7353         i++;
7354         \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!i)) \{
7355             i -= tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
7356             tx\_buffer = tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info};
7357             tx\_desc = \hyperlink{kmod_2igb_2igb_8h_a495c84104e85090bca78cc9ed344455d}{IGB\_TX\_DESC}(tx\_ring, 0);
7358         \}
7359 
7360         \textcolor{comment}{/* issue prefetch for next Tx descriptor */}
7361         \hyperlink{lib_2igb_2e1000__osdep_8h_a004692feb1f91896c21a6d1644b54f2b}{prefetch}(tx\_desc);
7362 
7363         \textcolor{comment}{/* update budget accounting */}
7364         budget--;
7365     \} \textcolor{keywordflow}{while} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(budget));
7366 
7367     netdev\_tx\_completed\_queue(txring\_txq(tx\_ring),
7368                   total\_packets, total\_bytes);
7369 
7370     i += tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
7371     tx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = i;
7372     tx\_ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_a1b0587fe9418ec065eee9e7593528b12}{bytes} += total\_bytes;
7373     tx\_ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_ae5fef1d76642baa9a22fafc8c04907c5}{packets} += total\_packets;
7374     q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a3ba0a002e956c88f2433d97977c92b59}{total\_bytes} += total\_bytes;
7375     q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a6faab394a49c8462592c339de9d60855}{total\_packets} += total\_packets;
7376 
7377 \textcolor{preprocessor}{#ifdef DEBUG}
7378     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2abae4dfce81b21d812fcfece888bb48c6}{IGB\_RING\_FLAG\_TX\_DETECT\_HANG}, &tx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags}) &&
7379         !(adapter->disable\_hw\_reset && adapter->tx\_hang\_detected)) \{
7380 \textcolor{preprocessor}{#else}
7381     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2abae4dfce81b21d812fcfece888bb48c6}{IGB\_RING\_FLAG\_TX\_DETECT\_HANG}, &tx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags})) \{
7382 \textcolor{preprocessor}{#endif}
7383         \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
7384 
7385         \textcolor{comment}{/* Detect a transmit hang in hardware, this serializes the}
7386 \textcolor{comment}{         * check with the clearing of time\_stamp and movement of i}
7387 \textcolor{comment}{         */}
7388         clear\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2abae4dfce81b21d812fcfece888bb48c6}{IGB\_RING\_FLAG\_TX\_DETECT\_HANG}, &tx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags});
7389         \textcolor{keywordflow}{if} (tx\_buffer->\hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch} &&
7390             time\_after(jiffies, tx\_buffer->\hyperlink{structigb__tx__buffer_a5d390b40ee7866a00e496883fb21fb15}{time\_stamp} +
7391                    (adapter->\hyperlink{structigb__adapter_a490167cfddabd97a3d49c1b40ed9c6b6}{tx\_timeout\_factor} * HZ))
7392             && !(\hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7fad15ed91c7801a1b9c5f80843bab79}{E1000\_STATUS}) &
7393              \hyperlink{kmod_2igb_2e1000__defines_8h_a93650002996768a9900287467673b78a}{E1000\_STATUS\_TXOFF})) \{
7394 
7395             \textcolor{comment}{/* detected Tx unit hang */}
7396 \textcolor{preprocessor}{#ifdef DEBUG}
7397             adapter->tx\_hang\_detected = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
7398             \textcolor{keywordflow}{if} (adapter->disable\_hw\_reset) \{
7399                 \hyperlink{kmod_2igb_2igb_8h_a272396ffe38ee0e97609adea8e1153d9}{DPRINTK}(DRV, WARNING,
7400                     \textcolor{stringliteral}{"Deactivating netdev watchdog timer\(\backslash\)n"});
7401                 \textcolor{keywordflow}{if} (del\_timer(&\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring)->watchdog\_timer))
7402                     dev\_put(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring));
7403 \textcolor{preprocessor}{#ifndef HAVE\_NET\_DEVICE\_OPS}
7404                 \hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring)->tx\_timeout = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
7405 \textcolor{preprocessor}{#endif}
7406             \}
7407 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* DEBUG */}\textcolor{preprocessor}{}
7408             dev\_err(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
7409                 \textcolor{stringliteral}{"Detected Tx Unit Hang\(\backslash\)n"}
7410                 \textcolor{stringliteral}{"  Tx Queue             <%d>\(\backslash\)n"}
7411                 \textcolor{stringliteral}{"  TDH                  <%x>\(\backslash\)n"}
7412                 \textcolor{stringliteral}{"  TDT                  <%x>\(\backslash\)n"}
7413                 \textcolor{stringliteral}{"  next\_to\_use          <%x>\(\backslash\)n"}
7414                 \textcolor{stringliteral}{"  next\_to\_clean        <%x>\(\backslash\)n"}
7415                 \textcolor{stringliteral}{"buffer\_info[next\_to\_clean]\(\backslash\)n"}
7416                 \textcolor{stringliteral}{"  time\_stamp           <%lx>\(\backslash\)n"}
7417                 \textcolor{stringliteral}{"  next\_to\_watch        <%p>\(\backslash\)n"}
7418                 \textcolor{stringliteral}{"  jiffies              <%lx>\(\backslash\)n"}
7419                 \textcolor{stringliteral}{"  desc.status          <%x>\(\backslash\)n"},
7420                 tx\_ring->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index},
7421                 \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a10c344281bdc006b96fd0a08b719e065}{E1000\_TDH}(tx\_ring->
      \hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx})),
7422                 readl(tx\_ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail}),
7423                 tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use},
7424                 tx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean},
7425                 tx\_buffer->\hyperlink{structigb__tx__buffer_a5d390b40ee7866a00e496883fb21fb15}{time\_stamp},
7426                 tx\_buffer->\hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch},
7427                 jiffies,
7428                 tx\_buffer->\hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch}->\hyperlink{unione1000__adv__tx__desc_acd3315da4a5fc38493b6a164103514c5}{wb}.\hyperlink{unione1000__adv__tx__desc_acb1e7555dd5af8139307a5411606d576}{status});
7429             \textcolor{keywordflow}{if} (netif\_is\_multiqueue(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring)))
7430                 netif\_stop\_subqueue(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring),
7431                             \hyperlink{kmod_2igb_2igb_8h_a58016ef5dcd985fe19ed93d5d8fb2647}{ring\_queue\_index}(tx\_ring));
7432             \textcolor{keywordflow}{else}
7433                 netif\_stop\_queue(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring));
7434 
7435             \textcolor{comment}{/* we are about to reset, no point in enabling stuff */}
7436             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
7437         \}
7438     \}
7439 
7440 \textcolor{preprocessor}{#define TX\_WAKE\_THRESHOLD (DESC\_NEEDED * 2)}
7441     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(total\_packets &&
7442              netif\_carrier\_ok(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring)) &&
7443              \hyperlink{kmod_2igb_2igb_8h_a8eaef53b14521d2fb0a9db74f3ed1c97}{igb\_desc\_unused}(tx\_ring) >= \hyperlink{igb__main_8c_ab6a02abf5699fb66c56f3e30c7c40b5e}{TX\_WAKE\_THRESHOLD})) \{
7444         \textcolor{comment}{/* Make sure that anybody stopping the queue after this}
7445 \textcolor{comment}{         * sees the new next\_to\_clean.}
7446 \textcolor{comment}{         */}
7447         smp\_mb();
7448         \textcolor{keywordflow}{if} (netif\_is\_multiqueue(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring))) \{
7449             \textcolor{keywordflow}{if} (\_\_netif\_subqueue\_stopped(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring),
7450                         \hyperlink{kmod_2igb_2igb_8h_a58016ef5dcd985fe19ed93d5d8fb2647}{ring\_queue\_index}(tx\_ring)) &&
7451                 !(test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))) \{
7452                 netif\_wake\_subqueue(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring),
7453                             \hyperlink{kmod_2igb_2igb_8h_a58016ef5dcd985fe19ed93d5d8fb2647}{ring\_queue\_index}(tx\_ring));
7454                 tx\_ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_af4a2d173ec4fcd7b2bf5a7b8e51e2fcd}{restart\_queue}++;
7455             \}
7456         \} \textcolor{keywordflow}{else} \{
7457             \textcolor{keywordflow}{if} (netif\_queue\_stopped(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring)) &&
7458                 !(test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))) \{
7459                 netif\_wake\_queue(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring));
7460                 tx\_ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_af4a2d173ec4fcd7b2bf5a7b8e51e2fcd}{restart\_queue}++;
7461             \}
7462         \}
7463     \}
7464 
7465     \textcolor{keywordflow}{return} !!budget;
7466 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{igb__main_8c_a0df50925c865d58960c2b71a23cda421_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0df50925c865d58960c2b71a23cda421_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clean\+\_\+tx\+\_\+ring@{igb\+\_\+clean\+\_\+tx\+\_\+ring}}
\index{igb\+\_\+clean\+\_\+tx\+\_\+ring@{igb\+\_\+clean\+\_\+tx\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clean\+\_\+tx\+\_\+ring(struct igb\+\_\+ring $\ast$)}{igb_clean_tx_ring(struct igb_ring *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+clean\+\_\+tx\+\_\+ring (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea}{}\label{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea}
igb\+\_\+clean\+\_\+tx\+\_\+ring -\/ Free Tx Buffers \+: ring to be cleaned 

igb\+\_\+main.\+c 파일의 4198 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4199 \{
4200     \textcolor{keyword}{struct }\hyperlink{structigb__tx__buffer}{igb\_tx\_buffer} *buffer\_info;
4201     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
4202     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i;
4203 
4204     \textcolor{keywordflow}{if} (!tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info})
4205         \textcolor{keywordflow}{return};
4206     \textcolor{comment}{/* Free all the Tx ring sk\_buffs */}
4207 
4208     \textcolor{keywordflow}{for} (i = 0; i < tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}; i++) \{
4209         buffer\_info = &tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info}[i];
4210         \hyperlink{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89}{igb\_unmap\_and\_free\_tx\_resource}(tx\_ring, buffer\_info);
4211     \}
4212 
4213     netdev\_tx\_reset\_queue(txring\_txq(tx\_ring));
4214 
4215     size = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structigb__tx__buffer}{igb\_tx\_buffer}) * tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
4216     memset(tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info}, 0, size);
4217 
4218     \textcolor{comment}{/* Zero out the descriptor ring */}
4219     memset(tx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc}, 0, tx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size});
4220 
4221     tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = 0;
4222     tx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = 0;
4223 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+cleanup\+\_\+headers@{igb\+\_\+cleanup\+\_\+headers}}
\index{igb\+\_\+cleanup\+\_\+headers@{igb\+\_\+cleanup\+\_\+headers}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+cleanup\+\_\+headers(struct igb\+\_\+ring $\ast$rx\+\_\+ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_cleanup_headers(struct igb_ring *rx_ring, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+cleanup\+\_\+headers (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ad42d792450c25d456742fd97dfc51a16}{}\label{igb__main_8c_ad42d792450c25d456742fd97dfc51a16}
igb\+\_\+cleanup\+\_\+headers -\/ Correct corrupted or empty headers \+: rx descriptor ring packet is being transacted on \+: pointer to the E\+OP Rx descriptor \+: pointer to current skb being fixed

Address the case where we are pulling data in on pages only and as such no data is present in the skb header.

In addition if skb is not at least 60 bytes we need to pad it so that it is large enough to qualify as a valid Ethernet frame.

Returns true if an error was encountered and skb was freed. 

igb\+\_\+main.\+c 파일의 8567 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8570 \{
8571 
8572     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}((\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc,
8573                        \hyperlink{kmod_2igb_2e1000__defines_8h_a6406f41e45cd1399de8bb7acb1c87031}{E1000\_RXDEXT\_ERR\_FRAME\_ERR\_MASK})))) \{
8574         \textcolor{keyword}{struct }net\_device *netdev = rx\_ring->\hyperlink{structigb__ring_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
8575 
8576         \textcolor{keywordflow}{if} (!(netdev->features & NETIF\_F\_RXALL)) \{
8577             dev\_kfree\_skb\_any(skb);
8578             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
8579         \}
8580     \}
8581 
8582     \textcolor{comment}{/* place header in linear portion of buffer */}
8583     \textcolor{keywordflow}{if} (skb\_is\_nonlinear(skb))
8584         \hyperlink{igb__main_8c_a8d54ff0489b1570a31e6736d45928032}{igb\_pull\_tail}(rx\_ring, rx\_desc, skb);
8585 
8586     \textcolor{comment}{/* if skb\_pad returns an error the skb was freed */}
8587     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(skb->len < 60)) \{
8588         \textcolor{keywordtype}{int} pad\_len = 60 - skb->len;
8589 
8590         \textcolor{keywordflow}{if} (skb\_pad(skb, pad\_len))
8591             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
8592         \_\_skb\_put(skb, pad\_len);
8593     \}
8594 
8595     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
8596 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad42d792450c25d456742fd97dfc51a16_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad42d792450c25d456742fd97dfc51a16_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clear\+\_\+interrupt\+\_\+scheme@{igb\+\_\+clear\+\_\+interrupt\+\_\+scheme}}
\index{igb\+\_\+clear\+\_\+interrupt\+\_\+scheme@{igb\+\_\+clear\+\_\+interrupt\+\_\+scheme}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clear\+\_\+interrupt\+\_\+scheme(struct igb\+\_\+adapter $\ast$adapter)}{igb_clear_interrupt_scheme(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+clear\+\_\+interrupt\+\_\+scheme (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{}\label{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}
igb\+\_\+clear\+\_\+interrupt\+\_\+scheme -\/ reset the device to a state of no interrupts

This function resets the device so that it has 0 rx queues, tx queues, and M\+S\+I-\/X interrupts allocated. 

igb\+\_\+main.\+c 파일의 855 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
856 \{
857     \hyperlink{igb__main_8c_a07873e8efbcfe526b1cedb1c6358f349}{igb\_free\_q\_vectors}(adapter);
858     \hyperlink{igb__main_8c_a11ede628403830ab78d46b095ae73901}{igb\_reset\_interrupt\_capability}(adapter);
859 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+clear\+\_\+vf\+\_\+vfta@{igb\+\_\+clear\+\_\+vf\+\_\+vfta}}
\index{igb\+\_\+clear\+\_\+vf\+\_\+vfta@{igb\+\_\+clear\+\_\+vf\+\_\+vfta}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+clear\+\_\+vf\+\_\+vfta(struct igb\+\_\+adapter $\ast$adapter, u32 vf)}{igb_clear_vf_vfta(struct igb_adapter *adapter, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+clear\+\_\+vf\+\_\+vfta (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5}{}\label{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5}


igb\+\_\+main.\+c 파일의 6572 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6573 \{
6574     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6575     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} pool\_mask, reg, vid;
6576     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vlan\_default;
6577     \textcolor{keywordtype}{int} i;
6578 
6579     pool\_mask = 1 << (\hyperlink{kmod_2igb_2e1000__82575_8h_a5c7a5332a9e9106640dc89d2dc2df806}{E1000\_VLVF\_POOLSEL\_SHIFT} + \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6580 
6581     \textcolor{comment}{/* Find the vlan filter for this id */}
6582     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__82575_8h_a9b65bd3932341dbf8102854360932f9b}{E1000\_VLVF\_ARRAY\_SIZE}; i++) \{
6583         reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i));
6584 
6585         \textcolor{comment}{/* remove the vf from the pool */}
6586         reg &= ~pool\_mask;
6587 
6588         \textcolor{comment}{/* if pool is empty then remove entry from vfta */}
6589         \textcolor{keywordflow}{if} (!(reg & \hyperlink{kmod_2igb_2e1000__82575_8h_a0846631824d05adc60477eb370fdac48}{E1000\_VLVF\_POOLSEL\_MASK}) &&
6590             (reg & \hyperlink{kmod_2igb_2e1000__82575_8h_aff96eb411f46db0aaceb1a4d561504fb}{E1000\_VLVF\_VLANID\_ENABLE})) \{
6591             reg = 0;
6592             vid = reg & \hyperlink{kmod_2igb_2e1000__82575_8h_afc12f20bb2b0e134b07c1b7c1108d0b0}{E1000\_VLVF\_VLANID\_MASK};
6593             \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, vid, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
6594         \}
6595 
6596         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i), reg);
6597     \}
6598 
6599     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_aaacbf33baac1c57aa21691925b0223c2}{vlans\_enabled} = 0;
6600 
6601     vlan\_default = adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_a3ffe091a80e7d63d253ce588d78352db}{default\_vf\_vlan\_id};
6602     \textcolor{keywordflow}{if} (vlan\_default)
6603         \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\_vlvf\_set}(adapter, vlan\_default, \textcolor{keyword}{true}, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6604 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+close@{igb\+\_\+close}}
\index{igb\+\_\+close@{igb\+\_\+close}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+close(struct net\+\_\+device $\ast$)}{igb_close(struct net_device *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+close (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03}{}\label{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03}


igb\+\_\+main.\+c 파일의 3485 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3486 \{
3487     \textcolor{keywordflow}{return} \hyperlink{igb__main_8c_ae43b006406839bb8e2c89252cd1f2d1f}{\_\_igb\_close}(netdev, \textcolor{keyword}{false});
3488 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+close\+\_\+file@{igb\+\_\+close\+\_\+file}}
\index{igb\+\_\+close\+\_\+file@{igb\+\_\+close\+\_\+file}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+close\+\_\+file(struct inode $\ast$inode, struct file $\ast$file)}{igb_close_file(struct inode *inode, struct file *file)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+close\+\_\+file (
\begin{DoxyParamCaption}
\item[{struct inode $\ast$}]{inode, }
\item[{struct file $\ast$}]{file}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa77102ece423b66b97a6f2377f427c08}{}\label{igb__main_8c_aa77102ece423b66b97a6f2377f427c08}


igb\+\_\+main.\+c 파일의 10776 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10777 \{
10778     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10779     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10780     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
10781     \textcolor{keyword}{struct }\hyperlink{structigb__user__page}{igb\_user\_page} *userpage;
10782 
10783     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10784         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10785         \textcolor{keywordflow}{return} -ENOENT;
10786     \}
10787 
10788     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10789     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
10790         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
10791 
10792     mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock}); 
10793 
10794     adapter->\hyperlink{structigb__adapter_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} &= ~igb\_priv->\hyperlink{structigb__private__data_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init};
10795     adapter->\hyperlink{structigb__adapter_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} &= ~igb\_priv->\hyperlink{structigb__private__data_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init};
10796 
10797     userpage = igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages};
10798 
10799     \textcolor{keywordflow}{while} (userpage != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10800         dma\_unmap\_page(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
10801                         userpage->\hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma},
10802                         PAGE\_SIZE,
10803                         DMA\_FROM\_DEVICE);
10804 
10805         put\_page(userpage->\hyperlink{structigb__user__page_ad45c9283ecdd581420d88bc33100364a}{page});
10806 
10807         \textcolor{comment}{/* take the page out of our list and free it */}
10808         \textcolor{keywordflow}{if} (userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev})
10809             userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev}->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next} = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10810 
10811         \textcolor{keywordflow}{if} (userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next})
10812             userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next}->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev} = userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev};
10813 
10814         \textcolor{keywordflow}{if} (userpage == igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages})
10815             igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10816 
10817         vfree(userpage);
10818         userpage = igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages};
10819     \}
10820     mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10821 
10822     err = \hyperlink{igb__main_8c_a9c58b2f45420f3721cea433524aa7c5c}{igb\_unbind}(file);
10823 \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
10824     file->private\_data = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10825     kfree(igb\_priv);
10826     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10827 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa77102ece423b66b97a6f2377f427c08_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure@{igb\+\_\+configure}}
\index{igb\+\_\+configure@{igb\+\_\+configure}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure(struct igb\+\_\+adapter $\ast$)}{igb_configure(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+configure (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3}{}\label{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3}
igb\+\_\+configure -\/ configure the hardware for RX and TX \+: private board structure 

igb\+\_\+main.\+c 파일의 1579 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1580 \{
1581     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
1582     \textcolor{keywordtype}{int} i;
1583 
1584     \hyperlink{igb__main_8c_a8db219783b6a954ed4b940220918109f}{igb\_get\_hw\_control}(adapter);
1585     \hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\_set\_rx\_mode}(netdev);
1586 
1587     \hyperlink{igb__main_8c_a3336bb1dc2862727d2feb612addf854f}{igb\_restore\_vlan}(adapter);
1588 
1589     \hyperlink{igb__main_8c_a4c5ad8518af9c1860fc46cafd90d52c0}{igb\_setup\_tctl}(adapter);
1590     \hyperlink{igb__main_8c_a4728bc1a1a6cf04e7d50464297e04bd8}{igb\_setup\_mrqc}(adapter);
1591     \hyperlink{igb__main_8c_af7e4c5f535a1647ebb8b81ed82a38d96}{igb\_setup\_rctl}(adapter);
1592 
1593     \hyperlink{igb__main_8c_a1a1ca14ed87bf2cde466ff5fb47c4428}{igb\_configure\_tx}(adapter);
1594     \hyperlink{igb__main_8c_a13cb964c32d3f39309a7aae799e2207e}{igb\_configure\_rx}(adapter);
1595 
1596     \hyperlink{e1000__82575_8c_a8e16de3c1e0139c81e1447b4edf98b52}{e1000\_rx\_fifo\_flush\_82575}(&adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
1597 \textcolor{preprocessor}{#ifdef CONFIG\_NETDEVICES\_MULTIQUEUE}
1598     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} > 1)
1599         netdev->features |= NETIF\_F\_MULTI\_QUEUE;
1600     \textcolor{keywordflow}{else}
1601         netdev->features &= ~NETIF\_F\_MULTI\_QUEUE;
1602 \textcolor{preprocessor}{#endif}
1603 
1604     \textcolor{comment}{/* call igb\_desc\_unused which always leaves}
1605 \textcolor{comment}{     * at least 1 descriptor unused to make sure}
1606 \textcolor{comment}{     * next\_to\_use != next\_to\_clean}
1607 \textcolor{comment}{     */}
1608     \textcolor{comment}{/* AVB specific */}
1609     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++) \{
1610         \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *ring = adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i];
1611 
1612         \hyperlink{igb__main_8c_a7839664fe06f0629433799ef7e66de8d}{igb\_alloc\_rx\_buffers}(ring, \hyperlink{kmod_2igb_2igb_8h_a8eaef53b14521d2fb0a9db74f3ed1c97}{igb\_desc\_unused}(ring));
1613     \}
1614 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure\+\_\+lli@{igb\+\_\+configure\+\_\+lli}}
\index{igb\+\_\+configure\+\_\+lli@{igb\+\_\+configure\+\_\+lli}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure\+\_\+lli(struct igb\+\_\+adapter $\ast$adapter)}{igb_configure_lli(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+configure\+\_\+lli (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a5cf85f1e32162097db9f35fa944a1239}{}\label{igb__main_8c_a5cf85f1e32162097db9f35fa944a1239}


igb\+\_\+main.\+c 파일의 492 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
493 \{
494     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
495     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{gst__avb__playbin_8c_a63c89c04d1feae07ca35558055155ffb}{port};
496 
497     \textcolor{comment}{/* LLI should only be enabled for MSI-X or MSI interrupts */}
498     \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries} && !(adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & 
      \hyperlink{kmod_2igb_2igb_8h_a755dcd249d1f72f4545ffa76a6e7d9f5}{IGB\_FLAG\_HAS\_MSI}))
499         \textcolor{keywordflow}{return};
500 
501     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a28be73f7fefebf3f4de8b5b0c143b895}{lli\_port}) \{
502         \textcolor{comment}{/* use filter 0 for port */}
503         port = htons((\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16})adapter->\hyperlink{structigb__adapter_a28be73f7fefebf3f4de8b5b0c143b895}{lli\_port});
504         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acb95da1edc35e9ed61f2ef7ee5d4a7bf}{E1000\_IMIR}(0),
505             (port | \hyperlink{kmod_2igb_2e1000__82575_8h_ac73675400a7d3544c20c23d15e94066f}{E1000\_IMIR\_PORT\_IM\_EN}));
506         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a903cf420e0c986b41661ec5926b94389}{E1000\_IMIREXT}(0),
507             (\hyperlink{kmod_2igb_2e1000__82575_8h_aa20f02ec7430a3e2b14dd58217125709}{E1000\_IMIREXT\_SIZE\_BP} | \hyperlink{kmod_2igb_2e1000__82575_8h_a3b71c40d7b491f797f0b3a4e60809cc4}{E1000\_IMIREXT\_CTRL\_BP}));
508     \}
509 
510     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a3f157f8c9d8ed295219d339584220e21}{IGB\_FLAG\_LLI\_PUSH}) \{
511         \textcolor{comment}{/* use filter 1 for push flag */}
512         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acb95da1edc35e9ed61f2ef7ee5d4a7bf}{E1000\_IMIR}(1),
513             (\hyperlink{kmod_2igb_2e1000__82575_8h_a363328966484b745ba51e4201dedcf3c}{E1000\_IMIR\_PORT\_BP} | \hyperlink{kmod_2igb_2e1000__82575_8h_ac73675400a7d3544c20c23d15e94066f}{E1000\_IMIR\_PORT\_IM\_EN}));
514         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a903cf420e0c986b41661ec5926b94389}{E1000\_IMIREXT}(1),
515             (\hyperlink{kmod_2igb_2e1000__82575_8h_aa20f02ec7430a3e2b14dd58217125709}{E1000\_IMIREXT\_SIZE\_BP} | \hyperlink{kmod_2igb_2e1000__82575_8h_a641a8962920e6260566060c09bb7618b}{E1000\_IMIREXT\_CTRL\_PSH}));
516     \}
517 
518     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2316241ef54e8be665bac12c9da109c8}{lli\_size}) \{
519         \textcolor{comment}{/* use filter 2 for size */}
520         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acb95da1edc35e9ed61f2ef7ee5d4a7bf}{E1000\_IMIR}(2),
521             (\hyperlink{kmod_2igb_2e1000__82575_8h_a363328966484b745ba51e4201dedcf3c}{E1000\_IMIR\_PORT\_BP} | \hyperlink{kmod_2igb_2e1000__82575_8h_ac73675400a7d3544c20c23d15e94066f}{E1000\_IMIR\_PORT\_IM\_EN}));
522         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a903cf420e0c986b41661ec5926b94389}{E1000\_IMIREXT}(2),
523             (adapter->\hyperlink{structigb__adapter_a2316241ef54e8be665bac12c9da109c8}{lli\_size} | \hyperlink{kmod_2igb_2e1000__82575_8h_a3b71c40d7b491f797f0b3a4e60809cc4}{E1000\_IMIREXT\_CTRL\_BP}));
524     \}
525 
526 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5cf85f1e32162097db9f35fa944a1239_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure\+\_\+msix@{igb\+\_\+configure\+\_\+msix}}
\index{igb\+\_\+configure\+\_\+msix@{igb\+\_\+configure\+\_\+msix}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure\+\_\+msix(struct igb\+\_\+adapter $\ast$adapter)}{igb_configure_msix(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+configure\+\_\+msix (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d}{}\label{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d}
igb\+\_\+configure\+\_\+msix -\/ Configure M\+S\+I-\/X hardware

igb\+\_\+configure\+\_\+msix sets up the hardware to properly generate M\+S\+I-\/X interrupts. 

igb\+\_\+main.\+c 파일의 641 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
642 \{
643     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} tmp;
644     \textcolor{keywordtype}{int} i, vector = 0;
645     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
646 
647     adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask} = 0;
648 
649     \textcolor{comment}{/* set vector for other causes, i.e. link changes */}
650     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
651     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}:
652         tmp = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
653         \textcolor{comment}{/* enable MSI-X PBA support*/}
654         tmp |= \hyperlink{kmod_2igb_2e1000__defines_8h_a6550ac107d0ba980e5454232f0598f30}{E1000\_CTRL\_EXT\_PBA\_CLR};
655 
656         \textcolor{comment}{/* Auto-Mask interrupts upon ICR read. */}
657         tmp |= \hyperlink{kmod_2igb_2e1000__defines_8h_a6177d899195a1d84cc59db84f3323f09}{E1000\_CTRL\_EXT\_EIAME};
658         tmp |= \hyperlink{kmod_2igb_2e1000__defines_8h_aa0cb3cd8cdcd2b00a62db1603e6a21d4}{E1000\_CTRL\_EXT\_IRCA};
659 
660         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT}, tmp);
661 
662         \textcolor{comment}{/* enable msix\_other interrupt */}
663         \hyperlink{kmod_2igb_2e1000__osdep_8h_a573888f2e2956f04a7c2429d75c74c2f}{E1000\_WRITE\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ac0351b720b7f2eef5dff0a09f4c1e7f9}{E1000\_MSIXBM}(0), vector++,
664                     \hyperlink{kmod_2igb_2e1000__defines_8h_a4a23604162683d0cda5f6db51065b81a}{E1000\_EIMS\_OTHER});
665         adapter->\hyperlink{structigb__adapter_abf76408eafd71916cf6850fb3b1e7379}{eims\_other} = \hyperlink{kmod_2igb_2e1000__defines_8h_a4a23604162683d0cda5f6db51065b81a}{E1000\_EIMS\_OTHER};
666 
667         \textcolor{keywordflow}{break};
668 
669     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
670     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}:
671     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
672     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
673     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}:
674     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}:
675         \textcolor{comment}{/* Turn on MSI-X capability first, or our settings}
676 \textcolor{comment}{         * won't stick.  And it will take days to debug.}
677 \textcolor{comment}{         */}
678         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7c8dc2a49ef6e09224b2a6ca40539adf}{E1000\_GPIE}, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_a3e5c80a217f88a456ee6f28c1b569f4e}{E1000\_GPIE\_MSIX\_MODE} |
679                 \hyperlink{kmod_2igb_2e1000__defines_8h_a64d97f0d799a35d5ec596aa5d4982b05}{E1000\_GPIE\_PBA} | \hyperlink{kmod_2igb_2e1000__defines_8h_a8040a3552595c5157b4ea46d55e5b3de}{E1000\_GPIE\_EIAME} |
680                 \hyperlink{kmod_2igb_2e1000__defines_8h_a15b328ea31614b6da7b91c46a558989e}{E1000\_GPIE\_NSICR});
681 
682         \textcolor{comment}{/* enable msix\_other interrupt */}
683         adapter->\hyperlink{structigb__adapter_abf76408eafd71916cf6850fb3b1e7379}{eims\_other} = 1 << vector;
684         tmp = (vector++ | \hyperlink{kmod_2igb_2e1000__defines_8h_a810d2ffb68b2a8c9d256c2365caf8159}{E1000\_IVAR\_VALID}) << 8;
685 
686         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acb100f4ba025d8842aa3e977efea2533}{E1000\_IVAR\_MISC}, tmp);
687         \textcolor{keywordflow}{break};
688     \textcolor{keywordflow}{default}:
689         \textcolor{comment}{/* do nothing, since nothing else supports MSI-X */}
690         \textcolor{keywordflow}{break};
691     \} \textcolor{comment}{/* switch (hw->mac.type) */}
692 
693     adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask} |= adapter->\hyperlink{structigb__adapter_abf76408eafd71916cf6850fb3b1e7379}{eims\_other};
694 
695     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
696         \hyperlink{igb__main_8c_a10319a282e14f211bc084aa2a46a4115}{igb\_assign\_vector}(adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i], vector++);
697 
698     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
699 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure\+\_\+rx@{igb\+\_\+configure\+\_\+rx}}
\index{igb\+\_\+configure\+\_\+rx@{igb\+\_\+configure\+\_\+rx}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure\+\_\+rx(struct igb\+\_\+adapter $\ast$)}{igb_configure_rx(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+configure\+\_\+rx (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a13cb964c32d3f39309a7aae799e2207e}{}\label{igb__main_8c_a13cb964c32d3f39309a7aae799e2207e}
igb\+\_\+configure\+\_\+rx -\/ Configure receive Unit after Reset \+: board private structure

Configure the Rx unit of the M\+AC after a reset. 

igb\+\_\+main.\+c 파일의 4117 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4118 \{
4119     \textcolor{keywordtype}{int} i;
4120 
4121     \textcolor{comment}{/* set UTA to appropriate mode */}
4122     \hyperlink{igb__main_8c_ace694fb8a9c0d0b98dad1ab65663564f}{igb\_set\_uta}(adapter);
4123 
4124     \textcolor{comment}{/* set the correct pool for the PF default MAC address in entry 0 */}
4125     \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\_rar\_set\_qsel}(adapter, adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}, 0,
4126              adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
4127 
4128     \textcolor{comment}{/* Setup the HW Rx Head and Tail Descriptor Pointers and}
4129 \textcolor{comment}{     * the Base and Length of the Rx Descriptor Ring}
4130 \textcolor{comment}{     */}
4131     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++)
4132         \hyperlink{igb__main_8c_a3c7af9ee2a4ec62998d9ec40aa64c118}{igb\_configure\_rx\_ring}(adapter, adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i]);
4133 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a13cb964c32d3f39309a7aae799e2207e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a13cb964c32d3f39309a7aae799e2207e_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure\+\_\+rx\+\_\+ring@{igb\+\_\+configure\+\_\+rx\+\_\+ring}}
\index{igb\+\_\+configure\+\_\+rx\+\_\+ring@{igb\+\_\+configure\+\_\+rx\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure\+\_\+rx\+\_\+ring(struct igb\+\_\+adapter $\ast$adapter, struct igb\+\_\+ring $\ast$ring)}{igb_configure_rx_ring(struct igb_adapter *adapter, struct igb_ring *ring)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+configure\+\_\+rx\+\_\+ring (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a3c7af9ee2a4ec62998d9ec40aa64c118}{}\label{igb__main_8c_a3c7af9ee2a4ec62998d9ec40aa64c118}
igb\+\_\+configure\+\_\+rx\+\_\+ring -\/ Configure a receive ring after Reset \+: board private structure \+: receive ring to be configured

Configure the Rx unit of the M\+AC after a reset. 

igb\+\_\+main.\+c 파일의 4025 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4027 \{
4028     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4029     \hyperlink{lib_2igb_2e1000__osdep_8h_a1d8f78f95a414480659f3182e6067b80}{u64} rdba = ring->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma};
4030     \textcolor{keywordtype}{int} reg\_idx = ring->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx};
4031     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} srrctl = 0, rxdctl = 0;
4032 
4033 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
4034     \textcolor{comment}{/*}
4035 \textcolor{comment}{     * RLPML prevents us from receiving a frame larger than max\_frame so}
4036 \textcolor{comment}{     * it is safe to just set the rx\_buffer\_len to max\_frame without the}
4037 \textcolor{comment}{     * risk of an skb over panic.}
4038 \textcolor{comment}{     */}
4039     ring->rx\_buffer\_len = max\_t(\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}, adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size},
4040                     \hyperlink{kmod_2igb_2igb_8h_a558641431a695c05def57ee8b13cef81}{MAXIMUM\_ETHERNET\_VLAN\_SIZE});
4041 
4042 \textcolor{preprocessor}{#endif}
4043     \textcolor{comment}{/* disable the queue */}
4044     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9563ac19965d3bd0892fd15f0c3a1dbd}{E1000\_RXDCTL}(reg\_idx), 0);
4045 
4046     \textcolor{comment}{/* Set DMA base address registers */}
4047     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9d831ba9f9151b22077f2a398ead76fd}{E1000\_RDBAL}(reg\_idx),
4048             rdba & 0x00000000ffffffffULL);
4049     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aaf1d5a8109540a3722cc498cca111a11}{E1000\_RDBAH}(reg\_idx), rdba >> 32);
4050     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a17f1bb8471b4b2b1fb0470923048d2d3}{E1000\_RDLEN}(reg\_idx),
4051             ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count} * \textcolor{keyword}{sizeof}(\textcolor{keyword}{union} \hyperlink{unione1000__adv__rx__desc}{e1000\_adv\_rx\_desc}));
4052 
4053     \textcolor{comment}{/* initialize head and tail */}
4054     ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail} = hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} + \hyperlink{kmod_2igb_2e1000__regs_8h_aaa0d18a293a9a7f4ed08cfde93918f8c}{E1000\_RDT}(reg\_idx);
4055     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aafeb8e2f7e7472fb876aa5306cebb1c1}{E1000\_RDH}(reg\_idx), 0);
4056     writel(0, ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail});
4057 
4058     \textcolor{comment}{/* reset next-to- use/clean to place SW in sync with hardwdare */}
4059     ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = 0;
4060     ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = 0;
4061 \textcolor{preprocessor}{#ifndef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
4062     ring->\hyperlink{structigb__ring_a0ed19f611cda670eaf9cd246fb6d6c07}{next\_to\_alloc} = 0;
4063 
4064 \textcolor{preprocessor}{#endif}
4065     \textcolor{comment}{/* set descriptor configuration */}
4066 \textcolor{preprocessor}{#ifndef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
4067     srrctl = \hyperlink{kmod_2igb_2igb_8h_a68b5667b412d2248471bc5058f257d6b}{IGB\_RX\_HDR\_LEN} << \hyperlink{kmod_2igb_2e1000__82575_8h_a9abbd476322ff231c419ffe2298fbf72}{E1000\_SRRCTL\_BSIZEHDRSIZE\_SHIFT}
      ;
4068     srrctl |= \hyperlink{kmod_2igb_2igb_8h_a8b3398992fa7da637eacbdf1bb483dae}{IGB\_RX\_BUFSZ} >> \hyperlink{kmod_2igb_2e1000__82575_8h_a928a58e08843d4a88f81351ecd20611d}{E1000\_SRRCTL\_BSIZEPKT\_SHIFT};
4069 \textcolor{preprocessor}{#else }\textcolor{comment}{/* CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT */}\textcolor{preprocessor}{}
4070     srrctl = ALIGN(ring->rx\_buffer\_len, 1024) >>
4071         \hyperlink{kmod_2igb_2e1000__82575_8h_a928a58e08843d4a88f81351ecd20611d}{E1000\_SRRCTL\_BSIZEPKT\_SHIFT};
4072 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT */}\textcolor{preprocessor}{}
4073     srrctl |= \hyperlink{kmod_2igb_2e1000__82575_8h_a562fda6f95cf9dd4250bfba7e26154e5}{E1000\_SRRCTL\_DESCTYPE\_ADV\_ONEBUF};
4074 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
4075     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580})
4076         srrctl |= \hyperlink{kmod_2igb_2e1000__82575_8h_aa65fadd03096597e4d1e49c58e415229}{E1000\_SRRCTL\_TIMESTAMP};
4077 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
4078     \textcolor{comment}{/*}
4079 \textcolor{comment}{     * We should set the drop enable bit if:}
4080 \textcolor{comment}{     *  SR-IOV is enabled}
4081 \textcolor{comment}{     *   or}
4082 \textcolor{comment}{     *  Flow Control is disabled and number of RX queues > 1}
4083 \textcolor{comment}{     *}
4084 \textcolor{comment}{     *  This allows us to avoid head of line blocking for security}
4085 \textcolor{comment}{     *  and performance reasons.}
4086 \textcolor{comment}{     */}
4087     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} ||
4088         (adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues} > 1 &&
4089          (hw->\hyperlink{structe1000__hw_a7b5f8715a9588ca1c4f6fd5b087aede7}{fc}.\hyperlink{structe1000__fc__info_a563a5640b5e1e50ba7f733b658f1f356}{requested\_mode} == \hyperlink{kmod_2igb_2e1000__hw_8h_a945f7c82643f147dea2193863639dfefa499bb84fecf88e0a547dd2d4b8593643}{e1000\_fc\_none} ||
4090           hw->\hyperlink{structe1000__hw_a7b5f8715a9588ca1c4f6fd5b087aede7}{fc}.\hyperlink{structe1000__fc__info_a563a5640b5e1e50ba7f733b658f1f356}{requested\_mode} == \hyperlink{kmod_2igb_2e1000__hw_8h_a945f7c82643f147dea2193863639dfefaf2a0619360e6280a2bab9d4d2c622b0c}{e1000\_fc\_rx\_pause})))
4091         srrctl |= \hyperlink{kmod_2igb_2e1000__82575_8h_a33a687aea1031dbf134cfc1dc2e3ce34}{E1000\_SRRCTL\_DROP\_EN};
4092 
4093     \textcolor{comment}{/* turn off header split */}
4094     srrctl &= 0xF3FFFFFF;
4095     srrctl |= 0x02000000;
4096 
4097     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a80b27d5f09656b9586e29f25a9d35268}{E1000\_SRRCTL}(reg\_idx), srrctl);
4098 
4099     \textcolor{comment}{/* set filtering for VMDQ pools */}
4100     \hyperlink{igb__main_8c_af094899cf6e9f4dff265d1d6edb5e639}{igb\_set\_vmolr}(adapter, reg\_idx & 0x7, \textcolor{keyword}{true});
4101 
4102     rxdctl |= \hyperlink{kmod_2igb_2igb_8h_a68bff36ef813c1553435f46e214a8f9b}{IGB\_RX\_PTHRESH};
4103     rxdctl |= \hyperlink{kmod_2igb_2igb_8h_a6b7211566791a39b6add7fb096e4ceb7}{IGB\_RX\_HTHRESH} << 8;
4104     rxdctl |= \hyperlink{kmod_2igb_2igb_8h_a84c26037da9675309cc9a5c357bc29bc}{IGB\_RX\_WTHRESH} << 16;
4105 
4106     \textcolor{comment}{/* enable receive descriptor fetching */}
4107     rxdctl |= \hyperlink{kmod_2igb_2e1000__82575_8h_a9260450cfb7c0bcfb1efc9c6ee010d85}{E1000\_RXDCTL\_QUEUE\_ENABLE};
4108     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9563ac19965d3bd0892fd15f0c3a1dbd}{E1000\_RXDCTL}(reg\_idx), rxdctl);
4109 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{igb__main_8c_a3c7af9ee2a4ec62998d9ec40aa64c118_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3c7af9ee2a4ec62998d9ec40aa64c118_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure\+\_\+tx@{igb\+\_\+configure\+\_\+tx}}
\index{igb\+\_\+configure\+\_\+tx@{igb\+\_\+configure\+\_\+tx}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure\+\_\+tx(struct igb\+\_\+adapter $\ast$)}{igb_configure_tx(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+configure\+\_\+tx (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1a1ca14ed87bf2cde466ff5fb47c4428}{}\label{igb__main_8c_a1a1ca14ed87bf2cde466ff5fb47c4428}
igb\+\_\+configure\+\_\+tx -\/ Configure transmit Unit after Reset \+: board private structure

Configure the Tx unit of the M\+AC after a reset. 

igb\+\_\+main.\+c 파일의 3641 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3642 \{
3643     \textcolor{keywordtype}{int} i;
3644 
3645     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; i++)
3646         \hyperlink{igb__main_8c_a9423e1fde94639e91362c30b4b874efc}{igb\_configure\_tx\_ring}(adapter, adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i]);
3647 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1a1ca14ed87bf2cde466ff5fb47c4428_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1a1ca14ed87bf2cde466ff5fb47c4428_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+configure\+\_\+tx\+\_\+ring@{igb\+\_\+configure\+\_\+tx\+\_\+ring}}
\index{igb\+\_\+configure\+\_\+tx\+\_\+ring@{igb\+\_\+configure\+\_\+tx\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+configure\+\_\+tx\+\_\+ring(struct igb\+\_\+adapter $\ast$adapter, struct igb\+\_\+ring $\ast$ring)}{igb_configure_tx_ring(struct igb_adapter *adapter, struct igb_ring *ring)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+configure\+\_\+tx\+\_\+ring (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a9423e1fde94639e91362c30b4b874efc}{}\label{igb__main_8c_a9423e1fde94639e91362c30b4b874efc}
igb\+\_\+configure\+\_\+tx\+\_\+ring -\/ Configure transmit ring after Reset \+: board private structure \+: tx ring to configure

Configure a transmit ring after a reset. 

igb\+\_\+main.\+c 파일의 3604 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3606 \{
3607     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3608     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} txdctl = 0;
3609     \hyperlink{lib_2igb_2e1000__osdep_8h_a1d8f78f95a414480659f3182e6067b80}{u64} tdba = ring->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma};
3610     \textcolor{keywordtype}{int} reg\_idx = ring->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx};
3611 
3612     \textcolor{comment}{/* disable the queue */}
3613     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8bf12553d73f6bac2b9a7845386357df}{E1000\_TXDCTL}(reg\_idx), 0);
3614     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
3615     mdelay(10);
3616 
3617     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ac389d5cfd9faa639c6e4858f0ad86ffc}{E1000\_TDLEN}(reg\_idx),
3618             ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count} * \textcolor{keyword}{sizeof}(\textcolor{keyword}{union} \hyperlink{unione1000__adv__tx__desc}{e1000\_adv\_tx\_desc}));
3619     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a0becbafa5ce5226e7013b46ab501822a}{E1000\_TDBAL}(reg\_idx),
3620             tdba & 0x00000000ffffffffULL);
3621     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a926320794ef17704f3348c33ef861400}{E1000\_TDBAH}(reg\_idx), tdba >> 32);
3622 
3623     ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail} = hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} + \hyperlink{kmod_2igb_2e1000__regs_8h_a1f489d0247c236b2a8fe28141377f69c}{E1000\_TDT}(reg\_idx);
3624     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a10c344281bdc006b96fd0a08b719e065}{E1000\_TDH}(reg\_idx), 0);
3625     writel(0, ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail});
3626 
3627     txdctl |= \hyperlink{kmod_2igb_2igb_8h_ae5f8a96fe2a307fc812058366eaae67e}{IGB\_TX\_PTHRESH};
3628     txdctl |= \hyperlink{kmod_2igb_2igb_8h_ae6ac5557f89f50f4a26bb0ba541300bf}{IGB\_TX\_HTHRESH} << 8;
3629     txdctl |= \hyperlink{igb__main_8c_a304973d618965dc8a80e29de6d4851bd}{igb\_tx\_wthresh}(adapter) << 16;
3630 
3631     txdctl |= \hyperlink{kmod_2igb_2e1000__82575_8h_a8478cded14fe1defbc6dbbd1fa50897c}{E1000\_TXDCTL\_QUEUE\_ENABLE};
3632     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8bf12553d73f6bac2b9a7845386357df}{E1000\_TXDCTL}(reg\_idx), txdctl);
3633 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{igb__main_8c_a9423e1fde94639e91362c30b4b874efc_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a9423e1fde94639e91362c30b4b874efc_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+del\+\_\+mac\+\_\+filter@{igb\+\_\+del\+\_\+mac\+\_\+filter}}
\index{igb\+\_\+del\+\_\+mac\+\_\+filter@{igb\+\_\+del\+\_\+mac\+\_\+filter}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+del\+\_\+mac\+\_\+filter(struct igb\+\_\+adapter $\ast$adapter, u8 $\ast$addr, u16 queue)}{igb_del_mac_filter(struct igb_adapter *adapter, u8 *addr, u16 queue)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+del\+\_\+mac\+\_\+filter (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u8} $\ast$}]{addr, }
\item[{{\bf u16}}]{queue}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aecb9d7d92e5e70e8ec5c531cc535a3b3}{}\label{igb__main_8c_aecb9d7d92e5e70e8ec5c531cc535a3b3}


igb\+\_\+main.\+c 파일의 9696 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9697 \{
9698     \textcolor{comment}{/* search table for addr, if found, set to 0 and sync */}
9699     \textcolor{keywordtype}{int} i;
9700     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9701 
9702     \textcolor{keywordflow}{if} (is\_zero\_ether\_addr(addr))
9703         \textcolor{keywordflow}{return} 0;
9704     \textcolor{keywordflow}{for} (i = 0; i < hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count}; i++) \{
9705         \textcolor{keywordflow}{if} (!ether\_addr\_equal(addr, adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_ad0cb1fd890c452cd6b53222cc82474a4}{addr}) &&
9706             adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a4895577ef36597501c4510a0ff6cea06}{queue} == queue) \{
9707             adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} = \hyperlink{kmod_2igb_2igb_8h_ae8dc5681cde451c06038797b1a278125}{IGB\_MAC\_STATE\_MODIFIED};
9708             memset(adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_ad0cb1fd890c452cd6b53222cc82474a4}{addr}, 0, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
9709             adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a4895577ef36597501c4510a0ff6cea06}{queue} = 0;
9710             \hyperlink{igb__main_8c_a2cf16945bd079ae2294168c26359c461}{igb\_sync\_mac\_table}(adapter);
9711             \textcolor{keywordflow}{return} 0;
9712         \}
9713     \}
9714     \textcolor{keywordflow}{return} -ENOMEM;
9715 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aecb9d7d92e5e70e8ec5c531cc535a3b3_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+disable\+\_\+mdd@{igb\+\_\+disable\+\_\+mdd}}
\index{igb\+\_\+disable\+\_\+mdd@{igb\+\_\+disable\+\_\+mdd}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+disable\+\_\+mdd(struct igb\+\_\+adapter $\ast$adapter)}{igb_disable_mdd(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+disable\+\_\+mdd (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1d5250b25231ad456f05035f9e2dc9e2}{}\label{igb__main_8c_a1d5250b25231ad456f05035f9e2dc9e2}
igb\+\_\+disable\+\_\+mdd  -\/ board private structure

Disable M\+DD behavior in the HW 

igb\+\_\+main.\+c 파일의 908 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
909 \{
910     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
911     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg;
912 
913     \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) &&
914         (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}))
915         \textcolor{keywordflow}{return};
916 
917     reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a65c5f0eb7e5586de4b8e165567de1c26}{E1000\_DTXCTL});
918     reg &= (~\hyperlink{kmod_2igb_2e1000__82575_8h_afa0905c6c51946b2eedf73a3313a5bdf}{E1000\_DTXCTL\_MDP\_EN});
919     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a65c5f0eb7e5586de4b8e165567de1c26}{E1000\_DTXCTL}, reg);
920 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1d5250b25231ad456f05035f9e2dc9e2_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+dma\+\_\+err\+\_\+task@{igb\+\_\+dma\+\_\+err\+\_\+task}}
\index{igb\+\_\+dma\+\_\+err\+\_\+task@{igb\+\_\+dma\+\_\+err\+\_\+task}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+dma\+\_\+err\+\_\+task(struct work\+\_\+struct $\ast$)}{igb_dma_err_task(struct work_struct *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+dma\+\_\+err\+\_\+task (
\begin{DoxyParamCaption}
\item[{struct work\+\_\+struct $\ast$}]{work}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1227dcbe1dae9a8fe75bd2db08394e6c}{}\label{igb__main_8c_a1227dcbe1dae9a8fe75bd2db08394e6c}


igb\+\_\+main.\+c 파일의 4973 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4974 \{
4975     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = container\_of(work,
4976                            \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter},
4977                            \hyperlink{structigb__adapter_a6cbe39db8d0f9cc3f2ab5180f975b468}{dma\_err\_task});
4978     \textcolor{keywordtype}{int} vf;
4979     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4980     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
4981     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} hgptc;
4982     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ciaa, ciad;
4983 
4984     hgptc = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a059a6ba524517706a98fee986e612038}{E1000\_HGPTC});
4985     \textcolor{keywordflow}{if} (hgptc) \textcolor{comment}{/* If incrementing then no need for the check below */}
4986         \textcolor{keywordflow}{goto} dma\_timer\_reset;
4987     \textcolor{comment}{/*}
4988 \textcolor{comment}{     * Check to see if a bad DMA write target from an errant or}
4989 \textcolor{comment}{     * malicious VF has caused a PCIe error.  If so then we can}
4990 \textcolor{comment}{     * issue a VFLR to the offending VF(s) and then resume without}
4991 \textcolor{comment}{     * requesting a full slot reset.}
4992 \textcolor{comment}{     */}
4993 
4994     \textcolor{keywordflow}{for} (vf = 0; vf < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; vf++) \{
4995         ciaa = (vf << 16) | 0x80000000;
4996         \textcolor{comment}{/* 32 bit read so align, we really want status at offset 6 */}
4997         ciaa |= PCI\_COMMAND;
4998         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a543cd647b035d7247682f88f87c91530}{E1000\_CIAA}, ciaa);
4999         ciad = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5605d616bf2dbbfdcbc7cb20b21b97fe}{E1000\_CIAD});
5000         ciaa &= 0x7FFFFFFF;
5001         \textcolor{comment}{/* disable debug mode asap after reading data */}
5002         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a543cd647b035d7247682f88f87c91530}{E1000\_CIAA}, ciaa);
5003         \textcolor{comment}{/* Get the upper 16 bits which will be the PCI status reg */}
5004         ciad >>= 16;
5005         \textcolor{keywordflow}{if} (ciad & (PCI\_STATUS\_REC\_MASTER\_ABORT |
5006                 PCI\_STATUS\_REC\_TARGET\_ABORT |
5007                 PCI\_STATUS\_SIG\_SYSTEM\_ERROR)) \{
5008             netdev\_err(netdev, \textcolor{stringliteral}{"VF %d suffered error\(\backslash\)n"}, vf);
5009             \textcolor{comment}{/* Issue VFLR */}
5010             ciaa = (vf << 16) | 0x80000000;
5011             ciaa |= 0xA8;
5012             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a543cd647b035d7247682f88f87c91530}{E1000\_CIAA}, ciaa);
5013             ciad = 0x00008000;  \textcolor{comment}{/* VFLR */}
5014             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5605d616bf2dbbfdcbc7cb20b21b97fe}{E1000\_CIAD}, ciad);
5015             ciaa &= 0x7FFFFFFF;
5016             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a543cd647b035d7247682f88f87c91530}{E1000\_CIAA}, ciaa);
5017         \}
5018     \}
5019 dma\_timer\_reset:
5020     \textcolor{comment}{/* Reset the timer */}
5021     \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
5022         mod\_timer(&adapter->\hyperlink{structigb__adapter_ac11a44ad73617c02ac826d263b35ed19}{dma\_err\_timer},
5023               round\_jiffies(jiffies + HZ / 10));
5024 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1227dcbe1dae9a8fe75bd2db08394e6c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+dma\+\_\+err\+\_\+timer@{igb\+\_\+dma\+\_\+err\+\_\+timer}}
\index{igb\+\_\+dma\+\_\+err\+\_\+timer@{igb\+\_\+dma\+\_\+err\+\_\+timer}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+dma\+\_\+err\+\_\+timer(struct timer\+\_\+list $\ast$)}{igb_dma_err_timer(struct timer_list *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+dma\+\_\+err\+\_\+timer (
\begin{DoxyParamCaption}
\item[{struct timer\+\_\+list $\ast$}]{timer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_af4ffa12ce3926f44d3133b422fd8d0d0}{}\label{igb__main_8c_af4ffa12ce3926f44d3133b422fd8d0d0}
igb\+\_\+dma\+\_\+err\+\_\+timer -\/ Timer Call-\/back \+: pointer to adapter cast into an unsigned long 

igb\+\_\+main.\+c 파일의 5031 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5035 \{
5036     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
5037 
5038 \textcolor{preprocessor}{#if LINUX\_VERSION\_CODE >= KERNEL\_VERSION(4,15,0)}
5039     adapter = container\_of(timer, \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}, \hyperlink{structigb__adapter_ac11a44ad73617c02ac826d263b35ed19}{dma\_err\_timer});
5040 \textcolor{preprocessor}{#else}
5041     adapter = (\textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *)data;
5042 \textcolor{preprocessor}{#endif}
5043 
5044     \textcolor{comment}{/* Do the rest outside of interrupt context */}
5045     schedule\_work(&adapter->\hyperlink{structigb__adapter_a6cbe39db8d0f9cc3f2ab5180f975b468}{dma\_err\_task});
5046 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af4ffa12ce3926f44d3133b422fd8d0d0_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+down@{igb\+\_\+down}}
\index{igb\+\_\+down@{igb\+\_\+down}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+down(struct igb\+\_\+adapter $\ast$adapter)}{igb_down(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+down (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aacbb63f4709878964f7afa56734e9333}{}\label{igb__main_8c_aacbb63f4709878964f7afa56734e9333}


igb\+\_\+main.\+c 파일의 1875 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1876 \{
1877     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
1878     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1879     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} tctl, rctl;
1880     \textcolor{keywordtype}{int} i;
1881 
1882     \textcolor{comment}{/* signal that we're down so the interrupt handler does not}
1883 \textcolor{comment}{     * reschedule our watchdog timer}
1884 \textcolor{comment}{     */}
1885     set\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
1886 
1887     \textcolor{comment}{/* disable receives in the hardware */}
1888     rctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL});
1889     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL}, rctl & ~
      \hyperlink{kmod_2igb_2e1000__defines_8h_aa97177426e645aa60186848bf1e307f9}{E1000\_RCTL\_EN});
1890     \textcolor{comment}{/* flush and sleep below */}
1891 
1892     netif\_carrier\_off(netdev);
1893     netif\_tx\_stop\_all\_queues(netdev);
1894 
1895     \textcolor{comment}{/* disable transmits in the hardware */}
1896     tctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a770f7e4f66d3516462df76bb289d73a6}{E1000\_TCTL});
1897     tctl &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_aaaf6ae184eda4d0dd0b29a3959d9e1c6}{E1000\_TCTL\_EN};
1898     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a770f7e4f66d3516462df76bb289d73a6}{E1000\_TCTL}, tctl);
1899     \textcolor{comment}{/* flush both disables and wait for them to finish */}
1900     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
1901     usleep\_range(10000, 20000);
1902 
1903     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
1904         napi\_disable(&(adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i]->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi}));
1905 
1906     \hyperlink{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}{igb\_irq\_disable}(adapter);
1907 
1908     adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE};
1909 
1910     del\_timer\_sync(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer});
1911     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
1912         del\_timer\_sync(&adapter->\hyperlink{structigb__adapter_ac11a44ad73617c02ac826d263b35ed19}{dma\_err\_timer});
1913     del\_timer\_sync(&adapter->\hyperlink{structigb__adapter_a7e23bd9ac9e32b5da3f8e807af5b0c5f}{phy\_info\_timer});
1914 
1915     \textcolor{comment}{/* record the stats before reset*/}
1916     \hyperlink{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677}{igb\_update\_stats}(adapter);
1917 
1918     adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed} = 0;
1919     adapter->\hyperlink{structigb__adapter_a06adafe39ef2dfbceac0f31970c54196}{link\_duplex} = 0;
1920 
1921 \textcolor{preprocessor}{#ifdef HAVE\_PCI\_ERS}
1922     \textcolor{keywordflow}{if} (!pci\_channel\_offline(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}))
1923         \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\_reset}(adapter);
1924 \textcolor{preprocessor}{#else}
1925     \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\_reset}(adapter);
1926 \textcolor{preprocessor}{#endif}
1927     \hyperlink{igb__main_8c_a528dca2f5f240b4d00f10dee7cdc3623}{igb\_clean\_all\_tx\_rings}(adapter);
1928     \hyperlink{igb__main_8c_a775ebb4a5a03f8658614dd1cbb7d7b53}{igb\_clean\_all\_rx\_rings}(adapter);
1929 \textcolor{preprocessor}{#ifdef IGB\_DCA}
1930     \textcolor{comment}{/* since we reset the hardware DCA settings were cleared */}
1931     igb\_setup\_dca(adapter);
1932 \textcolor{preprocessor}{#endif}
1933 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aacbb63f4709878964f7afa56734e9333_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aacbb63f4709878964f7afa56734e9333_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+enable\+\_\+mas@{igb\+\_\+enable\+\_\+mas}}
\index{igb\+\_\+enable\+\_\+mas@{igb\+\_\+enable\+\_\+mas}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+enable\+\_\+mas(struct igb\+\_\+adapter $\ast$adapter)}{igb_enable_mas(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+enable\+\_\+mas (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a1c265efb53b914e9b3b442c6be192f73}{}\label{igb__main_8c_a1c265efb53b914e9b3b442c6be192f73}
igb\+\_\+enable\+\_\+mas -\/ Media Autosense re-\/enable after swap

\+: adapter struct 

igb\+\_\+main.\+c 파일의 1950 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1951 \{
1952     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1953     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} connsw;
1954 
1955     connsw = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa1392665f89135ad7c6e6de93779c033}{E1000\_CONNSW});
1956 
1957     \textcolor{comment}{/* configure for SerDes media detect */}
1958     \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) &&
1959         (!(connsw & \hyperlink{kmod_2igb_2e1000__defines_8h_a543ea15dc075f93c9e41abac9a95918e}{E1000\_CONNSW\_SERDESD}))) \{
1960         connsw |= \hyperlink{kmod_2igb_2e1000__defines_8h_aeab22ee2df8c807aaccde7abc6873cbf}{E1000\_CONNSW\_ENRGSRC};
1961         connsw |= \hyperlink{kmod_2igb_2e1000__defines_8h_acad7ea16b39f6885888961684f9b6191}{E1000\_CONNSW\_AUTOSENSE\_EN};
1962         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa1392665f89135ad7c6e6de93779c033}{E1000\_CONNSW}, connsw);
1963         \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
1964     \}
1965 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+enable\+\_\+mdd@{igb\+\_\+enable\+\_\+mdd}}
\index{igb\+\_\+enable\+\_\+mdd@{igb\+\_\+enable\+\_\+mdd}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+enable\+\_\+mdd(struct igb\+\_\+adapter $\ast$adapter)}{igb_enable_mdd(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+enable\+\_\+mdd (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab86bc3bb633ca727bf776b726716bec3}{}\label{igb__main_8c_ab86bc3bb633ca727bf776b726716bec3}
igb\+\_\+enable\+\_\+mdd  -\/ board private structure

Enable the HW to detect malicious driver and sends an interrupt to the driver. 

igb\+\_\+main.\+c 파일의 929 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
930 \{
931     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
932     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg;
933 
934     \textcolor{comment}{/* Only available on i350 device */}
935     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350})
936         \textcolor{keywordflow}{return};
937 
938     reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a65c5f0eb7e5586de4b8e165567de1c26}{E1000\_DTXCTL});
939     reg |= \hyperlink{kmod_2igb_2e1000__82575_8h_afa0905c6c51946b2eedf73a3313a5bdf}{E1000\_DTXCTL\_MDP\_EN};
940     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a65c5f0eb7e5586de4b8e165567de1c26}{E1000\_DTXCTL}, reg);
941 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab86bc3bb633ca727bf776b726716bec3_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+exit\+\_\+module@{igb\+\_\+exit\+\_\+module}}
\index{igb\+\_\+exit\+\_\+module@{igb\+\_\+exit\+\_\+module}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+exit\+\_\+module(void)}{igb_exit_module(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static void \+\_\+\+\_\+exit igb\+\_\+exit\+\_\+module (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a843afea061333f06f5fed711c4157730}{}\label{igb__main_8c_a843afea061333f06f5fed711c4157730}
igb\+\_\+exit\+\_\+module -\/ Driver Exit Cleanup Routine

igb\+\_\+exit\+\_\+module is called just before the driver is removed from memory. 

igb\+\_\+main.\+c 파일의 428 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
429 \{
430 \textcolor{preprocessor}{#ifdef IGB\_DCA}
431     dca\_unregister\_notify(&dca\_notifier);
432 \textcolor{preprocessor}{#endif}
433 \textcolor{preprocessor}{#ifdef USE\_REBOOT\_NOTIFIER}
434     unregister\_reboot\_notifier(&igb\_notifier\_reboot);
435 \textcolor{preprocessor}{#endif}
436     misc\_deregister(&\hyperlink{igb__main_8c_a56502b636655b8aa8730204ae9e8dd28}{igb\_miscdev});
437     pci\_unregister\_driver(&\hyperlink{igb__main_8c_a45fd99b8fd5045e69f4ae20d76acbd1c}{igb\_driver});
438 
439 \textcolor{preprocessor}{#ifdef IGB\_HWMON}
440 \textcolor{comment}{/* only compile IGB\_PROCFS if IGB\_HWMON is not defined */}
441 \textcolor{preprocessor}{#else}
442 \textcolor{preprocessor}{#ifdef IGB\_PROCFS}
443     igb\_procfs\_topdir\_exit();
444 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_PROCFS */}\textcolor{preprocessor}{}
445 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_HWMON */}\textcolor{preprocessor}{}
446 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{igb__main_8c_a843afea061333f06f5fed711c4157730_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+fetch\+\_\+rx\+\_\+buffer@{igb\+\_\+fetch\+\_\+rx\+\_\+buffer}}
\index{igb\+\_\+fetch\+\_\+rx\+\_\+buffer@{igb\+\_\+fetch\+\_\+rx\+\_\+buffer}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+fetch\+\_\+rx\+\_\+buffer(struct igb\+\_\+ring $\ast$rx\+\_\+ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_fetch_rx_buffer(struct igb_ring *rx_ring, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct sk\+\_\+buff$\ast$ igb\+\_\+fetch\+\_\+rx\+\_\+buffer (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a2e28d3d9cd99c531a5584b3f327be1a4}{}\label{igb__main_8c_a2e28d3d9cd99c531a5584b3f327be1a4}


igb\+\_\+main.\+c 파일의 7608 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7611 \{
7612     \textcolor{keyword}{struct }\hyperlink{structigb__rx__buffer}{igb\_rx\_buffer} *rx\_buffer;
7613     \textcolor{keyword}{struct }page *page;
7614 
7615     rx\_buffer = &rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info}[rx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean}];
7616 
7617     page = rx\_buffer->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page};
7618     prefetchw(page);
7619 
7620     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(!skb)) \{
7621         \textcolor{keywordtype}{void} *page\_addr = page\_address(page) +
7622                   rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset};
7623 
7624         \textcolor{comment}{/* prefetch first cache line of first page */}
7625         \hyperlink{lib_2igb_2e1000__osdep_8h_a004692feb1f91896c21a6d1644b54f2b}{prefetch}(page\_addr);
7626 \textcolor{preprocessor}{#if L1\_CACHE\_BYTES < 128}
7627         \hyperlink{lib_2igb_2e1000__osdep_8h_a004692feb1f91896c21a6d1644b54f2b}{prefetch}(page\_addr + L1\_CACHE\_BYTES);
7628 \textcolor{preprocessor}{#endif}
7629 
7630         \textcolor{comment}{/* allocate a skb to store the frags */}
7631         skb = netdev\_alloc\_skb\_ip\_align(rx\_ring->\hyperlink{structigb__ring_a5b3eca5b24cb88421c27369d02ebe884}{netdev},
7632                         \hyperlink{kmod_2igb_2igb_8h_a68b5667b412d2248471bc5058f257d6b}{IGB\_RX\_HDR\_LEN});
7633         \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!skb)) \{
7634             rx\_ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a260763fb6a6e3c1a33dc38d7e46bd610}{alloc\_failed}++;
7635             \textcolor{keywordflow}{return} \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
7636         \}
7637 
7638         \textcolor{comment}{/*}
7639 \textcolor{comment}{         * we will be copying header into skb->data in}
7640 \textcolor{comment}{         * pskb\_may\_pull so it is in our interest to prefetch}
7641 \textcolor{comment}{         * it now to avoid a possible cache miss}
7642 \textcolor{comment}{         */}
7643         prefetchw(skb->data);
7644     \}
7645 
7646     \textcolor{comment}{/* we are reusing so sync this buffer for CPU use */}
7647     dma\_sync\_single\_range\_for\_cpu(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
7648                       rx\_buffer->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma},
7649                       rx\_buffer->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset},
7650                       \hyperlink{kmod_2igb_2igb_8h_a8b3398992fa7da637eacbdf1bb483dae}{IGB\_RX\_BUFSZ},
7651                       DMA\_FROM\_DEVICE);
7652 
7653     \textcolor{comment}{/* pull page into skb */}
7654     \textcolor{keywordflow}{if} (\hyperlink{igb__main_8c_a65acafe0bd791ce3f8dccdc54ef2b204}{igb\_add\_rx\_frag}(rx\_ring, rx\_buffer, rx\_desc, skb)) \{
7655         \textcolor{comment}{/* hand second half of page back to the ring */}
7656         \hyperlink{igb__main_8c_a46fc715fbcaaf9756175ca26b0117c75}{igb\_reuse\_rx\_page}(rx\_ring, rx\_buffer);
7657     \} \textcolor{keywordflow}{else} \{
7658         \textcolor{comment}{/* we are not reusing the buffer so unmap it */}
7659         dma\_unmap\_page(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, rx\_buffer->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma},
7660                    PAGE\_SIZE, DMA\_FROM\_DEVICE);
7661     \}
7662 
7663     \textcolor{comment}{/* clear contents of rx\_buffer */}
7664     rx\_buffer->\hyperlink{structigb__rx__buffer_ad45c9283ecdd581420d88bc33100364a}{page} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
7665 
7666     \textcolor{keywordflow}{return} skb;
7667 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2e28d3d9cd99c531a5584b3f327be1a4_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2e28d3d9cd99c531a5584b3f327be1a4_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+find\+\_\+vlvf\+\_\+entry@{igb\+\_\+find\+\_\+vlvf\+\_\+entry}}
\index{igb\+\_\+find\+\_\+vlvf\+\_\+entry@{igb\+\_\+find\+\_\+vlvf\+\_\+entry}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+find\+\_\+vlvf\+\_\+entry(struct igb\+\_\+adapter $\ast$adapter, int vid)}{igb_find_vlvf_entry(struct igb_adapter *adapter, int vid)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+find\+\_\+vlvf\+\_\+entry (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{vid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a65d442493be7273ba5275312e197270f}{}\label{igb__main_8c_a65d442493be7273ba5275312e197270f}


igb\+\_\+main.\+c 파일의 6793 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6794 \{
6795     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6796     \textcolor{keywordtype}{int} i;
6797     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg;
6798 
6799     \textcolor{comment}{/* Find the vlan filter for this id */}
6800     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__82575_8h_a9b65bd3932341dbf8102854360932f9b}{E1000\_VLVF\_ARRAY\_SIZE}; i++) \{
6801         reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i));
6802         \textcolor{keywordflow}{if} ((reg & \hyperlink{kmod_2igb_2e1000__82575_8h_aff96eb411f46db0aaceb1a4d561504fb}{E1000\_VLVF\_VLANID\_ENABLE}) &&
6803             vid == (reg & \hyperlink{kmod_2igb_2e1000__82575_8h_afc12f20bb2b0e134b07c1b7c1108d0b0}{E1000\_VLVF\_VLANID\_MASK}))
6804             \textcolor{keywordflow}{break};
6805     \}
6806 
6807     \textcolor{keywordflow}{if} (i >= E1000\_VLVF\_ARRAY\_SIZE)
6808         i = -1;
6809 
6810     \textcolor{keywordflow}{return} i;
6811 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a65d442493be7273ba5275312e197270f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+fix\+\_\+features@{igb\+\_\+fix\+\_\+features}}
\index{igb\+\_\+fix\+\_\+features@{igb\+\_\+fix\+\_\+features}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+fix\+\_\+features(struct net\+\_\+device $\ast$netdev, netdev\+\_\+features\+\_\+t features)}{igb_fix_features(struct net_device *netdev, netdev_features_t features)}}]{\setlength{\rightskip}{0pt plus 5cm}static netdev\+\_\+features\+\_\+t igb\+\_\+fix\+\_\+features (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{netdev\+\_\+features\+\_\+t}]{features}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a342dc3727928a47149304e78b86cb2f3}{}\label{igb__main_8c_a342dc3727928a47149304e78b86cb2f3}


igb\+\_\+main.\+c 파일의 2130 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2132 \{
2133     \textcolor{comment}{/*}
2134 \textcolor{comment}{     * Since there is no support for separate tx vlan accel}
2135 \textcolor{comment}{     * enabled make sure tx flag is cleared if rx is.}
2136 \textcolor{comment}{     */}
2137 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
2138     \textcolor{keywordflow}{if} (!(\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & NETIF\_F\_HW\_VLAN\_CTAG\_RX))
2139         \hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} &= ~NETIF\_F\_HW\_VLAN\_CTAG\_TX;
2140 \textcolor{preprocessor}{#else}
2141     \textcolor{keywordflow}{if} (!(\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & NETIF\_F\_HW\_VLAN\_RX))
2142         \hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} &= ~NETIF\_F\_HW\_VLAN\_TX;
2143 \textcolor{preprocessor}{#endif}
2144 
2145     \textcolor{comment}{/* If Rx checksum is disabled, then LRO should also be disabled */}
2146     \textcolor{keywordflow}{if} (!(\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & NETIF\_F\_RXCSUM))
2147         \hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} &= ~\hyperlink{kcompat_8h_ad8819a3229664f156f3f1fd1d0aff2ba}{NETIF\_F\_LRO};
2148 
2149     \textcolor{keywordflow}{return} \hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features};
2150 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources@{igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources}}
\index{igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources@{igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources(struct igb\+\_\+adapter $\ast$)}{igb_free_all_rx_resources(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c}{}\label{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c}
igb\+\_\+free\+\_\+all\+\_\+rx\+\_\+resources -\/ Free Rx Resources for All Queues \+: board private structure

Free all receive software resources 

igb\+\_\+main.\+c 파일의 4266 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4267 \{
4268     \textcolor{keywordtype}{int} i;
4269 
4270     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++)
4271         \hyperlink{igb__main_8c_a720d12b2ab81f301056c531488a9812e}{igb\_free\_rx\_resources}(adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i]);
4272 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources@{igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources}}
\index{igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources@{igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources(struct igb\+\_\+adapter $\ast$)}{igb_free_all_tx_resources(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359}{}\label{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359}
igb\+\_\+free\+\_\+all\+\_\+tx\+\_\+resources -\/ Free Tx Resources for All Queues \+: board private structure

Free all transmit software resources 

igb\+\_\+main.\+c 파일의 4164 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4165 \{
4166     \textcolor{keywordtype}{int} i;
4167 
4168     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; i++)
4169         \hyperlink{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835}{igb\_free\_tx\_resources}(adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i]);
4170 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+irq@{igb\+\_\+free\+\_\+irq}}
\index{igb\+\_\+free\+\_\+irq@{igb\+\_\+free\+\_\+irq}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+irq(struct igb\+\_\+adapter $\ast$adapter)}{igb_free_irq(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+free\+\_\+irq (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a8ccf51b131f19e9ab994e083efa1d9de}{}\label{igb__main_8c_a8ccf51b131f19e9ab994e083efa1d9de}


igb\+\_\+main.\+c 파일의 1419 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1420 \{
1421     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
1422         \textcolor{keywordtype}{int} vector = 0, i;
1423 
1424         free\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[vector++].vector, adapter);
1425 
1426         \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
1427             free\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[vector++].vector,
1428                  adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i]);
1429     \} \textcolor{keywordflow}{else} \{
1430         free\_irq(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->irq, adapter);
1431     \}
1432 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8ccf51b131f19e9ab994e083efa1d9de_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+q\+\_\+vector@{igb\+\_\+free\+\_\+q\+\_\+vector}}
\index{igb\+\_\+free\+\_\+q\+\_\+vector@{igb\+\_\+free\+\_\+q\+\_\+vector}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+q\+\_\+vector(struct igb\+\_\+adapter $\ast$adapter, int v\+\_\+idx)}{igb_free_q_vector(struct igb_adapter *adapter, int v_idx)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+free\+\_\+q\+\_\+vector (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{v\+\_\+idx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab024dc08d71e615a0df06efebba36d2b}{}\label{igb__main_8c_ab024dc08d71e615a0df06efebba36d2b}
igb\+\_\+free\+\_\+q\+\_\+vector -\/ Free memory allocated for specific interrupt vector \+: board private structure to initialize \+: Index of vector to be freed

This function frees the memory allocated to the q\+\_\+vector. 

igb\+\_\+main.\+c 파일의 767 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
768 \{
769     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[v\_idx];
770 
771     adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[v\_idx] = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
772 
773     \textcolor{comment}{/* igb\_get\_stats64() might access the rings on this vector,}
774 \textcolor{comment}{     * we must wait a grace period before freeing it.}
775 \textcolor{comment}{     */}
776     kfree\_rcu(q\_vector, \hyperlink{structigb__q__vector_aa9677537ffa4e40f3c4f3e9fb3b4c76d}{rcu});
777 
778 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
779     \_\_skb\_queue\_purge(&q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist}.\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active});
780 \textcolor{preprocessor}{#endif}
781 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab024dc08d71e615a0df06efebba36d2b_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+q\+\_\+vectors@{igb\+\_\+free\+\_\+q\+\_\+vectors}}
\index{igb\+\_\+free\+\_\+q\+\_\+vectors@{igb\+\_\+free\+\_\+q\+\_\+vectors}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+q\+\_\+vectors(struct igb\+\_\+adapter $\ast$adapter)}{igb_free_q_vectors(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+free\+\_\+q\+\_\+vectors (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a07873e8efbcfe526b1cedb1c6358f349}{}\label{igb__main_8c_a07873e8efbcfe526b1cedb1c6358f349}
igb\+\_\+free\+\_\+q\+\_\+vectors -\/ Free memory allocated for interrupt vectors \+: board private structure to initialize

This function frees the memory allocated to the q\+\_\+vectors. In addition if N\+A\+PI is enabled it will delete any references to the N\+A\+PI struct prior to freeing the q\+\_\+vector. 

igb\+\_\+main.\+c 파일의 835 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
836 \{
837     \textcolor{keywordtype}{int} v\_idx = adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors};
838 
839     adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} = 0;
840     adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues} = 0;
841     adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors} = 0;
842 
843     \textcolor{keywordflow}{while} (v\_idx--) \{
844         \hyperlink{igb__main_8c_a48d76737c7124584f71c25615a15f36f}{igb\_reset\_q\_vector}(adapter, v\_idx);
845         \hyperlink{igb__main_8c_ab024dc08d71e615a0df06efebba36d2b}{igb\_free\_q\_vector}(adapter, v\_idx);
846     \}
847 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{igb__main_8c_a07873e8efbcfe526b1cedb1c6358f349_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a07873e8efbcfe526b1cedb1c6358f349_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+rx\+\_\+resources@{igb\+\_\+free\+\_\+rx\+\_\+resources}}
\index{igb\+\_\+free\+\_\+rx\+\_\+resources@{igb\+\_\+free\+\_\+rx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+rx\+\_\+resources(struct igb\+\_\+ring $\ast$rx\+\_\+ring)}{igb_free_rx_resources(struct igb_ring *rx_ring)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+free\+\_\+rx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a720d12b2ab81f301056c531488a9812e}{}\label{igb__main_8c_a720d12b2ab81f301056c531488a9812e}
igb\+\_\+free\+\_\+rx\+\_\+resources -\/ Free Rx Resources \+: ring to clean the resources from

Free all receive software resources 

igb\+\_\+main.\+c 파일의 4243 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4244 \{
4245     \hyperlink{igb__main_8c_a4d2e787907154102e3b72ee675f86726}{igb\_clean\_rx\_ring}(rx\_ring);
4246 
4247     vfree(rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info});
4248     rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4249 
4250     \textcolor{comment}{/* if not set, then don't free */}
4251     \textcolor{keywordflow}{if} (!rx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc})
4252         \textcolor{keywordflow}{return};
4253 
4254     dma\_free\_coherent(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, rx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size},
4255               rx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc}, rx\_ring->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma});
4256 
4257     rx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4258 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{igb__main_8c_a720d12b2ab81f301056c531488a9812e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a720d12b2ab81f301056c531488a9812e_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+free\+\_\+tx\+\_\+resources@{igb\+\_\+free\+\_\+tx\+\_\+resources}}
\index{igb\+\_\+free\+\_\+tx\+\_\+resources@{igb\+\_\+free\+\_\+tx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+free\+\_\+tx\+\_\+resources(struct igb\+\_\+ring $\ast$tx\+\_\+ring)}{igb_free_tx_resources(struct igb_ring *tx_ring)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+free\+\_\+tx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835}{}\label{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835}
igb\+\_\+free\+\_\+tx\+\_\+resources -\/ Free Tx Resources per Queue \+: Tx descriptor ring for a specific queue

Free all transmit software resources 

igb\+\_\+main.\+c 파일의 4141 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4142 \{
4143     \hyperlink{igb__main_8c_ac27edda1b6c90dd950ea565f7ccbc4ea}{igb\_clean\_tx\_ring}(tx\_ring);
4144 
4145     vfree(tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info});
4146     tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4147 
4148     \textcolor{comment}{/* if not set, then don't free */}
4149     \textcolor{keywordflow}{if} (!tx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc})
4150         \textcolor{keywordflow}{return};
4151 
4152     dma\_free\_coherent(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, tx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size},
4153               tx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc}, tx\_ring->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma});
4154 
4155     tx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4156 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table@{igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table}}
\index{igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table@{igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table(struct igb\+\_\+adapter $\ast$adapter)}{igb_full_sync_mac_table(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+full\+\_\+sync\+\_\+mac\+\_\+table (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aa89f95f5b6053c416c0cc99e5ec7d788}{}\label{igb__main_8c_aa89f95f5b6053c416c0cc99e5ec7d788}


igb\+\_\+main.\+c 파일의 4445 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4446 \{
4447     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4448     \textcolor{keywordtype}{int} i;
4449 
4450     \textcolor{keywordflow}{for} (i = 0; i < hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count}; i++)
4451         \hyperlink{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7}{igb\_rar\_set}(adapter, i);
4452 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{igb__main_8c_aa89f95f5b6053c416c0cc99e5ec7d788_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+get\+\_\+headlen@{igb\+\_\+get\+\_\+headlen}}
\index{igb\+\_\+get\+\_\+headlen@{igb\+\_\+get\+\_\+headlen}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+get\+\_\+headlen(unsigned char $\ast$data, unsigned int max\+\_\+len)}{igb_get_headlen(unsigned char *data, unsigned int max_len)}}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int igb\+\_\+get\+\_\+headlen (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{data, }
\item[{unsigned int}]{max\+\_\+len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a8603b3975948f4da1cf253d1394c64a6}{}\label{igb__main_8c_a8603b3975948f4da1cf253d1394c64a6}
igb\+\_\+get\+\_\+headlen -\/ determine size of header for L\+R\+O/\+G\+RO \+: pointer to the start of the headers \+: total length of section to find headers in

This function is meant to determine the length of headers that will be recognized by hardware for L\+RO, and G\+RO offloads. The main motivation of doing this is to only perform one pull for I\+Pv4 T\+CP packets so that we can do basic things like calculating the gso\+\_\+size based on the average data per packet. 

igb\+\_\+main.\+c 파일의 8394 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8396 \{
8397     \textcolor{keyword}{union }\{
8398         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *network;
8399         \textcolor{comment}{/* l2 headers */}
8400         \textcolor{keyword}{struct }ethhdr *eth;
8401         \textcolor{keyword}{struct }\hyperlink{kcompat_8h_a84235413d0b762cf2c4506c88c52720b}{vlan\_hdr} *vlan;
8402         \textcolor{comment}{/* l3 headers */}
8403         \textcolor{keyword}{struct }iphdr *ipv4;
8404         \textcolor{keyword}{struct }ipv6hdr *ipv6;
8405     \} hdr;
8406     \_\_be16 protocol;
8407     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} nexthdr = 0;   \textcolor{comment}{/* default to not TCP */}
8408     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} hlen;
8409 
8410     \textcolor{comment}{/* this should never happen, but better safe than sorry */}
8411     \textcolor{keywordflow}{if} (max\_len < ETH\_HLEN)
8412         \textcolor{keywordflow}{return} max\_len;
8413 
8414     \textcolor{comment}{/* initialize network frame pointer */}
8415     hdr.network = data;
8416 
8417     \textcolor{comment}{/* set first protocol and move network header forward */}
8418     protocol = hdr.eth->h\_proto;
8419     hdr.network += ETH\_HLEN;
8420 
8421     \textcolor{comment}{/* handle any vlan tag if present */}
8422     \textcolor{keywordflow}{if} (protocol == htons(\hyperlink{kcompat_8h_af72f9ea45564e2934a4a332379eb4f26}{ETH\_P\_8021Q})) \{
8423         \textcolor{keywordflow}{if} ((hdr.network - data) > (max\_len - \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN}))
8424             \textcolor{keywordflow}{return} max\_len;
8425 
8426         protocol = hdr.vlan->h\_vlan\_encapsulated\_proto;
8427         hdr.network += \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN};
8428     \}
8429 
8430     \textcolor{comment}{/* handle L3 protocols */}
8431     \textcolor{keywordflow}{if} (protocol == htons(ETH\_P\_IP)) \{
8432         \textcolor{keywordflow}{if} ((hdr.network - data) > (max\_len - \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} iphdr)))
8433             \textcolor{keywordflow}{return} max\_len;
8434 
8435         \textcolor{comment}{/* access ihl as a u8 to avoid unaligned access on ia64 */}
8436         hlen = (hdr.network[0] & 0x0F) << 2;
8437 
8438         \textcolor{comment}{/* verify hlen meets minimum size requirements */}
8439         \textcolor{keywordflow}{if} (hlen < \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} iphdr))
8440             \textcolor{keywordflow}{return} hdr.network - data;
8441 
8442         \textcolor{comment}{/* record next protocol if header is present */}
8443         if (!(hdr.ipv4->frag\_off & htons(\hyperlink{kcompat_8h_aa4f6fa2a30aff068831c7d2f4b5f2516}{IP\_OFFSET})))
8444             nexthdr = hdr.ipv4->protocol;
8445 #ifdef NETIF\_F\_TSO6
8446     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (protocol == htons(ETH\_P\_IPV6)) \{
8447         \textcolor{keywordflow}{if} ((hdr.network - data) > (max\_len - \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }ipv6hdr)))
8448             return max\_len;
8449 
8450         \textcolor{comment}{/* record next protocol */}
8451         nexthdr = hdr.ipv6->nexthdr;
8452         hlen = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }ipv6hdr);
8453 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* NETIF\_F\_TSO6 */}\textcolor{preprocessor}{}
8454     \} \textcolor{keywordflow}{else} \{
8455         \textcolor{keywordflow}{return} hdr.network - data;
8456     \}
8457 
8458     \textcolor{comment}{/* relocate pointer to start of L4 header */}
8459     hdr.network += hlen;
8460 
8461     \textcolor{comment}{/* finally sort out TCP */}
8462     \textcolor{keywordflow}{if} (nexthdr == IPPROTO\_TCP) \{
8463         \textcolor{keywordflow}{if} ((hdr.network - data) > (max\_len - \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} tcphdr)))
8464             \textcolor{keywordflow}{return} max\_len;
8465 
8466         \textcolor{comment}{/* access doff as a u8 to avoid unaligned access on ia64 */}
8467         hlen = (hdr.network[12] & 0xF0) >> 2;
8468 
8469         \textcolor{comment}{/* verify hlen meets minimum size requirements */}
8470         \textcolor{keywordflow}{if} (hlen < \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} tcphdr))
8471             \textcolor{keywordflow}{return} hdr.network - data;
8472 
8473         hdr.network += hlen;
8474     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nexthdr == IPPROTO\_UDP) \{
8475         \textcolor{keywordflow}{if} ((hdr.network - data) > (max\_len - \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }udphdr)))
8476             return max\_len;
8477 
8478         hdr.network += \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }udphdr);
8479     \}
8480 
8481     \textcolor{comment}{/*}
8482 \textcolor{comment}{     * If everything has gone correctly hdr.network should be the}
8483 \textcolor{comment}{     * data section of the packet and will be the end of the header.}
8484 \textcolor{comment}{     * If not then it probably represents the end of the last recognized}
8485 \textcolor{comment}{     * header.}
8486 \textcolor{comment}{     */}
8487     \textcolor{keywordflow}{if} ((hdr.network - data) < max\_len)
8488         \textcolor{keywordflow}{return} hdr.network - data;
8489     \textcolor{keywordflow}{else}
8490         \textcolor{keywordflow}{return} max\_len;
8491 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8603b3975948f4da1cf253d1394c64a6_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+get\+\_\+hw\+\_\+control@{igb\+\_\+get\+\_\+hw\+\_\+control}}
\index{igb\+\_\+get\+\_\+hw\+\_\+control@{igb\+\_\+get\+\_\+hw\+\_\+control}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+get\+\_\+hw\+\_\+control(struct igb\+\_\+adapter $\ast$adapter)}{igb_get_hw_control(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+get\+\_\+hw\+\_\+control (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a8db219783b6a954ed4b940220918109f}{}\label{igb__main_8c_a8db219783b6a954ed4b940220918109f}
igb\+\_\+get\+\_\+hw\+\_\+control -\/ get control of the h/w from f/w \+: address of board private structure

igb\+\_\+get\+\_\+hw\+\_\+control sets C\+T\+R\+L\+\_\+\+E\+XT\+:D\+R\+V\+\_\+\+L\+O\+AD bit. For A\+SF and Pass Through versions of f/w this means that the driver is loaded. 

igb\+\_\+main.\+c 파일의 1564 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1565 \{
1566     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1567     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl\_ext;
1568 
1569     \textcolor{comment}{/* Let firmware know the driver has taken over */}
1570     ctrl\_ext = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
1571     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT},
1572             ctrl\_ext | \hyperlink{kmod_2igb_2e1000__defines_8h_ae2033cad6f127692abb886ecfaba1f07}{E1000\_CTRL\_EXT\_DRV\_LOAD});
1573 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8db219783b6a954ed4b940220918109f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+get\+\_\+stats@{igb\+\_\+get\+\_\+stats}}
\index{igb\+\_\+get\+\_\+stats@{igb\+\_\+get\+\_\+stats}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+get\+\_\+stats(struct net\+\_\+device $\ast$)}{igb_get_stats(struct net_device *)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct net\+\_\+device\+\_\+stats $\ast$ igb\+\_\+get\+\_\+stats (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_acd317fc0ead8f2b982fa435d49b9e336}{}\label{igb__main_8c_acd317fc0ead8f2b982fa435d49b9e336}
igb\+\_\+get\+\_\+stats -\/ Get System Network Statistics \+: network interface device structure

Returns the address of the device statistics structure. The statistics are updated here and also from the timer callback. 

igb\+\_\+main.\+c 파일의 5834 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5835 \{
5836     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
5837 
5838     \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa11bf36bdba8153146a1fa18ce807324c}{\_\_IGB\_RESETTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
5839         \hyperlink{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677}{igb\_update\_stats}(adapter);
5840 
5841 \textcolor{preprocessor}{#ifdef HAVE\_NETDEV\_STATS\_IN\_NETDEV}
5842     \textcolor{comment}{/* only return the current stats */}
5843     \textcolor{keywordflow}{return} &\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->stats;
5844 \textcolor{preprocessor}{#else}
5845     \textcolor{comment}{/* only return the current stats */}
5846     \textcolor{keywordflow}{return} &adapter->net\_stats;
5847 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_NETDEV\_STATS\_IN\_NETDEV */}\textcolor{preprocessor}{}
5848 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_acd317fc0ead8f2b982fa435d49b9e336_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_acd317fc0ead8f2b982fa435d49b9e336_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+getspeed@{igb\+\_\+getspeed}}
\index{igb\+\_\+getspeed@{igb\+\_\+getspeed}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+getspeed(struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg)}{igb_getspeed(struct file *file, void __user *arg)}}]{\setlength{\rightskip}{0pt plus 5cm}static long igb\+\_\+getspeed (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{void \+\_\+\+\_\+user $\ast$}]{arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a2271d56e6345d78572aa614976a58d3a}{}\label{igb__main_8c_a2271d56e6345d78572aa614976a58d3a}


igb\+\_\+main.\+c 파일의 10330 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10331 \{
10332     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10333     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
10334     \textcolor{keyword}{struct }\hyperlink{structigb__link__cmd}{igb\_link\_cmd} req;
10335     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}  link;
10336 
10337     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10338         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10339         \textcolor{keywordflow}{return} -ENOENT;
10340     \}
10341 
10342     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10343     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10344         printk(\textcolor{stringliteral}{"map to unbound device!\(\backslash\)n"});
10345         \textcolor{keywordflow}{return} -ENOENT;
10346     \}
10347 
10348     link = \hyperlink{igb__main_8c_ab64cb6706f8303113a7af937ca35934f}{igb\_has\_link}(adapter);
10349     \textcolor{keywordflow}{if} (link) \{
10350         req.up = link;
10351         req.speed = adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed};
10352         req.duplex = adapter->\hyperlink{structigb__adapter_a06adafe39ef2dfbceac0f31970c54196}{link\_duplex};
10353     \} \textcolor{keywordflow}{else} \{
10354         req.up = link;
10355         req.speed = 0;
10356         req.duplex = DUPLEX\_FULL;
10357     \}
10358 
10359     \textcolor{keywordflow}{if} (copy\_to\_user(arg, &req, \textcolor{keyword}{sizeof}(req))) \{
10360         printk(\textcolor{stringliteral}{"copyout to user failed\(\backslash\)n"});
10361         \textcolor{keywordflow}{return} -EFAULT;
10362     \}
10363     \textcolor{keywordflow}{return} 0;
10364 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2271d56e6345d78572aa614976a58d3a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{igb__main_8c_a2271d56e6345d78572aa614976a58d3a_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+has\+\_\+link@{igb\+\_\+has\+\_\+link}}
\index{igb\+\_\+has\+\_\+link@{igb\+\_\+has\+\_\+link}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+has\+\_\+link(struct igb\+\_\+adapter $\ast$adapter)}{igb_has_link(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} igb\+\_\+has\+\_\+link (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ab64cb6706f8303113a7af937ca35934f}{}\label{igb__main_8c_ab64cb6706f8303113a7af937ca35934f}
igb\+\_\+has\+\_\+link -\/ check shared code for link and determine up/down \+: pointer to driver private info 

igb\+\_\+main.\+c 파일의 4720 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4721 \{
4722     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4723     \textcolor{keywordtype}{bool} link\_active = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
4724 
4725     \textcolor{comment}{/* get\_link\_status is set on LSC (link status) interrupt or}
4726 \textcolor{comment}{     * rx sequence error interrupt.  get\_link\_status will stay}
4727 \textcolor{comment}{     * false until the e1000\_check\_for\_link establishes link}
4728 \textcolor{comment}{     * for copper adapters ONLY}
4729 \textcolor{comment}{     */}
4730     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type}) \{
4731     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}:
4732         \textcolor{keywordflow}{if} (!hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status})
4733             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
4734     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981a445c1bf4bb72fed4afbd4555ba3b01a9}{e1000\_media\_type\_internal\_serdes}:
4735         \hyperlink{e1000__api_8c_a25fe34c5b626e7269531210b394d8e58}{e1000\_check\_for\_link}(hw);
4736         link\_active = !hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status};
4737         \textcolor{keywordflow}{break};
4738     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981a00c11f8a4da92ff8ae64e59ddedd8c2e}{e1000\_media\_type\_unknown}:
4739     \textcolor{keywordflow}{default}:
4740         \textcolor{keywordflow}{break};
4741     \}
4742 
4743     \textcolor{keywordflow}{if} (((hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}) ||
4744          (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211})) &&
4745          (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a76f8ba65ce8f902c0657233adee58698}{id} == \hyperlink{kmod_2igb_2e1000__defines_8h_af856a1789672b3f958884b4c70fb3c25}{I210\_I\_PHY\_ID})) \{
4746         \textcolor{keywordflow}{if} (!netif\_carrier\_ok(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev})) \{
4747             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE};
4748         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE})) \{
4749             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE};
4750             adapter->\hyperlink{structigb__adapter_a254e631806307426cd9ce65dd92216db}{link\_check\_timeout} = jiffies;
4751         \}
4752     \}
4753 
4754     \textcolor{keywordflow}{return} link\_active;
4755 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{igb__main_8c_ab64cb6706f8303113a7af937ca35934f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab64cb6706f8303113a7af937ca35934f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+init\+\_\+avb@{igb\+\_\+init\+\_\+avb}}
\index{igb\+\_\+init\+\_\+avb@{igb\+\_\+init\+\_\+avb}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+init\+\_\+avb(struct e1000\+\_\+hw $\ast$hw)}{igb_init_avb(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+init\+\_\+avb (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a6e088ede60069125e4c1420bf5932570}{}\label{igb__main_8c_a6e088ede60069125e4c1420bf5932570}


igb\+\_\+main.\+c 파일의 10160 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10161 \{
10162     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}  tqavctrl;
10163     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}  tqavcc0, tqavcc1;
10164     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}  tqavhc0, tqavhc1;
10165     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}  txpbsize;
10166 
10167     \textcolor{comment}{/* reconfigure the tx packet buffer allocation */}
10168     txpbsize = (8);
10169     txpbsize |= (8) << \hyperlink{kmod_2igb_2e1000__defines_8h_a59bc1f8a37b9f19fb2e4ed3b4d1c47d5}{E1000\_TXPBSIZE\_TX1PB\_SHIFT};
10170     txpbsize |= (4) << \hyperlink{kmod_2igb_2e1000__defines_8h_a84aca65d6bba9c2f03ee32c2c1b2929d}{E1000\_TXPBSIZE\_TX2PB\_SHIFT};
10171     txpbsize |= (4) << \hyperlink{kmod_2igb_2e1000__defines_8h_aee9f186f5507601bab6b5a2fa31e1e48}{E1000\_TXPBSIZE\_TX3PB\_SHIFT};
10172 
10173     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa3f4b16fee82ef544323ae9e1cf5c2ad}{E1000\_ITPBS}, txpbsize);
10174 
10175     \textcolor{comment}{/* std sized frames in 64 byte units with VLAN tags applied */}
10176     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a4c49f4fa1493a95fd7ff211ee15970aa}{E1000\_DTXMXPKTSZ}, 1536 / 64);
10177 
10178     \textcolor{comment}{/*}
10179 \textcolor{comment}{     * this function defaults the QAV shaper to OFF (TX\_ARB=0)}
10180 \textcolor{comment}{     * user-mode library can reconfigure thresholds and enable}
10181 \textcolor{comment}{     * after the device has started.}
10182 \textcolor{comment}{     */}
10183 
10184     tqavcc0 = \hyperlink{kmod_2igb_2e1000__defines_8h_a9b571bca82ac197f7f3fa403ac8a680f}{E1000\_TQAVCC\_QUEUEMODE}; \textcolor{comment}{/* no idle slope */}
10185     tqavcc1 = \hyperlink{kmod_2igb_2e1000__defines_8h_a9b571bca82ac197f7f3fa403ac8a680f}{E1000\_TQAVCC\_QUEUEMODE}; \textcolor{comment}{/* no idle slope */}
10186     tqavhc0 = 0xFFFFFFFF; \textcolor{comment}{/* unlimited credits */}
10187     tqavhc1 = 0xFFFFFFFF; \textcolor{comment}{/* unlimited credits */}
10188 
10189     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aedfa55aa0e0e74b3ac33b8ff733f69fe}{E1000\_I210\_TQAVCC}(0), tqavcc0);
10190     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aedfa55aa0e0e74b3ac33b8ff733f69fe}{E1000\_I210\_TQAVCC}(1), tqavcc1);
10191     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae1f562714f2347db2aced13437028932}{E1000\_I210\_TQAVHC}(0), tqavhc0);
10192     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae1f562714f2347db2aced13437028932}{E1000\_I210\_TQAVHC}(1), tqavhc1);
10193 
10194     tqavctrl = \hyperlink{kmod_2igb_2e1000__defines_8h_a10862239577bf0a78da2e318c3dcd6b5}{E1000\_TQAVCTRL\_TXMODE} |
10195            \hyperlink{kmod_2igb_2e1000__defines_8h_a43602f0aef321b8341128c2cd06c3f9b}{E1000\_TQAVCTRL\_DATA\_FETCH\_ARB} |
10196            \hyperlink{kmod_2igb_2e1000__defines_8h_aaf38a22f1cae7ae81baff1ad02b9d4b7}{E1000\_TQAVCTRL\_DATA\_TRAN\_ARB} |
10197            \hyperlink{kmod_2igb_2e1000__defines_8h_a705192020dd93c1ff2710d88d8999387}{E1000\_TQAVCTRL\_DATA\_TRAN\_TIM} |
10198            \hyperlink{kmod_2igb_2e1000__defines_8h_a9186f7e6e9951233e6e0da60f577b5ce}{E1000\_TQAVCTRL\_SP\_WAIT\_SR};
10199 
10200     \textcolor{comment}{/* default to a 10 usec prefetch delta from launch time - time for}
10201 \textcolor{comment}{     * a 1500 byte rx frame to be received over the PCIe Gen1 x1 link.}
10202 \textcolor{comment}{     */}
10203     tqavctrl |= (10 << 5) << \hyperlink{kmod_2igb_2e1000__defines_8h_ad0dad5903413ba47b48daea3badf5ac5}{E1000\_TQAVCTRL\_FETCH\_TM\_SHIFT};
10204 
10205     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a037aa1a303dcea2d759a4d97c2e4fcc4}{E1000\_I210\_TQAVCTRL}, tqavctrl);
10206 
10207     \textcolor{keywordflow}{return} 0;
10208 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a6e088ede60069125e4c1420bf5932570_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+init\+\_\+dmac@{igb\+\_\+init\+\_\+dmac}}
\index{igb\+\_\+init\+\_\+dmac@{igb\+\_\+init\+\_\+dmac}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+init\+\_\+dmac(struct igb\+\_\+adapter $\ast$adapter, u32 pba)}{igb_init_dmac(struct igb_adapter *adapter, u32 pba)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+init\+\_\+dmac (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{pba}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a339f8d8ebe1372d3dd0a013568ed95ad}{}\label{igb__main_8c_a339f8d8ebe1372d3dd0a013568ed95ad}


igb\+\_\+main.\+c 파일의 9969 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9970 \{
9971     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9972     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} dmac\_thr;
9973     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} hwm;
9974     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} status;
9975 
9976     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211})
9977         \textcolor{keywordflow}{return};
9978 
9979     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} > \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}) \{
9980         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac21b4c93238d5fcc3fff9702dfd9eda3}{dmac} != \hyperlink{kmod_2igb_2igb_8h_aa80bfe68136229d602cc4cddaf748770}{IGB\_DMAC\_DISABLE}) \{
9981             \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg;
9982 
9983             \textcolor{comment}{/* force threshold to 0.  */}
9984             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a274fd5ab6994fb22c390d253c4a3787f}{E1000\_DMCTXTH}, 0);
9985 
9986             \textcolor{comment}{/*}
9987 \textcolor{comment}{             * DMA Coalescing high water mark needs to be greater}
9988 \textcolor{comment}{             * than the Rx threshold. Set hwm to PBA - max frame}
9989 \textcolor{comment}{             * size in 16B units, capping it at PBA - 6KB.}
9990 \textcolor{comment}{             */}
9991             hwm = 64 * pba - adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size} / 16;
9992             \textcolor{keywordflow}{if} (hwm < 64 * (pba - 6))
9993                 hwm = 64 * (pba - 6);
9994             reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8c3851b20016213474c8e11ed340b666}{E1000\_FCRTC});
9995             reg &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a004d3515b3fd79e01203b61d6ae9f2ca}{E1000\_FCRTC\_RTH\_COAL\_MASK};
9996             reg |= ((hwm << \hyperlink{kmod_2igb_2e1000__defines_8h_a918ea0071eb7c76d4e03fbf205beb2bb}{E1000\_FCRTC\_RTH\_COAL\_SHIFT})
9997                 & \hyperlink{kmod_2igb_2e1000__defines_8h_a004d3515b3fd79e01203b61d6ae9f2ca}{E1000\_FCRTC\_RTH\_COAL\_MASK});
9998             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8c3851b20016213474c8e11ed340b666}{E1000\_FCRTC}, reg);
9999 
10000             \textcolor{comment}{/*}
10001 \textcolor{comment}{             * Set the DMA Coalescing Rx threshold to PBA - 2 * max}
10002 \textcolor{comment}{             * frame size, capping it at PBA - 10KB.}
10003 \textcolor{comment}{             */}
10004             dmac\_thr = pba - adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size} / 512;
10005             \textcolor{keywordflow}{if} (dmac\_thr < pba - 10)
10006                 dmac\_thr = pba - 10;
10007             reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3d7b067383a298d19a34c3987128305d}{E1000\_DMACR});
10008             reg &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a837d3ed74699011cc52e26c8a2498dad}{E1000\_DMACR\_DMACTHR\_MASK};
10009             reg |= ((dmac\_thr << \hyperlink{kmod_2igb_2e1000__defines_8h_a31439ed25f34427203e32c860e1163e7}{E1000\_DMACR\_DMACTHR\_SHIFT})
10010                 & \hyperlink{kmod_2igb_2e1000__defines_8h_a837d3ed74699011cc52e26c8a2498dad}{E1000\_DMACR\_DMACTHR\_MASK});
10011 
10012             \textcolor{comment}{/* transition to L0x or L1 if available..*/}
10013             reg |= (\hyperlink{kmod_2igb_2e1000__defines_8h_ac90e8e76fa07cced530a327bf5a8bcf6}{E1000\_DMACR\_DMAC\_EN} | 
      \hyperlink{kmod_2igb_2e1000__defines_8h_aaba838aaff3ffbfe915fa2e8ac1b6051}{E1000\_DMACR\_DMAC\_LX\_MASK});
10014 
10015             \textcolor{comment}{/* Check if status is 2.5Gb backplane connection}
10016 \textcolor{comment}{             * before configuration of watchdog timer, which is}
10017 \textcolor{comment}{             * in msec values in 12.8usec intervals}
10018 \textcolor{comment}{             * watchdog timer= msec values in 32usec intervals}
10019 \textcolor{comment}{             * for non 2.5Gb connection}
10020 \textcolor{comment}{             */}
10021             \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}) \{
10022                 status = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7fad15ed91c7801a1b9c5f80843bab79}{E1000\_STATUS});
10023                 \textcolor{keywordflow}{if} ((status & \hyperlink{kmod_2igb_2e1000__defines_8h_a79f529d23d7d05502c990fc00ac0955d}{E1000\_STATUS\_2P5\_SKU}) &&
10024                     (!(status & \hyperlink{kmod_2igb_2e1000__defines_8h_a55968dd9e43c59ef66c89ab8b658b088}{E1000\_STATUS\_2P5\_SKU\_OVER})))
10025                     reg |= ((adapter->\hyperlink{structigb__adapter_ac21b4c93238d5fcc3fff9702dfd9eda3}{dmac} * 5) >> 6);
10026                 \textcolor{keywordflow}{else}
10027                     reg |= ((adapter->\hyperlink{structigb__adapter_ac21b4c93238d5fcc3fff9702dfd9eda3}{dmac}) >> 5);
10028             \} \textcolor{keywordflow}{else} \{
10029                 reg |= ((adapter->\hyperlink{structigb__adapter_ac21b4c93238d5fcc3fff9702dfd9eda3}{dmac}) >> 5);
10030             \}
10031 
10032             \textcolor{comment}{/*}
10033 \textcolor{comment}{             * Disable BMC-to-OS Watchdog enable}
10034 \textcolor{comment}{             * on devices that support OS-to-BMC}
10035 \textcolor{comment}{             */}
10036             \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354})
10037                 reg &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a231cebd3e3b1792aaae6d398041345c1}{E1000\_DMACR\_DC\_BMC2OSW\_EN};
10038             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3d7b067383a298d19a34c3987128305d}{E1000\_DMACR}, reg);
10039 
10040             \textcolor{comment}{/* no lower threshold to disable coalescing}
10041 \textcolor{comment}{             * (smart fifb)-UTRESH=0}
10042 \textcolor{comment}{             */}
10043             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aeac6d4ca385c6767966ed3258601332c}{E1000\_DMCRTRH}, 0);
10044 
10045             \textcolor{comment}{/* This sets the time to wait before requesting}
10046 \textcolor{comment}{             * transition to low power state to number of usecs}
10047 \textcolor{comment}{             * needed to receive 1 512 byte frame at gigabit}
10048 \textcolor{comment}{             * line rate. On i350 device, time to make transition}
10049 \textcolor{comment}{             * to Lx state is delayed by 4 usec with flush disable}
10050 \textcolor{comment}{             * bit set to avoid losing mailbox interrupts}
10051 \textcolor{comment}{             */}
10052             reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a926569769b2974758356c3c2cd3d7e74}{E1000\_DMCTLX});
10053             \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350})
10054                 reg |= \hyperlink{kmod_2igb_2igb_8h_a887a80a4d8b65a3197d8a011c30d1659}{IGB\_DMCTLX\_DCFLUSH\_DIS};
10055 
10056             \textcolor{comment}{/* in 2.5Gb connection, TTLX unit is 0.4 usec}
10057 \textcolor{comment}{             * which is 0x4*2 = 0xA. But delay is still 4 usec}
10058 \textcolor{comment}{             */}
10059             \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}) \{
10060                 status = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7fad15ed91c7801a1b9c5f80843bab79}{E1000\_STATUS});
10061                 \textcolor{keywordflow}{if} ((status & E1000\_STATUS\_2P5\_SKU) &&
10062                     (!(status & \hyperlink{kmod_2igb_2e1000__defines_8h_a55968dd9e43c59ef66c89ab8b658b088}{E1000\_STATUS\_2P5\_SKU\_OVER})))
10063                     reg |= 0xA;
10064                 \textcolor{keywordflow}{else}
10065                     reg |= 0x4;
10066             \} \textcolor{keywordflow}{else} \{
10067                 reg |= 0x4;
10068             \}
10069 
10070             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a926569769b2974758356c3c2cd3d7e74}{E1000\_DMCTLX}, reg);
10071 
10072             \textcolor{comment}{/* free space in tx pkt buffer to wake from DMA coal */}
10073             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a274fd5ab6994fb22c390d253c4a3787f}{E1000\_DMCTXTH}, (
      \hyperlink{kmod_2igb_2igb_8h_a215ca67b657ebba4a7d4608163ac0e83}{IGB\_MIN\_TXPBSIZE} -
10074                 (\hyperlink{kmod_2igb_2igb_8h_af2ed486a2042dc96b4d02ca3dcd976f9}{IGB\_TX\_BUF\_4096} + adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size}))
10075                 >> 6);
10076 
10077             \textcolor{comment}{/* low power state decision controlled by DMA coal */}
10078             reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8068ab5ef24854fedc16110edb18a672}{E1000\_PCIEMISC});
10079             reg &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a6036d08d479a70ed492a6623316b647e}{E1000\_PCIEMISC\_LX\_DECISION};
10080             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8068ab5ef24854fedc16110edb18a672}{E1000\_PCIEMISC}, reg);
10081         \} \textcolor{comment}{/* endif adapter->dmac is not disabled */}
10082     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}) \{
10083         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8068ab5ef24854fedc16110edb18a672}{E1000\_PCIEMISC});
10084 
10085         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8068ab5ef24854fedc16110edb18a672}{E1000\_PCIEMISC},
10086                 reg & ~\hyperlink{kmod_2igb_2e1000__defines_8h_a6036d08d479a70ed492a6623316b647e}{E1000\_PCIEMISC\_LX\_DECISION});
10087         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3d7b067383a298d19a34c3987128305d}{E1000\_DMACR}, 0);
10088     \}
10089 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a339f8d8ebe1372d3dd0a013568ed95ad_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+init\+\_\+fw@{igb\+\_\+init\+\_\+fw}}
\index{igb\+\_\+init\+\_\+fw@{igb\+\_\+init\+\_\+fw}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+init\+\_\+fw(struct igb\+\_\+adapter $\ast$adapter)}{igb_init_fw(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+init\+\_\+fw (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_adddcaa87ecc343dd16285cf157a3735b}{}\label{igb__main_8c_adddcaa87ecc343dd16285cf157a3735b}


igb\+\_\+main.\+c 파일의 9929 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9930 \{
9931     \textcolor{keyword}{struct }\hyperlink{structe1000__fw__drv__info}{e1000\_fw\_drv\_info} fw\_cmd;
9932     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9933     \textcolor{keywordtype}{int} i;
9934     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} mask;
9935 
9936     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210})
9937         mask = \hyperlink{kmod_2igb_2e1000__defines_8h_aaf67f8eba881dd23524d893293837fd8}{E1000\_SWFW\_EEP\_SM};
9938     \textcolor{keywordflow}{else}
9939         mask = \hyperlink{kmod_2igb_2e1000__defines_8h_a757580bb7384de7a8ccec383e3a15277}{E1000\_SWFW\_PHY0\_SM};
9940     \textcolor{comment}{/* i211 parts do not support this feature */}
9941     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211})
9942         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_accbb8e3943e55029a810bd38b616a8f0}{arc\_subsystem\_valid} = \textcolor{keyword}{false};
9943 
9944     \textcolor{keywordflow}{if} (!hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a6ac57b9c85404edae44f08fe43d7ff02}{ops}.\hyperlink{structe1000__mac__operations_aa301c95c2881707d1835167cc2bc2019}{acquire\_swfw\_sync}(hw, mask)) \{
9945         \textcolor{keywordflow}{for} (i = 0; i <= \hyperlink{kmod_2igb_2igb_8h_ae5dc041263c3fde0b899b4596f3dbaae}{FW\_MAX\_RETRIES}; i++) \{
9946             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1b621fd8ee7f170348477e7777f5c7b9}{E1000\_FWSTS}, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_acd24835be182fc480ffcd13cc3f4bab3}{E1000\_FWSTS\_FWRI});
9947             fw\_cmd.hdr.cmd = \hyperlink{kmod_2igb_2igb_8h_acb3c94f5693400b22110ecf7481798f3}{FW\_CMD\_DRV\_INFO};
9948             fw\_cmd.hdr.buf\_len = \hyperlink{kmod_2igb_2igb_8h_a105e4285acb269b9f0a7629e081d4448}{FW\_CMD\_DRV\_INFO\_LEN};
9949             fw\_cmd.hdr.cmd\_or\_resp.cmd\_resv = \hyperlink{kmod_2igb_2igb_8h_acf2c75c8dd88a6578b7d8e7ad9bfbd23}{FW\_CMD\_RESERVED};
9950             fw\_cmd.port\_num = hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func};
9951             fw\_cmd.drv\_version = \hyperlink{kmod_2igb_2igb_8h_a72bee50313af4220ff6eec3a62466f1e}{FW\_FAMILY\_DRV\_VER};
9952             fw\_cmd.hdr.checksum = 0;
9953             fw\_cmd.hdr.checksum =
9954                 \hyperlink{e1000__manage_8c_a3cdcccbbf565bbb59527044b61913f93}{e1000\_calculate\_checksum}((\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *)&fw\_cmd,
9955                              (\hyperlink{kmod_2igb_2igb_8h_a36cd4f2289551e156f47a5e8b75345e9}{FW\_HDR\_LEN} +
9956                              fw\_cmd.hdr.buf\_len));
9957              \hyperlink{e1000__manage_8c_ad52e40e2fbef1b42088fd345eed83997}{e1000\_host\_interface\_command}(hw, (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *)&fw\_cmd,
9958                               \textcolor{keyword}{sizeof}(fw\_cmd));
9959             \textcolor{keywordflow}{if} (fw\_cmd.hdr.cmd\_or\_resp.ret\_status
9960                 == \hyperlink{kmod_2igb_2igb_8h_a9a14b5dc342a5937943978e08ea27856}{FW\_STATUS\_SUCCESS})
9961                 \textcolor{keywordflow}{break};
9962         \}
9963     \} \textcolor{keywordflow}{else}
9964         dev\_warn(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
9965              \textcolor{stringliteral}{"Unable to get semaphore, firmware init failed.\(\backslash\)n"});
9966     hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a6ac57b9c85404edae44f08fe43d7ff02}{ops}.\hyperlink{structe1000__mac__operations_a0aa9b26ec01a96e7f41f49e00f527ae3}{release\_swfw\_sync}(hw, mask);
9967 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_adddcaa87ecc343dd16285cf157a3735b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_adddcaa87ecc343dd16285cf157a3735b_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+init\+\_\+interrupt\+\_\+scheme@{igb\+\_\+init\+\_\+interrupt\+\_\+scheme}}
\index{igb\+\_\+init\+\_\+interrupt\+\_\+scheme@{igb\+\_\+init\+\_\+interrupt\+\_\+scheme}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+init\+\_\+interrupt\+\_\+scheme(struct igb\+\_\+adapter $\ast$adapter, bool msix)}{igb_init_interrupt_scheme(struct igb_adapter *adapter, bool msix)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+init\+\_\+interrupt\+\_\+scheme (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf bool}}]{msix}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a207b0420ab7dfc0695679280eebb4627}{}\label{igb__main_8c_a207b0420ab7dfc0695679280eebb4627}
igb\+\_\+init\+\_\+interrupt\+\_\+scheme -\/ initialize interrupts, allocate queues/vectors

This function initializes the interrupts and allocates all of the queues. 

igb\+\_\+main.\+c 파일의 1343 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1344 \{
1345     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
1346     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
1347 
1348     \hyperlink{igb__main_8c_a43ae90888cd7d2b00b1e100564a429e1}{igb\_set\_interrupt\_capability}(adapter, msix);
1349 
1350     err = \hyperlink{igb__main_8c_a4f288e321d850d19c8ce6dd42320a74a}{igb\_alloc\_q\_vectors}(adapter);
1351     \textcolor{keywordflow}{if} (err) \{
1352         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Unable to allocate memory for vectors\(\backslash\)n"});
1353         \textcolor{keywordflow}{goto} err\_alloc\_q\_vectors;
1354     \}
1355 
1356     \hyperlink{igb__main_8c_a42128153ab2f46eb05568e7a522dbc7e}{igb\_cache\_ring\_register}(adapter);
1357 
1358     \textcolor{keywordflow}{return} 0;
1359 
1360 err\_alloc\_q\_vectors:
1361     \hyperlink{igb__main_8c_a11ede628403830ab78d46b095ae73901}{igb\_reset\_interrupt\_capability}(adapter);
1362     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
1363 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a207b0420ab7dfc0695679280eebb4627_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a207b0420ab7dfc0695679280eebb4627_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+init\+\_\+mas@{igb\+\_\+init\+\_\+mas}}
\index{igb\+\_\+init\+\_\+mas@{igb\+\_\+init\+\_\+mas}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+init\+\_\+mas(struct igb\+\_\+adapter $\ast$adapter)}{igb_init_mas(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+init\+\_\+mas (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a5cc3c25529cf9ab6a05466f2c697876b}{}\label{igb__main_8c_a5cc3c25529cf9ab6a05466f2c697876b}
igb\+\_\+init\+\_\+mas -\/ init Media Autosense feature if enabled in the N\+VM

\+: adapter struct 

igb\+\_\+main.\+c 파일의 2557 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2558 \{
2559     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
2560     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} eeprom\_data;
2561 
2562     \hyperlink{e1000__api_8c_ac888d23a89a4134a7ca70a8c20e2e4ba}{e1000\_read\_nvm}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_ac630cf4ba9fdac1d516b73de5ddbdf97}{NVM\_COMPAT}, 1, &eeprom\_data);
2563     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func}) \{
2564     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aed49cee09c7ab9ce4bb1887f40e5d1d7}{E1000\_FUNC\_0}:
2565         \textcolor{keywordflow}{if} (eeprom\_data & \hyperlink{kmod_2igb_2igb_8h_a285e36db7f6532aff15965dc9227f766}{IGB\_MAS\_ENABLE\_0})
2566             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE};
2567         \textcolor{keywordflow}{break};
2568     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a12995a92e6042a7d1f4aa51dd90c1c78}{E1000\_FUNC\_1}:
2569         \textcolor{keywordflow}{if} (eeprom\_data & \hyperlink{kmod_2igb_2igb_8h_ac180b44ac060b2bddf90a4addc55f288}{IGB\_MAS\_ENABLE\_1})
2570             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE};
2571         \textcolor{keywordflow}{break};
2572     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_aebe262318579b1a662a9d7f8566d3095}{E1000\_FUNC\_2}:
2573         \textcolor{keywordflow}{if} (eeprom\_data & \hyperlink{kmod_2igb_2igb_8h_a9db03003c011e4fcc2f452cab2bffb44}{IGB\_MAS\_ENABLE\_2})
2574             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE};
2575         \textcolor{keywordflow}{break};
2576     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a275467ee091473418a52903414c109c2}{E1000\_FUNC\_3}:
2577         \textcolor{keywordflow}{if} (eeprom\_data & \hyperlink{kmod_2igb_2igb_8h_a556380b511c39ff89689e5b7f8d7f8b0}{IGB\_MAS\_ENABLE\_3})
2578             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE};
2579         \textcolor{keywordflow}{break};
2580     \textcolor{keywordflow}{default}:
2581         \textcolor{comment}{/* Shouldn't get here */}
2582         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
2583             \textcolor{stringliteral}{"%s:AMS: Invalid port configuration, returning\(\backslash\)n"},
2584             adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->name);
2585         \textcolor{keywordflow}{break};
2586     \}
2587 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5cc3c25529cf9ab6a05466f2c697876b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5cc3c25529cf9ab6a05466f2c697876b_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+init\+\_\+module@{igb\+\_\+init\+\_\+module}}
\index{igb\+\_\+init\+\_\+module@{igb\+\_\+init\+\_\+module}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+init\+\_\+module(void)}{igb_init_module(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static int \+\_\+\+\_\+init igb\+\_\+init\+\_\+module (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a7a855e2fddb3ed89f7bd2877fa5f46a2}{}\label{igb__main_8c_a7a855e2fddb3ed89f7bd2877fa5f46a2}
igb\+\_\+init\+\_\+module -\/ Driver Registration Routine

igb\+\_\+init\+\_\+module is the first routine called when the driver is loaded. All it does is register with the P\+CI subsystem. 

igb\+\_\+main.\+c 파일의 391 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
392 \{
393     \textcolor{keywordtype}{int} ret;
394 
395     pr\_info(\textcolor{stringliteral}{"%s - version %s\(\backslash\)n"},
396            \hyperlink{igb__main_8c_a6015f0d20a636b9a059f712be80e052e}{igb\_driver\_string}, \hyperlink{igb__main_8c_a574edf7c28cc8e5a00702d7a581e710a}{igb\_driver\_version});
397 
398     pr\_info(\textcolor{stringliteral}{"%s\(\backslash\)n"}, \hyperlink{igb__main_8c_a5a472f980d2c99065060c082a3f80376}{igb\_copyright});
399 \textcolor{preprocessor}{#ifdef IGB\_HWMON}
400 \textcolor{comment}{/* only use IGB\_PROCFS if IGB\_HWMON is not defined */}
401 \textcolor{preprocessor}{#else}
402 \textcolor{preprocessor}{#ifdef IGB\_PROCFS}
403     \textcolor{keywordflow}{if} (igb\_procfs\_topdir\_init())
404         pr\_info(\textcolor{stringliteral}{"Procfs failed to initialize topdir\(\backslash\)n"});
405 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_PROCFS */}\textcolor{preprocessor}{}
406 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_HWMON  */}\textcolor{preprocessor}{}
407 
408 \textcolor{preprocessor}{#ifdef IGB\_DCA}
409     dca\_register\_notify(&dca\_notifier);
410 \textcolor{preprocessor}{#endif}
411     misc\_register(&\hyperlink{igb__main_8c_a56502b636655b8aa8730204ae9e8dd28}{igb\_miscdev});
412     ret = pci\_register\_driver(&\hyperlink{igb__main_8c_a45fd99b8fd5045e69f4ae20d76acbd1c}{igb\_driver});
413 \textcolor{preprocessor}{#ifdef USE\_REBOOT\_NOTIFIER}
414     \textcolor{keywordflow}{if} (ret >= 0)
415         register\_reboot\_notifier(&igb\_notifier\_reboot);
416 \textcolor{preprocessor}{#endif}
417     \textcolor{keywordflow}{return} ret;
418 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{igb__main_8c_a7a855e2fddb3ed89f7bd2877fa5f46a2_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+intr@{igb\+\_\+intr}}
\index{igb\+\_\+intr@{igb\+\_\+intr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+intr(int irq, void $\ast$)}{igb_intr(int irq, void *)}}]{\setlength{\rightskip}{0pt plus 5cm}static irqreturn\+\_\+t igb\+\_\+intr (
\begin{DoxyParamCaption}
\item[{int}]{irq, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a04ef60ecbaeb6e4085e275af84763dba}{}\label{igb__main_8c_a04ef60ecbaeb6e4085e275af84763dba}
igb\+\_\+intr -\/ Legacy Interrupt Handler \+: interrupt number \+: pointer to a network interface device structure 

igb\+\_\+main.\+c 파일의 7167 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7168 \{
7169     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = data;
7170     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[0];
7171     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
7172     \textcolor{comment}{/* Interrupt Auto-Mask...upon reading ICR, interrupts are masked.  No}
7173 \textcolor{comment}{     * need for the IMC write}
7174 \textcolor{comment}{     */}
7175     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} icr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae3769f563a652045f35d90625fd7a4d9}{E1000\_ICR});
7176 
7177     \textcolor{comment}{/* IMS will not auto-mask if INT\_ASSERTED is not set, and if it is}
7178 \textcolor{comment}{     * not set, then the adapter didn't send an interrupt}
7179 \textcolor{comment}{     */}
7180     \textcolor{keywordflow}{if} (!(icr & \hyperlink{kmod_2igb_2e1000__defines_8h_ad32e4d2169a93e8438ceaf5368397e75}{E1000\_ICR\_INT\_ASSERTED}))
7181         \textcolor{keywordflow}{return} IRQ\_NONE;
7182 
7183     \hyperlink{igb__main_8c_a476db26ba6dcacc132d78aff94f77242}{igb\_write\_itr}(q\_vector);
7184 
7185     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_af3dffb9df73d226246c063087f028538}{E1000\_ICR\_DRSTA})
7186         schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
7187 
7188     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a0b2ccab9333b510d99092d895168f0ca}{E1000\_ICR\_DOUTSYNC}) \{
7189         \textcolor{comment}{/* HW is reporting DMA is out of sync */}
7190         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0eac8ccea27d94b4c5673fc7a39a9523}{doosync}++;
7191     \}
7192 
7193     \textcolor{keywordflow}{if} (icr & (\hyperlink{kmod_2igb_2e1000__defines_8h_ab6af0d0b74090a7fa059ce4679d265fc}{E1000\_ICR\_RXSEQ} | \hyperlink{kmod_2igb_2e1000__defines_8h_a39be1314d7951cedeb7d949256debbb1}{E1000\_ICR\_LSC})) \{
7194         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status} = 1;
7195         \textcolor{comment}{/* guard against interrupt when we're going down */}
7196         \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
7197             mod\_timer(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer}, jiffies + 1);
7198     \}
7199 
7200 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
7201     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a103b2f2695a294e597fd359605c87c51}{E1000\_ICR\_TS})
7202         \hyperlink{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7}{igb\_tsync\_interrupt}(adapter);
7203 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
7204 
7205     napi\_schedule(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi});
7206 
7207     \textcolor{keywordflow}{return} IRQ\_HANDLED;
7208 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{igb__main_8c_a04ef60ecbaeb6e4085e275af84763dba_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a04ef60ecbaeb6e4085e275af84763dba_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+intr\+\_\+msi@{igb\+\_\+intr\+\_\+msi}}
\index{igb\+\_\+intr\+\_\+msi@{igb\+\_\+intr\+\_\+msi}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+intr\+\_\+msi(int irq, void $\ast$)}{igb_intr_msi(int irq, void *)}}]{\setlength{\rightskip}{0pt plus 5cm}static irqreturn\+\_\+t igb\+\_\+intr\+\_\+msi (
\begin{DoxyParamCaption}
\item[{int}]{irq, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a2c37d808e7eba252b1e5429749a527c4}{}\label{igb__main_8c_a2c37d808e7eba252b1e5429749a527c4}
igb\+\_\+intr\+\_\+msi -\/ Interrupt Handler \+: interrupt number \+: pointer to a network interface device structure 

igb\+\_\+main.\+c 파일의 7128 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7129 \{
7130     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = data;
7131     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[0];
7132     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
7133     \textcolor{comment}{/* read ICR disables interrupts using IAM */}
7134     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} icr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae3769f563a652045f35d90625fd7a4d9}{E1000\_ICR});
7135 
7136     \hyperlink{igb__main_8c_a476db26ba6dcacc132d78aff94f77242}{igb\_write\_itr}(q\_vector);
7137 
7138     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_af3dffb9df73d226246c063087f028538}{E1000\_ICR\_DRSTA})
7139         schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
7140 
7141     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a0b2ccab9333b510d99092d895168f0ca}{E1000\_ICR\_DOUTSYNC}) \{
7142         \textcolor{comment}{/* HW is reporting DMA is out of sync */}
7143         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0eac8ccea27d94b4c5673fc7a39a9523}{doosync}++;
7144     \}
7145 
7146     \textcolor{keywordflow}{if} (icr & (\hyperlink{kmod_2igb_2e1000__defines_8h_ab6af0d0b74090a7fa059ce4679d265fc}{E1000\_ICR\_RXSEQ} | \hyperlink{kmod_2igb_2e1000__defines_8h_a39be1314d7951cedeb7d949256debbb1}{E1000\_ICR\_LSC})) \{
7147         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status} = 1;
7148         \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
7149             mod\_timer(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer}, jiffies + 1);
7150     \}
7151 
7152 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
7153     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a103b2f2695a294e597fd359605c87c51}{E1000\_ICR\_TS})
7154         \hyperlink{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7}{igb\_tsync\_interrupt}(adapter);
7155 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
7156 
7157     napi\_schedule(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi});
7158 
7159     \textcolor{keywordflow}{return} IRQ\_HANDLED;
7160 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=284pt]{igb__main_8c_a2c37d808e7eba252b1e5429749a527c4_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2c37d808e7eba252b1e5429749a527c4_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+io\+\_\+error\+\_\+detected@{igb\+\_\+io\+\_\+error\+\_\+detected}}
\index{igb\+\_\+io\+\_\+error\+\_\+detected@{igb\+\_\+io\+\_\+error\+\_\+detected}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+io\+\_\+error\+\_\+detected(struct pci\+\_\+dev $\ast$, pci\+\_\+channel\+\_\+state\+\_\+t)}{igb_io_error_detected(struct pci_dev *, pci_channel_state_t)}}]{\setlength{\rightskip}{0pt plus 5cm}static pci\+\_\+ers\+\_\+result\+\_\+t igb\+\_\+io\+\_\+error\+\_\+detected (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev, }
\item[{pci\+\_\+channel\+\_\+state\+\_\+t}]{state}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a93442300489d906fd231218bf887b541}{}\label{igb__main_8c_a93442300489d906fd231218bf887b541}
igb\+\_\+io\+\_\+error\+\_\+detected -\/ called when P\+CI error is detected \+: Pointer to P\+CI device \+: The current pci connection state

This function is called after a P\+CI bus error affecting this device has been detected. 

igb\+\_\+main.\+c 파일의 9513 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9515 \{
9516     \textcolor{keyword}{struct }net\_device *netdev = pci\_get\_drvdata(pdev);
9517     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(netdev);
9518 
9519 \textcolor{preprocessor}{#ifdef CONFIG\_PCI\_IOV}
9520     \textcolor{keyword}{struct }pci\_dev *bdev, *vfdev;
9521     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} dw0, dw1, dw2, dw3;
9522     \textcolor{keywordtype}{int} vf, pos;
9523     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} req\_id, pf\_func;
9524 
9525     \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA}))
9526         \textcolor{keywordflow}{goto} skip\_bad\_vf\_detection;
9527 
9528     bdev = pdev->bus->self;
9529     \textcolor{keywordflow}{while} (bdev && (pci\_pcie\_type(bdev) != PCI\_EXP\_TYPE\_ROOT\_PORT))
9530         bdev = bdev->bus->self;
9531 
9532     \textcolor{keywordflow}{if} (!bdev)
9533         \textcolor{keywordflow}{goto} skip\_bad\_vf\_detection;
9534 
9535     pos = pci\_find\_ext\_capability(bdev, PCI\_EXT\_CAP\_ID\_ERR);
9536     \textcolor{keywordflow}{if} (!pos)
9537         \textcolor{keywordflow}{goto} skip\_bad\_vf\_detection;
9538 
9539     pci\_read\_config\_dword(bdev, pos + PCI\_ERR\_HEADER\_LOG, &dw0);
9540     pci\_read\_config\_dword(bdev, pos + PCI\_ERR\_HEADER\_LOG + 4, &dw1);
9541     pci\_read\_config\_dword(bdev, pos + PCI\_ERR\_HEADER\_LOG + 8, &dw2);
9542     pci\_read\_config\_dword(bdev, pos + PCI\_ERR\_HEADER\_LOG + 12, &dw3);
9543 
9544     req\_id = dw1 >> 16;
9545     \textcolor{comment}{/* On the 82576 if bit 7 of the requestor ID is set then it's a VF */}
9546     \textcolor{keywordflow}{if} (!(req\_id & 0x0080))
9547         \textcolor{keywordflow}{goto} skip\_bad\_vf\_detection;
9548 
9549     pf\_func = req\_id & 0x01;
9550     \textcolor{keywordflow}{if} ((pf\_func & 1) == (pdev->devfn & 1)) \{
9551 
9552         vf = (req\_id & 0x7F) >> 1;
9553         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
9554             \textcolor{stringliteral}{"VF %d has caused a PCIe error\(\backslash\)n"}, vf);
9555         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
9556             \textcolor{stringliteral}{"TLP: dw0: %8.8x\(\backslash\)tdw1: %8.8x\(\backslash\)tdw2:\(\backslash\)n%8.8x\(\backslash\)tdw3: %8.8x\(\backslash\)n"},
9557             dw0, dw1, dw2, dw3);
9558 
9559         \textcolor{comment}{/* Find the pci device of the offending VF */}
9560         vfdev = pci\_get\_device(PCI\_VENDOR\_ID\_INTEL,
9561                        \hyperlink{igb__main_8c_a216dbb5c26a53581d55d2dc7daca44b9}{E1000\_DEV\_ID\_82576\_VF}, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
9562         \textcolor{keywordflow}{while} (vfdev) \{
9563             \textcolor{keywordflow}{if} (vfdev->devfn == (req\_id & 0xFF))
9564                 \textcolor{keywordflow}{break};
9565             vfdev = pci\_get\_device(PCI\_VENDOR\_ID\_INTEL,
9566                            \hyperlink{igb__main_8c_a216dbb5c26a53581d55d2dc7daca44b9}{E1000\_DEV\_ID\_82576\_VF}, vfdev);
9567         \}
9568         \textcolor{comment}{/*}
9569 \textcolor{comment}{         * There's a slim chance the VF could have been hot plugged,}
9570 \textcolor{comment}{         * so if it is no longer present we don't need to issue the}
9571 \textcolor{comment}{         * VFLR.  Just clean up the AER in that case.}
9572 \textcolor{comment}{         */}
9573         \textcolor{keywordflow}{if} (vfdev) \{
9574             dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
9575                 \textcolor{stringliteral}{"Issuing VFLR to VF %d\(\backslash\)n"}, vf);
9576             pci\_write\_config\_dword(vfdev, 0xA8, 0x00008000);
9577         \}
9578 
9579         pci\_cleanup\_aer\_uncorrect\_error\_status(pdev);
9580     \}
9581 
9582     \textcolor{comment}{/*}
9583 \textcolor{comment}{     * Even though the error may have occurred on the other port}
9584 \textcolor{comment}{     * we still need to increment the vf error reference count for}
9585 \textcolor{comment}{     * both ports because the I/O resume function will be called}
9586 \textcolor{comment}{     * for both of them.}
9587 \textcolor{comment}{     */}
9588     adapter->\hyperlink{structigb__adapter_abc9033e3e4f6d93e0e3404cd8d776d3d}{vferr\_refcount}++;
9589 
9590     \textcolor{keywordflow}{return} PCI\_ERS\_RESULT\_RECOVERED;
9591 
9592 skip\_bad\_vf\_detection:
9593 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* CONFIG\_PCI\_IOV */}\textcolor{preprocessor}{}
9594 
9595     netif\_device\_detach(netdev);
9596 
9597     \textcolor{keywordflow}{if} (state == pci\_channel\_io\_perm\_failure)
9598         \textcolor{keywordflow}{return} PCI\_ERS\_RESULT\_DISCONNECT;
9599 
9600     \textcolor{keywordflow}{if} (netif\_running(netdev))
9601         \hyperlink{igb__main_8c_aacbb63f4709878964f7afa56734e9333}{igb\_down}(adapter);
9602     pci\_disable\_device(pdev);
9603 
9604     \textcolor{comment}{/* Request a slot slot reset. */}
9605     \textcolor{keywordflow}{return} PCI\_ERS\_RESULT\_NEED\_RESET;
9606 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a93442300489d906fd231218bf887b541_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+io\+\_\+resume@{igb\+\_\+io\+\_\+resume}}
\index{igb\+\_\+io\+\_\+resume@{igb\+\_\+io\+\_\+resume}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+io\+\_\+resume(struct pci\+\_\+dev $\ast$)}{igb_io_resume(struct pci_dev *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+io\+\_\+resume (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a2b8a714dd3d7f2dba5ed55175dcd17eb}{}\label{igb__main_8c_a2b8a714dd3d7f2dba5ed55175dcd17eb}
igb\+\_\+io\+\_\+resume -\/ called when traffic can start flowing again. \+: Pointer to P\+CI device

This callback is called when the error recovery driver tells us that its OK to resume normal operation. Implementation resembles the second-\/half of the igb\+\_\+resume routine. 

igb\+\_\+main.\+c 파일의 9652 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9653 \{
9654     \textcolor{keyword}{struct }net\_device *netdev = pci\_get\_drvdata(pdev);
9655     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(netdev);
9656 
9657     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abc9033e3e4f6d93e0e3404cd8d776d3d}{vferr\_refcount}) \{
9658         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}), \textcolor{stringliteral}{"Resuming after VF err\(\backslash\)n"});
9659         adapter->\hyperlink{structigb__adapter_abc9033e3e4f6d93e0e3404cd8d776d3d}{vferr\_refcount}--;
9660         \textcolor{keywordflow}{return};
9661     \}
9662 
9663     \textcolor{keywordflow}{if} (netif\_running(netdev)) \{
9664         \hyperlink{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079}{igb\_up}(adapter);
9665     \}
9666 
9667     netif\_device\_attach(netdev);
9668 
9669     \textcolor{comment}{/* let the f/w know that the h/w is now under the control of the driver.}
9670 \textcolor{comment}{     */}
9671     \hyperlink{igb__main_8c_a8db219783b6a954ed4b940220918109f}{igb\_get\_hw\_control}(adapter);
9672 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2b8a714dd3d7f2dba5ed55175dcd17eb_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+io\+\_\+slot\+\_\+reset@{igb\+\_\+io\+\_\+slot\+\_\+reset}}
\index{igb\+\_\+io\+\_\+slot\+\_\+reset@{igb\+\_\+io\+\_\+slot\+\_\+reset}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+io\+\_\+slot\+\_\+reset(struct pci\+\_\+dev $\ast$)}{igb_io_slot_reset(struct pci_dev *)}}]{\setlength{\rightskip}{0pt plus 5cm}static pci\+\_\+ers\+\_\+result\+\_\+t igb\+\_\+io\+\_\+slot\+\_\+reset (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a214dc8ba6f8d109b33a01c70aa754e69}{}\label{igb__main_8c_a214dc8ba6f8d109b33a01c70aa754e69}
igb\+\_\+io\+\_\+slot\+\_\+reset -\/ called after the pci bus has been reset. \+: Pointer to P\+CI device

Restart the card from scratch, as if from a cold-\/boot. Implementation resembles the first-\/half of the igb\+\_\+resume routine. 

igb\+\_\+main.\+c 파일의 9615 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9616 \{
9617     \textcolor{keyword}{struct }net\_device *netdev = pci\_get\_drvdata(pdev);
9618     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(netdev);
9619     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9620     pci\_ers\_result\_t result;
9621 
9622     \textcolor{keywordflow}{if} (pci\_enable\_device\_mem(pdev)) \{
9623         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
9624             \textcolor{stringliteral}{"Cannot re-enable PCI device after reset.\(\backslash\)n"});
9625         result = PCI\_ERS\_RESULT\_DISCONNECT;
9626     \} \textcolor{keywordflow}{else} \{
9627         pci\_set\_master(pdev);
9628         pci\_restore\_state(pdev);
9629         pci\_save\_state(pdev);
9630 
9631         pci\_enable\_wake(pdev, PCI\_D3hot, 0);
9632         pci\_enable\_wake(pdev, PCI\_D3cold, 0);
9633 
9634         schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
9635         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a4cdcff696f12c6417679df91388abe66}{E1000\_WUS}, ~0);
9636         result = PCI\_ERS\_RESULT\_RECOVERED;
9637     \}
9638 
9639     pci\_cleanup\_aer\_uncorrect\_error\_status(pdev);
9640 
9641     \textcolor{keywordflow}{return} result;
9642 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a214dc8ba6f8d109b33a01c70aa754e69_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ioctl@{igb\+\_\+ioctl}}
\index{igb\+\_\+ioctl@{igb\+\_\+ioctl}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ioctl(struct net\+\_\+device $\ast$, struct ifreq $\ast$, int cmd)}{igb_ioctl(struct net_device *, struct ifreq *, int cmd)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+ioctl (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{struct ifreq $\ast$}]{ifr, }
\item[{int}]{cmd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ad940c3b1eb1b2b06b8e386c5dfd05551}{}\label{igb__main_8c_ad940c3b1eb1b2b06b8e386c5dfd05551}
igb\+\_\+ioctl -\/ \+: \+: \+: 

igb\+\_\+main.\+c 파일의 8891 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8892 \{
8893     \textcolor{keywordflow}{switch} (cmd) \{
8894 \textcolor{preprocessor}{#ifdef SIOCGMIIPHY}
8895     \textcolor{keywordflow}{case} SIOCGMIIPHY:
8896     \textcolor{keywordflow}{case} SIOCGMIIREG:
8897     \textcolor{keywordflow}{case} SIOCSMIIREG:
8898         \textcolor{keywordflow}{return} igb\_mii\_ioctl(netdev, ifr, cmd);
8899 \textcolor{preprocessor}{#endif}
8900 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
8901 \textcolor{preprocessor}{#ifdef SIOCGHWTSTAMP}
8902     \textcolor{keywordflow}{case} SIOCGHWTSTAMP:
8903         \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2igb_8h_aa1e52e2b8b351e36f5eeecd0ed9d62db}{igb\_ptp\_get\_ts\_config}(netdev, ifr);
8904 \textcolor{preprocessor}{#endif}
8905     \textcolor{keywordflow}{case} SIOCSHWTSTAMP:
8906         \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2igb_8h_aacb4be9671383462ee31253e60c4f785}{igb\_ptp\_set\_ts\_config}(netdev, ifr);
8907 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
8908 \textcolor{preprocessor}{#ifdef ETHTOOL\_OPS\_COMPAT}
8909     \textcolor{keywordflow}{case} SIOCETHTOOL:
8910         \textcolor{keywordflow}{return} \hyperlink{kcompat__ethtool_8c_a458322e3bcff9788654149af9ffdf239}{ethtool\_ioctl}(ifr);
8911 \textcolor{preprocessor}{#endif}
8912     \textcolor{keywordflow}{default}:
8913         \textcolor{keywordflow}{return} -EOPNOTSUPP;
8914     \}
8915 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_ad940c3b1eb1b2b06b8e386c5dfd05551_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad940c3b1eb1b2b06b8e386c5dfd05551_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ioctl\+\_\+file@{igb\+\_\+ioctl\+\_\+file}}
\index{igb\+\_\+ioctl\+\_\+file@{igb\+\_\+ioctl\+\_\+file}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ioctl\+\_\+file(struct file $\ast$file, unsigned int cmd, unsigned long arg)}{igb_ioctl_file(struct file *file, unsigned int cmd, unsigned long arg)}}]{\setlength{\rightskip}{0pt plus 5cm}static long igb\+\_\+ioctl\+\_\+file (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{unsigned int}]{cmd, }
\item[{unsigned long}]{arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ae5bd4c417e2489bb0385cab2a7489a9e}{}\label{igb__main_8c_ae5bd4c417e2489bb0385cab2a7489a9e}


igb\+\_\+main.\+c 파일의 10715 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10717 \{
10718     \textcolor{keywordtype}{void} \_\_user *\hyperlink{aaf-listener_8c_ab70c96531b1b652d70c221cfaf3207f3}{argp} = (\textcolor{keywordtype}{void} \_\_user *) arg;
10719     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10720 
10721     \textcolor{keywordflow}{switch} (cmd) \{
10722     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a0e61aa1b1967066dcfb50420a215cbf9}{IGB\_BIND}:
10723         err = \hyperlink{igb__main_8c_a5e50faf6418c06493efc9b252294c81c}{igb\_bind}(file, argp);
10724         \textcolor{keywordflow}{break};
10725     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_aa680ab1cb0c424c592d60d6604cbddd6}{IGB\_UNBIND}:
10726         err = \hyperlink{igb__main_8c_a9c58b2f45420f3721cea433524aa7c5c}{igb\_unbind}(file);
10727         \textcolor{keywordflow}{break};
10728     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a3d0ed879596ad1c62ee0399fe939b871}{IGB\_MAP\_TX\_RING}:
10729     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a980131fba89f6747b27cee029eddffd9}{IGB\_MAP\_RX\_RING}:
10730     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a65d05ba6c88561412504d10c98b4406a}{IGB\_IOCTL\_MAP\_TX\_RING}:
10731     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_aefd40da0e720216e9322763f34db10f9}{IGB\_IOCTL\_MAP\_RX\_RING}:
10732         err = \hyperlink{igb__main_8c_a4504883727c3b707446d7f4c5bb5e05d}{igb\_mapbuf}(file, argp, cmd);
10733         \textcolor{keywordflow}{break};
10734     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a50e62099e37d7ac7bd3135dd26f9f146}{IGB\_MAPBUF}:
10735     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_adf93032d2ef77fa393c4b66b54154d61}{IGB\_IOCTL\_MAPBUF}:
10736         err = \hyperlink{igb__main_8c_ad52da4ebcd0f933f997f5aa61db4e0d1}{igb\_mapbuf\_user}(file, argp, cmd);
10737         \textcolor{keywordflow}{break};
10738     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_ae0051f1e08cd3e5c3b48b15ec8923264}{IGB\_UNMAP\_TX\_RING}:
10739     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a39821a796c0f883c2b85ccf3bc6fbda8}{IGB\_UNMAP\_RX\_RING}:
10740     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a532691735ba5a6ad1160de52af1cacfc}{IGB\_UNMAPBUF}:
10741     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a56337cbcf4b8cbf0639e27c2e6450421}{IGB\_IOCTL\_UNMAPBUF}:
10742     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a1ce925d7356aaf6a5be66d7cf90e7deb}{IGB\_IOCTL\_UNMAP\_TX\_RING}:
10743     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_ab77372222ac94c91f428f15b2a41445e}{IGB\_IOCTL\_UNMAP\_RX\_RING}:
10744         err = \hyperlink{igb__main_8c_ae7cebf4dcf256e27213909f389b11469}{igb\_unmapbuf}(file, argp, cmd);
10745         \textcolor{keywordflow}{break};
10746     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a2d0bef93ec76fee9599ad683a3538085}{IGB\_LINKSPEED}:
10747         err = \hyperlink{igb__main_8c_a2271d56e6345d78572aa614976a58d3a}{igb\_getspeed}(file, argp);
10748         \textcolor{keywordflow}{break};
10749     \textcolor{keywordflow}{default}:
10750         err = -EINVAL;
10751         \textcolor{keywordflow}{break};
10752     \};
10753 
10754     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10755 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae5bd4c417e2489bb0385cab2a7489a9e_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+irq\+\_\+disable@{igb\+\_\+irq\+\_\+disable}}
\index{igb\+\_\+irq\+\_\+disable@{igb\+\_\+irq\+\_\+disable}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+irq\+\_\+disable(struct igb\+\_\+adapter $\ast$adapter)}{igb_irq_disable(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+irq\+\_\+disable (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}{}\label{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}
igb\+\_\+irq\+\_\+disable -\/ Mask off interrupt generation on the N\+IC \+: board private structure 

igb\+\_\+main.\+c 파일의 1438 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1439 \{
1440     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1441 
1442     \textcolor{comment}{/*}
1443 \textcolor{comment}{     * we need to be careful when disabling interrupts.  The VFs are also}
1444 \textcolor{comment}{     * mapped into these registers and so clearing the bits can cause}
1445 \textcolor{comment}{     * issues on the VF drivers so we only need to clear what we set}
1446 \textcolor{comment}{     */}
1447     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
1448         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} regval = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acf4fee2f7534df8613df914512047567}{E1000\_EIAM});
1449 
1450         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acf4fee2f7534df8613df914512047567}{E1000\_EIAM}, regval
1451                 & ~adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask});
1452         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a46d17709802dae3681e417af1bba30bb}{E1000\_EIMC}, adapter->
      \hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask});
1453         regval = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a39187f5a991e9efe7cdb38eb55a60627}{E1000\_EIAC});
1454         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a39187f5a991e9efe7cdb38eb55a60627}{E1000\_EIAC}, regval
1455                 & ~adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask});
1456     \}
1457 
1458     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ab5135a5e85d9064f7d256b93c23bb467}{E1000\_IAM}, 0);
1459     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa973aee1bbd05ec477353537a78aecdd}{E1000\_IMC}, ~0);
1460     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
1461 
1462     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
1463         \textcolor{keywordtype}{int} vector = 0, i;
1464 
1465         synchronize\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[vector++].vector);
1466 
1467         \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
1468             synchronize\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[vector++].vector);
1469     \} \textcolor{keywordflow}{else} \{
1470         synchronize\_irq(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->irq);
1471     \}
1472 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+irq\+\_\+enable@{igb\+\_\+irq\+\_\+enable}}
\index{igb\+\_\+irq\+\_\+enable@{igb\+\_\+irq\+\_\+enable}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+irq\+\_\+enable(struct igb\+\_\+adapter $\ast$adapter)}{igb_irq_enable(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+irq\+\_\+enable (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{}\label{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}
igb\+\_\+irq\+\_\+enable -\/ Enable default interrupt generation settings \+: board private structure 

igb\+\_\+main.\+c 파일의 1478 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1479 \{
1480     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1481 
1482     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
1483         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ims = \hyperlink{kmod_2igb_2e1000__defines_8h_a691e909ca4838d15eafa0af0bbe4c5e9}{E1000\_IMS\_LSC} | \hyperlink{kmod_2igb_2e1000__defines_8h_a33316c3f4ff54bf3fb9250a750874cc6}{E1000\_IMS\_DOUTSYNC} | 
      \hyperlink{kmod_2igb_2e1000__defines_8h_abde64ea394714511e1eae0574e909307}{E1000\_IMS\_DRSTA};
1484         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} regval = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a39187f5a991e9efe7cdb38eb55a60627}{E1000\_EIAC});
1485 
1486         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a39187f5a991e9efe7cdb38eb55a60627}{E1000\_EIAC}, regval
1487                 | adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask});
1488         regval = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acf4fee2f7534df8613df914512047567}{E1000\_EIAM});
1489         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acf4fee2f7534df8613df914512047567}{E1000\_EIAM}, regval
1490                 | adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask});
1491         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a56a721f61c62b7b7153d554973632646}{E1000\_EIMS}, adapter->
      \hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask});
1492         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) \{
1493             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa15846385b40ac83f8425c819acc85c6}{E1000\_MBVFIMR}, 0xFF);
1494             ims |= \hyperlink{kmod_2igb_2e1000__defines_8h_aa235b73a0ea2ef67494ec5a2ec21082a}{E1000\_IMS\_VMMB};
1495             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a0a2ce3d164da662fb8f57459c298a1f6}{mdd})
1496                 \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) ||
1497                     (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}))
1498                 ims |= \hyperlink{kmod_2igb_2e1000__defines_8h_a7ac4320f6d4d8c746a552875d31832a5}{E1000\_IMS\_MDDET};
1499         \}
1500         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a05f292aeffa5aecf54931d02f1ce1ef6}{E1000\_IMS}, ims);
1501     \} \textcolor{keywordflow}{else} \{
1502         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a05f292aeffa5aecf54931d02f1ce1ef6}{E1000\_IMS}, \hyperlink{kmod_2igb_2e1000__defines_8h_a783fc211b395f336d6a990c423ed4e55}{IMS\_ENABLE\_MASK} |
1503                 \hyperlink{kmod_2igb_2e1000__defines_8h_abde64ea394714511e1eae0574e909307}{E1000\_IMS\_DRSTA});
1504         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ab5135a5e85d9064f7d256b93c23bb467}{E1000\_IAM}, \hyperlink{kmod_2igb_2e1000__defines_8h_a783fc211b395f336d6a990c423ed4e55}{IMS\_ENABLE\_MASK} |
1505                 \hyperlink{kmod_2igb_2e1000__defines_8h_abde64ea394714511e1eae0574e909307}{E1000\_IMS\_DRSTA});
1506     \}
1507 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+is\+\_\+non\+\_\+eop@{igb\+\_\+is\+\_\+non\+\_\+eop}}
\index{igb\+\_\+is\+\_\+non\+\_\+eop@{igb\+\_\+is\+\_\+non\+\_\+eop}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+is\+\_\+non\+\_\+eop(struct igb\+\_\+ring $\ast$rx\+\_\+ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc)}{igb_is_non_eop(struct igb_ring *rx_ring, union e1000_adv_rx_desc *rx_desc)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} igb\+\_\+is\+\_\+non\+\_\+eop (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ac5bec4783e881c1bdbefcfdca0cd30d0}{}\label{igb__main_8c_ac5bec4783e881c1bdbefcfdca0cd30d0}
igb\+\_\+is\+\_\+non\+\_\+eop -\/ process handling of non-\/\+E\+OP buffers \+: Rx ring being processed \+: Rx descriptor for current buffer

This function updates next to clean. If the buffer is an E\+OP buffer this function exits returning false, otherwise it will place the sk\+\_\+buff in the next buffer to be chained and return true indicating that this is in fact a non-\/\+E\+OP buffer. 

igb\+\_\+main.\+c 파일의 8264 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8266 \{
8267     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ntc = rx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} + 1;
8268 
8269     \textcolor{comment}{/* fetch, update, and store next to clean */}
8270     ntc = (ntc < rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}) ? ntc : 0;
8271     rx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = ntc;
8272 
8273     \hyperlink{lib_2igb_2e1000__osdep_8h_a004692feb1f91896c21a6d1644b54f2b}{prefetch}(\hyperlink{kmod_2igb_2igb_8h_aca4af1ac26473b8702e008159df7f659}{IGB\_RX\_DESC}(rx\_ring, ntc));
8274 
8275     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_ab383d985677c59b94439eb1a431c4c38}{E1000\_RXD\_STAT\_EOP})))
8276         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
8277 
8278     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
8279 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ac5bec4783e881c1bdbefcfdca0cd30d0_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ac5bec4783e881c1bdbefcfdca0cd30d0_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+lookup@{igb\+\_\+lookup}}
\index{igb\+\_\+lookup@{igb\+\_\+lookup}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+lookup(char $\ast$id)}{igb_lookup(char *id)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf igb\+\_\+adapter}$\ast$ igb\+\_\+lookup (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4e3e2b77b79ef21caa61082b19a0c3b6}{}\label{igb__main_8c_a4e3e2b77b79ef21caa61082b19a0c3b6}


igb\+\_\+main.\+c 파일의 10245 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10246 \{
10247     \textcolor{keyword}{struct }\hyperlink{structigb__pci__lookup}{igb\_pci\_lookup} adapter\_lookup;
10248     \textcolor{keywordtype}{int} ret\_val;
10249 
10250     adapter\_lookup.\hyperlink{structigb__pci__lookup_a194d1b705839346098846e03d7ae3108}{adapter} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10251     adapter\_lookup.pci\_info = id;
10252 
10253     \textcolor{comment}{/*}
10254 \textcolor{comment}{     * iterate over the loaded intefaces and match on their}
10255 \textcolor{comment}{     * pci device ID identifier - e.g. "0000:7:0.0"}
10256 \textcolor{comment}{     */}
10257 
10258     ret\_val = driver\_for\_each\_device(&\hyperlink{igb__main_8c_a45fd99b8fd5045e69f4ae20d76acbd1c}{igb\_driver}.driver, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},
10259                      &adapter\_lookup, \hyperlink{igb__main_8c_a918dabaf69741e5b835a92763d804b50}{\_\_igb\_notify\_lookup});
10260 
10261     \textcolor{keywordflow}{return} adapter\_lookup.adapter;
10262 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{igb__main_8c_a4e3e2b77b79ef21caa61082b19a0c3b6_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{igb__main_8c_a4e3e2b77b79ef21caa61082b19a0c3b6_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+lro\+\_\+flush@{igb\+\_\+lro\+\_\+flush}}
\index{igb\+\_\+lro\+\_\+flush@{igb\+\_\+lro\+\_\+flush}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+lro\+\_\+flush(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector, struct sk\+\_\+buff $\ast$skb)}{igb_lro_flush(struct igb_q_vector *q_vector, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+lro\+\_\+flush (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{}\label{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}
igb\+\_\+lro\+\_\+flush -\/ Indicate packets to upper layer.

Update IP and T\+CP header part of head skb if more than one skb\textquotesingle{}s chained and indicate packets to upper layer. 

igb\+\_\+main.\+c 파일의 7854 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7856 \{
7857     \textcolor{keyword}{struct }\hyperlink{structigb__lro__list}{igb\_lro\_list} *lrolist = &q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist};
7858 
7859     \_\_skb\_unlink(skb, &lrolist->\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active});
7860 
7861     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->append\_cnt) \{
7862         \textcolor{keyword}{struct }\hyperlink{structigb__lrohdr}{igb\_lrohdr} *lroh = \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(skb);
7863 
7864 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
7865         \textcolor{comment}{/* close any active lro contexts */}
7866         igb\_close\_active\_frag\_list(skb);
7867 
7868 \textcolor{preprocessor}{#endif}
7869         \textcolor{comment}{/* incorporate ip header and re-calculate checksum */}
7870         lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.tot\_len = ntohs(skb->len);
7871         lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.check = 0;
7872 
7873         \textcolor{comment}{/* header length is 5 since we know no options exist */}
7874         lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.check = ip\_fast\_csum((\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *)lroh, 5);
7875 
7876         \textcolor{comment}{/* clear TCP checksum to indicate we are an LRO frame */}
7877         lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.check = 0;
7878 
7879         \textcolor{comment}{/* incorporate latest timestamp into the tcp header */}
7880         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tsecr) \{
7881             lroh->\hyperlink{structigb__lrohdr_a886c506dce37671cf7fd216a7585674c}{ts}[2] = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tsecr;
7882             lroh->\hyperlink{structigb__lrohdr_a886c506dce37671cf7fd216a7585674c}{ts}[1] = htonl(\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tsval);
7883         \}
7884 \textcolor{preprocessor}{#ifdef NETIF\_F\_GSO}
7885 
7886 \textcolor{preprocessor}{#ifdef NAPI\_GRO\_CB}
7887         NAPI\_GRO\_CB(skb)->data\_offset = 0;
7888 \textcolor{preprocessor}{#endif}
7889         skb\_shinfo(skb)->gso\_size = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->mss;
7890         skb\_shinfo(skb)->gso\_type = SKB\_GSO\_TCPV4;
7891 \textcolor{preprocessor}{#endif}
7892     \}
7893 
7894 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
7895     igb\_receive\_skb(q\_vector, skb);
7896 \textcolor{preprocessor}{#else}
7897     \hyperlink{kcompat_8h_aafa989179bffda43b345c00dd4569c9d}{napi\_gro\_receive}(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi}, skb);
7898 \textcolor{preprocessor}{#endif}
7899     lrolist->\hyperlink{structigb__lro__list_a6f054dd96e8c1605385e4fea3ac0d1da}{stats}.\hyperlink{structigb__lro__stats_ac23518f6c232ca9567d2ab6c6ebd079a}{flushed}++;
7900 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=251pt]{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+lro\+\_\+flush\+\_\+all@{igb\+\_\+lro\+\_\+flush\+\_\+all}}
\index{igb\+\_\+lro\+\_\+flush\+\_\+all@{igb\+\_\+lro\+\_\+flush\+\_\+all}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+lro\+\_\+flush\+\_\+all(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector)}{igb_lro_flush_all(struct igb_q_vector *q_vector)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+lro\+\_\+flush\+\_\+all (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a6dc808ba69f6bb2be19abe0b2950c253}{}\label{igb__main_8c_a6dc808ba69f6bb2be19abe0b2950c253}


igb\+\_\+main.\+c 파일의 7902 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7903 \{
7904     \textcolor{keyword}{struct }\hyperlink{structigb__lro__list}{igb\_lro\_list} *lrolist = &q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist};
7905     \textcolor{keyword}{struct }sk\_buff *skb, *tmp;
7906 
7907     skb\_queue\_reverse\_walk\_safe(&lrolist->\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active}, skb, tmp)
7908         \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, skb);
7909 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a6dc808ba69f6bb2be19abe0b2950c253_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a6dc808ba69f6bb2be19abe0b2950c253_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+lro\+\_\+hdr@{igb\+\_\+lro\+\_\+hdr}}
\index{igb\+\_\+lro\+\_\+hdr@{igb\+\_\+lro\+\_\+hdr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+lro\+\_\+hdr(struct sk\+\_\+buff $\ast$skb)}{igb_lro_hdr(struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf igb\+\_\+lrohdr}$\ast$ igb\+\_\+lro\+\_\+hdr (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{}\label{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}


igb\+\_\+main.\+c 파일의 7843 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7844 \{
7845     \textcolor{keywordflow}{return} (\textcolor{keyword}{struct} \hyperlink{structigb__lrohdr}{igb\_lrohdr} *)skb->data;
7846 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a91df1eb6ba0973153abb54b341b59435_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+lro\+\_\+header\+\_\+ok@{igb\+\_\+lro\+\_\+header\+\_\+ok}}
\index{igb\+\_\+lro\+\_\+header\+\_\+ok@{igb\+\_\+lro\+\_\+header\+\_\+ok}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+lro\+\_\+header\+\_\+ok(struct sk\+\_\+buff $\ast$skb)}{igb_lro_header_ok(struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+lro\+\_\+header\+\_\+ok (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab0a3a556dbfe0bc52bf3a63b22472387}{}\label{igb__main_8c_ab0a3a556dbfe0bc52bf3a63b22472387}


igb\+\_\+main.\+c 파일의 7914 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7915 \{
7916     \textcolor{keyword}{struct }\hyperlink{structigb__lrohdr}{igb\_lrohdr} *lroh = \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(skb);
7917     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} opt\_bytes, data\_len;
7918 
7919 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
7920     \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tail = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
7921 \textcolor{preprocessor}{#endif}
7922     \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tsecr = 0;
7923     \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->append\_cnt = 0;
7924     \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->mss = 0;
7925 
7926     \textcolor{comment}{/* ensure that the checksum is valid */}
7927     \textcolor{keywordflow}{if} (skb->ip\_summed != CHECKSUM\_UNNECESSARY)
7928         \textcolor{keywordflow}{return};
7929 
7930     \textcolor{comment}{/* If we see CE codepoint in IP header, packet is not mergeable */}
7931     \textcolor{keywordflow}{if} (INET\_ECN\_is\_ce(ipv4\_get\_dsfield(&lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph})))
7932         \textcolor{keywordflow}{return};
7933 
7934     \textcolor{comment}{/* ensure no bits set besides ack or psh */}
7935     \textcolor{keywordflow}{if} (lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.fin || lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.syn || lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.rst ||
7936         lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.urg || lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.ece || lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.cwr ||
7937         !lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.ack)
7938         \textcolor{keywordflow}{return};
7939 
7940     \textcolor{comment}{/* store the total packet length */}
7941     data\_len = ntohs(lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.tot\_len);
7942 
7943     \textcolor{comment}{/* remove any padding from the end of the skb */}
7944     \_\_pskb\_trim(skb, data\_len);
7945 
7946     \textcolor{comment}{/* remove header length from data length */}
7947     data\_len -= \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structigb__lrohdr}{igb\_lrohdr});
7948 
7949     \textcolor{comment}{/*}
7950 \textcolor{comment}{     * check for timestamps. Since the only option we handle are timestamps,}
7951 \textcolor{comment}{     * we only have to handle the simple case of aligned timestamps}
7952 \textcolor{comment}{     */}
7953     opt\_bytes = (lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.doff << 2) - \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} tcphdr);
7954     \textcolor{keywordflow}{if} (opt\_bytes != 0) \{
7955         \textcolor{keywordflow}{if} ((opt\_bytes != TCPOLEN\_TSTAMP\_ALIGNED) ||
7956             !pskb\_may\_pull(skb, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__lrohdr}{igb\_lrohdr}) +
7957                     TCPOLEN\_TSTAMP\_ALIGNED) ||
7958             (lroh->\hyperlink{structigb__lrohdr_a886c506dce37671cf7fd216a7585674c}{ts}[0] != htonl((TCPOPT\_NOP << 24) |
7959                          (TCPOPT\_NOP << 16) |
7960                          (TCPOPT\_TIMESTAMP << 8) |
7961                           TCPOLEN\_TIMESTAMP)) ||
7962             (lroh->\hyperlink{structigb__lrohdr_a886c506dce37671cf7fd216a7585674c}{ts}[2] == 0)) \{
7963             \textcolor{keywordflow}{return};
7964         \}
7965 
7966         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tsval = ntohl(lroh->\hyperlink{structigb__lrohdr_a886c506dce37671cf7fd216a7585674c}{ts}[1]);
7967         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->tsecr = lroh->\hyperlink{structigb__lrohdr_a886c506dce37671cf7fd216a7585674c}{ts}[2];
7968 
7969         data\_len -= TCPOLEN\_TSTAMP\_ALIGNED;
7970     \}
7971 
7972     \textcolor{comment}{/* record data\_len as mss for the packet */}
7973     \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->mss = data\_len;
7974     \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->next\_seq = ntohl(lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.seq);
7975 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{igb__main_8c_ab0a3a556dbfe0bc52bf3a63b22472387_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab0a3a556dbfe0bc52bf3a63b22472387_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+lro\+\_\+receive@{igb\+\_\+lro\+\_\+receive}}
\index{igb\+\_\+lro\+\_\+receive@{igb\+\_\+lro\+\_\+receive}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+lro\+\_\+receive(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector, struct sk\+\_\+buff $\ast$new\+\_\+skb)}{igb_lro_receive(struct igb_q_vector *q_vector, struct sk_buff *new_skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+lro\+\_\+receive (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector, }
\item[{struct sk\+\_\+buff $\ast$}]{new\+\_\+skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4cb452a8b23f2419cfe5893465bfe877}{}\label{igb__main_8c_a4cb452a8b23f2419cfe5893465bfe877}
igb\+\_\+lro\+\_\+receive -\/ if able, queue skb into lro chain \+: structure containing interrupt and ring information \+: pointer to current skb being checked

Checks whether the skb given is eligible for L\+RO and if that\textquotesingle{}s fine chains it to the existing lro\+\_\+skb based on flowid. If an L\+RO for the flow doesn\textquotesingle{}t exist create one. 

igb\+\_\+main.\+c 파일의 8015 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8017 \{
8018     \textcolor{keyword}{struct }sk\_buff *lro\_skb;
8019     \textcolor{keyword}{struct }\hyperlink{structigb__lro__list}{igb\_lro\_list} *lrolist = &q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist};
8020     \textcolor{keyword}{struct }\hyperlink{structigb__lrohdr}{igb\_lrohdr} *lroh = \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(new\_skb);
8021     \_\_be32 saddr = lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.saddr;
8022     \_\_be32 daddr = lroh->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.daddr;
8023     \_\_be32 tcp\_ports = *(\_\_be32 *)&lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th};
8024     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} data\_len;
8025 #ifdef HAVE\_VLAN\_RX\_REGISTER
8026     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->vid;
8027 \textcolor{preprocessor}{#else}
8028     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid = new\_skb->vlan\_tci;
8029 \textcolor{preprocessor}{#endif}
8030 
8031     \hyperlink{igb__main_8c_ab0a3a556dbfe0bc52bf3a63b22472387}{igb\_lro\_header\_ok}(new\_skb);
8032 
8033     \textcolor{comment}{/*}
8034 \textcolor{comment}{     * we have a packet that might be eligible for LRO,}
8035 \textcolor{comment}{     * so see if it matches anything we might expect}
8036 \textcolor{comment}{     */}
8037     skb\_queue\_walk(&lrolist->\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active}, lro\_skb) \{
8038         \textcolor{keywordflow}{if} (*(\_\_be32 *)&\hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(lro\_skb)->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th} != tcp\_ports ||
8039             \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(lro\_skb)->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.saddr != saddr ||
8040             \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(lro\_skb)->\hyperlink{structigb__lrohdr_aa0d3bc23d63a8f27af63f8ed43faceae}{iph}.daddr != daddr)
8041             \textcolor{keywordflow}{continue};
8042 
8043 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
8044         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->vid != vid)
8045 \textcolor{preprocessor}{#else}
8046         \textcolor{keywordflow}{if} (lro\_skb->vlan\_tci != vid)
8047 \textcolor{preprocessor}{#endif}
8048             \textcolor{keywordflow}{continue};
8049 
8050         \textcolor{comment}{/* out of order packet */}
8051         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->next\_seq != \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->next\_seq) \{
8052             \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, lro\_skb);
8053             \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->mss = 0;
8054             \textcolor{keywordflow}{break};
8055         \}
8056 
8057         \textcolor{comment}{/* TCP timestamp options have changed */}
8058         \textcolor{keywordflow}{if} (!\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->tsecr != !\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->tsecr) \{
8059             \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, lro\_skb);
8060             \textcolor{keywordflow}{break};
8061         \}
8062 
8063         \textcolor{comment}{/* make sure timestamp values are increasing */}
8064         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->tsecr &&
8065             \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->tsval > \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->tsval) \{
8066             \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, lro\_skb);
8067             \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->mss = 0;
8068             \textcolor{keywordflow}{break};
8069         \}
8070 
8071         data\_len = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->mss;
8072 
8073         \textcolor{comment}{/* Check for all of the above below}
8074 \textcolor{comment}{         *   malformed header}
8075 \textcolor{comment}{         *   no tcp data}
8076 \textcolor{comment}{         *   resultant packet would be too large}
8077 \textcolor{comment}{         *   new skb is larger than our current mss}
8078 \textcolor{comment}{         *   data would remain in header}
8079 \textcolor{comment}{         *   we would consume more frags then the sk\_buff contains}
8080 \textcolor{comment}{         *   ack sequence numbers changed}
8081 \textcolor{comment}{         *   window size has changed}
8082 \textcolor{comment}{         */}
8083         \textcolor{keywordflow}{if} (data\_len == 0 ||
8084             data\_len > \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->mss ||
8085             data\_len > \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->\hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free} ||
8086 #ifndef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT
8087             data\_len != new\_skb->data\_len ||
8088             skb\_shinfo(new\_skb)->nr\_frags >=
8089             (MAX\_SKB\_FRAGS - skb\_shinfo(lro\_skb)->nr\_frags) ||
8090 #endif
8091             \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(lro\_skb)->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.ack\_seq != lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.ack\_seq ||
8092             \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(lro\_skb)->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.window != lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.window) \{
8093             \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, lro\_skb);
8094             \textcolor{keywordflow}{break};
8095         \}
8096 
8097         \textcolor{comment}{/* Remove IP and TCP header*/}
8098         skb\_pull(new\_skb, new\_skb->len - data\_len);
8099 
8100         \textcolor{comment}{/* update timestamp and timestamp echo response */}
8101         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->tsval = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->tsval;
8102         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->tsecr = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->tsecr;
8103 
8104         \textcolor{comment}{/* update sequence and free space */}
8105         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->next\_seq += data\_len;
8106         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->free -= data\_len;
8107 
8108         \textcolor{comment}{/* update append\_cnt */}
8109         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->append\_cnt++;
8110 
8111 \textcolor{preprocessor}{#ifndef CONFIG\_IGB\_DISABLE\_PACKET\_SPLIT}
8112         \textcolor{comment}{/* if header is empty pull pages into current skb */}
8113         \hyperlink{igb__main_8c_a55e627577550e71548b6c6ac427659f7}{igb\_merge\_frags}(lro\_skb, new\_skb);
8114 \textcolor{preprocessor}{#else}
8115         \textcolor{comment}{/* chain this new skb in frag\_list */}
8116         igb\_add\_active\_tail(lro\_skb, new\_skb);
8117 \textcolor{preprocessor}{#endif}
8118 
8119         \textcolor{keywordflow}{if} ((data\_len < \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(lro\_skb)->mss) || lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.psh ||
8120             skb\_shinfo(lro\_skb)->nr\_frags == MAX\_SKB\_FRAGS) \{
8121             \hyperlink{igb__main_8c_a91df1eb6ba0973153abb54b341b59435}{igb\_lro\_hdr}(lro\_skb)->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.psh |= lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.psh;
8122             \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, lro\_skb);
8123         \}
8124 
8125         lrolist->\hyperlink{structigb__lro__list_a6f054dd96e8c1605385e4fea3ac0d1da}{stats}.\hyperlink{structigb__lro__stats_a745689cb434a6cbf4e4da6ab35a61b89}{coal}++;
8126         \textcolor{keywordflow}{return};
8127     \}
8128 
8129     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->mss && !lroh->\hyperlink{structigb__lrohdr_a40799b2267bf3b2c39ee098a5c75a7aa}{th}.psh) \{
8130         \textcolor{comment}{/* if we are at capacity flush the tail */}
8131         \textcolor{keywordflow}{if} (skb\_queue\_len(&lrolist->\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active}) >= \hyperlink{kmod_2igb_2igb_8h_af584d82ed74426c105ab7b53754d7963}{IGB\_LRO\_MAX}) \{
8132             lro\_skb = skb\_peek\_tail(&lrolist->\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active});
8133             \textcolor{keywordflow}{if} (lro\_skb)
8134                 \hyperlink{igb__main_8c_ab9167e25834d08adfdeb65259c1b679c}{igb\_lro\_flush}(q\_vector, lro\_skb);
8135         \}
8136 
8137         \textcolor{comment}{/* update sequence and free space */}
8138         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->next\_seq += \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->mss;
8139         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->free = 65521 - new\_skb->len;
8140 
8141         \textcolor{comment}{/* .. and insert at the front of the active list */}
8142         \_\_skb\_queue\_head(&lrolist->\hyperlink{structigb__lro__list_a39e915df2bf9d01371a2e69f5587edd7}{active}, new\_skb);
8143 
8144         lrolist->\hyperlink{structigb__lro__list_a6f054dd96e8c1605385e4fea3ac0d1da}{stats}.\hyperlink{structigb__lro__stats_a745689cb434a6cbf4e4da6ab35a61b89}{coal}++;
8145         \textcolor{keywordflow}{return};
8146     \}
8147 
8148     \textcolor{comment}{/* packet not handled by any of the above, pass it to the stack */}
8149 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
8150     igb\_receive\_skb(q\_vector, new\_skb);
8151 \textcolor{preprocessor}{#else}
8152     \hyperlink{kcompat_8h_aafa989179bffda43b345c00dd4569c9d}{napi\_gro\_receive}(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi}, new\_skb);
8153 \textcolor{preprocessor}{#endif}
8154 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4cb452a8b23f2419cfe5893465bfe877_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4cb452a8b23f2419cfe5893465bfe877_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+mapbuf@{igb\+\_\+mapbuf}}
\index{igb\+\_\+mapbuf@{igb\+\_\+mapbuf}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+mapbuf(struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg, int ring)}{igb_mapbuf(struct file *file, void __user *arg, int ring)}}]{\setlength{\rightskip}{0pt plus 5cm}static long igb\+\_\+mapbuf (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{void \+\_\+\+\_\+user $\ast$}]{arg, }
\item[{int}]{ring}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4504883727c3b707446d7f4c5bb5e05d}{}\label{igb__main_8c_a4504883727c3b707446d7f4c5bb5e05d}


igb\+\_\+main.\+c 파일의 10485 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10486 \{
10487     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10488     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
10489     \textcolor{keyword}{struct }\hyperlink{structigb__buf__cmd}{igb\_buf\_cmd} req;
10490     \textcolor{comment}{/*size used for the purpose of copying the contents of igb\_buf\_cmd}
10491 \textcolor{comment}{      between userspace and kernel space    }
10492 \textcolor{comment}{      introduced to handle possible mismatch in libigb and igb version*/}
10493     \textcolor{keywordtype}{int} buf\_cmd\_size = 0;
10494 
10495     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
10496 
10497     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10498         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10499         \textcolor{keywordflow}{return} -ENOENT;
10500     \}   
10501 
10502     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10503     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10504         printk(\textcolor{stringliteral}{"map to unbound device!\(\backslash\)n"});
10505         \textcolor{keywordflow}{return} -ENOENT;
10506     \}
10507 
10508     \textcolor{keywordflow}{if}((ring != \hyperlink{kmod_2igb_2igb_8h_a65d05ba6c88561412504d10c98b4406a}{IGB\_IOCTL\_MAP\_TX\_RING}) && (ring != 
      \hyperlink{kmod_2igb_2igb_8h_aefd40da0e720216e9322763f34db10f9}{IGB\_IOCTL\_MAP\_RX\_RING}))
10509     \{
10510         dev\_warn(&adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->dev, \textcolor{stringliteral}{"Old ioctl value used: %d, consider using new one from libigb \(\backslash\)n"}
      , ring);
10511         \textcolor{comment}{/* this situation suggest using an old ioctl by libigb}
10512 \textcolor{comment}{           as a consequence the igb\_buf\_cmd struct from libigb perspective does not contain the "pa" field}
10513 \textcolor{comment}{           we need to align the requested size in copy\_from\_user() for possibility */}
10514         buf\_cmd\_size = \textcolor{keyword}{sizeof}(req) - \textcolor{keyword}{sizeof}(\hyperlink{lib_2igb_2e1000__osdep_8h_a1d8f78f95a414480659f3182e6067b80}{u64});    
10515     
10516     \} \textcolor{keywordflow}{else} \{
10517 
10518         \textcolor{comment}{/* assuming no compatibility issue:}
10519 \textcolor{comment}{           libigb and kernel module have the same}
10520 \textcolor{comment}{           igb\_buf\_cmd structs ("pa" field included in both)}
10521 \textcolor{comment}{        */} 
10522         buf\_cmd\_size = \textcolor{keyword}{sizeof}(req);
10523 
10524     \}   
10525 
10526     \textcolor{keywordflow}{if} (copy\_from\_user(&req, arg, buf\_cmd\_size))
10527         \textcolor{keywordflow}{return} -EFAULT;
10528     
10529     \textcolor{keywordflow}{if} ((ring == \hyperlink{kmod_2igb_2igb_8h_a28736248d4c5443cf78bee24db6b538a}{IGB\_MAPRING}) || (ring == \hyperlink{kmod_2igb_2igb_8h_a3d0ed879596ad1c62ee0399fe939b871}{IGB\_MAP\_TX\_RING}) ||
10530          ring == \hyperlink{kmod_2igb_2igb_8h_a65d05ba6c88561412504d10c98b4406a}{IGB\_IOCTL\_MAP\_TX\_RING}) \{
10531         \textcolor{keywordflow}{if} (req.queue >= 3) \{
10532             printk(\textcolor{stringliteral}{"mapring:invalid queue specified(%d)\(\backslash\)n"},
10533                    req.queue);
10534             \textcolor{keywordflow}{return} -EINVAL;
10535         \}
10536         
10537         \textcolor{keywordflow}{if}(!adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}) \{
10538             printk(\textcolor{stringliteral}{"igb\_avb igb\_mapbuf:tx ring freed %s\(\backslash\)n"}, adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->name);
10539             \textcolor{keywordflow}{return} -EINVAL;
10540         \}
10541 
10542         mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10543         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} & (1 << req.queue)) \{
10544             mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10545             printk(\textcolor{stringliteral}{"mapring:queue in use (%d)\(\backslash\)n"}, req.queue);
10546             \textcolor{keywordflow}{return} -EBUSY;
10547         \}
10548 
10549         adapter->\hyperlink{structigb__adapter_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} |= (1 << req.queue);
10550         igb\_priv->\hyperlink{structigb__private__data_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} |= (1 << req.queue);
10551 
10552         \textcolor{keywordflow}{if}(ring == \hyperlink{kmod_2igb_2igb_8h_a65d05ba6c88561412504d10c98b4406a}{IGB\_IOCTL\_MAP\_TX\_RING})  
10553             req.pa = virt\_to\_phys(adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[req.queue]->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc});
10554 
10555         req.physaddr = adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[req.queue]->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma};
10556         req.mmap\_size = adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[req.queue]->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size};
10557         mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10558     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((ring == \hyperlink{kmod_2igb_2igb_8h_a980131fba89f6747b27cee029eddffd9}{IGB\_MAP\_RX\_RING}) || (ring == 
      \hyperlink{kmod_2igb_2igb_8h_aefd40da0e720216e9322763f34db10f9}{IGB\_IOCTL\_MAP\_RX\_RING})) \{
10559         \textcolor{keywordflow}{if} (req.queue >= 3) \{
10560             printk(\textcolor{stringliteral}{"mapring:invalid queue specified(%d)\(\backslash\)n"},
10561                    req.queue);
10562             \textcolor{keywordflow}{return} -EINVAL;
10563         \}
10564 
10565         \textcolor{keywordflow}{if}(!adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}) \{
10566             printk(\textcolor{stringliteral}{"igb\_avb igb\_mapbuf:rx ring freed %s \(\backslash\)n"}, adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->name);
10567             \textcolor{keywordflow}{return} -EINVAL;
10568         \}
10569 
10570         mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10571         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} & (1 << req.queue)) \{
10572             mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10573             printk(\textcolor{stringliteral}{"mapring:queue in use (%d)\(\backslash\)n"}, req.queue);
10574             \textcolor{keywordflow}{return} -EBUSY;
10575         \}
10576 
10577         adapter->\hyperlink{structigb__adapter_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} |= (1 << req.queue);
10578         igb\_priv->\hyperlink{structigb__private__data_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} |= (1 << req.queue);
10579         
10580         \textcolor{keywordflow}{if}(ring == \hyperlink{kmod_2igb_2igb_8h_aefd40da0e720216e9322763f34db10f9}{IGB\_IOCTL\_MAP\_RX\_RING})  
10581             req.pa = virt\_to\_phys(adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[req.queue]->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc});
10582 
10583         req.physaddr = adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[req.queue]->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma};
10584         req.mmap\_size = adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[req.queue]->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size};
10585         mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10586     \} \textcolor{keywordflow}{else} \{
10587         printk(\textcolor{stringliteral}{"mapring: invalid ioctl %d\(\backslash\)n"}, \_IOC\_NR(ring));
10588         \textcolor{keywordflow}{return} -EINVAL;
10589     \}
10590 
10591     \textcolor{keywordflow}{if} (copy\_to\_user(arg, &req, buf\_cmd\_size)) \{
10592         printk(\textcolor{stringliteral}{"copyout to user failed\(\backslash\)n"});
10593         err = -EFAULT;
10594         \textcolor{keywordflow}{goto} failed;
10595     \}
10596 
10597     \textcolor{keywordflow}{return} 0;
10598 
10599 failed:
10600     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10601 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=254pt]{igb__main_8c_a4504883727c3b707446d7f4c5bb5e05d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+mapbuf\+\_\+user@{igb\+\_\+mapbuf\+\_\+user}}
\index{igb\+\_\+mapbuf\+\_\+user@{igb\+\_\+mapbuf\+\_\+user}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+mapbuf\+\_\+user(struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg, int ring)}{igb_mapbuf_user(struct file *file, void __user *arg, int ring)}}]{\setlength{\rightskip}{0pt plus 5cm}static long igb\+\_\+mapbuf\+\_\+user (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{void \+\_\+\+\_\+user $\ast$}]{arg, }
\item[{int}]{ring}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ad52da4ebcd0f933f997f5aa61db4e0d1}{}\label{igb__main_8c_ad52da4ebcd0f933f997f5aa61db4e0d1}


igb\+\_\+main.\+c 파일의 10366 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10367 \{
10368     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10369     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
10370     \textcolor{keyword}{struct }\hyperlink{structigb__buf__cmd}{igb\_buf\_cmd} req;
10371     \textcolor{comment}{/*size used for the purpose of copying the contents of igb\_buf\_cmd}
10372 \textcolor{comment}{      between userspace and kernel space    }
10373 \textcolor{comment}{      introduced to handle possible mismatch in libigb and igb version*/}
10374     \textcolor{keywordtype}{int} buf\_cmd\_size = 0;
10375     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
10376     \textcolor{keyword}{struct }page *page;
10377     dma\_addr\_t page\_dma;
10378     \textcolor{keyword}{struct }\hyperlink{structigb__user__page}{igb\_user\_page} *userpage;
10379 
10380 
10381     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10382         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10383         \textcolor{keywordflow}{return} -ENOENT;
10384     \}
10385 
10386     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10387     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10388         printk(\textcolor{stringliteral}{"map to unbound device!\(\backslash\)n"});
10389         \textcolor{keywordflow}{return} -ENOENT;
10390     \}
10391 
10392     \textcolor{keywordflow}{if}(ring != \hyperlink{kmod_2igb_2igb_8h_adf93032d2ef77fa393c4b66b54154d61}{IGB\_IOCTL\_MAPBUF})
10393     \{
10394         dev\_warn(&adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->dev, \textcolor{stringliteral}{"Old ioctl value used: %d, consider using a new one from libigb 
      \(\backslash\)n"}, ring);
10395         \textcolor{comment}{/* this situation suggest using an old ioctl by libigb}
10396 \textcolor{comment}{           as a consequence the igb\_buf\_cmd struct from libigb perspective does not contain the "pa" field}
10397 \textcolor{comment}{           we need to align the requested size in copy\_from\_user() for possibility */}
10398         buf\_cmd\_size = \textcolor{keyword}{sizeof}(req) - \textcolor{keyword}{sizeof}(\hyperlink{lib_2igb_2e1000__osdep_8h_a1d8f78f95a414480659f3182e6067b80}{u64});
10399     \} \textcolor{keywordflow}{else} \{
10400         \textcolor{comment}{/* assuming no compatibility issue:}
10401 \textcolor{comment}{           libigb and kernel module have the same}
10402 \textcolor{comment}{           igb\_buf\_cmd structs ("pa" field included in both)}
10403 \textcolor{comment}{        */}  
10404         buf\_cmd\_size = \textcolor{keyword}{sizeof}(req);
10405     \}
10406 
10407     \textcolor{keywordflow}{if} (copy\_from\_user(&req, arg, buf\_cmd\_size))
10408         \textcolor{keywordflow}{return} -EFAULT;
10409 
10410     userpage = vzalloc(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__user__page}{igb\_user\_page}));
10411     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!userpage)) \{
10412         err = -ENOMEM;
10413         \textcolor{keywordflow}{goto} failed;
10414     \}
10415 
10416     mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10417     \textcolor{keywordflow}{if} (igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10418         igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} = userpage;
10419     \} \textcolor{keywordflow}{else} \{
10420         userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next} = igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages};
10421         igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages}->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev} = userpage;
10422         igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} = userpage;
10423     \}
10424 
10425 \textcolor{preprocessor}{#if defined(CONFIG\_IGB\_SUPPORT\_32BIT\_IOCTL)}
10426 \textcolor{preprocessor}{#if defined(CONFIG\_ZONE\_DMA32)}
10427     page = \hyperlink{openavb__igb_8c_ac71bb91fa61be58ec0f89792b4dd4002}{alloc\_page}(GFP\_ATOMIC | \hyperlink{kcompat_8h_a3a2e2e2556cc4aa78a8cc980499a9b44}{\_\_GFP\_COLD} | GFP\_DMA32);
10428 \textcolor{preprocessor}{#else }\textcolor{comment}{/* defined(CONFIG\_ZONE\_DMA32) */}\textcolor{preprocessor}{}
10429     page = \hyperlink{openavb__igb_8c_ac71bb91fa61be58ec0f89792b4dd4002}{alloc\_page}(GFP\_ATOMIC | \hyperlink{kcompat_8h_a3a2e2e2556cc4aa78a8cc980499a9b44}{\_\_GFP\_COLD} | GFP\_DMA);
10430 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* defined(CONFIG\_ZONE\_DMA32) */}\textcolor{preprocessor}{}
10431 \textcolor{preprocessor}{#else }\textcolor{comment}{/* defined(CONFIG\_IGB\_SUPPORT\_32BIT\_IOCTL) */}\textcolor{preprocessor}{}
10432     page = \hyperlink{openavb__igb_8c_ac71bb91fa61be58ec0f89792b4dd4002}{alloc\_page}(GFP\_ATOMIC | \hyperlink{kcompat_8h_a3a2e2e2556cc4aa78a8cc980499a9b44}{\_\_GFP\_COLD});
10433 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* defined(CONFIG\_IGB\_SUPPORT\_32BIT\_IOCTL) */}\textcolor{preprocessor}{}
10434     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(!page)) \{
10435         err = -ENOMEM;
10436         \textcolor{keywordflow}{goto} page\_failed;
10437     \}
10438 
10439     page\_dma = dma\_map\_page(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}), page,
10440             0, PAGE\_SIZE, DMA\_FROM\_DEVICE);
10441 
10442     \textcolor{keywordflow}{if} (dma\_mapping\_error(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}), page\_dma)) \{
10443         err = -ENOMEM;
10444         \textcolor{keywordflow}{goto} map\_failed;
10445     \}
10446 
10447     igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages}->\hyperlink{structigb__user__page_ad45c9283ecdd581420d88bc33100364a}{page} = \hyperlink{structigb__user__page_ad45c9283ecdd581420d88bc33100364a}{page};
10448     igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages}->\hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma} = \hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma};
10449 
10450     \textcolor{keywordflow}{if}(ring == \hyperlink{kmod_2igb_2igb_8h_adf93032d2ef77fa393c4b66b54154d61}{IGB\_IOCTL\_MAPBUF})
10451         req.pa = page\_to\_phys(page);
10452 
10453     req.physaddr = \hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma};
10454     req.mmap\_size = PAGE\_SIZE;
10455     mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10456 
10457     \textcolor{keywordflow}{if} (copy\_to\_user(arg, &req, buf\_cmd\_size)) \{
10458         printk(\textcolor{stringliteral}{"copyout to user failed\(\backslash\)n"});
10459         err = -EFAULT;
10460         mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10461         \textcolor{keywordflow}{goto} copy\_failed;
10462     \}
10463 
10464     \textcolor{keywordflow}{return} 0;
10465 
10466 copy\_failed:
10467     dma\_unmap\_page(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
10468             userpage->\hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma}, PAGE\_SIZE,
10469             DMA\_FROM\_DEVICE);
10470 map\_failed:
10471     put\_page(userpage->\hyperlink{structigb__user__page_ad45c9283ecdd581420d88bc33100364a}{page});
10472 page\_failed:
10473     \textcolor{keywordflow}{if} (userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev})
10474         userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev}->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next} = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10475     \textcolor{keywordflow}{if} (userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next})
10476         userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next}->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev} = userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev};
10477     \textcolor{keywordflow}{if} (userpage == igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages})
10478         igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10479     vfree(userpage);
10480     mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10481 failed:
10482     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10483 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad52da4ebcd0f933f997f5aa61db4e0d1_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=278pt]{igb__main_8c_ad52da4ebcd0f933f997f5aa61db4e0d1_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+maybe\+\_\+stop\+\_\+tx@{igb\+\_\+maybe\+\_\+stop\+\_\+tx}}
\index{igb\+\_\+maybe\+\_\+stop\+\_\+tx@{igb\+\_\+maybe\+\_\+stop\+\_\+tx}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+maybe\+\_\+stop\+\_\+tx(struct igb\+\_\+ring $\ast$tx\+\_\+ring, const u16 size)}{igb_maybe_stop_tx(struct igb_ring *tx_ring, const u16 size)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+maybe\+\_\+stop\+\_\+tx (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{const {\bf u16}}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_a07fa15ec03bb292010932287043d9bae}{}\label{igb__main_8c_a07fa15ec03bb292010932287043d9bae}


igb\+\_\+main.\+c 파일의 5643 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5644 \{
5645     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a8eaef53b14521d2fb0a9db74f3ed1c97}{igb\_desc\_unused}(tx\_ring) >= \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size})
5646         \textcolor{keywordflow}{return} 0;
5647     \textcolor{keywordflow}{return} \hyperlink{igb__main_8c_a132007995964d5aabebde7c9b0832c33}{\_\_igb\_maybe\_stop\_tx}(tx\_ring, \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size});
5648 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a07fa15ec03bb292010932287043d9bae_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a07fa15ec03bb292010932287043d9bae_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+merge\+\_\+frags@{igb\+\_\+merge\+\_\+frags}}
\index{igb\+\_\+merge\+\_\+frags@{igb\+\_\+merge\+\_\+frags}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+merge\+\_\+frags(struct sk\+\_\+buff $\ast$lro\+\_\+skb, struct sk\+\_\+buff $\ast$new\+\_\+skb)}{igb_merge_frags(struct sk_buff *lro_skb, struct sk_buff *new_skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+merge\+\_\+frags (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{lro\+\_\+skb, }
\item[{struct sk\+\_\+buff $\ast$}]{new\+\_\+skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a55e627577550e71548b6c6ac427659f7}{}\label{igb__main_8c_a55e627577550e71548b6c6ac427659f7}


igb\+\_\+main.\+c 파일의 7978 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7979 \{
7980     \textcolor{keyword}{struct }skb\_shared\_info *sh\_info;
7981     \textcolor{keyword}{struct }skb\_shared\_info *new\_skb\_info;
7982     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} data\_len;
7983 
7984     sh\_info = skb\_shinfo(lro\_skb);
7985     new\_skb\_info = skb\_shinfo(new\_skb);
7986 
7987     \textcolor{comment}{/* copy frags into the last skb */}
7988     memcpy(sh\_info->frags + sh\_info->nr\_frags,
7989            new\_skb\_info->frags,
7990            new\_skb\_info->nr\_frags * \textcolor{keyword}{sizeof}(skb\_frag\_t));
7991 
7992     \textcolor{comment}{/* copy size data over */}
7993     sh\_info->nr\_frags += new\_skb\_info->nr\_frags;
7994     data\_len = \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(new\_skb)->mss;
7995     lro\_skb->len += data\_len;
7996     lro\_skb->data\_len += data\_len;
7997     lro\_skb->truesize += data\_len;
7998 
7999     \textcolor{comment}{/* wipe record of data from new\_skb */}
8000     new\_skb\_info->nr\_frags = 0;
8001     new\_skb->len = new\_skb->data\_len = 0;
8002     dev\_kfree\_skb\_any(new\_skb);
8003 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a55e627577550e71548b6c6ac427659f7_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+mmap@{igb\+\_\+mmap}}
\index{igb\+\_\+mmap@{igb\+\_\+mmap}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+mmap(struct file $\ast$file, struct vm\+\_\+area\+\_\+struct $\ast$vma)}{igb_mmap(struct file *file, struct vm_area_struct *vma)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+mmap (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{struct vm\+\_\+area\+\_\+struct $\ast$}]{vma}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab1b42c6a3058ce5f661f5b02d1a5d16c}{}\label{igb__main_8c_ab1b42c6a3058ce5f661f5b02d1a5d16c}


igb\+\_\+main.\+c 파일의 10845 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10846 \{
10847     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10848     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10849     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size}  = vma->vm\_end - vma->vm\_start;
10850     dma\_addr\_t pgoff = vma->vm\_pgoff;
10851     dma\_addr\_t physaddr;
10852 
10853     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10854         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10855         \textcolor{keywordflow}{return} -ENOENT;
10856     \}
10857 
10858     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10859     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
10860         \textcolor{keywordflow}{return} -ENODEV;
10861 
10862     \textcolor{keywordflow}{if} (pgoff == 0)
10863         physaddr = pci\_resource\_start(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}, 0) >> PAGE\_SHIFT;
10864     \textcolor{keywordflow}{else}
10865         physaddr = pgoff;
10866 
10867     \textcolor{keywordflow}{if} (remap\_pfn\_range(vma, vma->vm\_start, physaddr, size,
10868                 vma->vm\_page\_prot))
10869         \textcolor{keywordflow}{return} -EAGAIN;
10870 
10871     vma->vm\_ops = &\hyperlink{igb__main_8c_a48307be98c937323bbdee49cbe7b9499}{igb\_mmap\_ops};
10872     \textcolor{keywordflow}{return} 0;
10873 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{igb__main_8c_ab1b42c6a3058ce5f661f5b02d1a5d16c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+msg\+\_\+task@{igb\+\_\+msg\+\_\+task}}
\index{igb\+\_\+msg\+\_\+task@{igb\+\_\+msg\+\_\+task}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+msg\+\_\+task(struct igb\+\_\+adapter $\ast$)}{igb_msg_task(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+msg\+\_\+task (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_abe9dc5a15f22ebf94b5cb0a66fe8d4ad}{}\label{igb__main_8c_abe9dc5a15f22ebf94b5cb0a66fe8d4ad}


igb\+\_\+main.\+c 파일의 7076 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7077 \{
7078     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
7079     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf};
7080 
7081     \textcolor{keywordflow}{for} (vf = 0; vf < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; vf++) \{
7082         \textcolor{comment}{/* process any reset requests */}
7083         \textcolor{keywordflow}{if} (!\hyperlink{e1000__mbx_8c_aeb65b1b825fb54037f1ec87dc8ac040c}{e1000\_check\_for\_rst}(hw, vf))
7084             \hyperlink{igb__main_8c_abf709e6b4ef8ed9c86ba108be592b96d}{igb\_vf\_reset\_event}(adapter, vf);
7085 
7086         \textcolor{comment}{/* process any messages pending */}
7087         \textcolor{keywordflow}{if} (!\hyperlink{e1000__mbx_8c_aaf69a72f126a0d87df195f6333f88c1c}{e1000\_check\_for\_msg}(hw, vf))
7088             \hyperlink{igb__main_8c_a25d4016a5355329deff8e301aecccdc3}{igb\_rcv\_msg\_from\_vf}(adapter, vf);
7089 
7090         \textcolor{comment}{/* process any acks */}
7091         \textcolor{keywordflow}{if} (!\hyperlink{e1000__mbx_8c_afad20480dd170de615761ec2662a32ad}{e1000\_check\_for\_ack}(hw, vf))
7092             \hyperlink{igb__main_8c_a1b68d827fe29b33454280f76ee89fc13}{igb\_rcv\_ack\_from\_vf}(adapter, vf);
7093     \}
7094 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_abe9dc5a15f22ebf94b5cb0a66fe8d4ad_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_abe9dc5a15f22ebf94b5cb0a66fe8d4ad_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+msix\+\_\+other@{igb\+\_\+msix\+\_\+other}}
\index{igb\+\_\+msix\+\_\+other@{igb\+\_\+msix\+\_\+other}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+msix\+\_\+other(int irq, void $\ast$)}{igb_msix_other(int irq, void *)}}]{\setlength{\rightskip}{0pt plus 5cm}static irqreturn\+\_\+t igb\+\_\+msix\+\_\+other (
\begin{DoxyParamCaption}
\item[{int}]{irq, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a68bd77ae5cd7eabc9722aeefb7acda87}{}\label{igb__main_8c_a68bd77ae5cd7eabc9722aeefb7acda87}


igb\+\_\+main.\+c 파일의 6197 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6198 \{
6199     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = data;
6200     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6201     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} icr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae3769f563a652045f35d90625fd7a4d9}{E1000\_ICR});
6202     \textcolor{comment}{/* reading ICR causes bit 31 of EICR to be cleared */}
6203 
6204     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_af3dffb9df73d226246c063087f028538}{E1000\_ICR\_DRSTA})
6205         schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
6206 
6207     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a0b2ccab9333b510d99092d895168f0ca}{E1000\_ICR\_DOUTSYNC}) \{
6208         \textcolor{comment}{/* HW is reporting DMA is out of sync */}
6209         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0eac8ccea27d94b4c5673fc7a39a9523}{doosync}++;
6210         \textcolor{comment}{/* The DMA Out of Sync is also indication of a spoof event}
6211 \textcolor{comment}{         * in IOV mode. Check the Wrong VM Behavior register to}
6212 \textcolor{comment}{         * see if it is really a spoof event.}
6213 \textcolor{comment}{         */}
6214         \hyperlink{igb__main_8c_a4ca49bc45d6fc881a7f7077245b60abe}{igb\_check\_wvbr}(adapter);
6215     \}
6216 
6217     \textcolor{comment}{/* Check for a mailbox event */}
6218     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a8e35e12daa079ec84f52d6d4b79ac692}{E1000\_ICR\_VMMB})
6219         \hyperlink{igb__main_8c_abe9dc5a15f22ebf94b5cb0a66fe8d4ad}{igb\_msg\_task}(adapter);
6220 
6221     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a39be1314d7951cedeb7d949256debbb1}{E1000\_ICR\_LSC}) \{
6222         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status} = 1;
6223         \textcolor{comment}{/* guard against interrupt when we're going down */}
6224         \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
6225             mod\_timer(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer}, jiffies + 1);
6226     \}
6227 
6228 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
6229     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_a103b2f2695a294e597fd359605c87c51}{E1000\_ICR\_TS})
6230         \hyperlink{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7}{igb\_tsync\_interrupt}(adapter);
6231 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
6232 
6233     \textcolor{comment}{/* Check for MDD event */}
6234     \textcolor{keywordflow}{if} (icr & \hyperlink{kmod_2igb_2e1000__defines_8h_ab7c2827bee915f02c16af5bf05c85f8e}{E1000\_ICR\_MDDET})
6235         \hyperlink{igb__main_8c_a7e8b98fdb70c2ec8039595f166707412}{igb\_process\_mdd\_event}(adapter);
6236 
6237     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a56a721f61c62b7b7153d554973632646}{E1000\_EIMS}, adapter->\hyperlink{structigb__adapter_abf76408eafd71916cf6850fb3b1e7379}{eims\_other});
6238 
6239     \textcolor{keywordflow}{return} IRQ\_HANDLED;
6240 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a68bd77ae5cd7eabc9722aeefb7acda87_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a68bd77ae5cd7eabc9722aeefb7acda87_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+msix\+\_\+ring@{igb\+\_\+msix\+\_\+ring}}
\index{igb\+\_\+msix\+\_\+ring@{igb\+\_\+msix\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+msix\+\_\+ring(int irq, void $\ast$)}{igb_msix_ring(int irq, void *)}}]{\setlength{\rightskip}{0pt plus 5cm}static irqreturn\+\_\+t igb\+\_\+msix\+\_\+ring (
\begin{DoxyParamCaption}
\item[{int}]{irq, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ace5ba57d7d83febe6a5b503f888bbb15}{}\label{igb__main_8c_ace5ba57d7d83febe6a5b503f888bbb15}


igb\+\_\+main.\+c 파일의 6262 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6263 \{
6264     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = data;
6265 
6266     \textcolor{comment}{/* Write the ITR value calculated from the previous interrupt. */}
6267     \hyperlink{igb__main_8c_a476db26ba6dcacc132d78aff94f77242}{igb\_write\_itr}(q\_vector);
6268 
6269     napi\_schedule(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi});
6270 
6271     \textcolor{keywordflow}{return} IRQ\_HANDLED;
6272 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ace5ba57d7d83febe6a5b503f888bbb15_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ace5ba57d7d83febe6a5b503f888bbb15_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+mta\+\_\+set@{igb\+\_\+mta\+\_\+set}}
\index{igb\+\_\+mta\+\_\+set@{igb\+\_\+mta\+\_\+set}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+mta\+\_\+set(struct igb\+\_\+adapter $\ast$adapter, u32 hash\+\_\+value)}{igb_mta_set(struct igb_adapter *adapter, u32 hash_value)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+mta\+\_\+set (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{hash\+\_\+value}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aceed335ac803389de10a31c496032f9d}{}\label{igb__main_8c_aceed335ac803389de10a31c496032f9d}
igb\+\_\+mta\+\_\+set\+\_\+ -\/ Set multicast filter table address \+: pointer to the adapter structure \+: determines the M\+TA register and bit to set

The multicast table address is a register array of 32-\/bit registers. The hash\+\_\+value is used to determine what register the bit is in, the current value is read, the new bit is OR\textquotesingle{}d in and the new value is written back into the register. 

igb\+\_\+main.\+c 파일의 6444 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6445 \{
6446     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6447     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} hash\_bit, hash\_reg, mta;
6448 
6449     \textcolor{comment}{/*}
6450 \textcolor{comment}{     * The MTA is a register array of 32-bit registers. It is}
6451 \textcolor{comment}{     * treated like an array of (32*mta\_reg\_count) bits.  We want to}
6452 \textcolor{comment}{     * set bit BitArray[hash\_value]. So we figure out what register}
6453 \textcolor{comment}{     * the bit is in, read it, OR in the new bit, then write}
6454 \textcolor{comment}{     * back the new value.  The (hw->mac.mta\_reg\_count - 1) serves as a}
6455 \textcolor{comment}{     * mask to bits 31:5 of the hash value which gives us the}
6456 \textcolor{comment}{     * register we're modifying.  The hash bit within that register}
6457 \textcolor{comment}{     * is determined by the lower 5 bits of the hash value.}
6458 \textcolor{comment}{     */}
6459     hash\_reg = (hash\_value >> 5) & (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a7e527eddad22e5d9eae888b8476a0379}{mta\_reg\_count} - 1);
6460     hash\_bit = hash\_value & 0x1F;
6461 
6462     mta = \hyperlink{kmod_2igb_2e1000__osdep_8h_a96bc20a88eeb74ce9228b4d581a1ec63}{E1000\_READ\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae141b163a88a0184b8c5cfaf88205c4c}{E1000\_MTA}, hash\_reg);
6463 
6464     mta |= (1 << hash\_bit);
6465 
6466     \hyperlink{kmod_2igb_2e1000__osdep_8h_a573888f2e2956f04a7c2429d75c74c2f}{E1000\_WRITE\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae141b163a88a0184b8c5cfaf88205c4c}{E1000\_MTA}, hash\_reg, mta);
6467     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
6468 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aceed335ac803389de10a31c496032f9d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ndo\+\_\+bridge\+\_\+getlink@{igb\+\_\+ndo\+\_\+bridge\+\_\+getlink}}
\index{igb\+\_\+ndo\+\_\+bridge\+\_\+getlink@{igb\+\_\+ndo\+\_\+bridge\+\_\+getlink}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ndo\+\_\+bridge\+\_\+getlink(struct sk\+\_\+buff $\ast$skb, u32 pid, u32 seq, struct net\+\_\+device $\ast$dev, u32 filter\+\_\+mask, int nlflags)}{igb_ndo_bridge_getlink(struct sk_buff *skb, u32 pid, u32 seq, struct net_device *dev, u32 filter_mask, int nlflags)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+ndo\+\_\+bridge\+\_\+getlink (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{{\bf u32}}]{pid, }
\item[{{\bf u32}}]{seq, }
\item[{struct net\+\_\+device $\ast$}]{dev, }
\item[{{\bf u32}}]{filter\+\_\+mask, }
\item[{int}]{nlflags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a944515112a10bfcfea1cfb69b8f1f4ee}{}\label{igb__main_8c_a944515112a10bfcfea1cfb69b8f1f4ee}


igb\+\_\+main.\+c 파일의 2319 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2329 \{
2330     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(dev);
2331     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{rawsock__tx_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}{mode};
2332 
2333     \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}))
2334         \textcolor{keywordflow}{return} -EOPNOTSUPP;
2335 
2336     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ab7920a1f5efe50ab307151aa06fa5ec5}{IGB\_FLAG\_LOOPBACK\_ENABLE})
2337         mode = \hyperlink{kcompat_8h_a6a7028c34cbc3771a7e9e2f6ce1904f9}{BRIDGE\_MODE\_VEB};
2338     \textcolor{keywordflow}{else}
2339         mode = \hyperlink{kcompat_8h_a24c196043b9a39a44770f8c96a470219}{BRIDGE\_MODE\_VEPA};
2340 \textcolor{preprocessor}{#ifdef HAVE\_NDO\_DFLT\_BRIDGE\_GETLINK\_VLAN\_SUPPORT}
2341     \textcolor{keywordflow}{return} ndo\_dflt\_bridge\_getlink(skb, pid, seq, dev, mode, 0, 0, nlflags,
2342                        filter\_mask, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
2343 \textcolor{preprocessor}{#elif defined(HAVE\_NDO\_BRIDGE\_GETLINK\_NLFLAGS)}
2344     \textcolor{keywordflow}{return} ndo\_dflt\_bridge\_getlink(skb, pid, seq, dev, mode, 0, 0, nlflags);
2345 \textcolor{preprocessor}{#elif defined(NDO\_DFLT\_BRIDGE\_GETLINK\_HAS\_BRFLAGS)}
2346     \textcolor{keywordflow}{return} ndo\_dflt\_bridge\_getlink(skb, pid, seq, dev, mode, 0, 0);
2347 \textcolor{preprocessor}{#else}
2348     \textcolor{keywordflow}{return} ndo\_dflt\_bridge\_getlink(skb, pid, seq, dev, mode);
2349 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* NDO\_DFLT\_BRIDGE\_GETLINK\_HAS\_BRFLAGS */}\textcolor{preprocessor}{}
2350 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ndo\+\_\+bridge\+\_\+setlink@{igb\+\_\+ndo\+\_\+bridge\+\_\+setlink}}
\index{igb\+\_\+ndo\+\_\+bridge\+\_\+setlink@{igb\+\_\+ndo\+\_\+bridge\+\_\+setlink}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ndo\+\_\+bridge\+\_\+setlink(struct net\+\_\+device $\ast$dev, struct nlmsghdr $\ast$nlh, u16 flags)}{igb_ndo_bridge_setlink(struct net_device *dev, struct nlmsghdr *nlh, u16 flags)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+ndo\+\_\+bridge\+\_\+setlink (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{dev, }
\item[{struct nlmsghdr $\ast$}]{nlh, }
\item[{{\bf u16}}]{flags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a9eefd3c17025cc97d56c440e477a7241}{}\label{igb__main_8c_a9eefd3c17025cc97d56c440e477a7241}


igb\+\_\+main.\+c 파일의 2268 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2275 \{
2276     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(dev);
2277     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
2278     \textcolor{keyword}{struct }nlattr *attr, *br\_spec;
2279     \textcolor{keywordtype}{int} rem;
2280 
2281     \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}))
2282         \textcolor{keywordflow}{return} -EOPNOTSUPP;
2283 
2284     \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
2285     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
2286     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
2287     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
2288         \textcolor{keywordflow}{break};
2289     \textcolor{keywordflow}{default}:
2290         \textcolor{keywordflow}{return} -EOPNOTSUPP;
2291     \}
2292 
2293     br\_spec = nlmsg\_find\_attr(nlh, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} ifinfomsg), IFLA\_AF\_SPEC);
2294 
2295     nla\_for\_each\_nested(attr, br\_spec, rem) \{
2296         \_\_u16 \hyperlink{rawsock__tx_8c_a1ea5d0cb93f22f7d0fdf804bd68c3326}{mode};
2297 
2298         \textcolor{keywordflow}{if} (nla\_type(attr) != IFLA\_BRIDGE\_MODE)
2299             \textcolor{keywordflow}{continue};
2300 
2301         mode = nla\_get\_u16(attr);
2302         \textcolor{keywordflow}{if} (mode == \hyperlink{kcompat_8h_a24c196043b9a39a44770f8c96a470219}{BRIDGE\_MODE\_VEPA}) \{
2303             \hyperlink{e1000__82575_8c_a2c7369fc1093599133723aedda4cc1bc}{e1000\_vmdq\_set\_loopback\_pf}(hw, 0);
2304             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_ab7920a1f5efe50ab307151aa06fa5ec5}{IGB\_FLAG\_LOOPBACK\_ENABLE};
2305         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode == \hyperlink{kcompat_8h_a6a7028c34cbc3771a7e9e2f6ce1904f9}{BRIDGE\_MODE\_VEB}) \{
2306             \hyperlink{e1000__82575_8c_a2c7369fc1093599133723aedda4cc1bc}{e1000\_vmdq\_set\_loopback\_pf}(hw, 1);
2307             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_ab7920a1f5efe50ab307151aa06fa5ec5}{IGB\_FLAG\_LOOPBACK\_ENABLE};
2308         \} \textcolor{keywordflow}{else}
2309             \textcolor{keywordflow}{return} -EINVAL;
2310 
2311         netdev\_info(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, \textcolor{stringliteral}{"enabling bridge mode: %s\(\backslash\)n"},
2312                 mode == \hyperlink{kcompat_8h_a24c196043b9a39a44770f8c96a470219}{BRIDGE\_MODE\_VEPA} ? \textcolor{stringliteral}{"VEPA"} : \textcolor{stringliteral}{"VEB"});
2313     \}
2314 
2315     \textcolor{keywordflow}{return} 0;
2316 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a9eefd3c17025cc97d56c440e477a7241_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ndo\+\_\+fdb\+\_\+add@{igb\+\_\+ndo\+\_\+fdb\+\_\+add}}
\index{igb\+\_\+ndo\+\_\+fdb\+\_\+add@{igb\+\_\+ndo\+\_\+fdb\+\_\+add}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ndo\+\_\+fdb\+\_\+add(struct ndmsg $\ast$ndm, struct nlattr $\ast$tb[], struct net\+\_\+device $\ast$dev, const unsigned char $\ast$addr, u16 vid, u16 flags)}{igb_ndo_fdb_add(struct ndmsg *ndm, struct nlattr *tb[], struct net_device *dev, const unsigned char *addr, u16 vid, u16 flags)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+ndo\+\_\+fdb\+\_\+add (
\begin{DoxyParamCaption}
\item[{struct ndmsg $\ast$}]{ndm, }
\item[{struct nlattr $\ast$}]{tb\mbox{[}$\,$\mbox{]}, }
\item[{struct net\+\_\+device $\ast$}]{dev, }
\item[{const unsigned char $\ast$}]{addr, }
\item[{{\bf u16}}]{vid, }
\item[{{\bf u16}}]{flags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a36243ac9e533818f1c9cae5072f79813}{}\label{igb__main_8c_a36243ac9e533818f1c9cae5072f79813}


igb\+\_\+main.\+c 파일의 2169 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2182 \{
2183     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(dev);
2184     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
2185     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
2186 
2187     \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}))
2188         \textcolor{keywordflow}{return} -EOPNOTSUPP;
2189 
2190     \textcolor{comment}{/* Hardware does not support aging addresses so if a}
2191 \textcolor{comment}{     * ndm\_state is given only allow permanent addresses}
2192 \textcolor{comment}{     */}
2193     \textcolor{keywordflow}{if} (ndm->ndm\_state && !(ndm->ndm\_state & NUD\_PERMANENT)) \{
2194         pr\_info(\textcolor{stringliteral}{"%s: FDB only supports static addresses\(\backslash\)n"},
2195             \hyperlink{igb__main_8c_a97163b5e0ff86098986aebe2b9e8ccfe}{igb\_driver\_name});
2196         \textcolor{keywordflow}{return} -EINVAL;
2197     \}
2198 
2199     \textcolor{keywordflow}{if} (is\_unicast\_ether\_addr(addr) || is\_link\_local\_ether\_addr(addr)) \{
2200         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rar\_uc\_entries = hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count} -
2201                     (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} + 1);
2202 
2203         \textcolor{keywordflow}{if} (netdev\_uc\_count(dev) < rar\_uc\_entries)
2204             err = dev\_uc\_add\_excl(dev, addr);
2205         \textcolor{keywordflow}{else}
2206             err = -ENOMEM;
2207     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_multicast\_ether\_addr(addr)) \{
2208         err = dev\_mc\_add\_excl(dev, addr);
2209     \} \textcolor{keywordflow}{else} \{
2210         err = -EINVAL;
2211     \}
2212 
2213     \textcolor{comment}{/* Only return duplicate errors if NLM\_F\_EXCL is set */}
2214     \textcolor{keywordflow}{if} (err == -EEXIST && !(\hyperlink{namespaceavdecc__lib_ab6b306ef981f5e21bb41ea2c2dbe8cd9}{flags} & NLM\_F\_EXCL))
2215         err = 0;
2216 
2217     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
2218 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+open@{igb\+\_\+open}}
\index{igb\+\_\+open@{igb\+\_\+open}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+open(struct net\+\_\+device $\ast$)}{igb_open(struct net_device *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+open (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df}{}\label{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df}


igb\+\_\+main.\+c 파일의 3436 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3437 \{
3438     \textcolor{keywordflow}{return} \hyperlink{igb__main_8c_a496396105e9c09bddc3272b88b848d0d}{\_\_igb\_open}(netdev, \textcolor{keyword}{false});
3439 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+open\+\_\+file@{igb\+\_\+open\+\_\+file}}
\index{igb\+\_\+open\+\_\+file@{igb\+\_\+open\+\_\+file}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+open\+\_\+file(struct inode $\ast$inode, struct file $\ast$file)}{igb_open_file(struct inode *inode, struct file *file)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+open\+\_\+file (
\begin{DoxyParamCaption}
\item[{struct inode $\ast$}]{inode, }
\item[{struct file $\ast$}]{file}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a04f55556365079d831d0d93d07a2c38c}{}\label{igb__main_8c_a04f55556365079d831d0d93d07a2c38c}


igb\+\_\+main.\+c 파일의 10757 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10758 \{
10759        \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10760        \textcolor{keywordtype}{int} ret = 0;
10761 
10762        igb\_priv = kzalloc(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__private__data}{igb\_private\_data}), GFP\_KERNEL);
10763        \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10764                ret = -ENOMEM;
10765                \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
10766        \}
10767        igb\_priv->\hyperlink{structigb__private__data_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} = 0;
10768        igb\_priv->\hyperlink{structigb__private__data_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} = 0;
10769        igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10770        igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10771 \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
10772        file->private\_data = igb\_priv;
10773        \textcolor{keywordflow}{return} ret;
10774 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ping\+\_\+all\+\_\+vfs@{igb\+\_\+ping\+\_\+all\+\_\+vfs}}
\index{igb\+\_\+ping\+\_\+all\+\_\+vfs@{igb\+\_\+ping\+\_\+all\+\_\+vfs}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ping\+\_\+all\+\_\+vfs(struct igb\+\_\+adapter $\ast$)}{igb_ping_all_vfs(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+ping\+\_\+all\+\_\+vfs (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a}{}\label{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a}


igb\+\_\+main.\+c 파일의 6420 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6421 \{
6422     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6423     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ping;
6424     \textcolor{keywordtype}{int} i;
6425 
6426     \textcolor{keywordflow}{for} (i = 0 ; i < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; i++) \{
6427         ping = \hyperlink{e1000__mbx_8h_a0fd12a8e7ddf3a3da8874e549ddd7228}{E1000\_PF\_CONTROL\_MSG};
6428         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[i].\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} & \hyperlink{kmod_2igb_2igb_8h_a16c4b3d189698d0f545fd4d847508984}{IGB\_VF\_FLAG\_CTS})
6429             ping |= \hyperlink{e1000__mbx_8h_a664e4cb3387e5abfda927d44f0732180}{E1000\_VT\_MSGTYPE\_CTS};
6430         \hyperlink{e1000__mbx_8c_a4b6631c8a91bd82e91a36f9d7b20391a}{e1000\_write\_mbx}(hw, &ping, 1, i);
6431     \}
6432 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+poll@{igb\+\_\+poll}}
\index{igb\+\_\+poll@{igb\+\_\+poll}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+poll(struct napi\+\_\+struct $\ast$, int)}{igb_poll(struct napi_struct *, int)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+poll (
\begin{DoxyParamCaption}
\item[{struct napi\+\_\+struct $\ast$}]{napi, }
\item[{int}]{budget}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a0891a97bf81e305338343648ec425352}{}\label{igb__main_8c_a0891a97bf81e305338343648ec425352}
igb\+\_\+poll -\/ N\+A\+PI Rx polling callback \+: napi polling structure \+: count of how many packets we should handle 

igb\+\_\+main.\+c 파일의 7236 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7237 \{
7238     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = container\_of(\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi},
7239                              \textcolor{keyword}{struct} \hyperlink{structigb__q__vector}{igb\_q\_vector}, \hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi});
7240     \textcolor{keywordtype}{bool} clean\_complete = \textcolor{keyword}{true};
7241 
7242 \textcolor{preprocessor}{#ifdef IGB\_DCA}
7243     \textcolor{keywordflow}{if} (q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter}->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ad3f82b8d3b0673cd93b7e27313ee184c}{IGB\_FLAG\_DCA\_ENABLED})
7244         igb\_update\_dca(q\_vector);
7245 \textcolor{preprocessor}{#endif}
7246     \textcolor{keywordflow}{if} (q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring})
7247         clean\_complete = \hyperlink{igb__main_8c_a0df50925c865d58960c2b71a23cda421}{igb\_clean\_tx\_irq}(q\_vector);
7248 
7249     \textcolor{keywordflow}{if} (q\_vector->rx.ring)
7250         clean\_complete &= \hyperlink{igb__main_8c_a3eb0b64e5c80a8f45cf27068a8b39cfa}{igb\_clean\_rx\_irq}(q\_vector, budget);
7251 
7252 \textcolor{preprocessor}{#ifndef HAVE\_NETDEV\_NAPI\_LIST}
7253     \textcolor{comment}{/* if netdev is disabled we need to stop polling */}
7254     \textcolor{keywordflow}{if} (!netif\_running(q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter}->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}))
7255         clean\_complete = \textcolor{keyword}{true};
7256 
7257 \textcolor{preprocessor}{#endif}
7258     \textcolor{comment}{/* If all work not completed, return budget and keep polling */}
7259     \textcolor{keywordflow}{if} (!clean\_complete)
7260         \textcolor{keywordflow}{return} budget;
7261 
7262     \textcolor{comment}{/* If not enough Rx work done, exit the polling mode */}
7263     napi\_complete(\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi});
7264     \hyperlink{igb__main_8c_aa30dd1341fc975ff18871e743edd678d}{igb\_ring\_irq\_enable}(q\_vector);
7265 
7266     \textcolor{keywordflow}{return} 0;
7267 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0891a97bf81e305338343648ec425352_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0891a97bf81e305338343648ec425352_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+pollfd@{igb\+\_\+pollfd}}
\index{igb\+\_\+pollfd@{igb\+\_\+pollfd}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+pollfd(struct file $\ast$file, poll\+\_\+table $\ast$wait)}{igb_pollfd(struct file *file, poll_table *wait)}}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int igb\+\_\+pollfd (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{poll\+\_\+table $\ast$}]{wait}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a83853a0a7fe74843bcbfb5f430aee020}{}\label{igb__main_8c_a83853a0a7fe74843bcbfb5f430aee020}


igb\+\_\+main.\+c 파일의 10212 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10213 \{
10214     \textcolor{keywordflow}{return} -EINVAL; \textcolor{comment}{/* don't support reads for any status or data */}
10215 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+power\+\_\+down\+\_\+link@{igb\+\_\+power\+\_\+down\+\_\+link}}
\index{igb\+\_\+power\+\_\+down\+\_\+link@{igb\+\_\+power\+\_\+down\+\_\+link}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+power\+\_\+down\+\_\+link(struct igb\+\_\+adapter $\ast$adapter)}{igb_power_down_link(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+power\+\_\+down\+\_\+link (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f}{}\label{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f}
igb\+\_\+power\+\_\+down\+\_\+link -\/ Power down the phy/serdes link \+: address of board private structure 

igb\+\_\+main.\+c 파일의 1634 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1635 \{
1636     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper})
1637         \hyperlink{e1000__api_8c_a69a4a285f1fa254ac567eafc8c7c332b}{e1000\_power\_down\_phy}(&adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
1638     \textcolor{keywordflow}{else}
1639         \hyperlink{e1000__api_8c_a91defbf30dc173c664a4a45e3fa25b4f}{e1000\_shutdown\_fiber\_serdes\_link}(&adapter->
      \hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
1640 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+power\+\_\+up\+\_\+link@{igb\+\_\+power\+\_\+up\+\_\+link}}
\index{igb\+\_\+power\+\_\+up\+\_\+link@{igb\+\_\+power\+\_\+up\+\_\+link}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+power\+\_\+up\+\_\+link(struct igb\+\_\+adapter $\ast$adapter)}{igb_power_up_link(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+power\+\_\+up\+\_\+link (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41}{}\label{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41}
igb\+\_\+power\+\_\+up\+\_\+link -\/ Power up the phy/serdes link \+: address of board private structure 

igb\+\_\+main.\+c 파일의 1620 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1621 \{
1622     \hyperlink{e1000__api_8c_a28bdf3150325de5b7673d22addd3810b}{e1000\_phy\_hw\_reset}(&adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
1623 
1624     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper})
1625         \hyperlink{e1000__api_8c_adeca8467053f59303097e95c5e9dbf79}{e1000\_power\_up\_phy}(&adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
1626     \textcolor{keywordflow}{else}
1627         \hyperlink{e1000__api_8c_a31e242df41bcc65ee76b7a8be1725e4c}{e1000\_power\_up\_fiber\_serdes\_link}(&adapter->
      \hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
1628 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa819fa66d289cf1a5f58e403dcb87e41_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+probe@{igb\+\_\+probe}}
\index{igb\+\_\+probe@{igb\+\_\+probe}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+probe(struct pci\+\_\+dev $\ast$, const struct pci\+\_\+device\+\_\+id $\ast$)}{igb_probe(struct pci_dev *, const struct pci_device_id *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+probe (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev, }
\item[{const struct pci\+\_\+device\+\_\+id $\ast$}]{ent}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a3dc01fffcfed5bb0e37638d7eb52b14f}{}\label{igb__main_8c_a3dc01fffcfed5bb0e37638d7eb52b14f}
igb\+\_\+probe -\/ Device Initialization Routine \+: P\+CI device information struct \+: entry in igb\+\_\+pci\+\_\+tbl

Returns 0 on success, negative on failure

igb\+\_\+probe initializes an adapter identified by a pci\+\_\+dev structure. The OS initialization, configuring of the adapter private structure, and a hardware reset occur. 

igb\+\_\+main.\+c 파일의 2627 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2629 \{
2630     \textcolor{keyword}{struct }net\_device *netdev;
2631     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
2632     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw;
2633     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} eeprom\_data = 0;
2634     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} pba\_str[\hyperlink{kmod_2igb_2e1000__defines_8h_a25fdb78debcaab2148f074f17c07a365}{E1000\_PBANUM\_LENGTH}];
2635     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val;
2636     \textcolor{keyword}{static} \textcolor{keywordtype}{int} global\_quad\_port\_a; \textcolor{comment}{/* global quad port a indication */}
2637     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err}, pci\_using\_dac;
2638     \textcolor{keyword}{static} \textcolor{keywordtype}{int} cards\_found;
2639 
2640     err = pci\_enable\_device\_mem(pdev);
2641     \textcolor{keywordflow}{if} (err)
2642         \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
2643 
2644     pci\_using\_dac = 0;
2645 \textcolor{preprocessor}{#if !defined(CONFIG\_IGB\_SUPPORT\_32BIT\_IOCTL)}
2646     err = dma\_set\_mask(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), DMA\_BIT\_MASK(64));
2647     \textcolor{keywordflow}{if} (!err) \{
2648         err = dma\_set\_coherent\_mask(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
2649             DMA\_BIT\_MASK(64));
2650         \textcolor{keywordflow}{if} (!err)
2651             pci\_using\_dac = 1;
2652     \} \textcolor{keywordflow}{else} \{
2653 \textcolor{preprocessor}{#endif}
2654         err = dma\_set\_mask(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), DMA\_BIT\_MASK(32));
2655         \textcolor{keywordflow}{if} (!err) \{
2656             err = dma\_set\_coherent\_mask(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
2657                 DMA\_BIT\_MASK(32));
2658             \textcolor{keywordflow}{if} (err) \{
2659                 \hyperlink{kmod_2igb_2igb_8h_acda05ac49d7e1e7f4aade7e389e31a35}{IGB\_ERR}(
2660                   \textcolor{stringliteral}{"No usable DMA configuration, aborting\(\backslash\)n"});
2661                 \textcolor{keywordflow}{goto} err\_dma;
2662             \}
2663         \}
2664 \textcolor{preprocessor}{#if !defined(CONFIG\_IGB\_SUPPORT\_32BIT\_IOCTL)}
2665     \}
2666 \textcolor{preprocessor}{#endif}
2667 
2668 \textcolor{preprocessor}{#ifndef HAVE\_ASPM\_QUIRKS}
2669     \textcolor{comment}{/* 82575 requires that the pci-e link partner disable the L0s state */}
2670     \textcolor{keywordflow}{switch} (pdev->device) \{
2671     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a52a27eb296b07496ad4559017289760a}{E1000\_DEV\_ID\_82575EB\_COPPER}:
2672     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a34867287a9ddab6a0413b3de501b5ab9}{E1000\_DEV\_ID\_82575EB\_FIBER\_SERDES}:
2673     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_ae79059b9bba60423ffc5325d27c614ee}{E1000\_DEV\_ID\_82575GB\_QUAD\_COPPER}:
2674         pci\_disable\_link\_state(pdev, \hyperlink{kcompat_8h_abb562782e2c8b0d884d01d08d12df61f}{PCIE\_LINK\_STATE\_L0S});
2675     \textcolor{keywordflow}{default}:
2676         \textcolor{keywordflow}{break};
2677     \}
2678 
2679 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_ASPM\_QUIRKS */}\textcolor{preprocessor}{}
2680     err = pci\_request\_selected\_regions(pdev,
2681                        pci\_select\_bars(pdev,
2682                                IORESOURCE\_MEM),
2683                        \hyperlink{igb__main_8c_a97163b5e0ff86098986aebe2b9e8ccfe}{igb\_driver\_name});
2684     \textcolor{keywordflow}{if} (err)
2685         \textcolor{keywordflow}{goto} err\_pci\_reg;
2686 
2687     pci\_enable\_pcie\_error\_reporting(pdev);
2688 
2689     pci\_set\_master(pdev);
2690 
2691     err = -ENOMEM;
2692 \textcolor{preprocessor}{#ifdef HAVE\_TX\_MQ}
2693     netdev = alloc\_etherdev\_mq(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}),
2694                    \hyperlink{kmod_2igb_2igb_8h_a998f8863e2cbe39ec7adb6b8a9f7dc22}{IGB\_MAX\_TX\_QUEUES});
2695 \textcolor{preprocessor}{#else}
2696     netdev = alloc\_etherdev(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}));
2697 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_TX\_MQ */}\textcolor{preprocessor}{}
2698     \textcolor{keywordflow}{if} (!netdev)
2699         \textcolor{keywordflow}{goto} err\_alloc\_etherdev;
2700 
2701     SET\_MODULE\_OWNER(netdev);
2702     \hyperlink{kcompat_8h_aca7a1600758435834e298b370627e840}{SET\_NETDEV\_DEV}(netdev, &pdev->dev);
2703 
2704     pci\_set\_drvdata(pdev, netdev);
2705     adapter = netdev\_priv(netdev);
2706     adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev} = netdev;
2707     adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev} = pdev;
2708     hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
2709     hw->\hyperlink{structe1000__hw_a24db0d03dc4f62a477f24d2a675b7d14}{back} = adapter;
2710     adapter->\hyperlink{structigb__adapter_ab89764d4931eca8a703e4864c390e725}{port\_num} = hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func};
2711     adapter->\hyperlink{structigb__adapter_aa31191614969a918cd81decb15c6b9dd}{msg\_enable} = (1 << \hyperlink{igb__main_8c_ac3e1795766a80ec63b157951b4b9a7d4}{debug}) - 1;
2712 
2713     \textcolor{comment}{/* AVB specific */}
2714     adapter->\hyperlink{structigb__adapter_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} = 0;
2715     adapter->\hyperlink{structigb__adapter_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} = 0;
2716     mutex\_init(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
2717 \textcolor{preprocessor}{#ifdef HAVE\_PCI\_ERS}
2718     err = pci\_save\_state(pdev);
2719     \textcolor{keywordflow}{if} (err)
2720         \textcolor{keywordflow}{goto} err\_ioremap;
2721 \textcolor{preprocessor}{#endif}
2722     err = -EIO;
2723     hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} = ioremap(pci\_resource\_start(pdev, 0),
2724                   pci\_resource\_len(pdev, 0));
2725     \textcolor{keywordflow}{if} (!hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr})
2726         \textcolor{keywordflow}{goto} err\_ioremap;
2727 
2728 \textcolor{preprocessor}{#ifdef HAVE\_NET\_DEVICE\_OPS}
2729     netdev->netdev\_ops = &\hyperlink{igb__main_8c_ace4acbec9b710babfe6c7865609b49f7}{igb\_netdev\_ops};
2730 \textcolor{preprocessor}{#else }\textcolor{comment}{/* HAVE\_NET\_DEVICE\_OPS */}\textcolor{preprocessor}{}
2731     netdev->open = &\hyperlink{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df}{igb\_open};
2732     netdev->stop = &\hyperlink{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03}{igb\_close};
2733     netdev->get\_stats = &\hyperlink{igb__main_8c_acd317fc0ead8f2b982fa435d49b9e336}{igb\_get\_stats};
2734 \textcolor{preprocessor}{#ifdef HAVE\_SET\_RX\_MODE}
2735     netdev->set\_rx\_mode = &\hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\_set\_rx\_mode};
2736 \textcolor{preprocessor}{#endif}
2737     netdev->set\_multicast\_list = &\hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\_set\_rx\_mode};
2738     netdev->set\_mac\_address = &\hyperlink{igb__main_8c_aa6ca4bd1e93b3935881ed32fa6588abc}{igb\_set\_mac};
2739     netdev->change\_mtu = &\hyperlink{igb__main_8c_a679ea88c0e6e97ca27b4c1b4cbb182e4}{igb\_change\_mtu};
2740     netdev->do\_ioctl = &\hyperlink{igb__main_8c_ad940c3b1eb1b2b06b8e386c5dfd05551}{igb\_ioctl};
2741 \textcolor{preprocessor}{#ifdef HAVE\_TX\_TIMEOUT}
2742     netdev->tx\_timeout = &\hyperlink{igb__main_8c_ab6ca6b626294d8918f1e2cd5368382c9}{igb\_tx\_timeout};
2743 \textcolor{preprocessor}{#endif}
2744     netdev->vlan\_rx\_register = \hyperlink{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}{igb\_vlan\_mode};
2745     netdev->vlan\_rx\_add\_vid = \hyperlink{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{igb\_vlan\_rx\_add\_vid};
2746     netdev->vlan\_rx\_kill\_vid = \hyperlink{igb__main_8c_a224da460941ee3366b0136ae4446e7ab}{igb\_vlan\_rx\_kill\_vid};
2747 \textcolor{preprocessor}{#ifdef CONFIG\_NET\_POLL\_CONTROLLER}
2748     netdev->poll\_controller = igb\_netpoll;
2749 \textcolor{preprocessor}{#endif}
2750     netdev->hard\_start\_xmit = &\hyperlink{igb__main_8c_a97db7a6ae44c1bcee47c3b24e57938c6}{igb\_xmit\_frame};
2751 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_NET\_DEVICE\_OPS */}\textcolor{preprocessor}{}
2752     \hyperlink{kmod_2igb_2igb_8h_a7ffe94d5f1b0c7f9fdc6f9cf71299c42}{igb\_set\_ethtool\_ops}(netdev);
2753 \textcolor{preprocessor}{#ifdef HAVE\_TX\_TIMEOUT}
2754     netdev->watchdog\_timeo = 5 * HZ;
2755 \textcolor{preprocessor}{#endif}
2756 
2757     strncpy(netdev->name, pci\_name(pdev), \textcolor{keyword}{sizeof}(netdev->name) - 1);
2758 
2759     adapter->\hyperlink{structigb__adapter_a6cd9dc976314452b3fa56402f4e3273e}{bd\_number} = cards\_found;
2760 
2761     \textcolor{comment}{/* setup the private structure */}
2762     err = \hyperlink{igb__main_8c_a7d3ee9c3cab145865842d809941f16e9}{igb\_sw\_init}(adapter);
2763     \textcolor{keywordflow}{if} (err)
2764         \textcolor{keywordflow}{goto} err\_sw\_init;
2765 
2766     \hyperlink{e1000__api_8c_a2c7af8f559f6885cae4576f898e5efa9}{e1000\_get\_bus\_info}(hw);
2767 
2768     hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a217f0b0993e254ae50aa41a789cb0137}{autoneg\_wait\_to\_complete} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
2769     hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_ac130342e3a13fe1ce3e014bd55d11836}{adaptive\_ifs} = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
2770 
2771     \textcolor{comment}{/* Copper options */}
2772     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) \{
2773         hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a40f0303bb287bcde723a46b57efb9ca1}{mdix} = \hyperlink{kmod_2igb_2igb_8h_aaf4710f68e3819b86adad86007d24bd6}{AUTO\_ALL\_MODES};
2774         hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a108c815b940fec6b18966e46aed3892b}{disable\_polarity\_correction} = 
      \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
2775         hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_ae903e4f11d17a2c115411d89a6816398}{ms\_type} = \hyperlink{kmod_2igb_2e1000__hw_8h_add70919b7afb66e246c4b6b48220ba52a5d4e1edd009b39d59c55cda25d0cedbd}{e1000\_ms\_hw\_default};
2776     \}
2777 
2778     \textcolor{keywordflow}{if} (\hyperlink{e1000__api_8c_a45776c01e9323fe3ecfefc79b0f6b54c}{e1000\_check\_reset\_block}(hw))
2779         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
2780             \textcolor{stringliteral}{"PHY reset is blocked due to SOL/IDER session.\(\backslash\)n"});
2781 
2782     \textcolor{comment}{/*}
2783 \textcolor{comment}{     * features is initialized to 0 in allocation, it might have bits}
2784 \textcolor{comment}{     * set by igb\_sw\_init so we should use an or instead of an}
2785 \textcolor{comment}{     * assignment.}
2786 \textcolor{comment}{     */}
2787     netdev->features |= NETIF\_F\_SG |
2788                 NETIF\_F\_IP\_CSUM |
2789 \textcolor{preprocessor}{#ifdef NETIF\_F\_IPV6\_CSUM}
2790                 NETIF\_F\_IPV6\_CSUM |
2791 \textcolor{preprocessor}{#endif}
2792 \textcolor{preprocessor}{#ifdef NETIF\_F\_TSO}
2793                 NETIF\_F\_TSO |
2794 \textcolor{preprocessor}{#ifdef NETIF\_F\_TSO6}
2795                 NETIF\_F\_TSO6 |
2796 \textcolor{preprocessor}{#endif}
2797 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* NETIF\_F\_TSO */}\textcolor{preprocessor}{}
2798 \textcolor{preprocessor}{#ifdef NETIF\_F\_RXHASH}
2799                 NETIF\_F\_RXHASH |
2800 \textcolor{preprocessor}{#endif}
2801                 NETIF\_F\_RXCSUM |
2802 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
2803                 NETIF\_F\_HW\_VLAN\_CTAG\_RX |
2804                 NETIF\_F\_HW\_VLAN\_CTAG\_TX;
2805 \textcolor{preprocessor}{#else}
2806                 NETIF\_F\_HW\_VLAN\_RX |
2807                 NETIF\_F\_HW\_VLAN\_TX;
2808 \textcolor{preprocessor}{#endif}
2809 
2810     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
2811         netdev->features |= \hyperlink{kcompat_8h_ae324d4622257fb074b73676b979606f5}{NETIF\_F\_SCTP\_CSUM};
2812 
2813 \textcolor{preprocessor}{#if defined(HAVE\_NDO\_SET\_FEATURES) && !defined(HAVE\_RHEL6\_NET\_DEVICE\_OPS\_EXT)}
2814     \textcolor{comment}{/* copy netdev features into list of user selectable features */}
2815     netdev->hw\_features |= netdev->features;
2816 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
2817 
2818     \textcolor{comment}{/* give us the option of enabling LRO later */}
2819     netdev->hw\_features |= \hyperlink{kcompat_8h_ad8819a3229664f156f3f1fd1d0aff2ba}{NETIF\_F\_LRO};
2820 \textcolor{preprocessor}{#endif}
2821 \textcolor{preprocessor}{#else}
2822 \textcolor{preprocessor}{#ifdef NETIF\_F\_GRO}
2823 
2824     \textcolor{comment}{/* this is only needed on kernels prior to 2.6.39 */}
2825     netdev->features |= NETIF\_F\_GRO;
2826 \textcolor{preprocessor}{#endif}
2827 \textcolor{preprocessor}{#endif}
2828 
2829     \textcolor{comment}{/* set this bit last since it cannot be part of hw\_features */}
2830 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_FILTER}
2831     netdev->features |= NETIF\_F\_HW\_VLAN\_CTAG\_FILTER;
2832 \textcolor{preprocessor}{#else}
2833     netdev->features |= NETIF\_F\_HW\_VLAN\_FILTER;
2834 \textcolor{preprocessor}{#endif}
2835 
2836 \textcolor{preprocessor}{#ifdef HAVE\_NETDEV\_VLAN\_FEATURES}
2837     netdev->vlan\_features |= NETIF\_F\_TSO |
2838                  NETIF\_F\_TSO6 |
2839                  NETIF\_F\_IP\_CSUM |
2840                  NETIF\_F\_IPV6\_CSUM |
2841                  NETIF\_F\_SG;
2842 
2843 \textcolor{preprocessor}{#endif}
2844     \textcolor{keywordflow}{if} (pci\_using\_dac)
2845         netdev->features |= NETIF\_F\_HIGHDMA;
2846 
2847     adapter->\hyperlink{structigb__adapter_ac0396f5a94edbdfc286d7e6fc27550b7}{en\_mng\_pt} = \hyperlink{e1000__manage_8c_adad70f7d5275b5c55364d1af82077866}{e1000\_enable\_mng\_pass\_thru}(hw);
2848 \textcolor{preprocessor}{#ifdef DEBUG}
2849     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac21b4c93238d5fcc3fff9702dfd9eda3}{dmac} != \hyperlink{kmod_2igb_2igb_8h_aa80bfe68136229d602cc4cddaf748770}{IGB\_DMAC\_DISABLE})
2850         netdev\_info(netdev, \textcolor{stringliteral}{"%s: DMA Coalescing is enabled..\(\backslash\)n"},
2851                 netdev->name);
2852 \textcolor{preprocessor}{#endif}
2853 
2854     \textcolor{comment}{/* before reading the NVM, reset the controller to put the device in a}
2855 \textcolor{comment}{     * known good starting state}
2856 \textcolor{comment}{     */}
2857     \hyperlink{e1000__api_8c_a38de3267a878436ea61a675473df3197}{e1000\_reset\_hw}(hw);
2858 
2859     \textcolor{comment}{/* make sure the NVM is good */}
2860     \textcolor{keywordflow}{if} (\hyperlink{e1000__api_8c_ab6f578dbd19355109b4ccfaad691a79b}{e1000\_validate\_nvm\_checksum}(hw) < 0) \{
2861         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
2862             \textcolor{stringliteral}{"The NVM Checksum Is Not Valid\(\backslash\)n"});
2863         err = -EIO;
2864         \textcolor{keywordflow}{goto} err\_eeprom;
2865     \}
2866 
2867     \textcolor{comment}{/* copy the MAC address out of the NVM */}
2868     \textcolor{keywordflow}{if} (\hyperlink{e1000__api_8c_ae04c7ca46a5466e73ef1ed20301fef33}{e1000\_read\_mac\_addr}(hw))
2869         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
2870     memcpy(netdev->dev\_addr, hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}, netdev->addr\_len);
2871 \textcolor{preprocessor}{#ifdef ETHTOOL\_GPERMADDR}
2872     memcpy(netdev->perm\_addr, hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}, netdev->addr\_len);
2873 
2874     \textcolor{keywordflow}{if} (!is\_valid\_ether\_addr(netdev->perm\_addr)) \{
2875 \textcolor{preprocessor}{#else}
2876     \textcolor{keywordflow}{if} (!is\_valid\_ether\_addr(netdev->dev\_addr)) \{
2877 \textcolor{preprocessor}{#endif}
2878         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Invalid MAC Address\(\backslash\)n"});
2879         err = -EIO;
2880         \textcolor{keywordflow}{goto} err\_eeprom;
2881     \}
2882 
2883     memcpy(&adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[0].\hyperlink{structigb__mac__addr_ad0cb1fd890c452cd6b53222cc82474a4}{addr}, hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}, netdev->addr\_len);
2884     adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[0].\hyperlink{structigb__mac__addr_a4895577ef36597501c4510a0ff6cea06}{queue} = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
2885     adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[0].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} = (\hyperlink{kmod_2igb_2igb_8h_a86cba0dfe9e7693ba08b33f52221045f}{IGB\_MAC\_STATE\_DEFAULT}
2886                     | \hyperlink{kmod_2igb_2igb_8h_a1019e014af60ceeb2c0abab6efe42f16}{IGB\_MAC\_STATE\_IN\_USE});
2887     \hyperlink{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7}{igb\_rar\_set}(adapter, 0);
2888 
2889     \textcolor{comment}{/* get firmware version for ethtool -i */}
2890     \hyperlink{igb__main_8c_ac57a727efc45d28473debdf87991c31f}{igb\_set\_fw\_version}(adapter);
2891 
2892     \textcolor{comment}{/* Check if Media Autosense is enabled */}
2893     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580})
2894         \hyperlink{igb__main_8c_a5cc3c25529cf9ab6a05466f2c697876b}{igb\_init\_mas}(adapter);
2895 
2896 \textcolor{preprocessor}{#if LINUX\_VERSION\_CODE >= KERNEL\_VERSION(4,15,0)}
2897     timer\_setup(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer}, &\hyperlink{igb__main_8c_aa63ef354a4b7f05f30bb4b2f03768a3a}{igb\_watchdog}, 0);
2898     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
2899         timer\_setup(&adapter->\hyperlink{structigb__adapter_ac11a44ad73617c02ac826d263b35ed19}{dma\_err\_timer}, &\hyperlink{igb__main_8c_af4ffa12ce3926f44d3133b422fd8d0d0}{igb\_dma\_err\_timer}, 0);
2900     timer\_setup(&adapter->\hyperlink{structigb__adapter_a7e23bd9ac9e32b5da3f8e807af5b0c5f}{phy\_info\_timer}, &\hyperlink{igb__main_8c_ae09af2b1a9afa91c0778637e52893429}{igb\_update\_phy\_info}, 0);
2901 \textcolor{preprocessor}{#else}
2902     setup\_timer(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer}, &\hyperlink{igb__main_8c_aa63ef354a4b7f05f30bb4b2f03768a3a}{igb\_watchdog},
2903             (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}) adapter);
2904     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
2905         setup\_timer(&adapter->\hyperlink{structigb__adapter_ac11a44ad73617c02ac826d263b35ed19}{dma\_err\_timer}, &\hyperlink{igb__main_8c_af4ffa12ce3926f44d3133b422fd8d0d0}{igb\_dma\_err\_timer},
2906                 (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}) adapter);
2907     setup\_timer(&adapter->\hyperlink{structigb__adapter_a7e23bd9ac9e32b5da3f8e807af5b0c5f}{phy\_info\_timer}, &\hyperlink{igb__main_8c_ae09af2b1a9afa91c0778637e52893429}{igb\_update\_phy\_info},
2908             (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}) adapter);
2909 \textcolor{preprocessor}{#endif}
2910 
2911     INIT\_WORK(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task}, \hyperlink{igb__main_8c_a28cee5c8570d27a7f7ba32a9af558048}{igb\_reset\_task});
2912     INIT\_WORK(&adapter->\hyperlink{structigb__adapter_a9993a1d4be5ad0cac1e37cdca3d06021}{watchdog\_task}, \hyperlink{igb__main_8c_a10266793c4280f9d77a46f120a5d8edd}{igb\_watchdog\_task});
2913     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
2914         INIT\_WORK(&adapter->\hyperlink{structigb__adapter_a6cbe39db8d0f9cc3f2ab5180f975b468}{dma\_err\_task}, \hyperlink{igb__main_8c_a1227dcbe1dae9a8fe75bd2db08394e6c}{igb\_dma\_err\_task});
2915 
2916     \textcolor{comment}{/* Initialize link properties that are user-changeable */}
2917     adapter->\hyperlink{structigb__adapter_ae7d0017e4cc507a6798307136ec9d6aa}{fc\_autoneg} = \textcolor{keyword}{true};
2918     hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a062c0e2af8df1b0f13d20b02dceae500}{autoneg} = \textcolor{keyword}{true};
2919     hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a88fccf5fe9b00f99f2f018d60c11501f}{autoneg\_advertised} = 0x2f;
2920 
2921     hw->\hyperlink{structe1000__hw_a7b5f8715a9588ca1c4f6fd5b087aede7}{fc}.\hyperlink{structe1000__fc__info_a563a5640b5e1e50ba7f733b658f1f356}{requested\_mode} = \hyperlink{kmod_2igb_2e1000__hw_8h_a945f7c82643f147dea2193863639dfefa55539144abc1aecc9f501c0f2d40bda6}{e1000\_fc\_default};
2922     hw->\hyperlink{structe1000__hw_a7b5f8715a9588ca1c4f6fd5b087aede7}{fc}.\hyperlink{structe1000__fc__info_a7ff9ae5cd1a7fb9d4f208bd840f758f0}{current\_mode} = \hyperlink{kmod_2igb_2e1000__hw_8h_a945f7c82643f147dea2193863639dfefa55539144abc1aecc9f501c0f2d40bda6}{e1000\_fc\_default};
2923 
2924     \hyperlink{e1000__api_8c_af545208f61fd40d8c62f808389703871}{e1000\_validate\_mdi\_setting}(hw);
2925 
2926     \textcolor{comment}{/* By default, support wake on port A */}
2927     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func} == 0)
2928         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED};
2929 
2930     \textcolor{comment}{/* Check the NVM for wake support for non-port A ports */}
2931     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580})
2932         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_ae066ceb892c9a59ede2096eac3fa9fa7}{NVM\_INIT\_CONTROL3\_PORT\_A} +
2933                  \hyperlink{kmod_2igb_2e1000__defines_8h_a8f0e8c171818aa2a7b898838274e19db}{NVM\_82580\_LAN\_FUNC\_OFFSET}(hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.
      \hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func}), 1,
2934                  &eeprom\_data);
2935     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func} == 1)
2936         \hyperlink{e1000__api_8c_ac888d23a89a4134a7ca70a8c20e2e4ba}{e1000\_read\_nvm}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a04472954c758a43301e99f0fe0553cb7}{NVM\_INIT\_CONTROL3\_PORT\_B}, 1, &eeprom\_data)
      ;
2937 
2938     \textcolor{keywordflow}{if} (eeprom\_data & \hyperlink{kmod_2igb_2igb_8h_a81e73059c3dd9a644aa7262c73d43f2e}{IGB\_EEPROM\_APME})
2939         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED};
2940 
2941     \textcolor{comment}{/* now that we have the eeprom settings, apply the special cases where}
2942 \textcolor{comment}{     * the eeprom may be wrong or the board simply won't support wake on}
2943 \textcolor{comment}{     * lan on a particular port}
2944 \textcolor{comment}{     */}
2945     \textcolor{keywordflow}{switch} (pdev->device) \{
2946     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_ae79059b9bba60423ffc5325d27c614ee}{E1000\_DEV\_ID\_82575GB\_QUAD\_COPPER}:
2947         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED};
2948         \textcolor{keywordflow}{break};
2949     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a34867287a9ddab6a0413b3de501b5ab9}{E1000\_DEV\_ID\_82575EB\_FIBER\_SERDES}:
2950     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a65e187faef9dd3264ddbc551f2957f31}{E1000\_DEV\_ID\_82576\_FIBER}:
2951     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a6951b2d4108374723f69741a08c68ad8}{E1000\_DEV\_ID\_82576\_SERDES}:
2952         \textcolor{comment}{/* Wake events only supported on port A for dual fiber}
2953 \textcolor{comment}{         * regardless of eeprom setting}
2954 \textcolor{comment}{         */}
2955         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7fad15ed91c7801a1b9c5f80843bab79}{E1000\_STATUS}) & 
      \hyperlink{kmod_2igb_2e1000__defines_8h_a94f1c4e44ff5d28014b7e2101bfc3370}{E1000\_STATUS\_FUNC\_1})
2956             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED};
2957         \textcolor{keywordflow}{break};
2958     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a3fee319954b63ca2f785ee64f10a72e3}{E1000\_DEV\_ID\_82576\_QUAD\_COPPER}:
2959     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a2a4a972030455a70996d23a5bbf18267}{E1000\_DEV\_ID\_82576\_QUAD\_COPPER\_ET2}:
2960         \textcolor{comment}{/* if quad port adapter, disable WoL on all but port A */}
2961         \textcolor{keywordflow}{if} (global\_quad\_port\_a != 0)
2962             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED};
2963         \textcolor{keywordflow}{else}
2964             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a9387db8cae2c2f5c16f0ee303a2f2f7a}{IGB\_FLAG\_QUAD\_PORT\_A};
2965         \textcolor{comment}{/* Reset for multiple quad port adapters */}
2966         \textcolor{keywordflow}{if} (++global\_quad\_port\_a == 4)
2967             global\_quad\_port\_a = 0;
2968         \textcolor{keywordflow}{break};
2969     \textcolor{keywordflow}{default}:
2970         \textcolor{keywordflow}{break};
2971     \}
2972 
2973     \textcolor{comment}{/* initialize the wol settings based on the eeprom settings */}
2974     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED})
2975         adapter->\hyperlink{structigb__adapter_a9ed903019524c5d830e85c6454814513}{wol} |= \hyperlink{kmod_2igb_2e1000__defines_8h_a9f32cacce032eea4e83cf3e7680e49f6}{E1000\_WUFC\_MAG};
2976 
2977     \textcolor{comment}{/* Some vendors want WoL disabled by default, but still supported */}
2978     \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) &&
2979         (pdev->subsystem\_vendor == PCI\_VENDOR\_ID\_HP)) \{
2980         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED};
2981         adapter->\hyperlink{structigb__adapter_a9ed903019524c5d830e85c6454814513}{wol} = 0;
2982     \}
2983 
2984     device\_set\_wakeup\_enable(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
2985                  adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a3aab67e35789195732308ec7f9ae907e}{IGB\_FLAG\_WOL\_SUPPORTED});
2986 
2987     \textcolor{comment}{/* reset the hardware with the new settings */}
2988     \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\_reset}(adapter);
2989     adapter->\hyperlink{structigb__adapter_ac0a0e7f06e849ba5ec750468922e2cdd}{devrc} = 0;
2990 
2991 \textcolor{preprocessor}{#ifdef HAVE\_I2C\_SUPPORT}
2992     \textcolor{comment}{/* Init the I2C interface */}
2993     err = igb\_init\_i2c(adapter);
2994     \textcolor{keywordflow}{if} (err) \{
2995         dev\_err(&pdev->dev, \textcolor{stringliteral}{"failed to init i2c interface\(\backslash\)n"});
2996         \textcolor{keywordflow}{goto} err\_eeprom;
2997     \}
2998 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_I2C\_SUPPORT */}\textcolor{preprocessor}{}
2999 
3000     \textcolor{comment}{/* let the f/w know that the h/w is now under the control of the}
3001 \textcolor{comment}{     * driver.}
3002 \textcolor{comment}{     */}
3003     \hyperlink{igb__main_8c_a8db219783b6a954ed4b940220918109f}{igb\_get\_hw\_control}(adapter);
3004 
3005     strncpy(netdev->name, \textcolor{stringliteral}{"eth%d"}, \hyperlink{openavb__avdecc__pub_8h_acd06da230a96d3b7e6f193c5b3142002}{IFNAMSIZ});
3006     err = register\_netdev(netdev);
3007     \textcolor{keywordflow}{if} (err)
3008         \textcolor{keywordflow}{goto} err\_register;
3009 
3010 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
3011     err = igb\_init\_vmdq\_netdevs(adapter);
3012     \textcolor{keywordflow}{if} (err)
3013         \textcolor{keywordflow}{goto} err\_register;
3014 \textcolor{preprocessor}{#endif}
3015     \textcolor{comment}{/* carrier off reporting is important to ethtool even BEFORE open */}
3016     netif\_carrier\_off(netdev);
3017 
3018 \textcolor{preprocessor}{#ifdef IGB\_DCA}
3019     \textcolor{keywordflow}{if} (dca\_add\_requester(&pdev->dev) == \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS}) \{
3020         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_ad3f82b8d3b0673cd93b7e27313ee184c}{IGB\_FLAG\_DCA\_ENABLED};
3021         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"DCA enabled\(\backslash\)n"});
3022         igb\_setup\_dca(adapter);
3023     \}
3024 
3025 \textcolor{preprocessor}{#endif}
3026 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
3027     \textcolor{comment}{/* do hw tstamp init after resetting */}
3028     igb\_ptp\_init(adapter);
3029 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
3030 
3031     dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Intel(R) Gigabit Ethernet Network Connection\(\backslash\)n"});
3032     \textcolor{comment}{/* print bus type/speed/width info */}
3033     dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"%s: (PCIe:%s:%s) "},
3034          netdev->name,
3035          ((hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_a4b59af6a3a89438279fb7944d1b74f8f}{speed} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7724e6e38084d6f3d5ad19138462aaa4acf550fa5cc271662070b4fc75194e06e}{e1000\_bus\_speed\_2500}) ? \textcolor{stringliteral}{"2.5GT/s"} :
3036           (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_a4b59af6a3a89438279fb7944d1b74f8f}{speed} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7724e6e38084d6f3d5ad19138462aaa4a29f75b3a1de24d3f0424ba5e992cc184}{e1000\_bus\_speed\_5000}) ? \textcolor{stringliteral}{"5.0GT/s"} :
3037           (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}) ? \textcolor{stringliteral}{"integrated"} : \textcolor{stringliteral}{"unknown"}),
3038          ((hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_af18553c0e03f32b4280b24a1ab40071a}{width} == \hyperlink{kmod_2igb_2e1000__hw_8h_a29097584be713aeabbdb98b320e9bfe6aa861ad5cc5ba093424e8d717a7d191eb}{e1000\_bus\_width\_pcie\_x4}) ? \textcolor{stringliteral}{"Width x4"} :
3039           (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_af18553c0e03f32b4280b24a1ab40071a}{width} == \hyperlink{kmod_2igb_2e1000__hw_8h_a29097584be713aeabbdb98b320e9bfe6a640a923ef592bb2020424a4cc3c465dd}{e1000\_bus\_width\_pcie\_x2}) ? \textcolor{stringliteral}{"Width x2"} :
3040           (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_af18553c0e03f32b4280b24a1ab40071a}{width} == \hyperlink{kmod_2igb_2e1000__hw_8h_a29097584be713aeabbdb98b320e9bfe6a1f8124d9fc87bfa612a18c1e5c159331}{e1000\_bus\_width\_pcie\_x1}) ? \textcolor{stringliteral}{"Width x1"} :
3041           (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}) ? \textcolor{stringliteral}{"integrated"} : \textcolor{stringliteral}{"unknown"}));
3042     netdev\_info(netdev, \textcolor{stringliteral}{"MAC: %pM\(\backslash\)n"}, netdev->dev\_addr);
3043 
3044     ret\_val = \hyperlink{e1000__api_8c_a5e646a2b3a35850ec34a9d6c15bca8e5}{e1000\_read\_pba\_string}(hw, pba\_str, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_a25fdb78debcaab2148f074f17c07a365}{E1000\_PBANUM\_LENGTH});
3045     \textcolor{keywordflow}{if} (ret\_val)
3046         strcpy(pba\_str, \textcolor{stringliteral}{"Unknown"});
3047     dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"%s: PBA No: %s\(\backslash\)n"}, netdev->name,
3048          pba\_str);
3049 
3050     \textcolor{comment}{/* Initialize the thermal sensor on i350 devices. */}
3051     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) \{
3052         \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func} == 0) \{
3053             \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} ets\_word;
3054 
3055             \textcolor{comment}{/*}
3056 \textcolor{comment}{             * Read the NVM to determine if this i350 device}
3057 \textcolor{comment}{             * supports an external thermal sensor.}
3058 \textcolor{comment}{             */}
3059             \hyperlink{e1000__api_8c_ac888d23a89a4134a7ca70a8c20e2e4ba}{e1000\_read\_nvm}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_adf88d1771b4a8a57ee20464e5445b16b}{NVM\_ETS\_CFG}, 1, &ets\_word);
3060             \textcolor{keywordflow}{if} (ets\_word != 0x0000 && ets\_word != 0xFFFF)
3061                 adapter->\hyperlink{structigb__adapter_a3bc8f190a1e1a1b9e800e08506228d80}{ets} = \textcolor{keyword}{true};
3062             \textcolor{keywordflow}{else}
3063                 adapter->\hyperlink{structigb__adapter_a3bc8f190a1e1a1b9e800e08506228d80}{ets} = \textcolor{keyword}{false};
3064         \}
3065 \textcolor{preprocessor}{#ifdef IGB\_HWMON}
3066 
3067         igb\_sysfs\_init(adapter);
3068 \textcolor{preprocessor}{#else}
3069 \textcolor{preprocessor}{#ifdef IGB\_PROCFS}
3070 
3071         igb\_procfs\_init(adapter);
3072 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_PROCFS */}\textcolor{preprocessor}{}
3073 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_HWMON */}\textcolor{preprocessor}{}
3074     \} \textcolor{keywordflow}{else} \{
3075         adapter->\hyperlink{structigb__adapter_a3bc8f190a1e1a1b9e800e08506228d80}{ets} = \textcolor{keyword}{false};
3076     \}
3077 
3078     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) \{
3079         \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
3080         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
3081         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}:
3082         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}:
3083             \textcolor{comment}{/* Enable EEE for internal copper PHY devices */}
3084             err = \hyperlink{e1000__82575_8c_a46bb08696f2fadf4b6bf8f6e548c65ef}{e1000\_set\_eee\_i350}(hw, \textcolor{keyword}{true}, \textcolor{keyword}{true});
3085             \textcolor{keywordflow}{if} ((!err) &&
3086                 (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a4e01db8ae25eb96bd17de4bb94bd895e}{IGB\_FLAG\_EEE}))
3087                 adapter->\hyperlink{structigb__adapter_a2792341c9e7952578b25d76bedd9a5e4}{eee\_advert} =
3088                     MDIO\_EEE\_100TX | MDIO\_EEE\_1000T;
3089             \textcolor{keywordflow}{break};
3090         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
3091             \textcolor{keywordflow}{if} ((\hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT})) &
3092                 (\hyperlink{kmod_2igb_2e1000__defines_8h_a2d4b54310b331d372d455ec5ac831897}{E1000\_CTRL\_EXT\_LINK\_MODE\_SGMII})) \{
3093                 err = \hyperlink{e1000__82575_8c_a9104807bbe98022e1e3ce4b45e8780e8}{e1000\_set\_eee\_i354}(hw, \textcolor{keyword}{true}, \textcolor{keyword}{true});
3094                 \textcolor{keywordflow}{if} ((!err) &&
3095                     (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a4e01db8ae25eb96bd17de4bb94bd895e}{IGB\_FLAG\_EEE}))
3096                     adapter->\hyperlink{structigb__adapter_a2792341c9e7952578b25d76bedd9a5e4}{eee\_advert} =
3097                        MDIO\_EEE\_100TX | MDIO\_EEE\_1000T;
3098             \}
3099             \textcolor{keywordflow}{break};
3100         \textcolor{keywordflow}{default}:
3101             \textcolor{keywordflow}{break};
3102         \}
3103     \}
3104 
3105     \textcolor{comment}{/* send driver version info to firmware */}
3106     \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) &&
3107         (\hyperlink{e1000__i210_8c_a6453a35ac95a4cfdc8ed86d70ef30f15}{e1000\_get\_flash\_presence\_i210}(hw)))
3108         \hyperlink{igb__main_8c_adddcaa87ecc343dd16285cf157a3735b}{igb\_init\_fw}(adapter);
3109 
3110 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
3111     \textcolor{keywordflow}{if} (netdev->features & \hyperlink{kcompat_8h_ad8819a3229664f156f3f1fd1d0aff2ba}{NETIF\_F\_LRO})
3112         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Internal LRO is enabled\(\backslash\)n"});
3113     \textcolor{keywordflow}{else}
3114         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"LRO is disabled\(\backslash\)n"});
3115 \textcolor{preprocessor}{#endif}
3116     dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
3117          \textcolor{stringliteral}{"Using %s interrupts. %d rx queue(s), %d tx queue(s)\(\backslash\)n"},
3118          adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries} ? \textcolor{stringliteral}{"MSI-X"} :
3119          (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a755dcd249d1f72f4545ffa76a6e7d9f5}{IGB\_FLAG\_HAS\_MSI}) ? \textcolor{stringliteral}{"MSI"} : \textcolor{stringliteral}{"legacy"},
3120          adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}, adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues});
3121 
3122     cards\_found++;
3123 
3124     pm\_runtime\_put\_noidle(&pdev->dev);
3125     \textcolor{keywordflow}{return} 0;
3126 
3127 err\_register:
3128     \hyperlink{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{igb\_release\_hw\_control}(adapter);
3129 \textcolor{preprocessor}{#ifdef HAVE\_I2C\_SUPPORT}
3130     memset(&adapter->i2c\_adap, 0, \textcolor{keyword}{sizeof}(adapter->i2c\_adap));
3131 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_I2C\_SUPPORT */}\textcolor{preprocessor}{}
3132 err\_eeprom:
3133     \textcolor{keywordflow}{if} (!\hyperlink{e1000__api_8c_a45776c01e9323fe3ecfefc79b0f6b54c}{e1000\_check\_reset\_block}(hw))
3134         \hyperlink{e1000__api_8c_a28bdf3150325de5b7673d22addd3810b}{e1000\_phy\_hw\_reset}(hw);
3135 
3136     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a43f200a8ab8b32b6c7092611bef689c2}{flash\_address})
3137         iounmap(hw->\hyperlink{structe1000__hw_a43f200a8ab8b32b6c7092611bef689c2}{flash\_address});
3138 err\_sw\_init:
3139     \hyperlink{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{igb\_clear\_interrupt\_scheme}(adapter);
3140     \hyperlink{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}{igb\_reset\_sriov\_capability}(adapter);
3141     iounmap(hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr});
3142 err\_ioremap:
3143     free\_netdev(netdev);
3144 err\_alloc\_etherdev:
3145     pci\_release\_selected\_regions(pdev,
3146                      pci\_select\_bars(pdev, IORESOURCE\_MEM));
3147 err\_pci\_reg:
3148 err\_dma:
3149     pci\_disable\_device(pdev);
3150     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3151 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_a3dc01fffcfed5bb0e37638d7eb52b14f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3dc01fffcfed5bb0e37638d7eb52b14f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+process\+\_\+mdd\+\_\+event@{igb\+\_\+process\+\_\+mdd\+\_\+event}}
\index{igb\+\_\+process\+\_\+mdd\+\_\+event@{igb\+\_\+process\+\_\+mdd\+\_\+event}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+process\+\_\+mdd\+\_\+event(struct igb\+\_\+adapter $\ast$)}{igb_process_mdd_event(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+process\+\_\+mdd\+\_\+event (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a7e8b98fdb70c2ec8039595f166707412}{}\label{igb__main_8c_a7e8b98fdb70c2ec8039595f166707412}
igb\+\_\+process\+\_\+mdd\+\_\+event  -\/ board private structure

Identify a malicious VF, disable the VF T\+X/\+RX queues and log a message. 

igb\+\_\+main.\+c 파일의 867 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
868 \{
869     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
870     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} lvmmc, vfte, vfre, mdfb;
871     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} vf\_queue;
872 
873     lvmmc = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a69780143bd0a48617547131ad89d3c2f}{E1000\_LVMMC});
874     vf\_queue = lvmmc >> 29;
875 
876     \textcolor{comment}{/* VF index cannot be bigger or equal to VFs allocated */}
877     \textcolor{keywordflow}{if} (vf\_queue >= adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
878         \textcolor{keywordflow}{return};
879 
880     netdev\_info(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev},
881             \textcolor{stringliteral}{"VF %d misbehaved. VF queues are disabled. VM misbehavior code is 0x%x\(\backslash\)n"},
882             vf\_queue, lvmmc);
883 
884     \textcolor{comment}{/* Disable VFTE and VFRE related bits */}
885     vfte = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a303260dece570549bde496a65edf02aa}{E1000\_VFTE});
886     vfte &= ~(1 << vf\_queue);
887     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a303260dece570549bde496a65edf02aa}{E1000\_VFTE}, vfte);
888 
889     vfre = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa87ccb3cd4e6d7d69e81bef19f480391}{E1000\_VFRE});
890     vfre &= ~(1 << vf\_queue);
891     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa87ccb3cd4e6d7d69e81bef19f480391}{E1000\_VFRE}, vfre);
892 
893     \textcolor{comment}{/* Disable MDFB related bit. Clear on write */}
894     mdfb = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ac4dda557d31634b3f7c6dd624bdd2ebd}{E1000\_MDFB});
895     mdfb |= (1 << vf\_queue);
896     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ac4dda557d31634b3f7c6dd624bdd2ebd}{E1000\_MDFB}, mdfb);
897 
898     \textcolor{comment}{/* Reset the specific VF */}
899     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_affb95ad797cc63a6d12a9ea3806367e5}{E1000\_VTCTRL}(vf\_queue), 
      \hyperlink{kmod_2igb_2e1000__defines_8h_aabf270091d9d730cfb18e7b422eab47c}{E1000\_VTCTRL\_RST});
900 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7e8b98fdb70c2ec8039595f166707412_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+process\+\_\+skb\+\_\+fields@{igb\+\_\+process\+\_\+skb\+\_\+fields}}
\index{igb\+\_\+process\+\_\+skb\+\_\+fields@{igb\+\_\+process\+\_\+skb\+\_\+fields}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+process\+\_\+skb\+\_\+fields(struct igb\+\_\+ring $\ast$rx\+\_\+ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_process_skb_fields(struct igb_ring *rx_ring, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+process\+\_\+skb\+\_\+fields (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4c49c031b2dd083f237db74034cc383a}{}\label{igb__main_8c_a4c49c031b2dd083f237db74034cc383a}
igb\+\_\+process\+\_\+skb\+\_\+fields -\/ Populate skb header fields from Rx descriptor \+: rx descriptor ring packet is being transacted on \+: pointer to the E\+OP Rx descriptor \+: pointer to current skb being populated

This function checks the ring, descriptor, and packet information in order to populate the hash, checksum, V\+L\+AN, timestamp, protocol, and other fields within the skb. 

igb\+\_\+main.\+c 파일의 8167 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8170 \{
8171     \textcolor{keyword}{struct }net\_device *dev = rx\_ring->\hyperlink{structigb__ring_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
8172     \hyperlink{kmod_2igb_2e1000__hw_8h_a42b303dec823d42e18116e091891a235}{\_\_le16} pkt\_info = rx\_desc->\hyperlink{unione1000__adv__rx__desc_ae205a722536b37bd9f0eedd0e08869cf}{wb}.\hyperlink{unione1000__adv__rx__desc_aa2f13e7f6127e8f784f2ac021f73a6d1}{lower}.lo\_dword.hs\_rss.pkt\_info;
8173     \textcolor{keywordtype}{bool} notype;
8174 
8175 \textcolor{preprocessor}{#ifdef NETIF\_F\_RXHASH}
8176     igb\_rx\_hash(rx\_ring, rx\_desc, skb);
8177 
8178 \textcolor{preprocessor}{#endif}
8179     \hyperlink{igb__main_8c_a42b3b70a326545344ddeeea65329f6dd}{igb\_rx\_checksum}(rx\_ring, rx\_desc, skb);
8180 
8181     \textcolor{comment}{/* update packet type stats */}
8182     \textcolor{keywordflow}{switch} (pkt\_info & \hyperlink{kmod_2igb_2e1000__82575_8h_a22e7407398d8b95b23bd6e95261cb660}{E1000\_RXDADV\_PKTTYPE\_ILMASK}) \{
8183     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_afc56019e53a31fc48f083a6a9b0bf671}{E1000\_RXDADV\_PKTTYPE\_IPV4}:
8184         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a3ff32dae64faebe642e2d889b76c294a}{ipv4\_packets}++;
8185         \textcolor{keywordflow}{break};
8186     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_abcf9b6d30ec2cfb91d3a0528bdc73868}{E1000\_RXDADV\_PKTTYPE\_IPV4\_EX}:
8187         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a781281956565ebe876de958881004048}{ipv4e\_packets}++;
8188         \textcolor{keywordflow}{break};
8189     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_a2f21411aaf06945bdceeaec53b21f776}{E1000\_RXDADV\_PKTTYPE\_IPV6}:
8190         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a714c0f76258e9051af35a08bdd71c0e0}{ipv6\_packets}++;
8191         \textcolor{keywordflow}{break};
8192     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_a9c074cd04278a5a6bd223d789698d20f}{E1000\_RXDADV\_PKTTYPE\_IPV6\_EX}:
8193         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a3c5fd454c267d00f8ee7d682c9ddafcf}{ipv6e\_packets}++;
8194         \textcolor{keywordflow}{break};
8195     \textcolor{keywordflow}{default}:
8196         notype = \textcolor{keyword}{true};
8197         \textcolor{keywordflow}{break};
8198     \}
8199 
8200     \textcolor{keywordflow}{switch} (pkt\_info & \hyperlink{kmod_2igb_2e1000__82575_8h_a80757708ab44ce9f734a1d4eff604003}{E1000\_RXDADV\_PKTTYPE\_TLMASK}) \{
8201     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_a0d7ad5a7cac051b784a854334f46fc8c}{E1000\_RXDADV\_PKTTYPE\_TCP}:
8202         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a51215069637ad3df438914021f4ee4c3}{tcp\_packets}++;
8203         \textcolor{keywordflow}{break};
8204     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_a661d47641972520b6cbe2197bc176208}{E1000\_RXDADV\_PKTTYPE\_UDP}:
8205         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a28e2e368567f7430ad6aea43652578ef}{udp\_packets}++;
8206         \textcolor{keywordflow}{break};
8207     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_a5bafb0a71f20f087894cbe10785abc47}{E1000\_RXDADV\_PKTTYPE\_SCTP}:
8208         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_add2d5545573762497be65a5a43de54c5}{sctp\_packets}++;
8209         \textcolor{keywordflow}{break};
8210     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_afe7759929e0e91d4f5e6cf49f51b161f}{E1000\_RXDADV\_PKTTYPE\_NFS}:
8211         rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a281c97c88bbf24b2c1e516b8fb85218c}{nfs\_packets}++;
8212         \textcolor{keywordflow}{break};
8213     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__82575_8h_a6805e78f758288705457be004532961f}{E1000\_RXDADV\_PKTTYPE\_NONE}:
8214         \textcolor{keywordflow}{if} (notype)
8215             rx\_ring->\hyperlink{structigb__ring_a2e15daa5af2b0e45c95d5f2573a96815}{pkt\_stats}.\hyperlink{structigb__rx__packet__stats_a2936b2447c6a89d288f211865cdd25c2}{other\_packets}++;
8216         \textcolor{keywordflow}{break};
8217     \textcolor{keywordflow}{default}:
8218         \textcolor{keywordflow}{break};
8219     \}
8220 
8221 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
8222     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__82575_8h_a1822b55e38da2a162ded4174a60fc7f3}{E1000\_RXDADV\_STAT\_TS}) &&
8223         !\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__82575_8h_a0196dbcde7c729b17d309564a12e3a6b}{E1000\_RXDADV\_STAT\_TSIP}))
8224         igb\_ptp\_rx\_rgtstamp(rx\_ring->\hyperlink{structigb__ring_aa100c4670cf68cffe85570de281b83ce}{q\_vector}, skb);
8225 
8226 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
8227 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
8228     \textcolor{keywordflow}{if} ((dev->features & NETIF\_F\_HW\_VLAN\_CTAG\_RX) &&
8229 #\textcolor{keywordflow}{else}
8230     if ((dev->features & NETIF\_F\_HW\_VLAN\_RX) &&
8231 #endif
8232         \hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__defines_8h_a02013902830decb7f0fed4602457a65d}{E1000\_RXD\_STAT\_VP})) \{
8233         \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid = 0;
8234 
8235         \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__defines_8h_a052417fbb55768533e2ef090b4b65221}{E1000\_RXDEXT\_STATERR\_LB}) &&
8236             test\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a62c5f10c8899e5cddfdb1629ede906ca}{IGB\_RING\_FLAG\_RX\_LB\_VLAN\_BSWAP}, &rx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags}))
8237             vid = be16\_to\_cpu(rx\_desc->\hyperlink{unione1000__adv__rx__desc_ae205a722536b37bd9f0eedd0e08869cf}{wb}.\hyperlink{unione1000__adv__rx__desc_a5684937edd4489f4f26f63d2d1976f5e}{upper}.vlan);
8238         \textcolor{keywordflow}{else}
8239             vid = le16\_to\_cpu(rx\_desc->\hyperlink{unione1000__adv__rx__desc_ae205a722536b37bd9f0eedd0e08869cf}{wb}.\hyperlink{unione1000__adv__rx__desc_a5684937edd4489f4f26f63d2d1976f5e}{upper}.vlan);
8240 #ifdef HAVE\_VLAN\_RX\_REGISTER
8241         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->vid = vid;
8242     \} \textcolor{keywordflow}{else} \{
8243         \hyperlink{kmod_2igb_2igb_8h_a7f74027a4c81132cc43d3b2235653b0e}{IGB\_CB}(skb)->vid = 0;
8244 \textcolor{preprocessor}{#else}
8245         \_\_vlan\_hwaccel\_put\_tag(skb, htons(\hyperlink{kcompat_8h_af72f9ea45564e2934a4a332379eb4f26}{ETH\_P\_8021Q}), vid);
8246 \textcolor{preprocessor}{#endif}
8247     \}
8248 
8249     skb\_record\_rx\_queue(skb, rx\_ring->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index});
8250 
8251     skb->protocol = eth\_type\_trans(skb, dev);
8252 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4c49c031b2dd083f237db74034cc383a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4c49c031b2dd083f237db74034cc383a_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+pull\+\_\+tail@{igb\+\_\+pull\+\_\+tail}}
\index{igb\+\_\+pull\+\_\+tail@{igb\+\_\+pull\+\_\+tail}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+pull\+\_\+tail(struct igb\+\_\+ring $\ast$rx\+\_\+ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_pull_tail(struct igb_ring *rx_ring, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+pull\+\_\+tail (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a8d54ff0489b1570a31e6736d45928032}{}\label{igb__main_8c_a8d54ff0489b1570a31e6736d45928032}
igb\+\_\+pull\+\_\+tail -\/ igb specific version of skb\+\_\+pull\+\_\+tail \+: rx descriptor ring packet is being transacted on \+: pointer to the E\+OP Rx descriptor \+: pointer to current skb being adjusted

This function is an igb specific version of \+\_\+\+\_\+pskb\+\_\+pull\+\_\+tail. The main difference between this version and the original function is that this function can make several assumptions about the state of things that allow for significant optimizations versus the standard function. As a result we can do things like drop a frag and maintain an accurate truesize for the skb. 

igb\+\_\+main.\+c 파일의 8506 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8509 \{
8510     \textcolor{keyword}{struct }skb\_frag\_struct *frag = &skb\_shinfo(skb)->frags[0];
8511     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *va;
8512     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pull\_len;
8513 
8514     \textcolor{comment}{/*}
8515 \textcolor{comment}{     * it is valid to use page\_address instead of kmap since we are}
8516 \textcolor{comment}{     * working with pages allocated out of the lomem pool per}
8517 \textcolor{comment}{     * alloc\_page(GFP\_ATOMIC)}
8518 \textcolor{comment}{     */}
8519     va = skb\_frag\_address(frag);
8520 
8521 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
8522     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__82575_8h_a0196dbcde7c729b17d309564a12e3a6b}{E1000\_RXDADV\_STAT\_TSIP})) \{
8523         \textcolor{comment}{/* retrieve timestamp from buffer */}
8524         igb\_ptp\_rx\_pktstamp(rx\_ring->\hyperlink{structigb__ring_aa100c4670cf68cffe85570de281b83ce}{q\_vector}, va, skb);
8525 
8526         \textcolor{comment}{/* update pointers to remove timestamp header */}
8527         skb\_frag\_size\_sub(frag, \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN});
8528         frag->page\_offset += \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN};
8529         skb->data\_len -= \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN};
8530         skb->len -= \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN};
8531 
8532         \textcolor{comment}{/* move va to start of packet data */}
8533         va += \hyperlink{kmod_2igb_2igb_8h_a4d8e8039eef585cb6df59dabdeb942e7}{IGB\_TS\_HDR\_LEN};
8534     \}
8535 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
8536 
8537     \textcolor{comment}{/*}
8538 \textcolor{comment}{     * we need the header to contain the greater of either ETH\_HLEN or}
8539 \textcolor{comment}{     * 60 bytes if the skb->len is less than 60 for skb\_pad.}
8540 \textcolor{comment}{     */}
8541     pull\_len = \hyperlink{igb__main_8c_a8603b3975948f4da1cf253d1394c64a6}{igb\_get\_headlen}(va, \hyperlink{kmod_2igb_2igb_8h_a68b5667b412d2248471bc5058f257d6b}{IGB\_RX\_HDR\_LEN});
8542 
8543     \textcolor{comment}{/* align pull length to size of long to optimize memcpy performance */}
8544     skb\_copy\_to\_linear\_data(skb, va, ALIGN(pull\_len, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long})));
8545 
8546     \textcolor{comment}{/* update all of the pointers */}
8547     skb\_frag\_size\_sub(frag, pull\_len);
8548     frag->page\_offset += pull\_len;
8549     skb->data\_len -= pull\_len;
8550     skb->tail += pull\_len;
8551 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{igb__main_8c_a8d54ff0489b1570a31e6736d45928032_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8d54ff0489b1570a31e6736d45928032_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+rar\+\_\+set@{igb\+\_\+rar\+\_\+set}}
\index{igb\+\_\+rar\+\_\+set@{igb\+\_\+rar\+\_\+set}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+rar\+\_\+set(struct igb\+\_\+adapter $\ast$adapter, u32 index)}{igb_rar_set(struct igb_adapter *adapter, u32 index)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+rar\+\_\+set (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{index}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7}{}\label{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7}


igb\+\_\+main.\+c 파일의 2589 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2590 \{
2591     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rar\_low, rar\_high;
2592     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
2593     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *addr = adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[index].\hyperlink{structigb__mac__addr_ad0cb1fd890c452cd6b53222cc82474a4}{addr};
2594     \textcolor{comment}{/* HW expects these in little endian so we reverse the byte order}
2595 \textcolor{comment}{     * from network order (big endian) to little endian}
2596 \textcolor{comment}{     */}
2597     rar\_low = ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[0] | ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[1] << 8) |
2598           ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[2] << 16) | ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[3] << 24));
2599     rar\_high = ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[4] | ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[5] << 8));
2600 
2601     \textcolor{comment}{/* Indicate to hardware the Address is Valid. */}
2602     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[index].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} & \hyperlink{kmod_2igb_2igb_8h_a1019e014af60ceeb2c0abab6efe42f16}{IGB\_MAC\_STATE\_IN\_USE})
2603         rar\_high |= \hyperlink{kmod_2igb_2e1000__defines_8h_adea91902dedcc47d0bd9a45589344be9}{E1000\_RAH\_AV};
2604 
2605     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575})
2606         rar\_high |= \hyperlink{kmod_2igb_2e1000__defines_8h_acd446c70bb6c2c93ab14618941b8088e}{E1000\_RAH\_POOL\_1} * adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[index].
      \hyperlink{structigb__mac__addr_a4895577ef36597501c4510a0ff6cea06}{queue};
2607     \textcolor{keywordflow}{else}
2608         rar\_high |= \hyperlink{kmod_2igb_2e1000__defines_8h_acd446c70bb6c2c93ab14618941b8088e}{E1000\_RAH\_POOL\_1} << adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[index].
      \hyperlink{structigb__mac__addr_a4895577ef36597501c4510a0ff6cea06}{queue};
2609 
2610     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aef2f9cf55ba75ef025ea8e83d2019494}{E1000\_RAL}(index), rar\_low);
2611     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
2612     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a505199655b6c76ef205e6325561c69ea}{E1000\_RAH}(index), rar\_high);
2613     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
2614 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+rar\+\_\+set\+\_\+qsel@{igb\+\_\+rar\+\_\+set\+\_\+qsel}}
\index{igb\+\_\+rar\+\_\+set\+\_\+qsel@{igb\+\_\+rar\+\_\+set\+\_\+qsel}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+rar\+\_\+set\+\_\+qsel(struct igb\+\_\+adapter $\ast$, u8 $\ast$, u32, u8)}{igb_rar_set_qsel(struct igb_adapter *, u8 *, u32, u8)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+rar\+\_\+set\+\_\+qsel (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u8} $\ast$}]{addr, }
\item[{{\bf u32}}]{index, }
\item[{{\bf u8}}]{qsel}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{}\label{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}


igb\+\_\+main.\+c 파일의 4478 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4480 \{
4481     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rar\_low, rar\_high;
4482     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4483 
4484     \textcolor{comment}{/* HW expects these in little endian so we reverse the byte order}
4485 \textcolor{comment}{     * from network order (big endian) to little endian}
4486 \textcolor{comment}{     */}
4487     rar\_low = ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[0] | ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[1] << 8) |
4488            ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[2] << 16) | ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[3] << 24));
4489     rar\_high = ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[4] | ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) addr[5] << 8));
4490 
4491     \textcolor{comment}{/* Indicate to hardware the Address is Valid. */}
4492     rar\_high |= \hyperlink{kmod_2igb_2e1000__defines_8h_adea91902dedcc47d0bd9a45589344be9}{E1000\_RAH\_AV};
4493 
4494     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575})
4495         rar\_high |= \hyperlink{kmod_2igb_2e1000__defines_8h_acd446c70bb6c2c93ab14618941b8088e}{E1000\_RAH\_POOL\_1} * qsel;
4496     \textcolor{keywordflow}{else}
4497         rar\_high |= \hyperlink{kmod_2igb_2e1000__defines_8h_acd446c70bb6c2c93ab14618941b8088e}{E1000\_RAH\_POOL\_1} << qsel;
4498 
4499     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aef2f9cf55ba75ef025ea8e83d2019494}{E1000\_RAL}(index), rar\_low);
4500     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
4501     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a505199655b6c76ef205e6325561c69ea}{E1000\_RAH}(index), rar\_high);
4502     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
4503 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf@{igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf}}
\index{igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf@{igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf(struct igb\+\_\+adapter $\ast$adapter, u32 vf)}{igb_rcv_ack_from_vf(struct igb_adapter *adapter, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+rcv\+\_\+ack\+\_\+from\+\_\+vf (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1b68d827fe29b33454280f76ee89fc13}{}\label{igb__main_8c_a1b68d827fe29b33454280f76ee89fc13}


igb\+\_\+main.\+c 파일의 6974 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6975 \{
6976     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6977     \textcolor{keyword}{struct }\hyperlink{structvf__data__storage}{vf\_data\_storage} *vf\_data = &adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[vf];
6978     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{maap__log__linux_8c_a0c7e58a50354c4a4d6dad428d0e47029}{msg} = \hyperlink{e1000__mbx_8h_af6e02612064408a10501f49017101f28}{E1000\_VT\_MSGTYPE\_NACK};
6979 
6980     \textcolor{comment}{/* if device isn't clear to send it shouldn't be reading either */}
6981     \textcolor{keywordflow}{if} (!(vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} & \hyperlink{kmod_2igb_2igb_8h_a16c4b3d189698d0f545fd4d847508984}{IGB\_VF\_FLAG\_CTS}) &&
6982         time\_after(jiffies, vf\_data->\hyperlink{structvf__data__storage_a2c046c18bb826921deb58929924410c3}{last\_nack} + (2 * HZ))) \{
6983         \hyperlink{e1000__mbx_8c_a4b6631c8a91bd82e91a36f9d7b20391a}{e1000\_write\_mbx}(hw, &msg, 1, vf);
6984         vf\_data->\hyperlink{structvf__data__storage_a2c046c18bb826921deb58929924410c3}{last\_nack} = jiffies;
6985     \}
6986 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{igb__main_8c_a1b68d827fe29b33454280f76ee89fc13_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1b68d827fe29b33454280f76ee89fc13_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf@{igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf}}
\index{igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf@{igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf(struct igb\+\_\+adapter $\ast$adapter, u32 vf)}{igb_rcv_msg_from_vf(struct igb_adapter *adapter, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+rcv\+\_\+msg\+\_\+from\+\_\+vf (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a25d4016a5355329deff8e301aecccdc3}{}\label{igb__main_8c_a25d4016a5355329deff8e301aecccdc3}


igb\+\_\+main.\+c 파일의 6988 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6989 \{
6990     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
6991     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}[\hyperlink{e1000__mbx_8h_a66c77aa8677eae76161f0a6c1451d85b}{E1000\_VFMAILBOX\_SIZE}];
6992     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6993     \textcolor{keyword}{struct }\hyperlink{structvf__data__storage}{vf\_data\_storage} *vf\_data = &adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[vf];
6994     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} retval;
6995 
6996     retval = \hyperlink{e1000__mbx_8c_a7d1fc0fde50a8486083f7c3e0cff0b56}{e1000\_read\_mbx}(hw, msgbuf, \hyperlink{e1000__mbx_8h_a66c77aa8677eae76161f0a6c1451d85b}{E1000\_VFMAILBOX\_SIZE}, vf);
6997 
6998     \textcolor{keywordflow}{if} (retval) \{
6999         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Error receiving message from VF\(\backslash\)n"});
7000         \textcolor{keywordflow}{return};
7001     \}
7002 
7003     \textcolor{comment}{/* this is a message we already processed, do nothing */}
7004     \textcolor{keywordflow}{if} (msgbuf[0] & (\hyperlink{e1000__mbx_8h_aa1ea86ac6b939eb3b005d0dbee6a5260}{E1000\_VT\_MSGTYPE\_ACK} | 
      \hyperlink{e1000__mbx_8h_af6e02612064408a10501f49017101f28}{E1000\_VT\_MSGTYPE\_NACK}))
7005         \textcolor{keywordflow}{return};
7006 
7007     \textcolor{comment}{/*}
7008 \textcolor{comment}{     * until the vf completes a reset it should not be}
7009 \textcolor{comment}{     * allowed to start any configuration.}
7010 \textcolor{comment}{     */}
7011 
7012     \textcolor{keywordflow}{if} (msgbuf[0] == \hyperlink{e1000__mbx_8h_a9d28839043bc956f6552f4e791552c76}{E1000\_VF\_RESET}) \{
7013         \hyperlink{igb__main_8c_a779e71661381fbdbdb18a6062b03e74f}{igb\_vf\_reset\_msg}(adapter, vf);
7014         \textcolor{keywordflow}{return};
7015     \}
7016 
7017     \textcolor{keywordflow}{if} (!(vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} & \hyperlink{kmod_2igb_2igb_8h_a16c4b3d189698d0f545fd4d847508984}{IGB\_VF\_FLAG\_CTS})) \{
7018         msgbuf[0] = \hyperlink{e1000__mbx_8h_af6e02612064408a10501f49017101f28}{E1000\_VT\_MSGTYPE\_NACK};
7019         \textcolor{keywordflow}{if} (time\_after(jiffies, vf\_data->\hyperlink{structvf__data__storage_a2c046c18bb826921deb58929924410c3}{last\_nack} + (2 * HZ))) \{
7020             \hyperlink{e1000__mbx_8c_a4b6631c8a91bd82e91a36f9d7b20391a}{e1000\_write\_mbx}(hw, msgbuf, 1, vf);
7021             vf\_data->\hyperlink{structvf__data__storage_a2c046c18bb826921deb58929924410c3}{last\_nack} = jiffies;
7022         \}
7023         \textcolor{keywordflow}{return};
7024     \}
7025 
7026     \textcolor{keywordflow}{switch} ((msgbuf[0] & 0xFFFF)) \{
7027     \textcolor{keywordflow}{case} \hyperlink{e1000__mbx_8h_a3f649a20b5d7986390366257922afcb1}{E1000\_VF\_SET\_MAC\_ADDR}:
7028         retval = -EINVAL;
7029 \textcolor{preprocessor}{#ifndef IGB\_DISABLE\_VF\_MAC\_SET}
7030         \textcolor{keywordflow}{if} (!(vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} & \hyperlink{kmod_2igb_2igb_8h_ac095dacf7363b04986a67ea5bd20cd08}{IGB\_VF\_FLAG\_PF\_SET\_MAC}))
7031             retval = \hyperlink{igb__main_8c_a08b0f3022564ddd668cd57fd5de5eaaf}{igb\_set\_vf\_mac\_addr}(adapter, msgbuf, vf);
7032         \textcolor{keywordflow}{else}
7033             \hyperlink{kmod_2igb_2igb_8h_a272396ffe38ee0e97609adea8e1153d9}{DPRINTK}(DRV, INFO,
7034                 \textcolor{stringliteral}{"VF %d attempted to override administratively set MAC address\(\backslash\)nReload the VF driver to
       resume operations\(\backslash\)n"},
7035                 vf);
7036 \textcolor{preprocessor}{#endif}
7037         \textcolor{keywordflow}{break};
7038     \textcolor{keywordflow}{case} \hyperlink{e1000__mbx_8h_a3de753ec776372d576568999a9f91bba}{E1000\_VF\_SET\_PROMISC}:
7039         retval = \hyperlink{igb__main_8c_a2310d0167a360b05edf4c3aa4a32484c}{igb\_set\_vf\_promisc}(adapter, msgbuf, vf);
7040         \textcolor{keywordflow}{break};
7041     \textcolor{keywordflow}{case} \hyperlink{e1000__mbx_8h_affef9466803479bdf00ab18c14a3fb24}{E1000\_VF\_SET\_MULTICAST}:
7042         retval = \hyperlink{igb__main_8c_a08934799dc338ca9945f1ffbf09a1cf3}{igb\_set\_vf\_multicasts}(adapter, msgbuf, vf);
7043         \textcolor{keywordflow}{break};
7044     \textcolor{keywordflow}{case} \hyperlink{e1000__mbx_8h_a17a9171965d0d73f493833f7f97b3556}{E1000\_VF\_SET\_LPE}:
7045         retval = \hyperlink{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de}{igb\_set\_vf\_rlpml}(adapter, msgbuf[1], vf);
7046         \textcolor{keywordflow}{break};
7047     \textcolor{keywordflow}{case} \hyperlink{e1000__mbx_8h_ad2e615cefb0c65632594179b82c5cff5}{E1000\_VF\_SET\_VLAN}:
7048         retval = -1;
7049 \textcolor{preprocessor}{#ifdef IFLA\_VF\_MAX}
7050         \textcolor{keywordflow}{if} (vf\_data->pf\_vlan)
7051             \hyperlink{kmod_2igb_2igb_8h_a272396ffe38ee0e97609adea8e1153d9}{DPRINTK}(DRV, INFO,
7052                 \textcolor{stringliteral}{"VF %d attempted to override administratively set VLAN tag\(\backslash\)nReload the VF driver to resume
       operations\(\backslash\)n"},
7053                 vf);
7054         \textcolor{keywordflow}{else}
7055 \textcolor{preprocessor}{#endif}
7056             retval = \hyperlink{igb__main_8c_a37518d6544f86838af70789b578a6cb2}{igb\_set\_vf\_vlan}(adapter, msgbuf, vf);
7057         \textcolor{keywordflow}{break};
7058     \textcolor{keywordflow}{default}:
7059         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Unhandled Msg %08x\(\backslash\)n"},
7060             msgbuf[0]);
7061         retval = -\hyperlink{kmod_2igb_2e1000__defines_8h_a22b727a672931d426d5bf27c82417e95}{E1000\_ERR\_MBX};
7062         \textcolor{keywordflow}{break};
7063     \}
7064 
7065     \textcolor{comment}{/* notify the VF of the results of what it sent us */}
7066     \textcolor{keywordflow}{if} (retval)
7067         msgbuf[0] |= \hyperlink{e1000__mbx_8h_af6e02612064408a10501f49017101f28}{E1000\_VT\_MSGTYPE\_NACK};
7068     \textcolor{keywordflow}{else}
7069         msgbuf[0] |= \hyperlink{e1000__mbx_8h_aa1ea86ac6b939eb3b005d0dbee6a5260}{E1000\_VT\_MSGTYPE\_ACK};
7070 
7071     msgbuf[0] |= \hyperlink{e1000__mbx_8h_a664e4cb3387e5abfda927d44f0732180}{E1000\_VT\_MSGTYPE\_CTS};
7072 
7073     \hyperlink{e1000__mbx_8c_a4b6631c8a91bd82e91a36f9d7b20391a}{e1000\_write\_mbx}(hw, msgbuf, 1, vf);
7074 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a25d4016a5355329deff8e301aecccdc3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a25d4016a5355329deff8e301aecccdc3_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+read@{igb\+\_\+read}}
\index{igb\+\_\+read@{igb\+\_\+read}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+read(struct file $\ast$file, char \+\_\+\+\_\+user $\ast$buf, size\+\_\+t count, loff\+\_\+t $\ast$pos)}{igb_read(struct file *file, char __user *buf, size_t count, loff_t *pos)}}]{\setlength{\rightskip}{0pt plus 5cm}static ssize\+\_\+t igb\+\_\+read (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{char \+\_\+\+\_\+user $\ast$}]{buf, }
\item[{size\+\_\+t}]{count, }
\item[{loff\+\_\+t $\ast$}]{pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a14930973d792b5c52741e66f7f2cacfe}{}\label{igb__main_8c_a14930973d792b5c52741e66f7f2cacfe}


igb\+\_\+main.\+c 파일의 10217 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10219 \{
10220     \textcolor{keywordflow}{return} -EINVAL; \textcolor{comment}{/* don't support reads for any status or data */}
10221 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reinit\+\_\+locked@{igb\+\_\+reinit\+\_\+locked}}
\index{igb\+\_\+reinit\+\_\+locked@{igb\+\_\+reinit\+\_\+locked}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reinit\+\_\+locked(struct igb\+\_\+adapter $\ast$adapter)}{igb_reinit_locked(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+reinit\+\_\+locked (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a63776b120e3bc874de248988b226b6e1}{}\label{igb__main_8c_a63776b120e3bc874de248988b226b6e1}


igb\+\_\+main.\+c 파일의 1935 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1936 \{
1937     \hyperlink{kcompat_8h_a5ff98df171641db7a034f6f1d4425157}{WARN\_ON}(in\_interrupt());
1938     \textcolor{keywordflow}{while} (test\_and\_set\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa11bf36bdba8153146a1fa18ce807324c}{\_\_IGB\_RESETTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
1939         usleep\_range(1000, 2000);
1940     \hyperlink{igb__main_8c_aacbb63f4709878964f7afa56734e9333}{igb\_down}(adapter);
1941     \hyperlink{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079}{igb\_up}(adapter);
1942     clear\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa11bf36bdba8153146a1fa18ce807324c}{\_\_IGB\_RESETTING}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
1943 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_a63776b120e3bc874de248988b226b6e1_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a63776b120e3bc874de248988b226b6e1_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+release\+\_\+hw\+\_\+control@{igb\+\_\+release\+\_\+hw\+\_\+control}}
\index{igb\+\_\+release\+\_\+hw\+\_\+control@{igb\+\_\+release\+\_\+hw\+\_\+control}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+release\+\_\+hw\+\_\+control(struct igb\+\_\+adapter $\ast$adapter)}{igb_release_hw_control(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+release\+\_\+hw\+\_\+control (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{}\label{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}
igb\+\_\+release\+\_\+hw\+\_\+control -\/ release control of the h/w to f/w \+: address of board private structure

igb\+\_\+release\+\_\+hw\+\_\+control resets C\+T\+R\+L\+\_\+\+E\+XT\+:D\+R\+V\+\_\+\+L\+O\+AD bit. For A\+SF and Pass Through versions of f/w this means that the driver is no longer loaded. 

igb\+\_\+main.\+c 파일의 1544 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1545 \{
1546     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1547     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl\_ext;
1548 
1549     \textcolor{comment}{/* Let firmware take over control of h/w */}
1550     ctrl\_ext = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
1551     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT},
1552             ctrl\_ext & ~\hyperlink{kmod_2igb_2e1000__defines_8h_ae2033cad6f127692abb886ecfaba1f07}{E1000\_CTRL\_EXT\_DRV\_LOAD});
1553 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+remove@{igb\+\_\+remove}}
\index{igb\+\_\+remove@{igb\+\_\+remove}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+remove(struct pci\+\_\+dev $\ast$pdev)}{igb_remove(struct pci_dev *pdev)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+remove (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a3261c3d84d5f657f567d8c097bef6647}{}\label{igb__main_8c_a3261c3d84d5f657f567d8c097bef6647}
igb\+\_\+remove -\/ Device Removal Routine \+: P\+CI device information struct

igb\+\_\+remove is called by the P\+CI subsystem to alert the driver that it should release a P\+CI device. The could be caused by a Hot-\/\+Plug event, or because the driver is going to be removed from memory. 

igb\+\_\+main.\+c 파일의 3175 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3176 \{
3177     \textcolor{keyword}{struct }net\_device *netdev = pci\_get\_drvdata(pdev);
3178     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(netdev);
3179     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3180 
3181     pm\_runtime\_get\_noresume(&pdev->dev);
3182 \textcolor{preprocessor}{#ifdef HAVE\_I2C\_SUPPORT}
3183     igb\_remove\_i2c(adapter);
3184 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_I2C\_SUPPORT */}\textcolor{preprocessor}{}
3185 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
3186     igb\_ptp\_stop(adapter);
3187 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
3188 
3189     \textcolor{comment}{/* flush\_scheduled work may reschedule our watchdog task, so}
3190 \textcolor{comment}{     * explicitly disable watchdog tasks from being rescheduled}
3191 \textcolor{comment}{     */}
3192     set\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
3193     del\_timer\_sync(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer});
3194     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
3195         del\_timer\_sync(&adapter->\hyperlink{structigb__adapter_ac11a44ad73617c02ac826d263b35ed19}{dma\_err\_timer});
3196     del\_timer\_sync(&adapter->\hyperlink{structigb__adapter_a7e23bd9ac9e32b5da3f8e807af5b0c5f}{phy\_info\_timer});
3197 
3198     flush\_scheduled\_work();
3199 
3200 \textcolor{preprocessor}{#ifdef IGB\_DCA}
3201     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ad3f82b8d3b0673cd93b7e27313ee184c}{IGB\_FLAG\_DCA\_ENABLED}) \{
3202         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"DCA disabled\(\backslash\)n"});
3203         dca\_remove\_requester(&pdev->dev);
3204         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_ad3f82b8d3b0673cd93b7e27313ee184c}{IGB\_FLAG\_DCA\_ENABLED};
3205         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a85ed6fea4294b0f41ebfe678e2b57203}{E1000\_DCA\_CTRL}, 
      \hyperlink{kmod_2igb_2e1000__82575_8h_a94ed620937b93ae82d948e3170c39c1c}{E1000\_DCA\_CTRL\_DCA\_DISABLE});
3206     \}
3207 \textcolor{preprocessor}{#endif}
3208 
3209 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
3210     igb\_remove\_vmdq\_netdevs(adapter);
3211 \textcolor{preprocessor}{#endif}
3212 
3213     \hyperlink{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}{igb\_reset\_sriov\_capability}(adapter);
3214 
3215     \textcolor{comment}{/* Release control of h/w to f/w.  If f/w is AMT enabled, this}
3216 \textcolor{comment}{     * would have already happened in close and is redundant.}
3217 \textcolor{comment}{     */}
3218     \hyperlink{igb__main_8c_a7440fad99d9ca12d506a086709ee3ee6}{igb\_release\_hw\_control}(adapter);
3219 
3220     unregister\_netdev(netdev);
3221 
3222     \hyperlink{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{igb\_clear\_interrupt\_scheme}(adapter);
3223 
3224     iounmap(hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr});
3225     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a43f200a8ab8b32b6c7092611bef689c2}{flash\_address})
3226         iounmap(hw->\hyperlink{structe1000__hw_a43f200a8ab8b32b6c7092611bef689c2}{flash\_address});
3227     pci\_release\_selected\_regions(pdev,
3228                      pci\_select\_bars(pdev, IORESOURCE\_MEM));
3229 
3230 \textcolor{preprocessor}{#ifdef IGB\_HWMON}
3231     igb\_sysfs\_exit(adapter);
3232 \textcolor{preprocessor}{#else}
3233 \textcolor{preprocessor}{#ifdef IGB\_PROCFS}
3234     igb\_procfs\_exit(adapter);
3235 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_PROCFS */}\textcolor{preprocessor}{}
3236 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IGB\_HWMON */}\textcolor{preprocessor}{}
3237     kfree(adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table});
3238     kfree(adapter->\hyperlink{structigb__adapter_aa7c8f797024e977910661594807f2c23}{shadow\_vfta});
3239     mutex\_destroy(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
3240     free\_netdev(netdev);
3241 
3242     pci\_disable\_pcie\_error\_reporting(pdev);
3243 
3244     pci\_disable\_device(pdev);
3245 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3261c3d84d5f657f567d8c097bef6647_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+request\+\_\+irq@{igb\+\_\+request\+\_\+irq}}
\index{igb\+\_\+request\+\_\+irq@{igb\+\_\+request\+\_\+irq}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+request\+\_\+irq(struct igb\+\_\+adapter $\ast$adapter)}{igb_request_irq(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+request\+\_\+irq (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a32532603496322c11a8410674629bfee}{}\label{igb__main_8c_a32532603496322c11a8410674629bfee}
igb\+\_\+request\+\_\+irq -\/ initialize interrupts

Attempts to configure interrupts using the best available capabilities of the hardware and kernel. 

igb\+\_\+main.\+c 파일의 1371 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1372 \{
1373     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
1374     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
1375     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
1376 
1377     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
1378         err = \hyperlink{igb__main_8c_a0dc0c5f3bd2c690dc5abfb60231bb60b}{igb\_request\_msix}(adapter);
1379         \textcolor{keywordflow}{if} (!err)
1380             \textcolor{keywordflow}{goto} request\_done;
1381         \textcolor{comment}{/* fall back to MSI */}
1382         \hyperlink{igb__main_8c_aa6d10edaa9111079fad81fdc394ae359}{igb\_free\_all\_tx\_resources}(adapter);
1383         \hyperlink{igb__main_8c_a0e24bf1b7ff55258688521dd9ce84e3c}{igb\_free\_all\_rx\_resources}(adapter);
1384 
1385         \hyperlink{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{igb\_clear\_interrupt\_scheme}(adapter);
1386         \hyperlink{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}{igb\_reset\_sriov\_capability}(adapter);
1387         err = \hyperlink{igb__main_8c_a207b0420ab7dfc0695679280eebb4627}{igb\_init\_interrupt\_scheme}(adapter, \textcolor{keyword}{false});
1388         \textcolor{keywordflow}{if} (err)
1389             \textcolor{keywordflow}{goto} request\_done;
1390         \hyperlink{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be}{igb\_setup\_all\_tx\_resources}(adapter);
1391         \hyperlink{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081}{igb\_setup\_all\_rx\_resources}(adapter);
1392         \hyperlink{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3}{igb\_configure}(adapter);
1393     \}
1394 
1395     \hyperlink{igb__main_8c_a10319a282e14f211bc084aa2a46a4115}{igb\_assign\_vector}(adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[0], 0);
1396 
1397     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a755dcd249d1f72f4545ffa76a6e7d9f5}{IGB\_FLAG\_HAS\_MSI}) \{
1398         err = request\_irq(pdev->irq, &\hyperlink{igb__main_8c_a2c37d808e7eba252b1e5429749a527c4}{igb\_intr\_msi}, 0,
1399                   netdev->name, adapter);
1400         \textcolor{keywordflow}{if} (!err)
1401             \textcolor{keywordflow}{goto} request\_done;
1402 
1403         \textcolor{comment}{/* fall back to legacy interrupts */}
1404         \hyperlink{igb__main_8c_a11ede628403830ab78d46b095ae73901}{igb\_reset\_interrupt\_capability}(adapter);
1405         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_a755dcd249d1f72f4545ffa76a6e7d9f5}{IGB\_FLAG\_HAS\_MSI};
1406     \}
1407 
1408     err = request\_irq(pdev->irq, &\hyperlink{igb__main_8c_a04ef60ecbaeb6e4085e275af84763dba}{igb\_intr}, IRQF\_SHARED,
1409               netdev->name, adapter);
1410 
1411     \textcolor{keywordflow}{if} (err)
1412         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Error %d getting interrupt\(\backslash\)n"},
1413             err);
1414 
1415 request\_done:
1416     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
1417 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a32532603496322c11a8410674629bfee_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a32532603496322c11a8410674629bfee_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+request\+\_\+msix@{igb\+\_\+request\+\_\+msix}}
\index{igb\+\_\+request\+\_\+msix@{igb\+\_\+request\+\_\+msix}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+request\+\_\+msix(struct igb\+\_\+adapter $\ast$adapter)}{igb_request_msix(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+request\+\_\+msix (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a0dc0c5f3bd2c690dc5abfb60231bb60b}{}\label{igb__main_8c_a0dc0c5f3bd2c690dc5abfb60231bb60b}
igb\+\_\+request\+\_\+msix -\/ Initialize M\+S\+I-\/X interrupts

igb\+\_\+request\+\_\+msix allocates M\+S\+I-\/X vectors and requests interrupts from the kernel. 

igb\+\_\+main.\+c 파일의 707 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
708 \{
709     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
710     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
711     \textcolor{keywordtype}{int} i, \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0, vector = 0, free\_vector = 0;
712 
713     err = request\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[vector].vector,
714               &\hyperlink{igb__main_8c_a68bd77ae5cd7eabc9722aeefb7acda87}{igb\_msix\_other}, 0, netdev->name, adapter);
715     \textcolor{keywordflow}{if} (err)
716         \textcolor{keywordflow}{goto} err\_out;
717 
718     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++) \{
719         \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i];
720 
721         vector++;
722 
723         q\_vector->\hyperlink{structigb__q__vector_a565de9cb041839ac468e909f96eda26b}{itr\_register} = hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} + \hyperlink{kmod_2igb_2e1000__regs_8h_ab2aa3cf720221c488b0e64548692ed0f}{E1000\_EITR}(vector);
724 
725         \textcolor{keywordflow}{if} (q\_vector->rx.ring && q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring})
726             sprintf(q\_vector->\hyperlink{structigb__q__vector_a78c8fae70f1eba3f329993b447c05a02}{name}, \textcolor{stringliteral}{"%s-TxRx-%u"}, netdev->name,
727                 q\_vector->rx.ring->queue\_index);
728         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring})
729             sprintf(q\_vector->\hyperlink{structigb__q__vector_a78c8fae70f1eba3f329993b447c05a02}{name}, \textcolor{stringliteral}{"%s-tx-%u"}, netdev->name,
730                 q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring}->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index});
731         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (q\_vector->rx.ring)
732             sprintf(q\_vector->\hyperlink{structigb__q__vector_a78c8fae70f1eba3f329993b447c05a02}{name}, \textcolor{stringliteral}{"%s-rx-%u"}, netdev->name,
733                 q\_vector->rx.ring->queue\_index);
734         \textcolor{keywordflow}{else}
735             sprintf(q\_vector->\hyperlink{structigb__q__vector_a78c8fae70f1eba3f329993b447c05a02}{name}, \textcolor{stringliteral}{"%s-unused"}, netdev->name);
736 
737         err = request\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[vector].vector,
738                   \hyperlink{igb__main_8c_ace5ba57d7d83febe6a5b503f888bbb15}{igb\_msix\_ring}, 0, q\_vector->\hyperlink{structigb__q__vector_a78c8fae70f1eba3f329993b447c05a02}{name},
739                   q\_vector);
740         \textcolor{keywordflow}{if} (err)
741             \textcolor{keywordflow}{goto} err\_free;
742     \}
743 
744     \hyperlink{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d}{igb\_configure\_msix}(adapter);
745     \textcolor{keywordflow}{return} 0;
746 
747 err\_free:
748     \textcolor{comment}{/* free already assigned IRQs */}
749     free\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[free\_vector++].vector, adapter);
750 
751     vector--;
752     \textcolor{keywordflow}{for} (i = 0; i < vector; i++) \{
753         free\_irq(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[free\_vector++].vector,
754              adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i]);
755     \}
756 err\_out:
757     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
758 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0dc0c5f3bd2c690dc5abfb60231bb60b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0dc0c5f3bd2c690dc5abfb60231bb60b_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reset@{igb\+\_\+reset}}
\index{igb\+\_\+reset@{igb\+\_\+reset}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reset(struct igb\+\_\+adapter $\ast$adapter)}{igb_reset(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+reset (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{}\label{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}


igb\+\_\+main.\+c 파일의 1967 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1968 \{
1969     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
1970     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1971     \textcolor{keyword}{struct }\hyperlink{structe1000__mac__info}{e1000\_mac\_info} *mac = &hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac};
1972     \textcolor{keyword}{struct }\hyperlink{structe1000__fc__info}{e1000\_fc\_info} *fc = &hw->\hyperlink{structe1000__hw_a7b5f8715a9588ca1c4f6fd5b087aede7}{fc};
1973     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} pba = 0, tx\_space, min\_tx\_space, min\_rx\_space, hwm;
1974 
1975     \textcolor{comment}{/* Repartition Pba for greater than 9k mtu}
1976 \textcolor{comment}{     * To take effect CTRL.RST is required.}
1977 \textcolor{comment}{     */}
1978     pba = \hyperlink{kmod_2igb_2e1000__defines_8h_adba18c497a09b717810cc9062af77a32}{E1000\_PBA\_32K};
1979 
1980     \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size} > ETH\_FRAME\_LEN + ETH\_FCS\_LEN) &&
1981         (mac->\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})) \{
1982         \textcolor{comment}{/* adjust PBA for jumbo frames */}
1983         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aee1076ed0ab84519745d035a262ccc27}{E1000\_PBA}, pba);
1984 
1985         \textcolor{comment}{/* To maintain wire speed transmits, the Tx FIFO should be}
1986 \textcolor{comment}{         * large enough to accommodate two full transmit packets,}
1987 \textcolor{comment}{         * rounded up to the next 1KB and expressed in KB.  Likewise,}
1988 \textcolor{comment}{         * the Rx FIFO should be large enough to accommodate at least}
1989 \textcolor{comment}{         * one full receive packet and is similarly rounded up and}
1990 \textcolor{comment}{         * expressed in KB.}
1991 \textcolor{comment}{         */}
1992         pba = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aee1076ed0ab84519745d035a262ccc27}{E1000\_PBA});
1993         \textcolor{comment}{/* upper 16 bits has Tx packet buffer allocation size in KB */}
1994         tx\_space = pba >> 16;
1995         \textcolor{comment}{/* lower 16 bits has Rx packet buffer allocation size in KB */}
1996         pba &= 0xffff;
1997         \textcolor{comment}{/* the tx fifo also stores 16 bytes of information about the tx}
1998 \textcolor{comment}{         * but don't include ethernet FCS because hardware appends it}
1999 \textcolor{comment}{         */}
2000         min\_tx\_space = (adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size} +
2001                 \textcolor{keyword}{sizeof}(\textcolor{keyword}{union }\hyperlink{unione1000__adv__tx__desc}{e1000\_adv\_tx\_desc}) -
2002                 ETH\_FCS\_LEN) * 2;
2003         min\_tx\_space = ALIGN(min\_tx\_space, 1024);
2004         min\_tx\_space >>= 10;
2005         \textcolor{comment}{/* software strips receive CRC, so leave room for it */}
2006         min\_rx\_space = adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size};
2007         min\_rx\_space = ALIGN(min\_rx\_space, 1024);
2008         min\_rx\_space >>= 10;
2009 
2010         \textcolor{comment}{/* If current Tx allocation is less than the min Tx FIFO size,}
2011 \textcolor{comment}{         * and the min Tx FIFO size is less than the current Rx FIFO}
2012 \textcolor{comment}{         * allocation, take space away from current Rx allocation}
2013 \textcolor{comment}{         */}
2014         \textcolor{keywordflow}{if} (tx\_space < min\_tx\_space &&
2015             ((min\_tx\_space - tx\_space) < pba)) \{
2016             pba = pba - (min\_tx\_space - tx\_space);
2017 
2018             \textcolor{comment}{/* if short on rx space, rx wins and must trump tx}
2019 \textcolor{comment}{             * adjustment}
2020 \textcolor{comment}{             */}
2021             \textcolor{keywordflow}{if} (pba < min\_rx\_space)
2022                 pba = min\_rx\_space;
2023         \}
2024         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aee1076ed0ab84519745d035a262ccc27}{E1000\_PBA}, pba);
2025     \}
2026 
2027     \textcolor{comment}{/* flow control settings */}
2028     \textcolor{comment}{/* The high water mark must be low enough to fit one full frame}
2029 \textcolor{comment}{     * (or the size used for early receive) above it in the Rx FIFO.}
2030 \textcolor{comment}{     * Set it to the lower of:}
2031 \textcolor{comment}{     * - 90% of the Rx FIFO size, or}
2032 \textcolor{comment}{     * - the full Rx FIFO size minus one full frame}
2033 \textcolor{comment}{     */}
2034     hwm = min(((pba << 10) * 9 / 10),
2035             ((pba << 10) - 2 * adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size}));
2036 
2037     fc->\hyperlink{structe1000__fc__info_a0da8b901118488909e4b20caccfc6155}{high\_water} = hwm & 0xFFFFFFF0;    \textcolor{comment}{/* 16-byte granularity */}
2038     fc->\hyperlink{structe1000__fc__info_a2c806866e5062d3e1b1b9bad770c9f28}{low\_water} = fc->\hyperlink{structe1000__fc__info_a0da8b901118488909e4b20caccfc6155}{high\_water} - 16;
2039     fc->\hyperlink{structe1000__fc__info_af321c6d9439f591c76c928285f0495db}{pause\_time} = 0xFFFF;
2040     fc->\hyperlink{structe1000__fc__info_a029854032b76190b8c61c989a8dacc5e}{send\_xon} = 1;
2041     fc->\hyperlink{structe1000__fc__info_a7ff9ae5cd1a7fb9d4f208bd840f758f0}{current\_mode} = fc->\hyperlink{structe1000__fc__info_a563a5640b5e1e50ba7f733b658f1f356}{requested\_mode};
2042 
2043     \textcolor{comment}{/* disable receive for all VFs and wait one second */}
2044     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) \{
2045         \textcolor{keywordtype}{int} i;
2046 
2047         \textcolor{comment}{/*}
2048 \textcolor{comment}{         * Clear all flags except indication that the PF has set}
2049 \textcolor{comment}{         * the VF MAC addresses administratively}
2050 \textcolor{comment}{         */}
2051         \textcolor{keywordflow}{for} (i = 0 ; i < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; i++)
2052             adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[i].\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} &= \hyperlink{kmod_2igb_2igb_8h_ac095dacf7363b04986a67ea5bd20cd08}{IGB\_VF\_FLAG\_PF\_SET\_MAC};
2053 
2054         \textcolor{comment}{/* ping all the active vfs to let them know we are going down */}
2055         \hyperlink{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a}{igb\_ping\_all\_vfs}(adapter);
2056 
2057         \textcolor{comment}{/* disable transmits and receives */}
2058         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa87ccb3cd4e6d7d69e81bef19f480391}{E1000\_VFRE}, 0);
2059         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a303260dece570549bde496a65edf02aa}{E1000\_VFTE}, 0);
2060     \}
2061 
2062     \textcolor{comment}{/* Allow time for pending master requests to run */}
2063     \hyperlink{e1000__api_8c_a38de3267a878436ea61a675473df3197}{e1000\_reset\_hw}(hw);
2064     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3774795f5bd608df3f717379ef6dc1b5}{E1000\_WUC}, 0);
2065 
2066     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET}) \{
2067         \hyperlink{e1000__api_8c_ada9bd766ba53e10a96b97f6e6e58b3a5}{e1000\_setup\_init\_funcs}(hw, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
2068         \hyperlink{kmod_2igb_2igb_8h_a04881dc4e8df3d3f14e9b7b5b25e7b8e}{igb\_check\_options}(adapter);
2069         \hyperlink{e1000__api_8c_a2c7af8f559f6885cae4576f898e5efa9}{e1000\_get\_bus\_info}(hw);
2070         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET};
2071     \}
2072     \textcolor{keywordflow}{if} (\hyperlink{e1000__api_8c_a71d4079ca62bca764f36e015da5ec57e}{e1000\_init\_hw}(hw))
2073         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Hardware Error\(\backslash\)n"});
2074 
2075     \textcolor{comment}{/*}
2076 \textcolor{comment}{     * Flow control settings reset on hardware reset, so guarantee flow}
2077 \textcolor{comment}{     * control is off when forcing speed.}
2078 \textcolor{comment}{     */}
2079     \textcolor{keywordflow}{if} (!hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a062c0e2af8df1b0f13d20b02dceae500}{autoneg})
2080         \hyperlink{e1000__api_8c_a18b21b7afb3c255c2619a6283f66b37f}{e1000\_force\_mac\_fc}(hw);
2081 
2082     \hyperlink{igb__main_8c_a6e088ede60069125e4c1420bf5932570}{igb\_init\_avb}(hw);
2083     \hyperlink{igb__main_8c_a339f8d8ebe1372d3dd0a013568ed95ad}{igb\_init\_dmac}(adapter, pba);
2084     \textcolor{comment}{/* Re-initialize the thermal sensor on i350 devices. */}
2085     \textcolor{keywordflow}{if} (mac->\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350} && hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_aa0e8a98481733fa11b6a46a53b2a3e41}{func} == 0) \{
2086         \textcolor{comment}{/*}
2087 \textcolor{comment}{         * If present, re-initialize the external thermal sensor}
2088 \textcolor{comment}{         * interface.}
2089 \textcolor{comment}{         */}
2090         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a3bc8f190a1e1a1b9e800e08506228d80}{ets})
2091             \hyperlink{e1000__82575_8c_ac56f17b7c16615e137eb054db21f9753}{e1000\_set\_i2c\_bb}(hw);
2092         \hyperlink{e1000__api_8c_a20b06f4dbe7ec41fa04636150686cb0d}{e1000\_init\_thermal\_sensor\_thresh}(hw);
2093     \}
2094 
2095     \textcolor{comment}{/*Re-establish EEE setting */}
2096     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) \{
2097         \textcolor{keywordflow}{switch} (mac->\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
2098         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
2099         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}:
2100         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}:
2101             \hyperlink{e1000__82575_8c_a46bb08696f2fadf4b6bf8f6e548c65ef}{e1000\_set\_eee\_i350}(hw, \textcolor{keyword}{true}, \textcolor{keyword}{true});
2102             \textcolor{keywordflow}{break};
2103         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
2104             \hyperlink{e1000__82575_8c_a9104807bbe98022e1e3ce4b45e8780e8}{e1000\_set\_eee\_i354}(hw, \textcolor{keyword}{true}, \textcolor{keyword}{true});
2105             \textcolor{keywordflow}{break};
2106         \textcolor{keywordflow}{default}:
2107             \textcolor{keywordflow}{break};
2108         \}
2109     \}
2110 
2111     \textcolor{keywordflow}{if} (!netif\_running(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}))
2112         \hyperlink{igb__main_8c_abb33be9cf05d8b099f34bbd03b05a99f}{igb\_power\_down\_link}(adapter);
2113 
2114     \hyperlink{igb__main_8c_ab2a4a1c9c29637b276f842858d39b99e}{igb\_update\_mng\_vlan}(adapter);
2115 
2116     \textcolor{comment}{/* Enable h/w to recognize an 802.1Q VLAN Ethernet packet */}
2117     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af18a900e371feb4ff5ae241369cb2e09}{E1000\_VET}, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_ac8285c1f85b98d2f9d737fa113475ba8}{ETHERNET\_IEEE\_VLAN\_TYPE});
2118 
2119 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
2120     \textcolor{comment}{/* Re-enable PTP, where applicable. */}
2121     igb\_ptp\_reset(adapter);
2122 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
2123 
2124     \hyperlink{e1000__api_8c_a918dac2279f47434d7c1e186f0915134}{e1000\_get\_phy\_info}(hw);
2125 
2126     adapter->\hyperlink{structigb__adapter_ac0a0e7f06e849ba5ec750468922e2cdd}{devrc}++;
2127 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reset\+\_\+interrupt\+\_\+capability@{igb\+\_\+reset\+\_\+interrupt\+\_\+capability}}
\index{igb\+\_\+reset\+\_\+interrupt\+\_\+capability@{igb\+\_\+reset\+\_\+interrupt\+\_\+capability}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reset\+\_\+interrupt\+\_\+capability(struct igb\+\_\+adapter $\ast$adapter)}{igb_reset_interrupt_capability(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+reset\+\_\+interrupt\+\_\+capability (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a11ede628403830ab78d46b095ae73901}{}\label{igb__main_8c_a11ede628403830ab78d46b095ae73901}


igb\+\_\+main.\+c 파일의 811 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
812 \{
813     \textcolor{keywordtype}{int} v\_idx = adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors};
814 
815     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
816         \hyperlink{kcompat_8h_ad93f5e92bc6faa2cd20a6d2ad0c78a61}{pci\_disable\_msix}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev});
817         kfree(adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries});
818         adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
819     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a755dcd249d1f72f4545ffa76a6e7d9f5}{IGB\_FLAG\_HAS\_MSI}) \{
820         \hyperlink{kcompat_8h_ae028865bd12af3ef54d862ac7aeebeba}{pci\_disable\_msi}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev});
821     \}
822 
823     \textcolor{keywordflow}{while} (v\_idx--)
824         \hyperlink{igb__main_8c_a48d76737c7124584f71c25615a15f36f}{igb\_reset\_q\_vector}(adapter, v\_idx);
825 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{igb__main_8c_a11ede628403830ab78d46b095ae73901_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a11ede628403830ab78d46b095ae73901_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reset\+\_\+q\+\_\+vector@{igb\+\_\+reset\+\_\+q\+\_\+vector}}
\index{igb\+\_\+reset\+\_\+q\+\_\+vector@{igb\+\_\+reset\+\_\+q\+\_\+vector}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reset\+\_\+q\+\_\+vector(struct igb\+\_\+adapter $\ast$adapter, int v\+\_\+idx)}{igb_reset_q_vector(struct igb_adapter *adapter, int v_idx)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+reset\+\_\+q\+\_\+vector (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{v\+\_\+idx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a48d76737c7124584f71c25615a15f36f}{}\label{igb__main_8c_a48d76737c7124584f71c25615a15f36f}
igb\+\_\+reset\+\_\+q\+\_\+vector -\/ Reset config for interrupt vector \+: board private structure to initialize \+: Index of vector to be reset

If N\+A\+PI is enabled it will delete any references to the N\+A\+PI struct. This is preparation for igb\+\_\+free\+\_\+q\+\_\+vector. 

igb\+\_\+main.\+c 파일의 791 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
792 \{
793     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[v\_idx];
794 
795     \textcolor{comment}{/* if we're coming from igb\_set\_interrupt\_capability, the vectors are}
796 \textcolor{comment}{     * not yet allocated}
797 \textcolor{comment}{     */}
798     \textcolor{keywordflow}{if} (!q\_vector)
799         \textcolor{keywordflow}{return};
800 
801     \textcolor{keywordflow}{if} (q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring})
802         adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a7ff435d2a0df26392bb30a9c2892c97b}{ring}->\hyperlink{structigb__ring_ae283e590c1d4204ba245b98536a7ebaa}{queue\_index}] = 
      \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
803 
804     \textcolor{keywordflow}{if} (q\_vector->rx.ring)
805         adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[q\_vector->rx.ring->queue\_index] = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
806 
807     netif\_napi\_del(&q\_vector->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi});
808 
809 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a48d76737c7124584f71c25615a15f36f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reset\+\_\+sriov\+\_\+capability@{igb\+\_\+reset\+\_\+sriov\+\_\+capability}}
\index{igb\+\_\+reset\+\_\+sriov\+\_\+capability@{igb\+\_\+reset\+\_\+sriov\+\_\+capability}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reset\+\_\+sriov\+\_\+capability(struct igb\+\_\+adapter $\ast$adapter)}{igb_reset_sriov_capability(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+reset\+\_\+sriov\+\_\+capability (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}{}\label{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}
igb\+\_\+reset\+\_\+sriov\+\_\+capability -\/ disable S\+R-\/\+I\+OV if enabled

Attempt to disable single root IO virtualization capabilites present in the kernel. 

igb\+\_\+main.\+c 파일의 949 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
950 \{
951     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
952     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
953 
954     \textcolor{comment}{/* reclaim resources allocated to VFs */}
955     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}) \{
956         \textcolor{keywordflow}{if} (!pci\_vfs\_assigned(pdev)) \{
957             \textcolor{comment}{/*}
958 \textcolor{comment}{             * disable iov and allow time for transactions to}
959 \textcolor{comment}{             * clear}
960 \textcolor{comment}{             */}
961             pci\_disable\_sriov(pdev);
962             msleep(500);
963 
964             dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"IOV Disabled\(\backslash\)n"});
965         \} \textcolor{keywordflow}{else} \{
966             dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
967                 \textcolor{stringliteral}{"IOV Not Disabled\(\backslash\)n VF(s) are assigned to guests!\(\backslash\)n"});
968         \}
969         \textcolor{comment}{/* Disable Malicious Driver Detection */}
970         \hyperlink{igb__main_8c_a1d5250b25231ad456f05035f9e2dc9e2}{igb\_disable\_mdd}(adapter);
971 
972         \textcolor{comment}{/* free vf data storage */}
973         kfree(adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data});
974         adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
975 
976         \textcolor{comment}{/* switch rings back to PF ownership */}
977         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__82575_8h_a1fb3d14d0afb4e0b36c37ab7e39717e6}{E1000\_IOVCTL},
978                 \hyperlink{kmod_2igb_2e1000__82575_8h_a4d6198f2a470fd1052ca8a069cec3efa}{E1000\_IOVCTL\_REUSE\_VFQ});
979         \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
980         msleep(100);
981     \}
982 
983     adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} = 0;
984 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reset\+\_\+task@{igb\+\_\+reset\+\_\+task}}
\index{igb\+\_\+reset\+\_\+task@{igb\+\_\+reset\+\_\+task}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reset\+\_\+task(struct work\+\_\+struct $\ast$)}{igb_reset_task(struct work_struct *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+reset\+\_\+task (
\begin{DoxyParamCaption}
\item[{struct work\+\_\+struct $\ast$}]{work}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a28cee5c8570d27a7f7ba32a9af558048}{}\label{igb__main_8c_a28cee5c8570d27a7f7ba32a9af558048}


igb\+\_\+main.\+c 파일의 5818 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5819 \{
5820     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
5821 
5822     adapter = container\_of(work, \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}, \hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
5823 
5824     \hyperlink{igb__main_8c_a63776b120e3bc874de248988b226b6e1}{igb\_reinit\_locked}(adapter);
5825 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_a28cee5c8570d27a7f7ba32a9af558048_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a28cee5c8570d27a7f7ba32a9af558048_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+restore\+\_\+vf\+\_\+multicasts@{igb\+\_\+restore\+\_\+vf\+\_\+multicasts}}
\index{igb\+\_\+restore\+\_\+vf\+\_\+multicasts@{igb\+\_\+restore\+\_\+vf\+\_\+multicasts}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+restore\+\_\+vf\+\_\+multicasts(struct igb\+\_\+adapter $\ast$adapter)}{igb_restore_vf_multicasts(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+restore\+\_\+vf\+\_\+multicasts (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ae434ea20b23ad1352db39c03ded87023}{}\label{igb__main_8c_ae434ea20b23ad1352db39c03ded87023}


igb\+\_\+main.\+c 파일의 6547 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6548 \{
6549     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6550     \textcolor{keyword}{struct }\hyperlink{structvf__data__storage}{vf\_data\_storage} *vf\_data;
6551     \textcolor{keywordtype}{int} i, j;
6552 
6553     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; i++) \{
6554         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vmolr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(i));
6555 
6556         vmolr &= ~(\hyperlink{kmod_2igb_2e1000__82575_8h_ad1ce0f11a73378b6d86f517863ecdc6f}{E1000\_VMOLR\_ROMPE} | \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME});
6557 
6558         vf\_data = &adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[i];
6559 
6560         \textcolor{keywordflow}{if} ((vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes} > 30) ||
6561             (vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} & \hyperlink{kmod_2igb_2igb_8h_a0e0a822b7cd2b4ebe8bfaa6698844214}{IGB\_VF\_FLAG\_MULTI\_PROMISC})) \{
6562             vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME};
6563         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes}) \{
6564             vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_ad1ce0f11a73378b6d86f517863ecdc6f}{E1000\_VMOLR\_ROMPE};
6565             \textcolor{keywordflow}{for} (j = 0; j < vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes}; j++)
6566                 \hyperlink{igb__main_8c_aceed335ac803389de10a31c496032f9d}{igb\_mta\_set}(adapter, vf\_data->\hyperlink{structvf__data__storage_af90ca0822ec7563ef8e81a5ae4c0dea9}{vf\_mc\_hashes}[j]);
6567         \}
6568         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(i), vmolr);
6569     \}
6570 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{igb__main_8c_ae434ea20b23ad1352db39c03ded87023_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae434ea20b23ad1352db39c03ded87023_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+restore\+\_\+vlan@{igb\+\_\+restore\+\_\+vlan}}
\index{igb\+\_\+restore\+\_\+vlan@{igb\+\_\+restore\+\_\+vlan}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+restore\+\_\+vlan(struct igb\+\_\+adapter $\ast$)}{igb_restore_vlan(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+restore\+\_\+vlan (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a3336bb1dc2862727d2feb612addf854f}{}\label{igb__main_8c_a3336bb1dc2862727d2feb612addf854f}


igb\+\_\+main.\+c 파일의 9125 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9126 \{
9127 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
9128     \hyperlink{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}{igb\_vlan\_mode}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, adapter->vlgrp);
9129 
9130     \textcolor{keywordflow}{if} (adapter->vlgrp) \{
9131         \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid;
9132 
9133         \textcolor{keywordflow}{for} (vid = 0; vid < VLAN\_N\_VID; vid++) \{
9134             \textcolor{keywordflow}{if} (!vlan\_group\_get\_device(adapter->vlgrp, vid))
9135                 \textcolor{keywordflow}{continue};
9136 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
9137             \hyperlink{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{igb\_vlan\_rx\_add\_vid}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev},
9138                         htons(\hyperlink{kcompat_8h_af72f9ea45564e2934a4a332379eb4f26}{ETH\_P\_8021Q}), vid);
9139 \textcolor{preprocessor}{#else}
9140             \hyperlink{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{igb\_vlan\_rx\_add\_vid}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, vid);
9141 \textcolor{preprocessor}{#endif}
9142         \}
9143     \}
9144 \textcolor{preprocessor}{#else}
9145     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid;
9146 
9147     \hyperlink{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}{igb\_vlan\_mode}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->features);
9148 
9149     for\_each\_set\_bit(vid, adapter->\hyperlink{structigb__adapter_acb1f06f1c2bb78264a0e21e01633e869}{active\_vlans}, VLAN\_N\_VID)
9150 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
9151         \hyperlink{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{igb\_vlan\_rx\_add\_vid}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev},
9152                     htons(\hyperlink{kcompat_8h_af72f9ea45564e2934a4a332379eb4f26}{ETH\_P\_8021Q}), vid);
9153 \textcolor{preprocessor}{#else}
9154         \hyperlink{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{igb\_vlan\_rx\_add\_vid}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, vid);
9155 \textcolor{preprocessor}{#endif}
9156 \textcolor{preprocessor}{#endif}
9157 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3336bb1dc2862727d2feb612addf854f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a3336bb1dc2862727d2feb612addf854f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+reuse\+\_\+rx\+\_\+page@{igb\+\_\+reuse\+\_\+rx\+\_\+page}}
\index{igb\+\_\+reuse\+\_\+rx\+\_\+page@{igb\+\_\+reuse\+\_\+rx\+\_\+page}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+reuse\+\_\+rx\+\_\+page(struct igb\+\_\+ring $\ast$rx\+\_\+ring, struct igb\+\_\+rx\+\_\+buffer $\ast$old\+\_\+buff)}{igb_reuse_rx_page(struct igb_ring *rx_ring, struct igb_rx_buffer *old_buff)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+reuse\+\_\+rx\+\_\+page (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring, }
\item[{struct {\bf igb\+\_\+rx\+\_\+buffer} $\ast$}]{old\+\_\+buff}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a46fc715fbcaaf9756175ca26b0117c75}{}\label{igb__main_8c_a46fc715fbcaaf9756175ca26b0117c75}
igb\+\_\+reuse\+\_\+rx\+\_\+page -\/ page flip buffer and store it back on the ring \+: rx descriptor ring to store buffers on \+: donor buffer to have page reused

Synchronizes page for reuse by the adapter 

igb\+\_\+main.\+c 파일의 7500 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7502 \{
7503     \textcolor{keyword}{struct }\hyperlink{structigb__rx__buffer}{igb\_rx\_buffer} *new\_buff;
7504     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} nta = rx\_ring->\hyperlink{structigb__ring_a0ed19f611cda670eaf9cd246fb6d6c07}{next\_to\_alloc};
7505 
7506     new\_buff = &rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info}[nta];
7507 
7508     \textcolor{comment}{/* update, and store next to alloc */}
7509     nta++;
7510     rx\_ring->\hyperlink{structigb__ring_a0ed19f611cda670eaf9cd246fb6d6c07}{next\_to\_alloc} = (nta < rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}) ? nta : 0;
7511 
7512     \textcolor{comment}{/* transfer page from old buffer to new buffer */}
7513     *new\_buff = *old\_buff;
7514 
7515     \textcolor{comment}{/* sync the buffer for use by the device */}
7516     dma\_sync\_single\_range\_for\_device(rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, old\_buff->\hyperlink{structigb__rx__buffer_a5624e64f422a13783a01fb56a8e67747}{dma},
7517                      old\_buff->\hyperlink{structigb__rx__buffer_a4dde6949f38b527769892127f2e372d2}{page\_offset},
7518                      \hyperlink{kmod_2igb_2igb_8h_a8b3398992fa7da637eacbdf1bb483dae}{IGB\_RX\_BUFSZ},
7519                      DMA\_FROM\_DEVICE);
7520 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a46fc715fbcaaf9756175ca26b0117c75_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+ring\+\_\+irq\+\_\+enable@{igb\+\_\+ring\+\_\+irq\+\_\+enable}}
\index{igb\+\_\+ring\+\_\+irq\+\_\+enable@{igb\+\_\+ring\+\_\+irq\+\_\+enable}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+ring\+\_\+irq\+\_\+enable(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector)}{igb_ring_irq_enable(struct igb_q_vector *q_vector)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+ring\+\_\+irq\+\_\+enable (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aa30dd1341fc975ff18871e743edd678d}{}\label{igb__main_8c_aa30dd1341fc975ff18871e743edd678d}


igb\+\_\+main.\+c 파일의 7210 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7211 \{
7212     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
7213     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
7214 
7215     \textcolor{keywordflow}{if} ((q\_vector->rx.ring && (adapter->\hyperlink{structigb__adapter_aebbc3c2e6199ad30f4dacdf1446543a4}{rx\_itr\_setting} & 3)) ||
7216         (!q\_vector->rx.ring && (adapter->\hyperlink{structigb__adapter_a656e1ed19f6d6550e41ef4f8c7522663}{tx\_itr\_setting} & 3))) \{
7217         \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors} == 1) && !adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data})
7218             \hyperlink{igb__main_8c_ad63fc32a3c597bd661bc55a051a7120f}{igb\_set\_itr}(q\_vector);
7219         \textcolor{keywordflow}{else}
7220             \hyperlink{igb__main_8c_a5d1e40ba6141723d6502543947f35d48}{igb\_update\_ring\_itr}(q\_vector);
7221     \}
7222 
7223     \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state})) \{
7224         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries})
7225             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a56a721f61c62b7b7153d554973632646}{E1000\_EIMS}, q\_vector->
      \hyperlink{structigb__q__vector_a49e09972bdb0c5771225bae8a7d21c53}{eims\_value});
7226         \textcolor{keywordflow}{else}
7227             \hyperlink{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{igb\_irq\_enable}(adapter);
7228     \}
7229 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa30dd1341fc975ff18871e743edd678d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa30dd1341fc975ff18871e743edd678d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+rlpml\+\_\+set@{igb\+\_\+rlpml\+\_\+set}}
\index{igb\+\_\+rlpml\+\_\+set@{igb\+\_\+rlpml\+\_\+set}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+rlpml\+\_\+set(struct igb\+\_\+adapter $\ast$adapter)}{igb_rlpml_set(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+rlpml\+\_\+set (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a0249494762b540245daf3369f16b78c3}{}\label{igb__main_8c_a0249494762b540245daf3369f16b78c3}
igb\+\_\+rlpml\+\_\+set -\/ set maximum receive packet size \+: board private structure

Configure maximum receivable packet size. 

igb\+\_\+main.\+c 파일의 3937 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3938 \{
3939     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} max\_frame\_size = adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size};
3940     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3941     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} pf\_id = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
3942 
3943     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools} && hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}) \{
3944         \textcolor{keywordtype}{int} i;
3945 
3946         \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}; i++)
3947             \hyperlink{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de}{igb\_set\_vf\_rlpml}(adapter, max\_frame\_size, pf\_id + i);
3948         \textcolor{comment}{/*}
3949 \textcolor{comment}{         * If we're in VMDQ or SR-IOV mode, then set global RLPML}
3950 \textcolor{comment}{         * to our max jumbo frame size, in case we need to enable}
3951 \textcolor{comment}{         * jumbo frames on one of the rings later.}
3952 \textcolor{comment}{         * This will not pass over-length frames into the default}
3953 \textcolor{comment}{         * queue because it's gated by the VMOLR.RLPML.}
3954 \textcolor{comment}{         */}
3955         max\_frame\_size = \hyperlink{kmod_2igb_2e1000__defines_8h_aa68b6d6d057e4a60c3b18c3e8bd70aaf}{MAX\_JUMBO\_FRAME\_SIZE};
3956     \}
3957     \textcolor{comment}{/* Set VF RLPML for the PF device. */}
3958     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
3959         \hyperlink{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de}{igb\_set\_vf\_rlpml}(adapter, max\_frame\_size, pf\_id);
3960 
3961     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae4e925fb3af27221a58fadf2c72dd109}{E1000\_RLPML}, max\_frame\_size);
3962 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=278pt]{igb__main_8c_a0249494762b540245daf3369f16b78c3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a0249494762b540245daf3369f16b78c3_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+rx\+\_\+checksum@{igb\+\_\+rx\+\_\+checksum}}
\index{igb\+\_\+rx\+\_\+checksum@{igb\+\_\+rx\+\_\+checksum}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+rx\+\_\+checksum(struct igb\+\_\+ring $\ast$ring, union e1000\+\_\+adv\+\_\+rx\+\_\+desc $\ast$rx\+\_\+desc, struct sk\+\_\+buff $\ast$skb)}{igb_rx_checksum(struct igb_ring *ring, union e1000_adv_rx_desc *rx_desc, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+rx\+\_\+checksum (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+rx\+\_\+desc} $\ast$}]{rx\+\_\+desc, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_a42b3b70a326545344ddeeea65329f6dd}{}\label{igb__main_8c_a42b3b70a326545344ddeeea65329f6dd}


igb\+\_\+main.\+c 파일의 7670 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7673 \{
7674     skb\_checksum\_none\_assert(skb);
7675 
7676     \textcolor{comment}{/* Ignore Checksum bit is set */}
7677     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__defines_8h_a25a5337cdd3b436886aa9b6c38eb7948}{E1000\_RXD\_STAT\_IXSM}))
7678         \textcolor{keywordflow}{return};
7679 
7680     \textcolor{comment}{/* Rx checksum disabled via ethtool */}
7681     \textcolor{keywordflow}{if} (!(\hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(ring)->\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & NETIF\_F\_RXCSUM))
7682         \textcolor{keywordflow}{return};
7683 
7684     \textcolor{comment}{/* TCP/UDP checksum error bit is set */}
7685     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc,
7686                  \hyperlink{kmod_2igb_2e1000__defines_8h_a5bf2d932ede60b56edc128e3012ce86a}{E1000\_RXDEXT\_STATERR\_TCPE} |
7687                  \hyperlink{kmod_2igb_2e1000__defines_8h_a1491bfa96da5b2d46388d6a1f94783b5}{E1000\_RXDEXT\_STATERR\_IPE})) \{
7688         \textcolor{comment}{/*}
7689 \textcolor{comment}{         * work around errata with sctp packets where the TCPE aka}
7690 \textcolor{comment}{         * L4E bit is set incorrectly on 64 byte (60 byte w/o crc)}
7691 \textcolor{comment}{         * packets, (aka let the stack check the crc32c)}
7692 \textcolor{comment}{         */}
7693         \textcolor{keywordflow}{if} (!((skb->len == 60) &&
7694               test\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a8242d888c3e63ef8b5b1bc16435bc46b}{IGB\_RING\_FLAG\_RX\_SCTP\_CSUM}, &ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags})))
7695             ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a62812d439bcb04e61a26b8e80895b0a6}{csum\_err}++;
7696 
7697         \textcolor{comment}{/* let the stack verify checksum errors */}
7698         \textcolor{keywordflow}{return};
7699     \}
7700     \textcolor{comment}{/* It must be a TCP or UDP packet with a valid checksum */}
7701     \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_af20fadcbb929a0255897105005e5b1b0}{igb\_test\_staterr}(rx\_desc, \hyperlink{kmod_2igb_2e1000__defines_8h_a716b2d5e560b80f4c8aab42eed31f13d}{E1000\_RXD\_STAT\_TCPCS} |
7702                       \hyperlink{kmod_2igb_2e1000__defines_8h_a3bbd0930d6577e7a7db8b333cbad37e1}{E1000\_RXD\_STAT\_UDPCS}))
7703         skb->ip\_summed = CHECKSUM\_UNNECESSARY;
7704 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{igb__main_8c_a42b3b70a326545344ddeeea65329f6dd_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a42b3b70a326545344ddeeea65329f6dd_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+select\+\_\+queue@{igb\+\_\+select\+\_\+queue}}
\index{igb\+\_\+select\+\_\+queue@{igb\+\_\+select\+\_\+queue}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+select\+\_\+queue(struct net\+\_\+device $\ast$dev, struct sk\+\_\+buff $\ast$skb, void $\ast$accel\+\_\+priv, select\+\_\+queue\+\_\+fallback\+\_\+t fallback)}{igb_select_queue(struct net_device *dev, struct sk_buff *skb, void *accel_priv, select_queue_fallback_t fallback)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf u16} igb\+\_\+select\+\_\+queue (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{dev, }
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{void $\ast$}]{accel\+\_\+priv, }
\item[{select\+\_\+queue\+\_\+fallback\+\_\+t}]{fallback}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a52d09168d25687d3acd16e4dc75f289d}{}\label{igb__main_8c_a52d09168d25687d3acd16e4dc75f289d}


igb\+\_\+main.\+c 파일의 5760 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5765 \{
5766     \textcolor{comment}{/* remap normal LAN to best effort queue[3] */}
5767     \textcolor{keywordflow}{return} 3;
5768 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+features@{igb\+\_\+set\+\_\+features}}
\index{igb\+\_\+set\+\_\+features@{igb\+\_\+set\+\_\+features}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+features(struct net\+\_\+device $\ast$netdev, netdev\+\_\+features\+\_\+t features)}{igb_set_features(struct net_device *netdev, netdev_features_t features)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+features (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{netdev\+\_\+features\+\_\+t}]{features}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4ce6bf238f666dfd594795d718bbaa5b}{}\label{igb__main_8c_a4ce6bf238f666dfd594795d718bbaa5b}


igb\+\_\+main.\+c 파일의 2152 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2154 \{
2155     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} changed = netdev->features ^ \hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features};
2156 
2157 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
2158     \textcolor{keywordflow}{if} (changed & NETIF\_F\_HW\_VLAN\_CTAG\_RX)
2159 \textcolor{preprocessor}{#else}
2160     \textcolor{keywordflow}{if} (changed & NETIF\_F\_HW\_VLAN\_RX)
2161 \textcolor{preprocessor}{#endif}
2162         \hyperlink{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}{igb\_vlan\_mode}(netdev, \hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features});
2163 
2164     \textcolor{keywordflow}{return} 0;
2165 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4ce6bf238f666dfd594795d718bbaa5b_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+fw\+\_\+version@{igb\+\_\+set\+\_\+fw\+\_\+version}}
\index{igb\+\_\+set\+\_\+fw\+\_\+version@{igb\+\_\+set\+\_\+fw\+\_\+version}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+fw\+\_\+version(struct igb\+\_\+adapter $\ast$adapter)}{igb_set_fw_version(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+fw\+\_\+version (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ac57a727efc45d28473debdf87991c31f}{}\label{igb__main_8c_ac57a727efc45d28473debdf87991c31f}
igb\+\_\+set\+\_\+fw\+\_\+version -\/ Configure version string for ethtool \+: adapter struct 

igb\+\_\+main.\+c 파일의 2508 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2509 \{
2510     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
2511     \textcolor{keyword}{struct }\hyperlink{structe1000__fw__version}{e1000\_fw\_version} fw;
2512 
2513     \hyperlink{e1000__nvm_8c_a9a73f0cae8e849fee466507a8ab1e222}{e1000\_get\_fw\_version}(hw, &fw);
2514 
2515     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
2516     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}:
2517     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}:
2518         \textcolor{keywordflow}{if} (!(\hyperlink{e1000__i210_8c_a6453a35ac95a4cfdc8ed86d70ef30f15}{e1000\_get\_flash\_presence\_i210}(hw))) \{
2519             snprintf(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version},
2520                 \textcolor{keyword}{sizeof}(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version}),
2521                 \textcolor{stringliteral}{"%2d.%2d-%d"},
2522                 fw.invm\_major, fw.invm\_minor, fw.invm\_img\_type);
2523             \textcolor{keywordflow}{break};
2524         \}
2525         \textcolor{comment}{/* fall through */}
2526     \textcolor{keywordflow}{default}:
2527         \textcolor{comment}{/* if option rom is valid, display its version too*/}
2528         \textcolor{keywordflow}{if} (fw.or\_valid) \{
2529             snprintf(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version},
2530                 \textcolor{keyword}{sizeof}(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version}),
2531                 \textcolor{stringliteral}{"%d.%d, 0x%08x, %d.%d.%d"},
2532                 fw.eep\_major, fw.eep\_minor, fw.etrack\_id,
2533                 fw.or\_major, fw.or\_build, fw.or\_patch);
2534         \textcolor{comment}{/* no option rom */}
2535         \} \textcolor{keywordflow}{else} \{
2536             \textcolor{keywordflow}{if} (fw.etrack\_id != 0X0000) \{
2537                 snprintf(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version},
2538                     \textcolor{keyword}{sizeof}(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version}),
2539                     \textcolor{stringliteral}{"%d.%d, 0x%08x"},
2540                     fw.eep\_major, fw.eep\_minor, fw.etrack\_id);
2541             \} \textcolor{keywordflow}{else} \{
2542             snprintf(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version},
2543                 \textcolor{keyword}{sizeof}(adapter->\hyperlink{structigb__adapter_a0c0348cd3d20dead23c571d91ca11a8f}{fw\_version}),
2544                 \textcolor{stringliteral}{"%d.%d.%d"},
2545                 fw.eep\_major, fw.eep\_minor, fw.eep\_build);
2546             \}
2547         \}
2548         \textcolor{keywordflow}{break};
2549     \}
2550 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ac57a727efc45d28473debdf87991c31f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ac57a727efc45d28473debdf87991c31f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+interrupt\+\_\+capability@{igb\+\_\+set\+\_\+interrupt\+\_\+capability}}
\index{igb\+\_\+set\+\_\+interrupt\+\_\+capability@{igb\+\_\+set\+\_\+interrupt\+\_\+capability}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+interrupt\+\_\+capability(struct igb\+\_\+adapter $\ast$adapter, bool msix)}{igb_set_interrupt_capability(struct igb_adapter *adapter, bool msix)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+interrupt\+\_\+capability (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf bool}}]{msix}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a43ae90888cd7d2b00b1e100564a429e1}{}\label{igb__main_8c_a43ae90888cd7d2b00b1e100564a429e1}
igb\+\_\+set\+\_\+interrupt\+\_\+capability -\/ set M\+SI or M\+S\+I-\/X if supported

Attempt to configure interrupts using the best available capabilities of the hardware and kernel. 

igb\+\_\+main.\+c 파일의 1057 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1058 \{
1059     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
1060     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
1061     \textcolor{keywordtype}{int} numvecs, i;
1062 
1063     \textcolor{keywordflow}{if} (!msix)
1064         adapter->\hyperlink{structigb__adapter_aae097d90508f127067d914fe2e92a28d}{int\_mode} = \hyperlink{kmod_2igb_2igb_8h_a8c1952f55c805f1f170aa2e37a5e73a7}{IGB\_INT\_MODE\_MSI};
1065 
1066     \textcolor{comment}{/* Number of supported queues. */}
1067     adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues} = adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues};
1068 
1069     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools} > 1)
1070         adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues} += adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools} - 1;
1071 
1072 \textcolor{preprocessor}{#ifdef HAVE\_TX\_MQ}
1073     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools})
1074         adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} = adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools};
1075     \textcolor{keywordflow}{else}
1076         adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} = adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues};
1077 \textcolor{preprocessor}{#else}
1078     adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} = max\_t(\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}, 1, adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools});
1079 \textcolor{preprocessor}{#endif}
1080 
1081     \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_aae097d90508f127067d914fe2e92a28d}{int\_mode}) \{
1082     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a9b01fa1ea805a9200899073ff8c4513f}{IGB\_INT\_MODE\_MSIX}:
1083         \textcolor{comment}{/* start with one vector for every Tx/Rx queue */}
1084         numvecs = max\_t(\textcolor{keywordtype}{int}, adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues},
1085                 adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues});
1086 
1087         \textcolor{comment}{/* if tx handler is separate make it 1 for every queue */}
1088         \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a44c08f69d884543207efdb757cd8977b}{IGB\_FLAG\_QUEUE\_PAIRS}))
1089             numvecs = adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} +
1090                 adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues};
1091 
1092         \textcolor{comment}{/* store the number of vectors reserved for queues */}
1093         adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors} = numvecs;
1094 
1095         \textcolor{comment}{/* add 1 vector for link status interrupts */}
1096         numvecs++;
1097         adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries} = kcalloc(numvecs,
1098                         \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} msix\_entry),
1099                         GFP\_KERNEL);
1100         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
1101             \textcolor{keywordflow}{for} (i = 0; i < numvecs; i++)
1102                 adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}[i].entry = i;
1103 
1104 #\textcolor{keywordflow}{if} LINUX\_VERSION\_CODE >= KERNEL\_VERSION(4,12,0)
1105             err = pci\_enable\_msix\_exact(pdev,
1106                           adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}, numvecs);
1107 \textcolor{preprocessor}{#else}
1108             err = \hyperlink{kcompat_8h_a8b51d7814c29ae26b69c94aa355a75fd}{pci\_enable\_msix}(pdev,
1109                             adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}, numvecs);
1110 \textcolor{preprocessor}{#endif}
1111             \textcolor{keywordflow}{if} (err == 0)
1112                 \textcolor{keywordflow}{break};
1113         \}
1114         \textcolor{comment}{/* MSI-X failed, so fall through and try MSI */}
1115         dev\_warn(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
1116              \textcolor{stringliteral}{"Failed to initialize MSI-X interrupts. Falling back to MSI interrupts.\(\backslash\)n"});
1117         \hyperlink{igb__main_8c_a11ede628403830ab78d46b095ae73901}{igb\_reset\_interrupt\_capability}(adapter);
1118     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a8c1952f55c805f1f170aa2e37a5e73a7}{IGB\_INT\_MODE\_MSI}:
1119         \textcolor{keywordflow}{if} (!\hyperlink{kcompat_8h_ab581ce2dceae23ae882699f1d2c62a81}{pci\_enable\_msi}(pdev))
1120             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a755dcd249d1f72f4545ffa76a6e7d9f5}{IGB\_FLAG\_HAS\_MSI};
1121         \textcolor{keywordflow}{else}
1122             dev\_warn(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
1123                 \textcolor{stringliteral}{"Failed to initialize MSI interrupts.  Falling back to legacy interrupts.\(\backslash\)n"});
1124         \textcolor{comment}{/* Fall through */}
1125     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2igb_8h_a7c0a92e57e7f0d31bab07a05764646ae}{IGB\_INT\_MODE\_LEGACY}:
1126         \textcolor{comment}{/* disable advanced features and set number of queues to 1 */}
1127         \hyperlink{igb__main_8c_a53eb4cefb2fa1253d266df9c714ee8fe}{igb\_reset\_sriov\_capability}(adapter);
1128         adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools} = 0;
1129         adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues} = 1;
1130         adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a44c08f69d884543207efdb757cd8977b}{IGB\_FLAG\_QUEUE\_PAIRS};
1131         adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues} = 1;
1132         adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues} = 1;
1133         adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors} = 1;
1134         \textcolor{comment}{/* Don't do anything; this is system default */}
1135         \textcolor{keywordflow}{break};
1136     \}
1137 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a43ae90888cd7d2b00b1e100564a429e1_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a43ae90888cd7d2b00b1e100564a429e1_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+itr@{igb\+\_\+set\+\_\+itr}}
\index{igb\+\_\+set\+\_\+itr@{igb\+\_\+set\+\_\+itr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+itr(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector)}{igb_set_itr(struct igb_q_vector *q_vector)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+itr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ad63fc32a3c597bd661bc55a051a7120f}{}\label{igb__main_8c_ad63fc32a3c597bd661bc55a051a7120f}


igb\+\_\+main.\+c 파일의 5201 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5202 \{
5203     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
5204     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} new\_itr = q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val};
5205     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} current\_itr = 0;
5206 
5207     \textcolor{comment}{/* for non-gigabit speeds, just fix the interrupt rate at 4000 */}
5208     \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed}) \{
5209     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10}:
5210     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a336e90e6c7a7d8bc7925752a13faf849}{SPEED\_100}:
5211         current\_itr = 0;
5212         new\_itr = \hyperlink{kmod_2igb_2igb_8h_a9c6ba24b05d82b75ac6496b9a35473fb}{IGB\_4K\_ITR};
5213         \textcolor{keywordflow}{goto} set\_itr\_now;
5214     \textcolor{keywordflow}{default}:
5215         \textcolor{keywordflow}{break};
5216     \}
5217 
5218     \hyperlink{igb__main_8c_a4b26bdd8e9656c8595ea05edc21999fe}{igb\_update\_itr}(q\_vector, &q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx});
5219     \hyperlink{igb__main_8c_a4b26bdd8e9656c8595ea05edc21999fe}{igb\_update\_itr}(q\_vector, &q\_vector->rx);
5220 
5221     current\_itr = max(q\_vector->rx.itr, q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_ab2e0be8050c2da59d1821499950a92d7}{itr});
5222 
5223     \textcolor{comment}{/* conservative mode (itr 3) eliminates the lowest\_latency setting */}
5224     \textcolor{keywordflow}{if} (current\_itr == \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\_latency} &&
5225         ((q\_vector->rx.ring && adapter->\hyperlink{structigb__adapter_aebbc3c2e6199ad30f4dacdf1446543a4}{rx\_itr\_setting} == 3) ||
5226          (!q\_vector->rx.ring && adapter->\hyperlink{structigb__adapter_a656e1ed19f6d6550e41ef4f8c7522663}{tx\_itr\_setting} == 3)))
5227         current\_itr = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency};
5228 
5229     \textcolor{keywordflow}{switch} (current\_itr) \{
5230     \textcolor{comment}{/* counts and packets in update\_itr are dependent on these numbers */}
5231     \textcolor{keywordflow}{case} \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\_latency}:
5232         new\_itr = \hyperlink{kmod_2igb_2igb_8h_aaf1d84952a67026717eb9c919ddf9166}{IGB\_70K\_ITR}; \textcolor{comment}{/* 70,000 ints/sec */}
5233         \textcolor{keywordflow}{break};
5234     \textcolor{keywordflow}{case} \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency}:
5235         new\_itr = \hyperlink{kmod_2igb_2igb_8h_ace13e4bb5470885e9feaa221efa342cb}{IGB\_20K\_ITR}; \textcolor{comment}{/* 20,000 ints/sec */}
5236         \textcolor{keywordflow}{break};
5237     \textcolor{keywordflow}{case} \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency}:
5238         new\_itr = \hyperlink{kmod_2igb_2igb_8h_a9c6ba24b05d82b75ac6496b9a35473fb}{IGB\_4K\_ITR};  \textcolor{comment}{/* 4,000 ints/sec */}
5239         \textcolor{keywordflow}{break};
5240     \textcolor{keywordflow}{default}:
5241         \textcolor{keywordflow}{break};
5242     \}
5243 
5244 set\_itr\_now:
5245     \textcolor{keywordflow}{if} (new\_itr != q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val}) \{
5246         \textcolor{comment}{/* this attempts to bias the interrupt rate towards Bulk}
5247 \textcolor{comment}{         * by adding intermediate steps when interrupt rate is}
5248 \textcolor{comment}{         * increasing}
5249 \textcolor{comment}{         */}
5250         new\_itr = new\_itr > q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} ?
5251                 max((new\_itr * q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val}) /
5252                     (new\_itr + (q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} >> 2)),
5253                  new\_itr) : new\_itr;
5254         \textcolor{comment}{/* Don't write the value here; it resets the adapter's}
5255 \textcolor{comment}{         * internal timer, and causes us to delay far longer than}
5256 \textcolor{comment}{         * we should between interrupts.  Instead, we write the ITR}
5257 \textcolor{comment}{         * value at the beginning of the next interrupt so the timing}
5258 \textcolor{comment}{         * ends up being correct.}
5259 \textcolor{comment}{         */}
5260         q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} = new\_itr;
5261         q\_vector->\hyperlink{structigb__q__vector_a8b09ab6906db061b3b98fe51c121631c}{set\_itr} = 1;
5262     \}
5263 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=255pt]{igb__main_8c_ad63fc32a3c597bd661bc55a051a7120f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad63fc32a3c597bd661bc55a051a7120f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+mac@{igb\+\_\+set\+\_\+mac}}
\index{igb\+\_\+set\+\_\+mac@{igb\+\_\+set\+\_\+mac}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+mac(struct net\+\_\+device $\ast$, void $\ast$)}{igb_set_mac(struct net_device *, void *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+mac (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{void $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa6ca4bd1e93b3935881ed32fa6588abc}{}\label{igb__main_8c_aa6ca4bd1e93b3935881ed32fa6588abc}
igb\+\_\+set\+\_\+mac -\/ Change the Ethernet Address of the N\+IC \+: network interface device structure {\ttfamily }\+: pointer to an address structure

Returns 0 on success, negative on failure 

igb\+\_\+main.\+c 파일의 4353 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4354 \{
4355     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
4356     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4357     \textcolor{keyword}{struct }sockaddr *addr = p;
4358 
4359     \textcolor{keywordflow}{if} (!is\_valid\_ether\_addr(addr->sa\_data))
4360         \textcolor{keywordflow}{return} -EADDRNOTAVAIL;
4361 
4362     memcpy(netdev->dev\_addr, addr->sa\_data, netdev->addr\_len);
4363     memcpy(hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}, addr->sa\_data, netdev->addr\_len);
4364 
4365     \textcolor{comment}{/* set the correct pool for the new PF MAC address in entry 0 */}
4366     \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\_rar\_set\_qsel}(adapter, hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}, 0,
4367              adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
4368 
4369     \textcolor{keywordflow}{return} 0;
4370 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{igb__main_8c_aa6ca4bd1e93b3935881ed32fa6588abc_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa6ca4bd1e93b3935881ed32fa6588abc_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+rx\+\_\+mode@{igb\+\_\+set\+\_\+rx\+\_\+mode}}
\index{igb\+\_\+set\+\_\+rx\+\_\+mode@{igb\+\_\+set\+\_\+rx\+\_\+mode}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+rx\+\_\+mode(struct net\+\_\+device $\ast$)}{igb_set_rx_mode(struct net_device *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+rx\+\_\+mode (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{}\label{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}
igb\+\_\+set\+\_\+rx\+\_\+mode -\/ Secondary Unicast, Multicast and Promiscuous mode set \+: network interface device structure

The set\+\_\+rx\+\_\+mode entry point is called whenever the unicast or multicast address lists or the network interface flags are updated. This routine is responsible for configuring the hardware for proper unicast, multicast, promiscuous mode, and all-\/multi behavior. 

igb\+\_\+main.\+c 파일의 4567 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4568 \{
4569     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
4570     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4571     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vfn = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
4572     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rctl, vmolr = 0;
4573     \textcolor{keywordtype}{int} count;
4574 
4575     \textcolor{comment}{/* Check for Promiscuous and All Multicast modes */}
4576     rctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL});
4577 
4578     \textcolor{comment}{/* clear the effected bits */}
4579     rctl &= ~(\hyperlink{kmod_2igb_2e1000__defines_8h_a9878b6984d29458d5e8823d03679275f}{E1000\_RCTL\_UPE} | \hyperlink{kmod_2igb_2e1000__defines_8h_a077d9c2113b532266b23ff46fa7f916d}{E1000\_RCTL\_MPE} | 
      \hyperlink{kmod_2igb_2e1000__defines_8h_ab7bd9a12bf6e072e3b6464f572b1a8a6}{E1000\_RCTL\_VFE});
4580 
4581     \textcolor{keywordflow}{if} (netdev->flags & IFF\_PROMISC) \{
4582         rctl |= (\hyperlink{kmod_2igb_2e1000__defines_8h_a9878b6984d29458d5e8823d03679275f}{E1000\_RCTL\_UPE} | \hyperlink{kmod_2igb_2e1000__defines_8h_a077d9c2113b532266b23ff46fa7f916d}{E1000\_RCTL\_MPE});
4583         vmolr |= (\hyperlink{kmod_2igb_2e1000__82575_8h_aad29f1ed63a582190516a20c4ddff874}{E1000\_VMOLR\_ROPE} | \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME});
4584         \textcolor{comment}{/* retain VLAN HW filtering if in VT mode */}
4585         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} || adapter->
      \hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools})
4586             rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_ab7bd9a12bf6e072e3b6464f572b1a8a6}{E1000\_RCTL\_VFE};
4587     \} \textcolor{keywordflow}{else} \{
4588         \textcolor{keywordflow}{if} (netdev->flags & IFF\_ALLMULTI) \{
4589             rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a077d9c2113b532266b23ff46fa7f916d}{E1000\_RCTL\_MPE};
4590             vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME};
4591         \} \textcolor{keywordflow}{else} \{
4592             \textcolor{comment}{/*}
4593 \textcolor{comment}{             * Write addresses to the MTA, if the attempt fails}
4594 \textcolor{comment}{             * then we should just turn on promiscuous mode so}
4595 \textcolor{comment}{             * that we can at least receive multicast traffic}
4596 \textcolor{comment}{             */}
4597             count = \hyperlink{igb__main_8c_a7ebac13f17345226b32ae850e715a63e}{igb\_write\_mc\_addr\_list}(netdev);
4598             \textcolor{keywordflow}{if} (count < 0) \{
4599                 rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a077d9c2113b532266b23ff46fa7f916d}{E1000\_RCTL\_MPE};
4600                 vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME};
4601             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (count) \{
4602                 vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_ad1ce0f11a73378b6d86f517863ecdc6f}{E1000\_VMOLR\_ROMPE};
4603             \}
4604         \}
4605 \textcolor{preprocessor}{#ifdef HAVE\_SET\_RX\_MODE}
4606         \textcolor{comment}{/*}
4607 \textcolor{comment}{         * Write addresses to available RAR registers, if there is not}
4608 \textcolor{comment}{         * sufficient space to store all the addresses then enable}
4609 \textcolor{comment}{         * unicast promiscuous mode}
4610 \textcolor{comment}{         */}
4611         count = \hyperlink{igb__main_8c_aa5e79f95c7f883a2913619a8d4e69951}{igb\_write\_uc\_addr\_list}(netdev);
4612         \textcolor{keywordflow}{if} (count < 0) \{
4613             rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a9878b6984d29458d5e8823d03679275f}{E1000\_RCTL\_UPE};
4614             vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_aad29f1ed63a582190516a20c4ddff874}{E1000\_VMOLR\_ROPE};
4615         \}
4616 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_SET\_RX\_MODE */}\textcolor{preprocessor}{}
4617         \textcolor{comment}{/* AVB specific */}
4618         \textcolor{comment}{/* rctl |= E1000\_RCTL\_VFE; Disable VLAN filtering*/}
4619     \}
4620     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL}, rctl);
4621 
4622     \textcolor{comment}{/*}
4623 \textcolor{comment}{     * In order to support SR-IOV and eventually VMDq it is necessary to set}
4624 \textcolor{comment}{     * the VMOLR to enable the appropriate modes.  Without this workaround}
4625 \textcolor{comment}{     * we will have issues with VLAN tag stripping not being done for frames}
4626 \textcolor{comment}{     * that are only arriving because we are the default pool}
4627 \textcolor{comment}{     */}
4628     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
4629         \textcolor{keywordflow}{return};
4630 
4631     vmolr |= \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn)) &
4632         ~(\hyperlink{kmod_2igb_2e1000__82575_8h_aad29f1ed63a582190516a20c4ddff874}{E1000\_VMOLR\_ROPE} | \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME} | 
      \hyperlink{kmod_2igb_2e1000__82575_8h_ad1ce0f11a73378b6d86f517863ecdc6f}{E1000\_VMOLR\_ROMPE});
4633     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn), vmolr);
4634     \hyperlink{igb__main_8c_ae434ea20b23ad1352db39c03ded87023}{igb\_restore\_vf\_multicasts}(adapter);
4635 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+spd\+\_\+dplx@{igb\+\_\+set\+\_\+spd\+\_\+dplx}}
\index{igb\+\_\+set\+\_\+spd\+\_\+dplx@{igb\+\_\+set\+\_\+spd\+\_\+dplx}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+spd\+\_\+dplx(struct igb\+\_\+adapter $\ast$adapter, u16 spddplx)}{igb_set_spd_dplx(struct igb_adapter *adapter, u16 spddplx)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+set\+\_\+spd\+\_\+dplx (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u16}}]{spddplx}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a9aa664ade8b327624724896a952eb61a}{}\label{igb__main_8c_a9aa664ade8b327624724896a952eb61a}


igb\+\_\+main.\+c 파일의 9159 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9160 \{
9161     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
9162     \textcolor{keyword}{struct }\hyperlink{structe1000__mac__info}{e1000\_mac\_info} *mac = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac};
9163 
9164     mac->\hyperlink{structe1000__mac__info_a062c0e2af8df1b0f13d20b02dceae500}{autoneg} = 0;
9165 
9166     \textcolor{comment}{/* SerDes device's does not support 10Mbps Full/duplex}
9167 \textcolor{comment}{     * and 100Mbps Half duplex}
9168 \textcolor{comment}{     */}
9169     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == 
      \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981a445c1bf4bb72fed4afbd4555ba3b01a9}{e1000\_media\_type\_internal\_serdes}) \{
9170         \textcolor{keywordflow}{switch} (spddplx) \{
9171         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10} + DUPLEX\_HALF:
9172         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10} + DUPLEX\_FULL:
9173         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a336e90e6c7a7d8bc7925752a13faf849}{SPEED\_100} + DUPLEX\_HALF:
9174             dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
9175                 \textcolor{stringliteral}{"Unsupported Speed/Duplex configuration\(\backslash\)n"});
9176             \textcolor{keywordflow}{return} -EINVAL;
9177         \textcolor{keywordflow}{default}:
9178             \textcolor{keywordflow}{break};
9179         \}
9180     \}
9181 
9182     \textcolor{keywordflow}{switch} (spddplx) \{
9183     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10} + DUPLEX\_HALF:
9184         mac->\hyperlink{structe1000__mac__info_afe7d7ee7b0b71545fecfd40ea86cfa5e}{forced\_speed\_duplex} = \hyperlink{kmod_2igb_2e1000__defines_8h_aa63e7931263212822edd6c81f16aa1e4}{ADVERTISE\_10\_HALF};
9185         \textcolor{keywordflow}{break};
9186     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10} + DUPLEX\_FULL:
9187         mac->\hyperlink{structe1000__mac__info_afe7d7ee7b0b71545fecfd40ea86cfa5e}{forced\_speed\_duplex} = \hyperlink{kmod_2igb_2e1000__defines_8h_a6f3d304f0d9135896c5c3521c06de9b7}{ADVERTISE\_10\_FULL};
9188         \textcolor{keywordflow}{break};
9189     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a336e90e6c7a7d8bc7925752a13faf849}{SPEED\_100} + DUPLEX\_HALF:
9190         mac->\hyperlink{structe1000__mac__info_afe7d7ee7b0b71545fecfd40ea86cfa5e}{forced\_speed\_duplex} = \hyperlink{kmod_2igb_2e1000__defines_8h_acf883990638579e0686ca42571639016}{ADVERTISE\_100\_HALF};
9191         \textcolor{keywordflow}{break};
9192     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a336e90e6c7a7d8bc7925752a13faf849}{SPEED\_100} + DUPLEX\_FULL:
9193         mac->\hyperlink{structe1000__mac__info_afe7d7ee7b0b71545fecfd40ea86cfa5e}{forced\_speed\_duplex} = \hyperlink{kmod_2igb_2e1000__defines_8h_ab277caf63d3b0830f61935774ea4ac88}{ADVERTISE\_100\_FULL};
9194         \textcolor{keywordflow}{break};
9195     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a4a779d35380578e71d9b3015e3441ab1}{SPEED\_1000} + DUPLEX\_FULL:
9196         mac->\hyperlink{structe1000__mac__info_a062c0e2af8df1b0f13d20b02dceae500}{autoneg} = 1;
9197         adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a88fccf5fe9b00f99f2f018d60c11501f}{autoneg\_advertised} = 
      \hyperlink{kmod_2igb_2e1000__defines_8h_ada79f661efaf1dedf49454907c32fa16}{ADVERTISE\_1000\_FULL};
9198         \textcolor{keywordflow}{break};
9199     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a4a779d35380578e71d9b3015e3441ab1}{SPEED\_1000} + DUPLEX\_HALF: \textcolor{comment}{/* not supported */}
9200     \textcolor{keywordflow}{default}:
9201         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Unsupported Speed/Duplex configuration\(\backslash\)n"});
9202         \textcolor{keywordflow}{return} -EINVAL;
9203     \}
9204 
9205     \textcolor{comment}{/* clear MDI, MDI(-X) override is only allowed when autoneg enabled */}
9206     adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a40f0303bb287bcde723a46b57efb9ca1}{mdix} = \hyperlink{kmod_2igb_2igb_8h_aaf4710f68e3819b86adad86007d24bd6}{AUTO\_ALL\_MODES};
9207 
9208     \textcolor{keywordflow}{return} 0;
9209 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a9aa664ade8b327624724896a952eb61a_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+sriov\+\_\+capability@{igb\+\_\+set\+\_\+sriov\+\_\+capability}}
\index{igb\+\_\+set\+\_\+sriov\+\_\+capability@{igb\+\_\+set\+\_\+sriov\+\_\+capability}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+sriov\+\_\+capability(struct igb\+\_\+adapter $\ast$adapter)}{igb_set_sriov_capability(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+sriov\+\_\+capability (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab149dc554c4439d38e46207e7b7832be}{}\label{igb__main_8c_ab149dc554c4439d38e46207e7b7832be}
igb\+\_\+set\+\_\+sriov\+\_\+capability -\/ setup S\+R-\/\+I\+OV if supported

Attempt to enable single root IO virtualization capabilites present in the kernel. 

igb\+\_\+main.\+c 파일의 992 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
993 \{
994     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
995     \textcolor{keywordtype}{int} old\_vfs = 0;
996     \textcolor{keywordtype}{int} i;
997 
998     old\_vfs = pci\_num\_vf(pdev);
999     \textcolor{keywordflow}{if} (old\_vfs) \{
1000         dev\_info(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
1001                 \textcolor{stringliteral}{"%d pre-allocated VFs found - override max\_vfs setting of %d\(\backslash\)n"},
1002                 old\_vfs, adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
1003         adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} = old\_vfs;
1004     \}
1005     \textcolor{comment}{/* no VFs requested, do nothing */}
1006     \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
1007         \textcolor{keywordflow}{return};
1008 
1009     \textcolor{comment}{/* allocate vf data storage */}
1010     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data} = kcalloc(adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count},
1011                    \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structvf__data__storage}{vf\_data\_storage}),
1012                    GFP\_KERNEL);
1013 
1014     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}) \{
1015         \textcolor{keywordflow}{if} (!old\_vfs) \{
1016             \textcolor{keywordflow}{if} (pci\_enable\_sriov(pdev,
1017                     adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}))
1018                 \textcolor{keywordflow}{goto} err\_out;
1019         \}
1020         \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; i++)
1021             \hyperlink{igb__main_8c_a37d2c2f4d47a83396f2157c760d74e78}{igb\_vf\_configure}(adapter, i);
1022 
1023         \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
1024         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
1025         \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
1026             \textcolor{comment}{/* Enable VM to VM loopback by default */}
1027             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_ab7920a1f5efe50ab307151aa06fa5ec5}{IGB\_FLAG\_LOOPBACK\_ENABLE};
1028             \textcolor{keywordflow}{break};
1029         \textcolor{keywordflow}{default}:
1030             \textcolor{comment}{/* Currently no other hardware supports loopback */}
1031             \textcolor{keywordflow}{break};
1032         \}
1033 
1034         \textcolor{comment}{/* DMA Coalescing is not supported in IOV mode. */}
1035         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350})
1036             adapter->\hyperlink{structigb__adapter_ac21b4c93238d5fcc3fff9702dfd9eda3}{dmac} = \hyperlink{kmod_2igb_2igb_8h_aa80bfe68136229d602cc4cddaf748770}{IGB\_DMAC\_DISABLE};
1037         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350})
1038             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA};
1039         \textcolor{keywordflow}{return};
1040 
1041     \}
1042 
1043 err\_out:
1044     kfree(adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data});
1045     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1046     adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} = 0;
1047     dev\_warn(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
1048             \textcolor{stringliteral}{"Failed to initialize SR-IOV virtualization\(\backslash\)n"});
1049 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab149dc554c4439d38e46207e7b7832be_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab149dc554c4439d38e46207e7b7832be_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+uta@{igb\+\_\+set\+\_\+uta}}
\index{igb\+\_\+set\+\_\+uta@{igb\+\_\+set\+\_\+uta}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+uta(struct igb\+\_\+adapter $\ast$adapter)}{igb_set_uta(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+uta (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ace694fb8a9c0d0b98dad1ab65663564f}{}\label{igb__main_8c_ace694fb8a9c0d0b98dad1ab65663564f}
igb\+\_\+set\+\_\+uta -\/ Set unicast filter table address \+: board private structure

The unicast table address is a register array of 32-\/bit registers. The table is meant to be used in a way similar to how the M\+TA is used however due to certain limitations in the hardware it is necessary to set all the hash bits to 1 and use the V\+M\+O\+LR R\+O\+PE bit as a promiscuous enable bit to allow vlan tag stripping when promiscuous mode is enabled 

igb\+\_\+main.\+c 파일의 7106 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
7107 \{
7108     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
7109     \textcolor{keywordtype}{int} i;
7110 
7111     \textcolor{comment}{/* The UTA table only exists on 82576 hardware and newer */}
7112     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
7113         \textcolor{keywordflow}{return};
7114 
7115     \textcolor{comment}{/* we only need to do this if VMDq is enabled */}
7116     \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools})
7117         \textcolor{keywordflow}{return};
7118 
7119     \textcolor{keywordflow}{for} (i = 0; i < hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a2a29ddf2038d437071aabfc5411c2761}{uta\_reg\_count}; i++)
7120         \hyperlink{kmod_2igb_2e1000__osdep_8h_a573888f2e2956f04a7c2429d75c74c2f}{E1000\_WRITE\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aad546a085308adb1a3310044e9afac59}{E1000\_UTA}, i, ~0);
7121 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ace694fb8a9c0d0b98dad1ab65663564f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+mac@{igb\+\_\+set\+\_\+vf\+\_\+mac}}
\index{igb\+\_\+set\+\_\+vf\+\_\+mac@{igb\+\_\+set\+\_\+vf\+\_\+mac}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+mac(struct igb\+\_\+adapter $\ast$, int, unsigned char $\ast$)}{igb_set_vf_mac(struct igb_adapter *, int, unsigned char *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+vf\+\_\+mac (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{vf, }
\item[{unsigned char $\ast$}]{mac\+\_\+addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a269d345f5dbca55abaad7350a743fd48}{}\label{igb__main_8c_a269d345f5dbca55abaad7350a743fd48}


igb\+\_\+main.\+c 파일의 9716 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9718 \{
9719     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9720     \textcolor{comment}{/* VF MAC addresses start at end of receive addresses and moves}
9721 \textcolor{comment}{     * towards the first, as a result a collision should not be possible}
9722 \textcolor{comment}{     */}
9723     \textcolor{keywordtype}{int} rar\_entry = hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count} - (\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf} + 1);
9724 
9725     memcpy(adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_af8b31ab04432231145129c4cf97564d7}{vf\_mac\_addresses}, mac\_addr, 
      \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
9726 
9727     \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\_rar\_set\_qsel}(adapter, mac\_addr, rar\_entry, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
9728 
9729     \textcolor{keywordflow}{return} 0;
9730 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=290pt]{igb__main_8c_a269d345f5dbca55abaad7350a743fd48_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a269d345f5dbca55abaad7350a743fd48_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr@{igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr}}
\index{igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr@{igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr(struct igb\+\_\+adapter $\ast$adapter, u32 $\ast$msg, int vf)}{igb_set_vf_mac_addr(struct igb_adapter *adapter, u32 *msg, int vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+vf\+\_\+mac\+\_\+addr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32} $\ast$}]{msg, }
\item[{int}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a08b0f3022564ddd668cd57fd5de5eaaf}{}\label{igb__main_8c_a08b0f3022564ddd668cd57fd5de5eaaf}


igb\+\_\+main.\+c 파일의 6959 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6960 \{
6961     \textcolor{comment}{/*}
6962 \textcolor{comment}{     * The VF MAC Address is stored in a packed array of bytes}
6963 \textcolor{comment}{     * starting at the second 32 bit word of the msg array}
6964 \textcolor{comment}{     */}
6965     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *addr = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)&\hyperlink{maap__log__linux_8c_a0c7e58a50354c4a4d6dad428d0e47029}{msg}[1];
6966     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = -1;
6967 
6968     \textcolor{keywordflow}{if} (is\_valid\_ether\_addr(addr))
6969         err = \hyperlink{igb__main_8c_a269d345f5dbca55abaad7350a743fd48}{igb\_set\_vf\_mac}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}, addr);
6970 
6971     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
6972 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a08b0f3022564ddd668cd57fd5de5eaaf_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a08b0f3022564ddd668cd57fd5de5eaaf_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+multicasts@{igb\+\_\+set\+\_\+vf\+\_\+multicasts}}
\index{igb\+\_\+set\+\_\+vf\+\_\+multicasts@{igb\+\_\+set\+\_\+vf\+\_\+multicasts}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+multicasts(struct igb\+\_\+adapter $\ast$adapter, u32 $\ast$msgbuf, u32 vf)}{igb_set_vf_multicasts(struct igb_adapter *adapter, u32 *msgbuf, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+vf\+\_\+multicasts (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32} $\ast$}]{msgbuf, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a08934799dc338ca9945f1ffbf09a1cf3}{}\label{igb__main_8c_a08934799dc338ca9945f1ffbf09a1cf3}


igb\+\_\+main.\+c 파일의 6519 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6521 \{
6522     \textcolor{keywordtype}{int} n = (\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}[0] & \hyperlink{e1000__mbx_8h_a11f0a80ece7b7066026471cb3d13e336}{E1000\_VT\_MSGINFO\_MASK}) >> 
      \hyperlink{e1000__mbx_8h_afe56c6ca3aa02b56cfbce710d6d4ee54}{E1000\_VT\_MSGINFO\_SHIFT};
6523     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} *hash\_list = (\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} *)&\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}[1];
6524     \textcolor{keyword}{struct }\hyperlink{structvf__data__storage}{vf\_data\_storage} *vf\_data = &adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[vf];
6525     \textcolor{keywordtype}{int} i;
6526 
6527     \textcolor{comment}{/* salt away the number of multicast addresses assigned}
6528 \textcolor{comment}{     * to this VF for later use to restore when the PF multi cast}
6529 \textcolor{comment}{     * list changes}
6530 \textcolor{comment}{     */}
6531     vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes} = n;
6532 
6533     \textcolor{comment}{/* only up to 30 hash values supported */}
6534     \textcolor{keywordflow}{if} (n > 30)
6535         n = 30;
6536 
6537     \textcolor{comment}{/* store the hashes for later use */}
6538     \textcolor{keywordflow}{for} (i = 0; i < n; i++)
6539         vf\_data->\hyperlink{structvf__data__storage_af90ca0822ec7563ef8e81a5ae4c0dea9}{vf\_mc\_hashes}[i] = hash\_list[i];
6540 
6541     \textcolor{comment}{/* Flush and reset the mta with the new values */}
6542     \hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\_set\_rx\_mode}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
6543 
6544     \textcolor{keywordflow}{return} 0;
6545 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a08934799dc338ca9945f1ffbf09a1cf3_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a08934799dc338ca9945f1ffbf09a1cf3_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+promisc@{igb\+\_\+set\+\_\+vf\+\_\+promisc}}
\index{igb\+\_\+set\+\_\+vf\+\_\+promisc@{igb\+\_\+set\+\_\+vf\+\_\+promisc}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+promisc(struct igb\+\_\+adapter $\ast$adapter, u32 $\ast$msgbuf, u32 vf)}{igb_set_vf_promisc(struct igb_adapter *adapter, u32 *msgbuf, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+vf\+\_\+promisc (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32} $\ast$}]{msgbuf, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a2310d0167a360b05edf4c3aa4a32484c}{}\label{igb__main_8c_a2310d0167a360b05edf4c3aa4a32484c}


igb\+\_\+main.\+c 파일의 6470 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6471 \{
6472 
6473     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6474     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vmolr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}));
6475     \textcolor{keyword}{struct }\hyperlink{structvf__data__storage}{vf\_data\_storage} *vf\_data = &adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[vf];
6476 
6477     vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} &= ~(\hyperlink{kmod_2igb_2igb_8h_aedde1f9af2e8afcf6f111c9fbadb94b1}{IGB\_VF\_FLAG\_UNI\_PROMISC} |
6478                 \hyperlink{kmod_2igb_2igb_8h_a0e0a822b7cd2b4ebe8bfaa6698844214}{IGB\_VF\_FLAG\_MULTI\_PROMISC});
6479     vmolr &= ~(\hyperlink{kmod_2igb_2e1000__82575_8h_aad29f1ed63a582190516a20c4ddff874}{E1000\_VMOLR\_ROPE} | \hyperlink{kmod_2igb_2e1000__82575_8h_ad1ce0f11a73378b6d86f517863ecdc6f}{E1000\_VMOLR\_ROMPE} | 
      \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME});
6480 
6481 \textcolor{preprocessor}{#ifdef IGB\_ENABLE\_VF\_PROMISC}
6482     \textcolor{keywordflow}{if} (*\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf} & \hyperlink{e1000__mbx_8h_a1375538e66a1a3170cddd3519c127a8d}{E1000\_VF\_SET\_PROMISC\_UNICAST}) \{
6483         vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_aad29f1ed63a582190516a20c4ddff874}{E1000\_VMOLR\_ROPE};
6484         vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} |= \hyperlink{kmod_2igb_2igb_8h_aedde1f9af2e8afcf6f111c9fbadb94b1}{IGB\_VF\_FLAG\_UNI\_PROMISC};
6485         *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf} &= ~E1000\_VF\_SET\_PROMISC\_UNICAST;
6486     \}
6487 \textcolor{preprocessor}{#endif}
6488     \textcolor{keywordflow}{if} (*\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf} & \hyperlink{e1000__mbx_8h_a7536bb26f00ea9517235499a70cb523d}{E1000\_VF\_SET\_PROMISC\_MULTICAST}) \{
6489         vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME};
6490         vf\_data->\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a0e0a822b7cd2b4ebe8bfaa6698844214}{IGB\_VF\_FLAG\_MULTI\_PROMISC};
6491         *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf} &= ~E1000\_VF\_SET\_PROMISC\_MULTICAST;
6492     \} \textcolor{keywordflow}{else} \{
6493         \textcolor{comment}{/*}
6494 \textcolor{comment}{         * if we have hashes and we are clearing a multicast promisc}
6495 \textcolor{comment}{         * flag we need to write the hashes to the MTA as this step}
6496 \textcolor{comment}{         * was previously skipped}
6497 \textcolor{comment}{         */}
6498         \textcolor{keywordflow}{if} (vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes} > 30) \{
6499             vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a8c04c0bf73ed8080866822cc787ca4e4}{E1000\_VMOLR\_MPME};
6500         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes}) \{
6501             \textcolor{keywordtype}{int} j;
6502 
6503             vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_ad1ce0f11a73378b6d86f517863ecdc6f}{E1000\_VMOLR\_ROMPE};
6504             \textcolor{keywordflow}{for} (j = 0; j < vf\_data->\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes}; j++)
6505                 \hyperlink{igb__main_8c_aceed335ac803389de10a31c496032f9d}{igb\_mta\_set}(adapter, vf\_data->\hyperlink{structvf__data__storage_af90ca0822ec7563ef8e81a5ae4c0dea9}{vf\_mc\_hashes}[j]);
6506         \}
6507     \}
6508 
6509     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vf), vmolr);
6510 
6511     \textcolor{comment}{/* there are flags left unprocessed, likely not supported */}
6512     \textcolor{keywordflow}{if} (*\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf} & \hyperlink{e1000__mbx_8h_a11f0a80ece7b7066026471cb3d13e336}{E1000\_VT\_MSGINFO\_MASK})
6513         \textcolor{keywordflow}{return} -EINVAL;
6514 
6515     \textcolor{keywordflow}{return} 0;
6516 
6517 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=287pt]{igb__main_8c_a2310d0167a360b05edf4c3aa4a32484c_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2310d0167a360b05edf4c3aa4a32484c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+rlpml@{igb\+\_\+set\+\_\+vf\+\_\+rlpml}}
\index{igb\+\_\+set\+\_\+vf\+\_\+rlpml@{igb\+\_\+set\+\_\+vf\+\_\+rlpml}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+rlpml(struct igb\+\_\+adapter $\ast$adapter, int size, int vfn)}{igb_set_vf_rlpml(struct igb_adapter *adapter, int size, int vfn)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+vf\+\_\+rlpml (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{size, }
\item[{int}]{vfn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de}{}\label{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de}


igb\+\_\+main.\+c 파일의 3900 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3902 \{
3903     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3904     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vmolr;
3905 
3906     \textcolor{comment}{/* if it isn't the PF check to see if VFs are enabled and}
3907 \textcolor{comment}{     * increase the size to support vlan tags}
3908 \textcolor{comment}{     */}
3909     \textcolor{keywordflow}{if} (vfn < adapter->vfs\_allocated\_count &&
3910         adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[vfn].\hyperlink{structvf__data__storage_aaacbf33baac1c57aa21691925b0223c2}{vlans\_enabled})
3911         \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size} += \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN};
3912 
3913 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
3914     \textcolor{keywordflow}{if} (vfn >= adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) \{
3915         \textcolor{keywordtype}{int} queue = vfn - adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
3916         \textcolor{keyword}{struct }igb\_vmdq\_adapter *vadapter;
3917 
3918         vadapter = netdev\_priv(adapter->vmdq\_netdev[queue-1]);
3919         \textcolor{keywordflow}{if} (vadapter->vlgrp)
3920             \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size} += \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN};
3921     \}
3922 \textcolor{preprocessor}{#endif}
3923     vmolr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn));
3924     vmolr &= ~\hyperlink{kmod_2igb_2e1000__82575_8h_a7ea3fa494acb72562f7d0470296652dd}{E1000\_VMOLR\_RLPML\_MASK};
3925     vmolr |= \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size} | \hyperlink{kmod_2igb_2e1000__82575_8h_aa6f0edcb7538e44266f5eb7482e39e69}{E1000\_VMOLR\_LPE};
3926     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn), vmolr);
3927 
3928     \textcolor{keywordflow}{return} 0;
3929 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a8ccf4af015aa0c219a46a5a34ed419de_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+vlan@{igb\+\_\+set\+\_\+vf\+\_\+vlan}}
\index{igb\+\_\+set\+\_\+vf\+\_\+vlan@{igb\+\_\+set\+\_\+vf\+\_\+vlan}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+vlan(struct igb\+\_\+adapter $\ast$adapter, u32 $\ast$msgbuf, u32 vf)}{igb_set_vf_vlan(struct igb_adapter *adapter, u32 *msgbuf, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+set\+\_\+vf\+\_\+vlan (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32} $\ast$}]{msgbuf, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a37518d6544f86838af70789b578a6cb2}{}\label{igb__main_8c_a37518d6544f86838af70789b578a6cb2}


igb\+\_\+main.\+c 파일의 6813 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6814 \{
6815     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6816     \textcolor{keywordtype}{int} add = (\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}[0] & \hyperlink{e1000__mbx_8h_a11f0a80ece7b7066026471cb3d13e336}{E1000\_VT\_MSGINFO\_MASK}) >> 
      \hyperlink{e1000__mbx_8h_afe56c6ca3aa02b56cfbce710d6d4ee54}{E1000\_VT\_MSGINFO\_SHIFT};
6817     \textcolor{keywordtype}{int} vid = (\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}[1] & \hyperlink{kmod_2igb_2e1000__82575_8h_afc12f20bb2b0e134b07c1b7c1108d0b0}{E1000\_VLVF\_VLANID\_MASK});
6818     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
6819 
6820     \textcolor{keywordflow}{if} (vid)
6821         \hyperlink{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{igb\_set\_vf\_vlan\_strip}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}, \textcolor{keyword}{true});
6822     \textcolor{keywordflow}{else}
6823         \hyperlink{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{igb\_set\_vf\_vlan\_strip}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}, \textcolor{keyword}{false});
6824 
6825     \textcolor{comment}{/* If in promiscuous mode we need to make sure the PF also has}
6826 \textcolor{comment}{     * the VLAN filter set.}
6827 \textcolor{comment}{     */}
6828     \textcolor{keywordflow}{if} (add && (adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->flags & IFF\_PROMISC))
6829         err = \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\_vlvf\_set}(adapter, vid, add,
6830                    adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
6831     \textcolor{keywordflow}{if} (err)
6832         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
6833 
6834     err = \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\_vlvf\_set}(adapter, vid, add, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6835 
6836     \textcolor{keywordflow}{if} (err)
6837         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
6838 
6839     \textcolor{comment}{/* Go through all the checks to see if the VLAN filter should}
6840 \textcolor{comment}{     * be wiped completely.}
6841 \textcolor{comment}{     */}
6842     \textcolor{keywordflow}{if} (!add && (adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->flags & IFF\_PROMISC)) \{
6843         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vlvf, bits;
6844 
6845         \textcolor{keywordtype}{int} regndx = \hyperlink{igb__main_8c_a65d442493be7273ba5275312e197270f}{igb\_find\_vlvf\_entry}(adapter, vid);
6846 
6847         \textcolor{keywordflow}{if} (regndx < 0)
6848             \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
6849         \textcolor{comment}{/* See if any other pools are set for this VLAN filter}
6850 \textcolor{comment}{         * entry other than the PF.}
6851 \textcolor{comment}{         */}
6852         vlvf = bits = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(regndx));
6853         bits &= 1 << (\hyperlink{kmod_2igb_2e1000__82575_8h_a5c7a5332a9e9106640dc89d2dc2df806}{E1000\_VLVF\_POOLSEL\_SHIFT} +
6854                   adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
6855         \textcolor{comment}{/* If the filter was removed then ensure PF pool bit}
6856 \textcolor{comment}{         * is cleared if the PF only added itself to the pool}
6857 \textcolor{comment}{         * because the PF is in promiscuous mode.}
6858 \textcolor{comment}{         */}
6859         \textcolor{keywordflow}{if} ((vlvf & VLAN\_VID\_MASK) == vid &&
6860 \textcolor{preprocessor}{#ifndef HAVE\_VLAN\_RX\_REGISTER}
6861             !test\_bit(vid, adapter->\hyperlink{structigb__adapter_acb1f06f1c2bb78264a0e21e01633e869}{active\_vlans}) &&
6862 \textcolor{preprocessor}{#endif}
6863             !bits)
6864             \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\_vlvf\_set}(adapter, vid, add,
6865                      adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
6866     \}
6867 
6868 \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
6869     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
6870 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a37518d6544f86838af70789b578a6cb2_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a37518d6544f86838af70789b578a6cb2_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip@{igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip}}
\index{igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip@{igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip(struct igb\+\_\+adapter $\ast$adapter, int vfn, bool enable)}{igb_set_vf_vlan_strip(struct igb_adapter *adapter, int vfn, bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+vf\+\_\+vlan\+\_\+strip (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{vfn, }
\item[{{\bf bool}}]{enable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{}\label{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}


igb\+\_\+main.\+c 파일의 3964 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3966 \{
3967     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3968     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} val;
3969     \textcolor{keywordtype}{void} \_\_iomem *reg;
3970 
3971     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
3972         \textcolor{keywordflow}{return};
3973 
3974     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350})
3975         reg = hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} + \hyperlink{kmod_2igb_2e1000__regs_8h_a72e3b0101ee46f87381973b428939725}{E1000\_DVMOLR}(vfn);
3976     \textcolor{keywordflow}{else}
3977         reg = hw->\hyperlink{structe1000__hw_a54127b9ee5d8173dc068cf8c43a0600f}{hw\_addr} + \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn);
3978 
3979     val = readl(reg);
3980     \textcolor{keywordflow}{if} (enable)
3981         val |= \hyperlink{kmod_2igb_2e1000__82575_8h_aa2e8321ceffecaa190a8ad0e26c9ba0b}{E1000\_VMOLR\_STRVLAN};
3982     \textcolor{keywordflow}{else}
3983         val &= ~(\hyperlink{kmod_2igb_2e1000__82575_8h_aa2e8321ceffecaa190a8ad0e26c9ba0b}{E1000\_VMOLR\_STRVLAN});
3984     writel(val, reg);
3985 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+set\+\_\+vmolr@{igb\+\_\+set\+\_\+vmolr}}
\index{igb\+\_\+set\+\_\+vmolr@{igb\+\_\+set\+\_\+vmolr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+set\+\_\+vmolr(struct igb\+\_\+adapter $\ast$adapter, int vfn, bool aupe)}{igb_set_vmolr(struct igb_adapter *adapter, int vfn, bool aupe)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+set\+\_\+vmolr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{vfn, }
\item[{{\bf bool}}]{aupe}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_af094899cf6e9f4dff265d1d6edb5e639}{}\label{igb__main_8c_af094899cf6e9f4dff265d1d6edb5e639}


igb\+\_\+main.\+c 파일의 3986 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3988 \{
3989     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3990     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vmolr;
3991 
3992     \textcolor{comment}{/*}
3993 \textcolor{comment}{     * This register exists only on 82576 and newer so if we are older then}
3994 \textcolor{comment}{     * we should exit and do nothing}
3995 \textcolor{comment}{     */}
3996     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
3997         \textcolor{keywordflow}{return};
3998 
3999     vmolr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn));
4000 
4001     \textcolor{keywordflow}{if} (aupe)
4002         vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a7303601258154e6e6760938089040daf}{E1000\_VMOLR\_AUPE};        \textcolor{comment}{/* Accept untagged packets */}
4003     \textcolor{keywordflow}{else}
4004         vmolr &= ~(\hyperlink{kmod_2igb_2e1000__82575_8h_a7303601258154e6e6760938089040daf}{E1000\_VMOLR\_AUPE}); \textcolor{comment}{/* Tagged packets ONLY */}
4005 
4006     \textcolor{comment}{/* clear all bits that might not be set */}
4007     vmolr &= ~\hyperlink{kmod_2igb_2e1000__82575_8h_a146f519c463e373f5d3bc11a45ef8cd1}{E1000\_VMOLR\_RSSE};
4008 
4009     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues} > 1 && vfn == adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
4010         vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a146f519c463e373f5d3bc11a45ef8cd1}{E1000\_VMOLR\_RSSE}; \textcolor{comment}{/* enable RSS */}
4011 
4012     vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_a3af82d2ac9415fdbc8d1450b8b3904ac}{E1000\_VMOLR\_BAM};       \textcolor{comment}{/* Accept broadcast */}
4013     vmolr |= \hyperlink{kmod_2igb_2e1000__82575_8h_aa6f0edcb7538e44266f5eb7482e39e69}{E1000\_VMOLR\_LPE};       \textcolor{comment}{/* Accept long packets */}
4014 
4015     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(vfn), vmolr);
4016 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af094899cf6e9f4dff265d1d6edb5e639_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources@{igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources}}
\index{igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources@{igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources(struct igb\+\_\+adapter $\ast$)}{igb_setup_all_rx_resources(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081}{}\label{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081}
igb\+\_\+setup\+\_\+all\+\_\+rx\+\_\+resources -\/ wrapper to allocate Rx resources (Descriptors) for all queues \+: board private structure

Return 0 on success, negative on failure 

igb\+\_\+main.\+c 파일의 3698 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3699 \{
3700     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
3701     \textcolor{keywordtype}{int} i, \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
3702 
3703     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++) \{
3704         err = \hyperlink{igb__main_8c_a46e1c7cbe11e26447e2ae0a0e4b97260}{igb\_setup\_rx\_resources}(adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i]);
3705         \textcolor{keywordflow}{if} (err) \{
3706             dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
3707                 \textcolor{stringliteral}{"Allocation for Rx Queue %u failed\(\backslash\)n"}, i);
3708             \textcolor{keywordflow}{for} (i--; i >= 0; i--)
3709                 \hyperlink{igb__main_8c_a720d12b2ab81f301056c531488a9812e}{igb\_free\_rx\_resources}(adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i]);
3710             \textcolor{keywordflow}{break};
3711         \}
3712     \}
3713 
3714     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3715 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a64d6cdfb428ad2c180d61a76173f7081_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources@{igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources}}
\index{igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources@{igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources(struct igb\+\_\+adapter $\ast$)}{igb_setup_all_tx_resources(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be}{}\label{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be}
igb\+\_\+setup\+\_\+all\+\_\+tx\+\_\+resources -\/ wrapper to allocate Tx resources (Descriptors) for all queues \+: board private structure

Return 0 on success, negative on failure 

igb\+\_\+main.\+c 파일의 3535 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3536 \{
3537     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
3538     \textcolor{keywordtype}{int} i, \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
3539 
3540     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; i++) \{
3541         err = \hyperlink{igb__main_8c_a4c7d1f92c1d6b281ed27c5c469c6aa14}{igb\_setup\_tx\_resources}(adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i]);
3542         \textcolor{keywordflow}{if} (err) \{
3543             dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev),
3544                 \textcolor{stringliteral}{"Allocation for Tx Queue %u failed\(\backslash\)n"}, i);
3545             \textcolor{keywordflow}{for} (i--; i >= 0; i--)
3546                 \hyperlink{igb__main_8c_ae0f5282445f7dd328294b6190d9e7835}{igb\_free\_tx\_resources}(adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i]);
3547             \textcolor{keywordflow}{break};
3548         \}
3549     \}
3550 
3551     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3552 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a6f2b264f50d8ad0066f86b203fbef8be_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+mrqc@{igb\+\_\+setup\+\_\+mrqc}}
\index{igb\+\_\+setup\+\_\+mrqc@{igb\+\_\+setup\+\_\+mrqc}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+mrqc(struct igb\+\_\+adapter $\ast$)}{igb_setup_mrqc(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+setup\+\_\+mrqc (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4728bc1a1a6cf04e7d50464297e04bd8}{}\label{igb__main_8c_a4728bc1a1a6cf04e7d50464297e04bd8}
igb\+\_\+setup\+\_\+mrqc -\/ configure the multiple receive queue control registers \+: Board private structure 

igb\+\_\+main.\+c 파일의 3721 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3722 \{
3723     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3724     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} mrqc, rxcsum;
3725     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} j, num\_rx\_queues;
3726 \textcolor{preprocessor}{#ifndef ETHTOOL\_SRXFHINDIR}
3727     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} shift = 0, shift2 = 0;
3728 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* ETHTOOL\_SRXFHINDIR */}\textcolor{preprocessor}{}
3729     \textcolor{keyword}{static} \textcolor{keyword}{const} \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rsskey[10] = \{ 0xDA565A6D, 0xC20E5B25, 0x3D256741,
3730                     0xB08FA343, 0xCB2BCAD0, 0xB4307BAE,
3731                     0xA32DCB77, 0x0CF23080, 0x3BB7426A,
3732                     0xFA01ACBE \};
3733 
3734     \textcolor{comment}{/* Fill out hash function seeds */}
3735     \textcolor{keywordflow}{for} (j = 0; j < 10; j++)
3736         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a46ec611f588c7f7631eb0f95c63812d5}{E1000\_RSSRK}(j), rsskey[j]);
3737 
3738     num\_rx\_queues = adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues};
3739 
3740 \textcolor{preprocessor}{#ifdef ETHTOOL\_SRXFHINDIR}
3741     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}) \{
3742         \textcolor{comment}{/* 82576 supports 2 RSS queues for SR-IOV */}
3743         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
3744             num\_rx\_queues = 2;
3745     \}
3746     \textcolor{keywordflow}{if} (adapter->rss\_indir\_tbl\_init != num\_rx\_queues) \{
3747         \textcolor{keywordflow}{for} (j = 0; j < IGB\_RETA\_SIZE; j++)
3748             adapter->rss\_indir\_tbl[j] =
3749                 (j * num\_rx\_queues) / IGB\_RETA\_SIZE;
3750         adapter->rss\_indir\_tbl\_init = num\_rx\_queues;
3751     \}
3752     igb\_write\_rss\_indir\_tbl(adapter);
3753 \textcolor{preprocessor}{#else}
3754     \textcolor{comment}{/* 82575 and 82576 supports 2 RSS queues for VMDq */}
3755     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
3756     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}:
3757         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}) \{
3758             shift = 2;
3759             shift2 = 6;
3760         \}
3761         shift = 6;
3762         \textcolor{keywordflow}{break};
3763     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
3764         \textcolor{comment}{/* 82576 supports 2 RSS queues for SR-IOV */}
3765         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} || adapter->
      \hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}) \{
3766             shift = 3;
3767             num\_rx\_queues = 2;
3768         \}
3769         \textcolor{keywordflow}{break};
3770     \textcolor{keywordflow}{default}:
3771         \textcolor{keywordflow}{break};
3772     \}
3773 
3774     \textcolor{comment}{/*}
3775 \textcolor{comment}{     * Populate the redirection table 4 entries at a time.  To do this}
3776 \textcolor{comment}{     * we are generating the results for n and n+2 and then interleaving}
3777 \textcolor{comment}{     * those with the results with n+1 and n+3.}
3778 \textcolor{comment}{     */}
3779     \textcolor{keywordflow}{for} (j = 0; j < 32; j++) \{
3780         \textcolor{comment}{/* first pass generates n and n+2 */}
3781         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} base = ((j * 0x00040004) + 0x00020000) * num\_rx\_queues;
3782         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reta = (base & 0x07800780) >> (7 - shift);
3783 
3784         \textcolor{comment}{/* second pass generates n+1 and n+3 */}
3785         base += 0x00010001 * num\_rx\_queues;
3786         reta |= (base & 0x07800780) << (1 + shift);
3787 
3788         \textcolor{comment}{/* generate 2nd table for 82575 based parts */}
3789         \textcolor{keywordflow}{if} (shift2)
3790             reta |= (0x01010101 * num\_rx\_queues) << shift2;
3791 
3792         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a3d8d2b90897e1f76bea7d0192a6ecf13}{E1000\_RETA}(j), reta);
3793     \}
3794 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* ETHTOOL\_SRXFHINDIR */}\textcolor{preprocessor}{}
3795 
3796     \textcolor{comment}{/*}
3797 \textcolor{comment}{     * Disable raw packet checksumming so that RSS hash is placed in}
3798 \textcolor{comment}{     * descriptor on writeback.  No need to enable TCP/UDP/IP checksum}
3799 \textcolor{comment}{     * offloads as they are enabled by default}
3800 \textcolor{comment}{     */}
3801     rxcsum = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a703c619569891b36de40dc0c4ff353f8}{E1000\_RXCSUM});
3802     rxcsum |= \hyperlink{kmod_2igb_2e1000__defines_8h_a5e768f56cb5cbd85d1debad13dea1015}{E1000\_RXCSUM\_PCSD};
3803 
3804     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
3805         \textcolor{comment}{/* Enable Receive Checksum Offload for SCTP */}
3806         rxcsum |= \hyperlink{kmod_2igb_2e1000__defines_8h_ade04a22d1ad02aaa7e907ef3efa05e56}{E1000\_RXCSUM\_CRCOFL};
3807 
3808     \textcolor{comment}{/* Don't need to set TUOFL or IPOFL, they default to 1 */}
3809     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a703c619569891b36de40dc0c4ff353f8}{E1000\_RXCSUM}, rxcsum);
3810 
3811     \textcolor{comment}{/* Generate RSS hash based on packet types, TCP/UDP}
3812 \textcolor{comment}{     * port numbers and/or IPv4/v6 src and dst addresses}
3813 \textcolor{comment}{     */}
3814     mrqc = \hyperlink{kmod_2igb_2e1000__defines_8h_a3eaf85df9fa6163b254f8e8e84e80bf5}{E1000\_MRQC\_RSS\_FIELD\_IPV4} |
3815            \hyperlink{kmod_2igb_2e1000__defines_8h_a4dca13aa3618a1f4c9f1e835fd7d6c45}{E1000\_MRQC\_RSS\_FIELD\_IPV4\_TCP} |
3816            \hyperlink{kmod_2igb_2e1000__defines_8h_adbb4fae1886c0fe047676ca24527e47d}{E1000\_MRQC\_RSS\_FIELD\_IPV6} |
3817            \hyperlink{kmod_2igb_2e1000__defines_8h_afd2e68e8a46aafbe07f2c6df59d11191}{E1000\_MRQC\_RSS\_FIELD\_IPV6\_TCP} |
3818            \hyperlink{kmod_2igb_2e1000__defines_8h_a616c36fcc26bf6bd1759a3d40c6b8ff4}{E1000\_MRQC\_RSS\_FIELD\_IPV6\_TCP\_EX};
3819 
3820     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a5a19917609649bcc7be3231eeca7a440}{IGB\_FLAG\_RSS\_FIELD\_IPV4\_UDP})
3821         mrqc |= \hyperlink{kmod_2igb_2e1000__82575_8h_ada89f7af78a1473b1ac77ed1db23b040}{E1000\_MRQC\_RSS\_FIELD\_IPV4\_UDP};
3822     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a82742132fd391b0d49a6e2b56b2ad39c}{IGB\_FLAG\_RSS\_FIELD\_IPV6\_UDP})
3823         mrqc |= \hyperlink{kmod_2igb_2e1000__82575_8h_ab89a8be3fb4acf24611723de76529676}{E1000\_MRQC\_RSS\_FIELD\_IPV6\_UDP};
3824 
3825     \textcolor{comment}{/* If VMDq is enabled then we set the appropriate mode for that, else}
3826 \textcolor{comment}{     * we default to RSS so that an RSS hash is calculated per packet even}
3827 \textcolor{comment}{     * if we are only using one queue}
3828 \textcolor{comment}{     */}
3829     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} || adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}) \{
3830         \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} > \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}) \{
3831             \textcolor{comment}{/* Set the default pool for the PF's first queue */}
3832             \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vtctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a71e381268f1e7e95de51d785240e8067}{E1000\_VT\_CTL});
3833 
3834             vtctl &= ~(\hyperlink{kmod_2igb_2e1000__82575_8h_ae082efbf6e838e6898c2d96b6233e652}{E1000\_VT\_CTL\_DEFAULT\_POOL\_MASK} |
3835                    \hyperlink{kmod_2igb_2e1000__82575_8h_a91e53e7fba8cfb50d1a09c0b6532f1fc}{E1000\_VT\_CTL\_DISABLE\_DEF\_POOL});
3836             vtctl |= adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} <<
3837                 \hyperlink{kmod_2igb_2e1000__82575_8h_a4d0d35fa37d3cecc31dc3937ab85b248}{E1000\_VT\_CTL\_DEFAULT\_POOL\_SHIFT};
3838             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a71e381268f1e7e95de51d785240e8067}{E1000\_VT\_CTL}, vtctl);
3839         \}
3840         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues} > 1)
3841             mrqc |= \hyperlink{kmod_2igb_2e1000__82575_8h_a460217e2276bb5366d33c7751fb114f2}{E1000\_MRQC\_ENABLE\_VMDQ\_RSS\_2Q};
3842         \textcolor{keywordflow}{else}
3843             mrqc |= \hyperlink{kmod_2igb_2e1000__82575_8h_af1859998ecd4d4b7d025f734bc53dab6}{E1000\_MRQC\_ENABLE\_VMDQ};
3844     \} \textcolor{keywordflow}{else} \{
3845         mrqc |= \hyperlink{kmod_2igb_2e1000__82575_8h_aac0aa6c7eade2db9710727b127329823}{E1000\_MRQC\_ENABLE\_RSS\_4Q};
3846     \}
3847     \hyperlink{igb__main_8c_a5a58dbc702a3439803e8f041d582cd47}{igb\_vmm\_control}(adapter);
3848 
3849     \textcolor{comment}{/* AVB specific use queue 3 for all non-filtered packets */}
3850 \textcolor{preprocessor}{#define E1000\_MRQC\_ENABLE\_DEF\_Q3 (3 << 3)}
3851     mrqc = \hyperlink{igb__main_8c_adcb72b96af39f3e93fdf898d5bf39496}{E1000\_MRQC\_ENABLE\_DEF\_Q3}; \textcolor{comment}{/* AVB specific */}
3852     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a05f5b1ed0a602558209f328c88411060}{E1000\_MRQC}, mrqc);
3853 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4728bc1a1a6cf04e7d50464297e04bd8_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4728bc1a1a6cf04e7d50464297e04bd8_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+queues@{igb\+\_\+setup\+\_\+queues}}
\index{igb\+\_\+setup\+\_\+queues@{igb\+\_\+setup\+\_\+queues}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+queues(struct igb\+\_\+adapter $\ast$adapter)}{igb_setup_queues(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+setup\+\_\+queues (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a006728b8753f23f4416aac863ad84cfa}{}\label{igb__main_8c_a006728b8753f23f4416aac863ad84cfa}


igb\+\_\+main.\+c 파일의 9212 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9213 \{
9214     \textcolor{keyword}{struct }net\_device *dev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
9215     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
9216 
9217     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues} == adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}) \{
9218         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac371dbd0d19f7dbef43358d84575729d}{tss\_queues}) \{
9219             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac371dbd0d19f7dbef43358d84575729d}{tss\_queues} == adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues})
9220                 \textcolor{keywordflow}{return} 0;
9221         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} ||
9222                adapter->\hyperlink{structigb__adapter_a1c0a0a414a9247a24714575a6c93f9b0}{rss\_queues} == adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}) \{
9223             \textcolor{keywordflow}{return} 0;
9224         \}
9225     \}
9226 
9227     \textcolor{comment}{/*}
9228 \textcolor{comment}{     * Hardware has to reinitialize queues and interrupts to}
9229 \textcolor{comment}{     * match the new configuration. Unfortunately, the hardware}
9230 \textcolor{comment}{     * is not flexible enough to do this dynamically.}
9231 \textcolor{comment}{     */}
9232     \textcolor{keywordflow}{if} (netif\_running(dev))
9233         \hyperlink{igb__main_8c_afca6281ecf720d86e955fd4b85d29a03}{igb\_close}(dev);
9234 
9235     \hyperlink{igb__main_8c_ab42480d2526bdc52fbfc5e38759402ae}{igb\_clear\_interrupt\_scheme}(adapter);
9236 
9237     err = \hyperlink{igb__main_8c_a207b0420ab7dfc0695679280eebb4627}{igb\_init\_interrupt\_scheme}(adapter, \textcolor{keyword}{true});
9238     \textcolor{keywordflow}{if} (err) \{
9239         dev\_close(dev);
9240         \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
9241     \}
9242 
9243     \textcolor{keywordflow}{if} (netif\_running(dev))
9244         err = \hyperlink{igb__main_8c_aaf6d66a14fc62004d1b5ec7a87de33df}{igb\_open}(dev);
9245 
9246     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
9247 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a006728b8753f23f4416aac863ad84cfa_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+rctl@{igb\+\_\+setup\+\_\+rctl}}
\index{igb\+\_\+setup\+\_\+rctl@{igb\+\_\+setup\+\_\+rctl}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+rctl(struct igb\+\_\+adapter $\ast$adapter)}{igb_setup_rctl(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+setup\+\_\+rctl (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_af7e4c5f535a1647ebb8b81ed82a38d96}{}\label{igb__main_8c_af7e4c5f535a1647ebb8b81ed82a38d96}
igb\+\_\+setup\+\_\+rctl -\/ configure the receive control registers \+: Board private structure 

igb\+\_\+main.\+c 파일의 3859 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3860 \{
3861     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3862     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rctl;
3863 
3864     rctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL});
3865 
3866     rctl &= ~(3 << \hyperlink{kmod_2igb_2e1000__defines_8h_a25c4c5d2afdae5c8c9e07c6738c34af4}{E1000\_RCTL\_MO\_SHIFT});
3867     rctl &= ~(\hyperlink{kmod_2igb_2e1000__defines_8h_a7ffb4fdf9b835c2c286c3e5d4654da65}{E1000\_RCTL\_LBM\_TCVR} | \hyperlink{kmod_2igb_2e1000__defines_8h_ada87cde7a7728e0bc2ae29af751a3486}{E1000\_RCTL\_LBM\_MAC});
3868 
3869     rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_aa97177426e645aa60186848bf1e307f9}{E1000\_RCTL\_EN} | \hyperlink{kmod_2igb_2e1000__defines_8h_a17076adde5c827e417fdfe91b18e2a3a}{E1000\_RCTL\_BAM} | 
      \hyperlink{kmod_2igb_2e1000__defines_8h_a239793aed9f1706663c437b3480be00c}{E1000\_RCTL\_RDMTS\_HALF} |
3870         (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a6be21e8f9f61aad861f4fcb95c1d037d}{mc\_filter\_type} << \hyperlink{kmod_2igb_2e1000__defines_8h_a25c4c5d2afdae5c8c9e07c6738c34af4}{E1000\_RCTL\_MO\_SHIFT});
3871 
3872     \textcolor{comment}{/*}
3873 \textcolor{comment}{     * enable stripping of CRC. It's unlikely this will break BMC}
3874 \textcolor{comment}{     * redirection as it did with e1000. Newer features require}
3875 \textcolor{comment}{     * that the HW strips the CRC.}
3876 \textcolor{comment}{     */}
3877     rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_abe9288b42d2b584db3f756725c1383e9}{E1000\_RCTL\_SECRC};
3878 
3879     \textcolor{comment}{/* disable store bad packets and clear size bits. */}
3880     rctl &= ~(\hyperlink{kmod_2igb_2e1000__defines_8h_a58fe79a2b6dad8db9fba18dd88eb37b5}{E1000\_RCTL\_SBP} | \hyperlink{kmod_2igb_2e1000__defines_8h_a87d4677cc34a73311cd1b300ea182428}{E1000\_RCTL\_SZ\_256});
3881 
3882     \textcolor{comment}{/* enable LPE to prevent packets larger than max\_frame\_size */}
3883     rctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a971c5121d62f10f50fafb91ed135319d}{E1000\_RCTL\_LPE};
3884 
3885     \textcolor{comment}{/* disable queue 0 to prevent tail write w/o re-config */}
3886     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9563ac19965d3bd0892fd15f0c3a1dbd}{E1000\_RXDCTL}(0), 0);
3887 
3888     \textcolor{comment}{/* Attention!!!  For SR-IOV PF driver operations you must enable}
3889 \textcolor{comment}{     * queue drop for all VF and PF queues to prevent head of line blocking}
3890 \textcolor{comment}{     * if an un-trusted VF does not provide descriptors to hardware.}
3891 \textcolor{comment}{     */}
3892     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) \{
3893         \textcolor{comment}{/* set all queue drop enable bits */}
3894         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a133f814c33e37f448dad74f530c3f52b}{E1000\_QDE}, \hyperlink{kmod_2igb_2e1000__82575_8h_a9a9b87fc39a1a3fb1fabf8721ffd02a3}{ALL\_QUEUES});
3895     \}
3896 
3897     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL}, rctl);
3898 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af7e4c5f535a1647ebb8b81ed82a38d96_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+rx\+\_\+resources@{igb\+\_\+setup\+\_\+rx\+\_\+resources}}
\index{igb\+\_\+setup\+\_\+rx\+\_\+resources@{igb\+\_\+setup\+\_\+rx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+rx\+\_\+resources(struct igb\+\_\+ring $\ast$rx\+\_\+ring)}{igb_setup_rx_resources(struct igb_ring *rx_ring)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+setup\+\_\+rx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{rx\+\_\+ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a46e1c7cbe11e26447e2ae0a0e4b97260}{}\label{igb__main_8c_a46e1c7cbe11e26447e2ae0a0e4b97260}
igb\+\_\+setup\+\_\+rx\+\_\+resources -\/ allocate Rx resources (Descriptors) \+: rx descriptor ring (for a specific queue) to setup

Returns 0 on success, negative on failure 

igb\+\_\+main.\+c 파일의 3655 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3656 \{
3657     \textcolor{keyword}{struct }device *dev = rx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev};
3658     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size}, desc\_len;
3659 
3660     size = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structigb__rx__buffer}{igb\_rx\_buffer}) * rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
3661     rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info} = vzalloc(size);
3662     \textcolor{keywordflow}{if} (!rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info})
3663         \textcolor{keywordflow}{goto} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3664 
3665     desc\_len = \textcolor{keyword}{sizeof}(\textcolor{keyword}{union }\hyperlink{unione1000__adv__rx__desc}{e1000\_adv\_rx\_desc});
3666 
3667     \textcolor{comment}{/* Round up to nearest 4K */}
3668     rx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size} = rx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count} * desc\_len;
3669     rx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size} = ALIGN(rx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size}, 4096);
3670 
3671     rx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc} = dma\_alloc\_coherent(dev, rx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size},
3672                        &rx\_ring->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma}, GFP\_KERNEL);
3673 
3674     \textcolor{keywordflow}{if} (!rx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc})
3675         \textcolor{keywordflow}{goto} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3676 
3677     rx\_ring->\hyperlink{structigb__ring_a0ed19f611cda670eaf9cd246fb6d6c07}{next\_to\_alloc} = 0;
3678     rx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = 0;
3679     rx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = 0;
3680 
3681     \textcolor{keywordflow}{return} 0;
3682 
3683 \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err}:
3684     vfree(rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info});
3685     rx\_ring->\hyperlink{structigb__ring_af38f66b76bb1c6753b43e578c9558e23}{rx\_buffer\_info} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
3686     dev\_err(dev,
3687         \textcolor{stringliteral}{"Unable to allocate memory for the receive descriptor ring\(\backslash\)n"});
3688     \textcolor{keywordflow}{return} -ENOMEM;
3689 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a46e1c7cbe11e26447e2ae0a0e4b97260_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+tctl@{igb\+\_\+setup\+\_\+tctl}}
\index{igb\+\_\+setup\+\_\+tctl@{igb\+\_\+setup\+\_\+tctl}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+tctl(struct igb\+\_\+adapter $\ast$adapter)}{igb_setup_tctl(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+setup\+\_\+tctl (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a4c5ad8518af9c1860fc46cafd90d52c0}{}\label{igb__main_8c_a4c5ad8518af9c1860fc46cafd90d52c0}
igb\+\_\+setup\+\_\+tctl -\/ configure the transmit control registers \+: Board private structure 

igb\+\_\+main.\+c 파일의 3558 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3559 \{
3560     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3561     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} tctl;
3562 
3563     \textcolor{comment}{/* disable queue 0 which is enabled by default on 82575 and 82576 */}
3564     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8bf12553d73f6bac2b9a7845386357df}{E1000\_TXDCTL}(0), 0);
3565 
3566     \textcolor{comment}{/* Program the Transmit Control Register */}
3567     tctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a770f7e4f66d3516462df76bb289d73a6}{E1000\_TCTL});
3568     tctl &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a7870664b76319e0b5514ff84fe266b73}{E1000\_TCTL\_CT};
3569     tctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_a4c1bb862221b24d23b9ad564c7d03101}{E1000\_TCTL\_PSP} | \hyperlink{kmod_2igb_2e1000__defines_8h_a0e34fb8c344f639f808d85a7b7234465}{E1000\_TCTL\_RTLC} |
3570         (\hyperlink{kmod_2igb_2e1000__defines_8h_a0455688a2f33318a09e4454d10d37311}{E1000\_COLLISION\_THRESHOLD} << \hyperlink{kmod_2igb_2e1000__defines_8h_aa34c772e1ceb09bd37d319bb72b3593f}{E1000\_CT\_SHIFT});
3571 
3572     \hyperlink{e1000__api_8c_a474bdef99898a55496acf6d086b916ff}{e1000\_config\_collision\_dist}(hw);
3573 
3574     \textcolor{comment}{/* Enable transmits */}
3575     tctl |= \hyperlink{kmod_2igb_2e1000__defines_8h_aaaf6ae184eda4d0dd0b29a3959d9e1c6}{E1000\_TCTL\_EN};
3576 
3577     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a770f7e4f66d3516462df76bb289d73a6}{E1000\_TCTL}, tctl);
3578 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{igb__main_8c_a4c5ad8518af9c1860fc46cafd90d52c0_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4c5ad8518af9c1860fc46cafd90d52c0_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+setup\+\_\+tx\+\_\+resources@{igb\+\_\+setup\+\_\+tx\+\_\+resources}}
\index{igb\+\_\+setup\+\_\+tx\+\_\+resources@{igb\+\_\+setup\+\_\+tx\+\_\+resources}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+setup\+\_\+tx\+\_\+resources(struct igb\+\_\+ring $\ast$tx\+\_\+ring)}{igb_setup_tx_resources(struct igb_ring *tx_ring)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+setup\+\_\+tx\+\_\+resources (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a4c7d1f92c1d6b281ed27c5c469c6aa14}{}\label{igb__main_8c_a4c7d1f92c1d6b281ed27c5c469c6aa14}
igb\+\_\+setup\+\_\+tx\+\_\+resources -\/ allocate Tx resources (Descriptors) \+: tx descriptor ring (for a specific queue) to setup

Return 0 on success, negative on failure 

igb\+\_\+main.\+c 파일의 3496 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3497 \{
3498     \textcolor{keyword}{struct }device *dev = tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev};
3499     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
3500 
3501     size = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structigb__tx__buffer}{igb\_tx\_buffer}) * tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
3502     tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info} = vzalloc(size);
3503     \textcolor{keywordflow}{if} (!tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info})
3504         \textcolor{keywordflow}{goto} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3505 
3506     \textcolor{comment}{/* round up to nearest 4K */}
3507     tx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size} = tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count} * \textcolor{keyword}{sizeof}(\textcolor{keyword}{union }\hyperlink{unione1000__adv__tx__desc}{e1000\_adv\_tx\_desc});
3508     tx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size} = ALIGN(tx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size}, 4096);
3509 
3510     tx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc} = dma\_alloc\_coherent(dev, tx\_ring->\hyperlink{structigb__ring_aac913b3a1f6ef005d66bf7a84428773e}{size},
3511                        &tx\_ring->\hyperlink{structigb__ring_a5624e64f422a13783a01fb56a8e67747}{dma}, GFP\_KERNEL);
3512 
3513     \textcolor{keywordflow}{if} (!tx\_ring->\hyperlink{structigb__ring_aabab4a57f1bca978579e5878afb257f8}{desc})
3514         \textcolor{keywordflow}{goto} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
3515 
3516     tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = 0;
3517     tx\_ring->\hyperlink{structigb__ring_a2f5b83762c03fc911cd5b870f4ac8b72}{next\_to\_clean} = 0;
3518 
3519     \textcolor{keywordflow}{return} 0;
3520 
3521 \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err}:
3522     vfree(tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info});
3523     dev\_err(dev,
3524         \textcolor{stringliteral}{"Unable to allocate memory for the transmit descriptor ring\(\backslash\)n"});
3525     \textcolor{keywordflow}{return} -ENOMEM;
3526 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4c7d1f92c1d6b281ed27c5c469c6aa14_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+shutdown@{igb\+\_\+shutdown}}
\index{igb\+\_\+shutdown@{igb\+\_\+shutdown}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+shutdown(struct pci\+\_\+dev $\ast$)}{igb_shutdown(struct pci_dev *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+shutdown (
\begin{DoxyParamCaption}
\item[{struct pci\+\_\+dev $\ast$}]{pdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a2acc534a9271321a651905441e87b311}{}\label{igb__main_8c_a2acc534a9271321a651905441e87b311}


igb\+\_\+main.\+c 파일의 9466 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9467 \{
9468     \textcolor{keywordtype}{bool} wake = \textcolor{keyword}{false};
9469 
9470     \hyperlink{igb__main_8c_a8fa474f7e09a241d235da9d33d84c188}{\_\_igb\_shutdown}(pdev, &wake, 0);
9471 
9472     \textcolor{keywordflow}{if} (system\_state == SYSTEM\_POWER\_OFF) \{
9473         pci\_wake\_from\_d3(pdev, wake);
9474         pci\_set\_power\_state(pdev, PCI\_D3hot);
9475     \}
9476 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a2acc534a9271321a651905441e87b311_cgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+spoof\+\_\+check@{igb\+\_\+spoof\+\_\+check}}
\index{igb\+\_\+spoof\+\_\+check@{igb\+\_\+spoof\+\_\+check}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+spoof\+\_\+check(struct igb\+\_\+adapter $\ast$adapter)}{igb_spoof_check(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+spoof\+\_\+check (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_af3069d38456c31b76552c10a53def1c9}{}\label{igb__main_8c_af3069d38456c31b76552c10a53def1c9}


igb\+\_\+main.\+c 파일의 4658 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4659 \{
4660     \textcolor{keywordtype}{int} j;
4661 
4662     \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr})
4663         \textcolor{keywordflow}{return};
4664 
4665     \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
4666     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
4667         \textcolor{keywordflow}{for} (j = 0; j < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; j++) \{
4668             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr} & (1 << j) ||
4669                 adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr} & (1 << (j
4670                 + \hyperlink{igb__main_8c_ad012c6ed86cdc3679970034374e5fca0}{IGB\_STAGGERED\_QUEUE\_OFFSET}))) \{
4671                 \hyperlink{kmod_2igb_2igb_8h_a272396ffe38ee0e97609adea8e1153d9}{DPRINTK}(DRV, WARNING,
4672                     \textcolor{stringliteral}{"Spoof event(s) detected on VF %d\(\backslash\)n"},
4673                     j);
4674                 adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr} &=
4675                     ~((1 << j) |
4676                       (1 << (j +
4677                       \hyperlink{igb__main_8c_ad012c6ed86cdc3679970034374e5fca0}{IGB\_STAGGERED\_QUEUE\_OFFSET})));
4678             \}
4679         \}
4680         \textcolor{keywordflow}{break};
4681     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
4682         \textcolor{keywordflow}{for} (j = 0; j < adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}; j++) \{
4683             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr} & (1 << j)) \{
4684                 \hyperlink{kmod_2igb_2igb_8h_a272396ffe38ee0e97609adea8e1153d9}{DPRINTK}(DRV, WARNING,
4685                     \textcolor{stringliteral}{"Spoof event(s) detected on VF %d\(\backslash\)n"},
4686                     j);
4687                 adapter->\hyperlink{structigb__adapter_ac18b7024db900539f8c5f4496956a511}{wvbr} &= ~(1 << j);
4688             \}
4689         \}
4690         \textcolor{keywordflow}{break};
4691     \textcolor{keywordflow}{default}:
4692         \textcolor{keywordflow}{break};
4693     \}
4694 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_af3069d38456c31b76552c10a53def1c9_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+sw\+\_\+init@{igb\+\_\+sw\+\_\+init}}
\index{igb\+\_\+sw\+\_\+init@{igb\+\_\+sw\+\_\+init}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+sw\+\_\+init(struct igb\+\_\+adapter $\ast$)}{igb_sw_init(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+sw\+\_\+init (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a7d3ee9c3cab145865842d809941f16e9}{}\label{igb__main_8c_a7d3ee9c3cab145865842d809941f16e9}
igb\+\_\+sw\+\_\+init -\/ Initialize general software structures (struct \hyperlink{structigb__adapter}{igb\+\_\+adapter}) \+: board private structure to initialize

igb\+\_\+sw\+\_\+init initializes the Adapter private data structure. Fields are initialized based on P\+CI device information and OS network device settings (M\+TU size). 

igb\+\_\+main.\+c 파일의 3255 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3256 \{
3257     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3258     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
3259     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
3260 
3261     \textcolor{comment}{/* PCI config space info */}
3262 
3263     hw->\hyperlink{structe1000__hw_a80302a87767931f95dfc264df7d0d253}{vendor\_id} = pdev->vendor;
3264     hw->\hyperlink{structe1000__hw_acba8e06f20df2e05fadf4696cfdbc552}{device\_id} = pdev->device;
3265     hw->\hyperlink{structe1000__hw_a68f96c77fc612053fdb728712c4e7591}{subsystem\_vendor\_id} = pdev->subsystem\_vendor;
3266     hw->\hyperlink{structe1000__hw_ad22f037dfd3918464c6a5baadb0775d1}{subsystem\_device\_id} = pdev->subsystem\_device;
3267 
3268     pci\_read\_config\_byte(pdev, PCI\_REVISION\_ID, &hw->\hyperlink{structe1000__hw_a32f1ac5d313951f7044fdf5bb63ee596}{revision\_id});
3269 
3270     pci\_read\_config\_word(pdev, PCI\_COMMAND, &hw->\hyperlink{structe1000__hw_a05847de68c651a09a0dda728db08fc4f}{bus}.\hyperlink{structe1000__bus__info_abb56f96e770a8e41d7f0de05f2a93a33}{pci\_cmd\_word});
3271 
3272     \textcolor{comment}{/* set default ring sizes */}
3273     adapter->\hyperlink{structigb__adapter_ade2d7a11c2efc594d1b4c64ed24813bb}{tx\_ring\_count} = \hyperlink{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}{tx\_size};
3274     printk(KERN\_INFO \textcolor{stringliteral}{"igb\_avb adapter->tx\_ring\_size %d"}, \hyperlink{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}{tx\_size});
3275     adapter->\hyperlink{structigb__adapter_a8cbee0f507afaaabb0f916510c26be42}{rx\_ring\_count} = \hyperlink{kmod_2igb_2igb_8h_ab038de43694577ee3fbd92bf7001f6d9}{IGB\_DEFAULT\_RXD};
3276 
3277     \textcolor{comment}{/* set default work limits */}
3278     adapter->\hyperlink{structigb__adapter_a38160b23e340e85491e8e4e90facc386}{tx\_work\_limit} = \hyperlink{kmod_2igb_2igb_8h_ac1a13527d8b5cd41ed97f064e773ee15}{IGB\_DEFAULT\_TX\_WORK};
3279 
3280     adapter->\hyperlink{structigb__adapter_ab2d6e66aa932631abea013f746ba81df}{max\_frame\_size} = netdev->mtu + ETH\_HLEN + ETH\_FCS\_LEN +
3281                           \hyperlink{kcompat_8h_a0a381d2534972044eccae2ab96806991}{VLAN\_HLEN};
3282 
3283     \textcolor{comment}{/* Initialize the hardware-specific values */}
3284     \textcolor{keywordflow}{if} (\hyperlink{e1000__api_8c_ada9bd766ba53e10a96b97f6e6e58b3a5}{e1000\_setup\_init\_funcs}(hw, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE})) \{
3285         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Hardware Initialization Failure\(\backslash\)n"});
3286         \textcolor{keywordflow}{return} -EIO;
3287     \}
3288 
3289     \hyperlink{kmod_2igb_2igb_8h_a04881dc4e8df3d3f14e9b7b5b25e7b8e}{igb\_check\_options}(adapter);
3290 
3291     adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table} = kzalloc(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structigb__mac__addr}{igb\_mac\_addr}) *
3292                      hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count},
3293                      GFP\_ATOMIC);
3294 
3295     \textcolor{comment}{/* Setup and initialize a copy of the hw vlan table array */}
3296     adapter->\hyperlink{structigb__adapter_aa7c8f797024e977910661594807f2c23}{shadow\_vfta} = kzalloc(\textcolor{keyword}{sizeof}(\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}) * 
      \hyperlink{kmod_2igb_2e1000__defines_8h_aadc685d42dbdd61ee0eefdcf5cf7af63}{E1000\_VFTA\_ENTRIES},
3297                     GFP\_ATOMIC);
3298 
3299     \textcolor{comment}{/* These calls may decrease the number of queues */}
3300     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210})
3301         \hyperlink{igb__main_8c_ab149dc554c4439d38e46207e7b7832be}{igb\_set\_sriov\_capability}(adapter);
3302 
3303     \textcolor{keywordflow}{if} (\hyperlink{igb__main_8c_a207b0420ab7dfc0695679280eebb4627}{igb\_init\_interrupt\_scheme}(adapter, \textcolor{keyword}{true})) \{
3304         dev\_err(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(pdev), \textcolor{stringliteral}{"Unable to allocate memory for queues\(\backslash\)n"});
3305         \textcolor{keywordflow}{return} -ENOMEM;
3306     \}
3307 
3308     \textcolor{comment}{/* Explicitly disable IRQ since the NIC can be in any state. */}
3309     \hyperlink{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}{igb\_irq\_disable}(adapter);
3310 
3311     set\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
3312     \textcolor{keywordflow}{return} 0;
3313 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{igb__main_8c_a7d3ee9c3cab145865842d809941f16e9_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7d3ee9c3cab145865842d809941f16e9_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+sync\+\_\+mac\+\_\+table@{igb\+\_\+sync\+\_\+mac\+\_\+table}}
\index{igb\+\_\+sync\+\_\+mac\+\_\+table@{igb\+\_\+sync\+\_\+mac\+\_\+table}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+sync\+\_\+mac\+\_\+table(struct igb\+\_\+adapter $\ast$adapter)}{igb_sync_mac_table(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+sync\+\_\+mac\+\_\+table (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a2cf16945bd079ae2294168c26359c461}{}\label{igb__main_8c_a2cf16945bd079ae2294168c26359c461}


igb\+\_\+main.\+c 파일의 4454 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4455 \{
4456     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4457     \textcolor{keywordtype}{int} i;
4458 
4459     \textcolor{keywordflow}{for} (i = 0; i < hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count}; i++) \{
4460         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} & \hyperlink{kmod_2igb_2igb_8h_ae8dc5681cde451c06038797b1a278125}{IGB\_MAC\_STATE\_MODIFIED})
4461             \hyperlink{igb__main_8c_a2a68bf0b5d64b95b2ccd6a16ba4193b7}{igb\_rar\_set}(adapter, i);
4462         adapter->\hyperlink{structigb__adapter_a4b3341ed630595db4fc04aed2927d2fe}{mac\_table}[i].\hyperlink{structigb__mac__addr_a070982b79bdea9f300a85500230fa22c}{state} &= ~(\hyperlink{kmod_2igb_2igb_8h_ae8dc5681cde451c06038797b1a278125}{IGB\_MAC\_STATE\_MODIFIED});
4463     \}
4464 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=287pt]{igb__main_8c_a2cf16945bd079ae2294168c26359c461_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{igb__main_8c_a2cf16945bd079ae2294168c26359c461_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tso@{igb\+\_\+tso}}
\index{igb\+\_\+tso@{igb\+\_\+tso}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tso(struct igb\+\_\+ring $\ast$tx\+\_\+ring, struct igb\+\_\+tx\+\_\+buffer $\ast$first, u8 $\ast$hdr\+\_\+len)}{igb_tso(struct igb_ring *tx_ring, struct igb_tx_buffer *first, u8 *hdr_len)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+tso (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{struct {\bf igb\+\_\+tx\+\_\+buffer} $\ast$}]{first, }
\item[{{\bf u8} $\ast$}]{hdr\+\_\+len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ad351ae5337bfaac691faf23907d91e62}{}\label{igb__main_8c_ad351ae5337bfaac691faf23907d91e62}


igb\+\_\+main.\+c 파일의 5289 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5292 \{
5293 \textcolor{preprocessor}{#ifdef NETIF\_F\_TSO}
5294     \textcolor{keyword}{struct }sk\_buff *skb = first->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb};
5295     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vlan\_macip\_lens, type\_tucmd;
5296     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} mss\_l4len\_idx, l4len;
5297 
5298     \textcolor{keywordflow}{if} (skb->ip\_summed != \hyperlink{kcompat_8h_a627906a22e9d4cb31c7674b86eb25ef3}{CHECKSUM\_PARTIAL})
5299         \textcolor{keywordflow}{return} 0;
5300 
5301     \textcolor{keywordflow}{if} (!skb\_is\_gso(skb))
5302 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* NETIF\_F\_TSO */}\textcolor{preprocessor}{}
5303         \textcolor{keywordflow}{return} 0;
5304 \textcolor{preprocessor}{#ifdef NETIF\_F\_TSO}
5305 
5306     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_a39a52ad347d15a71af4bc6399ed61a86}{skb\_header\_cloned}(skb)) \{
5307         \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = pskb\_expand\_head(skb, 0, 0, GFP\_ATOMIC);
5308 
5309         \textcolor{keywordflow}{if} (err)
5310             \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
5311     \}
5312 
5313     \textcolor{comment}{/* ADV DTYP TUCMD MKRLOC/ISCSIHEDLEN */}
5314     type\_tucmd = \hyperlink{kmod_2igb_2e1000__82575_8h_a586c5a67190a583d929fdf227d2e21bf}{E1000\_ADVTXD\_TUCMD\_L4T\_TCP};
5315 
5316     \textcolor{keywordflow}{if} (first->\hyperlink{structigb__tx__buffer_ae6852c5fea84edd47e3d3ce930c41cf1}{protocol} == htons(ETH\_P\_IP)) \{
5317         \textcolor{keyword}{struct }iphdr *iph = ip\_hdr(skb);
5318 
5319         iph->tot\_len = 0;
5320         iph->check = 0;
5321         tcp\_hdr(skb)->check = ~csum\_tcpudp\_magic(iph->saddr,
5322                              iph->daddr, 0,
5323                              IPPROTO\_TCP,
5324                              0);
5325         type\_tucmd |= \hyperlink{kmod_2igb_2e1000__82575_8h_a2c39206cf9a9f31a1a8ab070d33f5d48}{E1000\_ADVTXD\_TUCMD\_IPV4};
5326         first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} |= \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca30937f65e0d623c994a036ea2b78381e}{IGB\_TX\_FLAGS\_TSO} |
5327                    \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821cacc283d76b71e55d775855f875a689187}{IGB\_TX\_FLAGS\_CSUM} |
5328                    \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca645468f19d01109cf79993199560a7f3}{IGB\_TX\_FLAGS\_IPV4};
5329 \textcolor{preprocessor}{#ifdef NETIF\_F\_TSO6}
5330     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (skb\_is\_gso\_v6(skb)) \{
5331         ipv6\_hdr(skb)->payload\_len = 0;
5332         tcp\_hdr(skb)->check = ~csum\_ipv6\_magic(&ipv6\_hdr(skb)->saddr,
5333                                &ipv6\_hdr(skb)->daddr,
5334                                0, IPPROTO\_TCP, 0);
5335         first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} |= \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca30937f65e0d623c994a036ea2b78381e}{IGB\_TX\_FLAGS\_TSO} |
5336                    \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821cacc283d76b71e55d775855f875a689187}{IGB\_TX\_FLAGS\_CSUM};
5337 \textcolor{preprocessor}{#endif}
5338     \}
5339 
5340     \textcolor{comment}{/* compute header lengths */}
5341     l4len = tcp\_hdrlen(skb);
5342     *hdr\_len = skb\_transport\_offset(skb) + l4len;
5343 
5344     \textcolor{comment}{/* update gso size and bytecount with header size */}
5345     first->\hyperlink{structigb__tx__buffer_a6c470eb193221275df0074f1af9faa47}{gso\_segs} = skb\_shinfo(skb)->gso\_segs;
5346     first->\hyperlink{structigb__tx__buffer_a6e36fbc12221f170fbaa8134ae4e5e7c}{bytecount} += (first->\hyperlink{structigb__tx__buffer_a6c470eb193221275df0074f1af9faa47}{gso\_segs} - 1) * *hdr\_len;
5347 
5348     \textcolor{comment}{/* MSS L4LEN IDX */}
5349     mss\_l4len\_idx = l4len << \hyperlink{kmod_2igb_2e1000__82575_8h_a2ec3ca7f3aa74630153b73d7b7fcf94b}{E1000\_ADVTXD\_L4LEN\_SHIFT};
5350     mss\_l4len\_idx |= skb\_shinfo(skb)->gso\_size << \hyperlink{kmod_2igb_2e1000__82575_8h_ad652ae92b8f7f58228da7b43bf46754b}{E1000\_ADVTXD\_MSS\_SHIFT};
5351 
5352     \textcolor{comment}{/* VLAN MACLEN IPLEN */}
5353     vlan\_macip\_lens = skb\_network\_header\_len(skb);
5354     vlan\_macip\_lens |= skb\_network\_offset(skb) << \hyperlink{kmod_2igb_2e1000__82575_8h_a8c76d8ffc1d3bea7891a7f60da054be5}{E1000\_ADVTXD\_MACLEN\_SHIFT};
5355     vlan\_macip\_lens |= first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} & \hyperlink{kmod_2igb_2igb_8h_aa26a223078c531fa192873b061baa4d4}{IGB\_TX\_FLAGS\_VLAN\_MASK};
5356 
5357     \hyperlink{igb__main_8c_a1980b6c3ff2a020639f9ede7a3424bb7}{igb\_tx\_ctxtdesc}(tx\_ring, vlan\_macip\_lens, type\_tucmd, mss\_l4len\_idx);
5358 
5359     \textcolor{keywordflow}{return} 1;
5360 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/* NETIF\_F\_TSO */}\textcolor{preprocessor}{}
5361 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{igb__main_8c_ad351ae5337bfaac691faf23907d91e62_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad351ae5337bfaac691faf23907d91e62_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tsync\+\_\+interrupt@{igb\+\_\+tsync\+\_\+interrupt}}
\index{igb\+\_\+tsync\+\_\+interrupt@{igb\+\_\+tsync\+\_\+interrupt}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tsync\+\_\+interrupt(struct igb\+\_\+adapter $\ast$adapter)}{igb_tsync_interrupt(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+tsync\+\_\+interrupt (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7}{}\label{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7}


igb\+\_\+main.\+c 파일의 6122 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6123 \{
6124     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6125     \textcolor{keyword}{struct }ptp\_clock\_event event;
6126     \textcolor{keyword}{struct }timespec64 ts;
6127     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ack = 0, tsauxc, sec, nsec, tsicr = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_af93e7250ba926abf6eea5bb1a1fcac59}{E1000\_TSICR});
6128 
6129     \textcolor{keywordflow}{if} (tsicr & \hyperlink{kmod_2igb_2e1000__defines_8h_a3df697c3e2218705fcb5ec8f0a7f1b36}{TSINTR\_SYS\_WRAP}) \{
6130         \textcolor{keyword}{event}.type = PTP\_CLOCK\_PPS;
6131         \textcolor{keywordflow}{if} (adapter->ptp\_caps.pps)
6132             ptp\_clock\_event(adapter->ptp\_clock, &event);
6133         \textcolor{keywordflow}{else}
6134             dev\_err(&adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->dev, \textcolor{stringliteral}{"unexpected SYS WRAP"});
6135         ack |= \hyperlink{kmod_2igb_2e1000__defines_8h_a3df697c3e2218705fcb5ec8f0a7f1b36}{TSINTR\_SYS\_WRAP};
6136     \}
6137 
6138     \textcolor{keywordflow}{if} (tsicr & \hyperlink{kmod_2igb_2e1000__defines_8h_ae0c7fd43f7c1922364d10f0d30a5daff}{E1000\_TSICR\_TXTS}) \{
6139         \textcolor{comment}{/* retrieve hardware timestamp */}
6140         schedule\_work(&adapter->ptp\_tx\_work);
6141         ack |= \hyperlink{kmod_2igb_2e1000__defines_8h_ae0c7fd43f7c1922364d10f0d30a5daff}{E1000\_TSICR\_TXTS};
6142     \}
6143 
6144     \textcolor{keywordflow}{if} (tsicr & \hyperlink{kmod_2igb_2e1000__defines_8h_aad53fb03773159084ff1b3073ff94e10}{TSINTR\_TT0}) \{
6145         spin\_lock(&adapter->tmreg\_lock);
6146         ts = timespec64\_add(adapter->perout[0].start,
6147                     adapter->perout[0].period);
6148         \textcolor{comment}{/* u32 conversion of tv\_sec is safe until y2106 */}
6149         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5614a69a14e3570b440d8ab6bc076329}{E1000\_TRGTTIML0}, ts.tv\_nsec);
6150         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a12050567a01d18f01cc66490330830a5}{E1000\_TRGTTIMH0}, (\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})ts.tv\_sec);
6151         tsauxc = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1ee0cd85a463ac527b53571e14cb5fa1}{E1000\_TSAUXC});
6152         tsauxc |= \hyperlink{kmod_2igb_2e1000__defines_8h_a91b2e08e496657f1a61fabdefca875a1}{TSAUXC\_EN\_TT0};
6153         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1ee0cd85a463ac527b53571e14cb5fa1}{E1000\_TSAUXC}, tsauxc);
6154         adapter->perout[0].start = ts;
6155         spin\_unlock(&adapter->tmreg\_lock);
6156         ack |= \hyperlink{kmod_2igb_2e1000__defines_8h_aad53fb03773159084ff1b3073ff94e10}{TSINTR\_TT0};
6157     \}
6158 
6159     \textcolor{keywordflow}{if} (tsicr & \hyperlink{kmod_2igb_2e1000__defines_8h_aff6693408cf9aee382350e476e9247de}{TSINTR\_TT1}) \{
6160         spin\_lock(&adapter->tmreg\_lock);
6161         ts = timespec64\_add(adapter->perout[1].start,
6162                     adapter->perout[1].period);
6163         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a0051fb777ff597853dc536e862be4c43}{E1000\_TRGTTIML1}, ts.tv\_nsec);
6164         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa5dec983e2e7087ecf35ef82ca0a5797}{E1000\_TRGTTIMH1}, (\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})ts.tv\_sec);
6165         tsauxc = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1ee0cd85a463ac527b53571e14cb5fa1}{E1000\_TSAUXC});
6166         tsauxc |= \hyperlink{kmod_2igb_2e1000__defines_8h_a6070751b1728f1626807a9bcc22370b2}{TSAUXC\_EN\_TT1};
6167         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1ee0cd85a463ac527b53571e14cb5fa1}{E1000\_TSAUXC}, tsauxc);
6168         adapter->perout[1].start = ts;
6169         spin\_unlock(&adapter->tmreg\_lock);
6170         ack |= \hyperlink{kmod_2igb_2e1000__defines_8h_aff6693408cf9aee382350e476e9247de}{TSINTR\_TT1};
6171     \}
6172 
6173     \textcolor{keywordflow}{if} (tsicr & \hyperlink{kmod_2igb_2e1000__defines_8h_a0f479296b5c794afdb3f3a4338f9a861}{TSINTR\_AUTT0}) \{
6174         nsec = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aff5f56d97179c61e5b1d566cbf17f094}{E1000\_AUXSTMPL0});
6175         sec  = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a6e4766997a20894097f07dc2e23fa21c}{E1000\_AUXSTMPH0});
6176         \textcolor{keyword}{event}.type = PTP\_CLOCK\_EXTTS;
6177         \textcolor{keyword}{event}.index = 0;
6178         \textcolor{keyword}{event}.timestamp = sec * 1000000000ULL + nsec;
6179         ptp\_clock\_event(adapter->ptp\_clock, &event);
6180         ack |= \hyperlink{kmod_2igb_2e1000__defines_8h_a0f479296b5c794afdb3f3a4338f9a861}{TSINTR\_AUTT0};
6181     \}
6182 
6183     \textcolor{keywordflow}{if} (tsicr & \hyperlink{kmod_2igb_2e1000__defines_8h_a85a7953c3775213f465285a65124936d}{TSINTR\_AUTT1}) \{
6184         nsec = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa09bc08d1fe541a4ca802851a2771afc}{E1000\_AUXSTMPL1});
6185         sec  = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a857e5700eb73c4eef08ede9bed6249af}{E1000\_AUXSTMPH1});
6186         \textcolor{keyword}{event}.type = PTP\_CLOCK\_EXTTS;
6187         \textcolor{keyword}{event}.index = 1;
6188         \textcolor{keyword}{event}.timestamp = sec * 1000000000ULL + nsec;
6189         ptp\_clock\_event(adapter->ptp\_clock, &event);
6190         ack |= \hyperlink{kmod_2igb_2e1000__defines_8h_a85a7953c3775213f465285a65124936d}{TSINTR\_AUTT1};
6191     \}
6192 
6193     \textcolor{comment}{/* acknowledge the interrupts */}
6194     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af93e7250ba926abf6eea5bb1a1fcac59}{E1000\_TSICR}, ack);
6195 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_acd688cbb4342b8b590ef3db8d3e0ceb7_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+cmd\+\_\+type@{igb\+\_\+tx\+\_\+cmd\+\_\+type}}
\index{igb\+\_\+tx\+\_\+cmd\+\_\+type@{igb\+\_\+tx\+\_\+cmd\+\_\+type}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+cmd\+\_\+type(struct sk\+\_\+buff $\ast$skb, u32 tx\+\_\+flags)}{igb_tx_cmd_type(struct sk_buff *skb, u32 tx_flags)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf u32} igb\+\_\+tx\+\_\+cmd\+\_\+type (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{{\bf u32}}]{tx\+\_\+flags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a9b1045db7947d971e0dc557b00fcf738}{}\label{igb__main_8c_a9b1045db7947d971e0dc557b00fcf738}


igb\+\_\+main.\+c 파일의 5438 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5439 \{
5440     \textcolor{comment}{/* set type for advanced descriptor with frame checksum insertion */}
5441     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} cmd\_type = \hyperlink{kmod_2igb_2e1000__82575_8h_af1119c378640adccff025940beea0eb8}{E1000\_ADVTXD\_DTYP\_DATA} |
5442                \hyperlink{kmod_2igb_2e1000__82575_8h_a5c676340c307610ad3387349bdce7ee5}{E1000\_ADVTXD\_DCMD\_DEXT} |
5443                \hyperlink{kmod_2igb_2e1000__82575_8h_a9850ab08c96d0c82e399b20aea196730}{E1000\_ADVTXD\_DCMD\_IFCS};
5444 
5445     \textcolor{comment}{/* set HW vlan bit if vlan is present */}
5446     cmd\_type |= \hyperlink{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{IGB\_SET\_FLAG}(tx\_flags, \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca24dc911a1a7d7bc1185983228a876ca4}{IGB\_TX\_FLAGS\_VLAN},
5447                  (\hyperlink{kmod_2igb_2e1000__82575_8h_aa17e0b0caf71e28fb165fa5547a7a7cc}{E1000\_ADVTXD\_DCMD\_VLE}));
5448 
5449     \textcolor{comment}{/* set segmentation bits for TSO */}
5450     cmd\_type |= \hyperlink{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{IGB\_SET\_FLAG}(tx\_flags, \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca30937f65e0d623c994a036ea2b78381e}{IGB\_TX\_FLAGS\_TSO},
5451                  (\hyperlink{kmod_2igb_2e1000__82575_8h_abde958eecbd3ea4d68909b2ceb0ad0b7}{E1000\_ADVTXD\_DCMD\_TSE}));
5452 
5453     \textcolor{comment}{/* set timestamp bit if present */}
5454     cmd\_type |= \hyperlink{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{IGB\_SET\_FLAG}(tx\_flags, \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca71478ed676d09ddaac5b7c7ab55dee71}{IGB\_TX\_FLAGS\_TSTAMP},
5455                  (\hyperlink{kmod_2igb_2e1000__82575_8h_a8e82dd124ea3a22e32a5cc27265987b3}{E1000\_ADVTXD\_MAC\_TSTAMP}));
5456 
5457     \textcolor{keywordflow}{return} cmd\_type;
5458 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a9b1045db7947d971e0dc557b00fcf738_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+csum@{igb\+\_\+tx\+\_\+csum}}
\index{igb\+\_\+tx\+\_\+csum@{igb\+\_\+tx\+\_\+csum}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+csum(struct igb\+\_\+ring $\ast$tx\+\_\+ring, struct igb\+\_\+tx\+\_\+buffer $\ast$first)}{igb_tx_csum(struct igb_ring *tx_ring, struct igb_tx_buffer *first)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+tx\+\_\+csum (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{struct {\bf igb\+\_\+tx\+\_\+buffer} $\ast$}]{first}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4899351d862c42a504fd3e4e9dc26319}{}\label{igb__main_8c_a4899351d862c42a504fd3e4e9dc26319}


igb\+\_\+main.\+c 파일의 5363 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5364 \{
5365     \textcolor{keyword}{struct }sk\_buff *skb = first->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb};
5366     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vlan\_macip\_lens = 0;
5367     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} mss\_l4len\_idx = 0;
5368     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} type\_tucmd = 0;
5369 
5370     \textcolor{keywordflow}{if} (skb->ip\_summed != \hyperlink{kcompat_8h_a627906a22e9d4cb31c7674b86eb25ef3}{CHECKSUM\_PARTIAL}) \{
5371         \textcolor{keywordflow}{if} (!(first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} & \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca24dc911a1a7d7bc1185983228a876ca4}{IGB\_TX\_FLAGS\_VLAN}))
5372             \textcolor{keywordflow}{return};
5373     \} \textcolor{keywordflow}{else} \{
5374         \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} nexthdr = 0;
5375 
5376         \textcolor{keywordflow}{switch} (first->\hyperlink{structigb__tx__buffer_ae6852c5fea84edd47e3d3ce930c41cf1}{protocol}) \{
5377         \textcolor{keywordflow}{case} \_\_constant\_htons(ETH\_P\_IP):
5378             vlan\_macip\_lens |= skb\_network\_header\_len(skb);
5379             type\_tucmd |= \hyperlink{kmod_2igb_2e1000__82575_8h_a2c39206cf9a9f31a1a8ab070d33f5d48}{E1000\_ADVTXD\_TUCMD\_IPV4};
5380             nexthdr = ip\_hdr(skb)->protocol;
5381             \textcolor{keywordflow}{break};
5382 \textcolor{preprocessor}{#ifdef NETIF\_F\_IPV6\_CSUM}
5383         \textcolor{keywordflow}{case} \_\_constant\_htons(ETH\_P\_IPV6):
5384             vlan\_macip\_lens |= skb\_network\_header\_len(skb);
5385             nexthdr = ipv6\_hdr(skb)->nexthdr;
5386             \textcolor{keywordflow}{break};
5387 \textcolor{preprocessor}{#endif}
5388         \textcolor{keywordflow}{default}:
5389             \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(net\_ratelimit())) \{
5390                 dev\_warn(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
5391                  \textcolor{stringliteral}{"partial checksum but proto=%x!\(\backslash\)n"},
5392                  first->\hyperlink{structigb__tx__buffer_ae6852c5fea84edd47e3d3ce930c41cf1}{protocol});
5393             \}
5394             \textcolor{keywordflow}{break};
5395         \}
5396 
5397         \textcolor{keywordflow}{switch} (nexthdr) \{
5398         \textcolor{keywordflow}{case} IPPROTO\_TCP:
5399             type\_tucmd |= \hyperlink{kmod_2igb_2e1000__82575_8h_a586c5a67190a583d929fdf227d2e21bf}{E1000\_ADVTXD\_TUCMD\_L4T\_TCP};
5400             mss\_l4len\_idx = tcp\_hdrlen(skb) <<
5401                     \hyperlink{kmod_2igb_2e1000__82575_8h_a2ec3ca7f3aa74630153b73d7b7fcf94b}{E1000\_ADVTXD\_L4LEN\_SHIFT};
5402             \textcolor{keywordflow}{break};
5403 \textcolor{preprocessor}{#ifdef HAVE\_SCTP}
5404         \textcolor{keywordflow}{case} \hyperlink{kcompat_8h_afce983cef8c9dfb0595ee46f7a955aa8}{IPPROTO\_SCTP}:
5405             type\_tucmd |= \hyperlink{kmod_2igb_2e1000__82575_8h_a3dd36049ba5065f91b50212fcabe3dd7}{E1000\_ADVTXD\_TUCMD\_L4T\_SCTP};
5406             mss\_l4len\_idx = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sctphdr) <<
5407                     \hyperlink{kmod_2igb_2e1000__82575_8h_a2ec3ca7f3aa74630153b73d7b7fcf94b}{E1000\_ADVTXD\_L4LEN\_SHIFT};
5408             \textcolor{keywordflow}{break};
5409 \textcolor{preprocessor}{#endif}
5410         \textcolor{keywordflow}{case} IPPROTO\_UDP:
5411             mss\_l4len\_idx = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }udphdr) <<
5412                     E1000\_ADVTXD\_L4LEN\_SHIFT;
5413             \textcolor{keywordflow}{break};
5414         \textcolor{keywordflow}{default}:
5415             \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(net\_ratelimit())) \{
5416                 dev\_warn(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
5417                  \textcolor{stringliteral}{"partial checksum but l4 proto=%x!\(\backslash\)n"},
5418                  nexthdr);
5419             \}
5420             \textcolor{keywordflow}{break};
5421         \}
5422 
5423         \textcolor{comment}{/* update TX checksum flag */}
5424         first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} |= \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821cacc283d76b71e55d775855f875a689187}{IGB\_TX\_FLAGS\_CSUM};
5425     \}
5426 
5427     vlan\_macip\_lens |= skb\_network\_offset(skb) << \hyperlink{kmod_2igb_2e1000__82575_8h_a8c76d8ffc1d3bea7891a7f60da054be5}{E1000\_ADVTXD\_MACLEN\_SHIFT};
5428     vlan\_macip\_lens |= first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} & \hyperlink{kmod_2igb_2igb_8h_aa26a223078c531fa192873b061baa4d4}{IGB\_TX\_FLAGS\_VLAN\_MASK};
5429 
5430     \hyperlink{igb__main_8c_a1980b6c3ff2a020639f9ede7a3424bb7}{igb\_tx\_ctxtdesc}(tx\_ring, vlan\_macip\_lens, type\_tucmd, mss\_l4len\_idx);
5431 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{igb__main_8c_a4899351d862c42a504fd3e4e9dc26319_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4899351d862c42a504fd3e4e9dc26319_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+ctxtdesc@{igb\+\_\+tx\+\_\+ctxtdesc}}
\index{igb\+\_\+tx\+\_\+ctxtdesc@{igb\+\_\+tx\+\_\+ctxtdesc}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+ctxtdesc(struct igb\+\_\+ring $\ast$tx\+\_\+ring, u32 vlan\+\_\+macip\+\_\+lens, u32 type\+\_\+tucmd, u32 mss\+\_\+l4len\+\_\+idx)}{igb_tx_ctxtdesc(struct igb_ring *tx_ring, u32 vlan_macip_lens, u32 type_tucmd, u32 mss_l4len_idx)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+tx\+\_\+ctxtdesc (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{{\bf u32}}]{vlan\+\_\+macip\+\_\+lens, }
\item[{{\bf u32}}]{type\+\_\+tucmd, }
\item[{{\bf u32}}]{mss\+\_\+l4len\+\_\+idx}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a1980b6c3ff2a020639f9ede7a3424bb7}{}\label{igb__main_8c_a1980b6c3ff2a020639f9ede7a3424bb7}


igb\+\_\+main.\+c 파일의 5265 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5267 \{
5268     \textcolor{keyword}{struct }\hyperlink{structe1000__adv__tx__context__desc}{e1000\_adv\_tx\_context\_desc} *context\_desc;
5269     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i = tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use};
5270 
5271     context\_desc = \hyperlink{kmod_2igb_2igb_8h_a31965b076fe1c53e35b50dc4f2cb927e}{IGB\_TX\_CTXTDESC}(tx\_ring, i);
5272 
5273     i++;
5274     tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = (i < tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}) ? i : 0;
5275 
5276     \textcolor{comment}{/* set bits to identify this as an advanced context descriptor */}
5277     type\_tucmd |= \hyperlink{kmod_2igb_2e1000__defines_8h_a2d37885e4d07a9bfac100c6789a6d967}{E1000\_TXD\_CMD\_DEXT} | \hyperlink{kmod_2igb_2e1000__82575_8h_a4f06aa66f910a2cc662ee6dec93b8307}{E1000\_ADVTXD\_DTYP\_CTXT};
5278 
5279     \textcolor{comment}{/* For 82575, context index must be unique per ring. */}
5280     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a2595c9c8380b6e89f1fb8e0a18ae11d3}{IGB\_RING\_FLAG\_TX\_CTX\_IDX}, &tx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags}))
5281         \hyperlink{structe1000__adv__tx__context__desc_aeccd92c709cb5d406170f00d06c9121b}{mss\_l4len\_idx} |= tx\_ring->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx} << 4;
5282 
5283     context\_desc->\hyperlink{structe1000__adv__tx__context__desc_a5a8c54c0a1c30c075af11263ab99321d}{vlan\_macip\_lens}    = cpu\_to\_le32(
      \hyperlink{structe1000__adv__tx__context__desc_a5a8c54c0a1c30c075af11263ab99321d}{vlan\_macip\_lens});
5284     context\_desc->\hyperlink{structe1000__adv__tx__context__desc_aef3db1466b2e6df9cc3ddcb45f125097}{seqnum\_seed}    = 0;
5285     context\_desc->\hyperlink{structe1000__adv__tx__context__desc_a251c33f69d1fa3c146567989e12b0a01}{type\_tucmd\_mlhl}    = cpu\_to\_le32(type\_tucmd);
5286     context\_desc->\hyperlink{structe1000__adv__tx__context__desc_aeccd92c709cb5d406170f00d06c9121b}{mss\_l4len\_idx}    = cpu\_to\_le32(\hyperlink{structe1000__adv__tx__context__desc_aeccd92c709cb5d406170f00d06c9121b}{mss\_l4len\_idx});
5287 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a1980b6c3ff2a020639f9ede7a3424bb7_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+map@{igb\+\_\+tx\+\_\+map}}
\index{igb\+\_\+tx\+\_\+map@{igb\+\_\+tx\+\_\+map}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+map(struct igb\+\_\+ring $\ast$tx\+\_\+ring, struct igb\+\_\+tx\+\_\+buffer $\ast$first, const u8 hdr\+\_\+len)}{igb_tx_map(struct igb_ring *tx_ring, struct igb_tx_buffer *first, const u8 hdr_len)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+tx\+\_\+map (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{struct {\bf igb\+\_\+tx\+\_\+buffer} $\ast$}]{first, }
\item[{const {\bf u8}}]{hdr\+\_\+len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa0c9fcaa02f25bafdf7871fff48ae9c6}{}\label{igb__main_8c_aa0c9fcaa02f25bafdf7871fff48ae9c6}


igb\+\_\+main.\+c 파일의 5483 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5486 \{
5487     \textcolor{keyword}{struct }sk\_buff *skb = first->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb};
5488     \textcolor{keyword}{struct }\hyperlink{structigb__tx__buffer}{igb\_tx\_buffer} *tx\_buffer;
5489     \textcolor{keyword}{union }\hyperlink{unione1000__adv__tx__desc}{e1000\_adv\_tx\_desc} *tx\_desc;
5490     \textcolor{keyword}{struct }skb\_frag\_struct *frag;
5491     dma\_addr\_t dma;
5492     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} data\_len, \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
5493     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} tx\_flags = first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags};
5494     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} cmd\_type = \hyperlink{igb__main_8c_a9b1045db7947d971e0dc557b00fcf738}{igb\_tx\_cmd\_type}(skb, tx\_flags);
5495     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i = tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use};
5496 
5497     tx\_desc = \hyperlink{kmod_2igb_2igb_8h_a495c84104e85090bca78cc9ed344455d}{IGB\_TX\_DESC}(tx\_ring, i);
5498 
5499     \hyperlink{igb__main_8c_a6ea61584f142e881b55bfee6709e10d2}{igb\_tx\_olinfo\_status}(tx\_ring, tx\_desc, tx\_flags, skb->len - hdr\_len);
5500 
5501     size = skb\_headlen(skb);
5502     data\_len = skb->data\_len;
5503 
5504     dma = dma\_map\_single(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, skb->data, size, DMA\_TO\_DEVICE);
5505 
5506     tx\_buffer = first;
5507 
5508     \textcolor{keywordflow}{for} (frag = &skb\_shinfo(skb)->frags[0];; frag++) \{
5509         \textcolor{keywordflow}{if} (dma\_mapping\_error(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, dma))
5510             \textcolor{keywordflow}{goto} dma\_error;
5511 
5512         \textcolor{comment}{/* record length, and DMA address */}
5513         dma\_unmap\_len\_set(tx\_buffer, len, size);
5514         dma\_unmap\_addr\_set(tx\_buffer, dma, dma);
5515 
5516         tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a87d79130b57fb21eedf04b9d3945c3d6}{buffer\_addr} = cpu\_to\_le64(dma);
5517 
5518         \textcolor{keywordflow}{while} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(size > \hyperlink{kmod_2igb_2igb_8h_a87909bf7aec52cb9ed7ae9fc3086a5f6}{IGB\_MAX\_DATA\_PER\_TXD})) \{
5519             tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a4cb6b6e659b19e9e2254f5aca281ad64}{cmd\_type\_len} =
5520                 cpu\_to\_le32(cmd\_type ^ \hyperlink{kmod_2igb_2igb_8h_a87909bf7aec52cb9ed7ae9fc3086a5f6}{IGB\_MAX\_DATA\_PER\_TXD});
5521 
5522             i++;
5523             tx\_desc++;
5524             \textcolor{keywordflow}{if} (i == tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}) \{
5525                 tx\_desc = \hyperlink{kmod_2igb_2igb_8h_a495c84104e85090bca78cc9ed344455d}{IGB\_TX\_DESC}(tx\_ring, 0);
5526                 i = 0;
5527             \}
5528             tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a818b8293604ff9a71784eb27809bb907}{olinfo\_status} = 0;
5529 
5530             dma += \hyperlink{kmod_2igb_2igb_8h_a87909bf7aec52cb9ed7ae9fc3086a5f6}{IGB\_MAX\_DATA\_PER\_TXD};
5531             size -= \hyperlink{kmod_2igb_2igb_8h_a87909bf7aec52cb9ed7ae9fc3086a5f6}{IGB\_MAX\_DATA\_PER\_TXD};
5532 
5533             tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a87d79130b57fb21eedf04b9d3945c3d6}{buffer\_addr} = cpu\_to\_le64(dma);
5534         \}
5535 
5536         \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_a142248b95e511b0aa616f38749ff411f}{likely}(!data\_len))
5537             \textcolor{keywordflow}{break};
5538 
5539         tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a4cb6b6e659b19e9e2254f5aca281ad64}{cmd\_type\_len} = cpu\_to\_le32(cmd\_type ^ size);
5540 
5541         i++;
5542         tx\_desc++;
5543         \textcolor{keywordflow}{if} (i == tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}) \{
5544             tx\_desc = \hyperlink{kmod_2igb_2igb_8h_a495c84104e85090bca78cc9ed344455d}{IGB\_TX\_DESC}(tx\_ring, 0);
5545             i = 0;
5546         \}
5547         tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a818b8293604ff9a71784eb27809bb907}{olinfo\_status} = 0;
5548 
5549         size = skb\_frag\_size(frag);
5550         data\_len -= \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
5551 
5552         dma = skb\_frag\_dma\_map(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, frag, 0,
5553                        size, DMA\_TO\_DEVICE);
5554 
5555         tx\_buffer = &tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info}[i];
5556     \}
5557 
5558     \textcolor{comment}{/* write last descriptor with RS and EOP bits */}
5559     cmd\_type |= size | \hyperlink{kmod_2igb_2igb_8h_afe70d3136103ca7213e93fe1f53f7da9}{IGB\_TXD\_DCMD};
5560     tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a4cb6b6e659b19e9e2254f5aca281ad64}{cmd\_type\_len} = cpu\_to\_le32(cmd\_type);
5561 
5562     netdev\_tx\_sent\_queue(txring\_txq(tx\_ring), first->\hyperlink{structigb__tx__buffer_a6e36fbc12221f170fbaa8134ae4e5e7c}{bytecount});
5563     \textcolor{comment}{/* set the timestamp */}
5564     first->\hyperlink{structigb__tx__buffer_a5d390b40ee7866a00e496883fb21fb15}{time\_stamp} = jiffies;
5565 
5566     \textcolor{comment}{/*}
5567 \textcolor{comment}{     * Force memory writes to complete before letting h/w know there}
5568 \textcolor{comment}{     * are new descriptors to fetch.  (Only applicable for weak-ordered}
5569 \textcolor{comment}{     * memory model archs, such as IA-64).}
5570 \textcolor{comment}{     *}
5571 \textcolor{comment}{     * We also need this memory barrier to make certain all of the}
5572 \textcolor{comment}{     * status bits have been updated before next\_to\_watch is written.}
5573 \textcolor{comment}{     */}
5574     \hyperlink{lib_2igb_2e1000__osdep_8h_a6cec6ad808589891b39e150d6a18152c}{wmb}();
5575 
5576     \textcolor{comment}{/* set next\_to\_watch value indicating a packet is present */}
5577     first->\hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch} = tx\_desc;
5578 
5579     i++;
5580     \textcolor{keywordflow}{if} (i == tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count})
5581         i = 0;
5582 
5583     tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = i;
5584 
5585     writel(i, tx\_ring->\hyperlink{structigb__ring_a65a385f7b610d6989dc2ff7204439ab6}{tail});
5586 
5587     \textcolor{comment}{/* we need this if more than one processor can write to our tail}
5588 \textcolor{comment}{     * at a time, it syncronizes IO on IA64/Altix systems}
5589 \textcolor{comment}{     */}
5590     \hyperlink{kcompat_8h_a5f98fb1cc1927e5628b83ca0ee924cce}{mmiowb}();
5591 
5592     \textcolor{keywordflow}{return};
5593 
5594 dma\_error:
5595     dev\_err(tx\_ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev}, \textcolor{stringliteral}{"TX DMA map failed\(\backslash\)n"});
5596 
5597     \textcolor{comment}{/* clear dma mappings for failed tx\_buffer\_info map */}
5598     \textcolor{keywordflow}{for} (;;) \{
5599         tx\_buffer = &tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info}[i];
5600         \hyperlink{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89}{igb\_unmap\_and\_free\_tx\_resource}(tx\_ring, tx\_buffer);
5601         \textcolor{keywordflow}{if} (tx\_buffer == first)
5602             \textcolor{keywordflow}{break};
5603         \textcolor{keywordflow}{if} (i == 0)
5604             i = tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count};
5605         i--;
5606     \}
5607 
5608     tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use} = i;
5609 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=290pt]{igb__main_8c_aa0c9fcaa02f25bafdf7871fff48ae9c6_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa0c9fcaa02f25bafdf7871fff48ae9c6_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+olinfo\+\_\+status@{igb\+\_\+tx\+\_\+olinfo\+\_\+status}}
\index{igb\+\_\+tx\+\_\+olinfo\+\_\+status@{igb\+\_\+tx\+\_\+olinfo\+\_\+status}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+olinfo\+\_\+status(struct igb\+\_\+ring $\ast$tx\+\_\+ring, union e1000\+\_\+adv\+\_\+tx\+\_\+desc $\ast$tx\+\_\+desc, u32 tx\+\_\+flags, unsigned int paylen)}{igb_tx_olinfo_status(struct igb_ring *tx_ring, union e1000_adv_tx_desc *tx_desc, u32 tx_flags, unsigned int paylen)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+tx\+\_\+olinfo\+\_\+status (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring, }
\item[{union {\bf e1000\+\_\+adv\+\_\+tx\+\_\+desc} $\ast$}]{tx\+\_\+desc, }
\item[{{\bf u32}}]{tx\+\_\+flags, }
\item[{unsigned int}]{paylen}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a6ea61584f142e881b55bfee6709e10d2}{}\label{igb__main_8c_a6ea61584f142e881b55bfee6709e10d2}


igb\+\_\+main.\+c 파일의 5460 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5463 \{
5464     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} olinfo\_status = paylen << \hyperlink{kmod_2igb_2e1000__82575_8h_a90a7ff976dc2df4f79f1c8f69ef8f566}{E1000\_ADVTXD\_PAYLEN\_SHIFT};
5465 
5466     \textcolor{comment}{/* 82575 requires a unique index per ring */}
5467     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2a2595c9c8380b6e89f1fb8e0a18ae11d3}{IGB\_RING\_FLAG\_TX\_CTX\_IDX}, &tx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags}))
5468         olinfo\_status |= tx\_ring->\hyperlink{structigb__ring_a31161b15f99efdbdd33f601bb0dbab81}{reg\_idx} << 4;
5469 
5470     \textcolor{comment}{/* insert L4 checksum */}
5471     olinfo\_status |= \hyperlink{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{IGB\_SET\_FLAG}(tx\_flags,
5472                       \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821cacc283d76b71e55d775855f875a689187}{IGB\_TX\_FLAGS\_CSUM},
5473                       (\hyperlink{kmod_2igb_2e1000__defines_8h_a83e08af34335e1134cc165a1964f475e}{E1000\_TXD\_POPTS\_TXSM} << 8));
5474 
5475     \textcolor{comment}{/* insert IPv4 checksum */}
5476     olinfo\_status |= \hyperlink{igb__main_8c_a1f808bc15dcc025b34643daf1adaab4d}{IGB\_SET\_FLAG}(tx\_flags,
5477                       \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca645468f19d01109cf79993199560a7f3}{IGB\_TX\_FLAGS\_IPV4},
5478                       (\hyperlink{kmod_2igb_2e1000__defines_8h_abcb408a8697788fd2a07df4caed1335d}{E1000\_TXD\_POPTS\_IXSM} << 8));
5479 
5480     tx\_desc->\hyperlink{unione1000__adv__tx__desc_ac2e42c3635da1c7c222910caff36e03a}{read}.\hyperlink{unione1000__adv__tx__desc_a818b8293604ff9a71784eb27809bb907}{olinfo\_status} = cpu\_to\_le32(olinfo\_status);
5481 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a6ea61584f142e881b55bfee6709e10d2_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+queue\+\_\+mapping@{igb\+\_\+tx\+\_\+queue\+\_\+mapping}}
\index{igb\+\_\+tx\+\_\+queue\+\_\+mapping@{igb\+\_\+tx\+\_\+queue\+\_\+mapping}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+queue\+\_\+mapping(struct igb\+\_\+adapter $\ast$adapter, struct sk\+\_\+buff $\ast$skb)}{igb_tx_queue_mapping(struct igb_adapter *adapter, struct sk_buff *skb)}}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf igb\+\_\+ring}$\ast$ igb\+\_\+tx\+\_\+queue\+\_\+mapping (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{struct sk\+\_\+buff $\ast$}]{skb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ad91dca1907e6733eb86827110b9b27c3}{}\label{igb__main_8c_ad91dca1907e6733eb86827110b9b27c3}


igb\+\_\+main.\+c 파일의 5745 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5747 \{
5748     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} r\_idx = skb->queue\_mapping;
5749 
5750     \textcolor{keywordflow}{if} (r\_idx >= adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues})
5751         r\_idx = r\_idx % adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues};
5752 
5753     \textcolor{keywordflow}{return} adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[r\_idx];
5754 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad91dca1907e6733eb86827110b9b27c3_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+timeout@{igb\+\_\+tx\+\_\+timeout}}
\index{igb\+\_\+tx\+\_\+timeout@{igb\+\_\+tx\+\_\+timeout}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+timeout(struct net\+\_\+device $\ast$)}{igb_tx_timeout(struct net_device *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+tx\+\_\+timeout (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab6ca6b626294d8918f1e2cd5368382c9}{}\label{igb__main_8c_ab6ca6b626294d8918f1e2cd5368382c9}
igb\+\_\+tx\+\_\+timeout -\/ Respond to a Tx Hang \+: network interface device structure 

igb\+\_\+main.\+c 파일의 5802 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5803 \{
5804     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
5805     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
5806 
5807     \textcolor{comment}{/* Do the reset outside of interrupt context */}
5808     adapter->\hyperlink{structigb__adapter_a8b4aa773f6fd0df2ade5d5f231279c5f}{tx\_timeout\_count}++;
5809 
5810     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580})
5811         hw->\hyperlink{structe1000__hw_a498aa966bd77b214f1d67900bf6b8236}{dev\_spec}.\hyperlink{structe1000__hw_a65abf35e3ce1758616d7990fdb4d356e}{\_82575}.\hyperlink{structe1000__dev__spec__82575_abb7ee4a2b47a7aed417b505985e648e4}{global\_device\_reset} = \textcolor{keyword}{true};
5812 
5813     schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
5814     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aefee694897d6ec49b71d34a018744d2a}{E1000\_EICS},
5815             (adapter->\hyperlink{structigb__adapter_a4a7e158c8d93b26d1caf1936dc15a269}{eims\_enable\_mask} & ~adapter->\hyperlink{structigb__adapter_abf76408eafd71916cf6850fb3b1e7379}{eims\_other}));
5816 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab6ca6b626294d8918f1e2cd5368382c9_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+tx\+\_\+wthresh@{igb\+\_\+tx\+\_\+wthresh}}
\index{igb\+\_\+tx\+\_\+wthresh@{igb\+\_\+tx\+\_\+wthresh}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+tx\+\_\+wthresh(struct igb\+\_\+adapter $\ast$adapter)}{igb_tx_wthresh(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf u32} igb\+\_\+tx\+\_\+wthresh (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a304973d618965dc8a80e29de6d4851bd}{}\label{igb__main_8c_a304973d618965dc8a80e29de6d4851bd}


igb\+\_\+main.\+c 파일의 3580 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3581 \{
3582     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
3583 
3584     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
3585     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
3586         \textcolor{keywordflow}{return} 4;
3587     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
3588         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries})
3589             \textcolor{keywordflow}{return} 1;
3590     \textcolor{keywordflow}{default}:
3591         \textcolor{keywordflow}{break};
3592     \}
3593 
3594     \textcolor{keywordflow}{return} 16;
3595 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a304973d618965dc8a80e29de6d4851bd_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+unbind@{igb\+\_\+unbind}}
\index{igb\+\_\+unbind@{igb\+\_\+unbind}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+unbind(struct file $\ast$file)}{igb_unbind(struct file *file)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+unbind (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a9c58b2f45420f3721cea433524aa7c5c}{}\label{igb__main_8c_a9c58b2f45420f3721cea433524aa7c5c}


igb\+\_\+main.\+c 파일의 10312 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10313 \{
10314     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
10315     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10316 
10317     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10318         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10319         \textcolor{keywordflow}{return} -ENOENT;
10320     \}
10321 
10322     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10323     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
10324         \textcolor{keywordflow}{return} -EBADFD;
10325 
10326     igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
10327     \textcolor{keywordflow}{return} 0;
10328 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=255pt]{igb__main_8c_a9c58b2f45420f3721cea433524aa7c5c_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource@{igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource}}
\index{igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource@{igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource(struct igb\+\_\+ring $\ast$ring, struct igb\+\_\+tx\+\_\+buffer $\ast$tx\+\_\+buffer)}{igb_unmap_and_free_tx_resource(struct igb_ring *ring, struct igb_tx_buffer *tx_buffer)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+unmap\+\_\+and\+\_\+free\+\_\+tx\+\_\+resource (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{ring, }
\item[{struct {\bf igb\+\_\+tx\+\_\+buffer} $\ast$}]{tx\+\_\+buffer}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89}{}\label{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89}


igb\+\_\+main.\+c 파일의 4172 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4174 \{
4175     \textcolor{keywordflow}{if} (tx\_buffer->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb}) \{
4176         dev\_kfree\_skb\_any(tx\_buffer->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb});
4177         \textcolor{keywordflow}{if} (dma\_unmap\_len(tx\_buffer, len))
4178             dma\_unmap\_single(ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
4179                      dma\_unmap\_addr(tx\_buffer, dma),
4180                      dma\_unmap\_len(tx\_buffer, len),
4181                      DMA\_TO\_DEVICE);
4182     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dma\_unmap\_len(tx\_buffer, len)) \{
4183         dma\_unmap\_page(ring->\hyperlink{structigb__ring_acf6a82c73e7a9d99293d9ce0b8837faf}{dev},
4184                 dma\_unmap\_addr(tx\_buffer, dma),
4185                 dma\_unmap\_len(tx\_buffer, len),
4186                 DMA\_TO\_DEVICE);
4187     \}
4188     tx\_buffer->\hyperlink{structigb__tx__buffer_a98ad5fb04406aff9d2b4b6eea9db689f}{next\_to\_watch} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4189     tx\_buffer->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb} = \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
4190     dma\_unmap\_len\_set(tx\_buffer, len, 0);
4191     \textcolor{comment}{/* buffer\_info must be completely set up in the transmit path */}
4192 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+unmapbuf@{igb\+\_\+unmapbuf}}
\index{igb\+\_\+unmapbuf@{igb\+\_\+unmapbuf}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+unmapbuf(struct file $\ast$file, void \+\_\+\+\_\+user $\ast$arg, int ring)}{igb_unmapbuf(struct file *file, void __user *arg, int ring)}}]{\setlength{\rightskip}{0pt plus 5cm}static long igb\+\_\+unmapbuf (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{void \+\_\+\+\_\+user $\ast$}]{arg, }
\item[{int}]{ring}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ae7cebf4dcf256e27213909f389b11469}{}\label{igb__main_8c_ae7cebf4dcf256e27213909f389b11469}


igb\+\_\+main.\+c 파일의 10603 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10604 \{
10605     \textcolor{keywordtype}{int} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err} = 0;
10606     \textcolor{keyword}{struct }\hyperlink{structigb__private__data}{igb\_private\_data} *igb\_priv = file->private\_data;
10607     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
10608     \textcolor{keyword}{struct }\hyperlink{structigb__buf__cmd}{igb\_buf\_cmd} req;
10609     \textcolor{keywordtype}{int} buf\_cmd\_size = 0;
10610 
10611     \textcolor{keywordflow}{if} (igb\_priv == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10612         printk(\textcolor{stringliteral}{"cannot find private data!\(\backslash\)n"});
10613         \textcolor{keywordflow}{return} -ENOENT;
10614     \}
10615 
10616     adapter = igb\_priv->\hyperlink{structigb__private__data_a194d1b705839346098846e03d7ae3108}{adapter};
10617     \textcolor{keywordflow}{if} (adapter == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10618         printk(\textcolor{stringliteral}{"map to unbound device!\(\backslash\)n"});
10619         \textcolor{keywordflow}{return} -ENOENT;
10620     \}
10621 
10622 
10623     \textcolor{keywordflow}{if}((ring != \hyperlink{kmod_2igb_2igb_8h_a56337cbcf4b8cbf0639e27c2e6450421}{IGB\_IOCTL\_UNMAPBUF}) && (ring != 
      \hyperlink{kmod_2igb_2igb_8h_a1ce925d7356aaf6a5be66d7cf90e7deb}{IGB\_IOCTL\_UNMAP\_TX\_RING}) &&
10624       (ring != \hyperlink{kmod_2igb_2igb_8h_ab77372222ac94c91f428f15b2a41445e}{IGB\_IOCTL\_UNMAP\_RX\_RING})) \{
10625 
10626         dev\_warn(&adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}->dev, \textcolor{stringliteral}{"Old ioctl number used: %d, consider using new one from libigb \(\backslash\)n
      "}, ring);
10627         buf\_cmd\_size = \textcolor{keyword}{sizeof}(req) - \textcolor{keyword}{sizeof}(\hyperlink{lib_2igb_2e1000__osdep_8h_a1d8f78f95a414480659f3182e6067b80}{u64});
10628 
10629     \} \textcolor{keywordflow}{else} \{
10630         
10631         buf\_cmd\_size = \textcolor{keyword}{sizeof}(req);
10632     \}
10633 
10634     \textcolor{keywordflow}{if} (copy\_from\_user(&req, arg, buf\_cmd\_size))
10635         \textcolor{keywordflow}{return} -EFAULT;
10636 
10637 
10638     \textcolor{keywordflow}{if} ((ring == \hyperlink{kmod_2igb_2igb_8h_ae0051f1e08cd3e5c3b48b15ec8923264}{IGB\_UNMAP\_TX\_RING}) || (ring == 
      \hyperlink{kmod_2igb_2igb_8h_a1ce925d7356aaf6a5be66d7cf90e7deb}{IGB\_IOCTL\_UNMAP\_TX\_RING})) \{
10639         \textcolor{comment}{/* its easy to figure out what to free on the rings ... */}
10640         \textcolor{keywordflow}{if} (req.queue >= 3)
10641             \textcolor{keywordflow}{return} -EINVAL;
10642 
10643         mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10644         \textcolor{keywordflow}{if} (0 == (igb\_priv->\hyperlink{structigb__private__data_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} & (1 << req.queue))) \{
10645             mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10646             \textcolor{keywordflow}{return} -EINVAL;
10647         \} \textcolor{keywordflow}{else} \{
10648             \textcolor{keywordflow}{if} (0 == (adapter->\hyperlink{structigb__adapter_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} & (1 << req.queue))) \{
10649                 printk(\textcolor{stringliteral}{"Warning: invalid tx ring buffer state!\(\backslash\)n"});
10650             \}
10651         \}
10652 
10653         adapter->\hyperlink{structigb__adapter_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} &= ~(1 << req.queue);
10654         igb\_priv->\hyperlink{structigb__private__data_ad5021b5f96ba57d48c8c6300cad743af}{uring\_tx\_init} &= ~(1 << req.queue);
10655         mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10656     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((ring == \hyperlink{kmod_2igb_2igb_8h_a39821a796c0f883c2b85ccf3bc6fbda8}{IGB\_UNMAP\_RX\_RING}) || (ring == 
      \hyperlink{kmod_2igb_2igb_8h_ab77372222ac94c91f428f15b2a41445e}{IGB\_IOCTL\_UNMAP\_RX\_RING})) \{
10657         \textcolor{comment}{/* its easy to figure out what to free on the rings ... */}
10658         \textcolor{keywordflow}{if} (req.queue >= 3)
10659             \textcolor{keywordflow}{return} -EINVAL;
10660 
10661         mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10662         \textcolor{keywordflow}{if} (0 == (igb\_priv->\hyperlink{structigb__private__data_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} & (1 << req.queue))) \{
10663             mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10664             \textcolor{keywordflow}{return} -EINVAL;
10665         \} \textcolor{keywordflow}{else} \{
10666             \textcolor{keywordflow}{if} (0 == (adapter->\hyperlink{structigb__adapter_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} & (1 << req.queue))) \{
10667                 printk(\textcolor{stringliteral}{"Warning: invalid rx ring buffer state!\(\backslash\)n"});
10668             \}
10669         \}
10670 
10671         adapter->\hyperlink{structigb__adapter_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} &= ~(1 << req.queue);
10672         igb\_priv->\hyperlink{structigb__private__data_ac9827ee428dd1c94a27b260995bb2525}{uring\_rx\_init} &= ~(1 << req.queue);
10673         mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10674     \} \textcolor{keywordflow}{else} \{
10675         \textcolor{comment}{/* have to find the corresponding page to free */}
10676         \textcolor{keyword}{struct }\hyperlink{structigb__user__page}{igb\_user\_page} *userpage;
10677 
10678         mutex\_lock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10679         userpage = igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages};
10680 
10681         \textcolor{keywordflow}{while} (userpage != \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10682             \textcolor{keywordflow}{if} (req.physaddr == userpage->\hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma})
10683                 \textcolor{keywordflow}{break};
10684             userpage = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10685         \}
10686 
10687         \textcolor{keywordflow}{if} (userpage == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
10688             mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10689             \textcolor{keywordflow}{return} -EINVAL;
10690         \}
10691 
10692         dma\_unmap\_page(\hyperlink{kcompat_8h_a5010dcf08a37059ed3b7345d84ad980c}{pci\_dev\_to\_dev}(adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev}),
10693                 userpage->\hyperlink{structigb__user__page_a66dbebc2e3b2bd23d80c63b6aff0c215}{page\_dma},
10694                 PAGE\_SIZE,
10695                 DMA\_FROM\_DEVICE);
10696 
10697         put\_page(userpage->\hyperlink{structigb__user__page_ad45c9283ecdd581420d88bc33100364a}{page});
10698 
10699         \textcolor{comment}{/* take the page out of our list and free it */}
10700         \textcolor{keywordflow}{if} (userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev})
10701             userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev}->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next} = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10702 
10703         \textcolor{keywordflow}{if} (userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next})
10704             userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next}->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev} = userpage->\hyperlink{structigb__user__page_a996875864cd059c92f5d96a65bea4e8b}{prev};
10705 
10706         \textcolor{keywordflow}{if} (userpage == igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages})
10707             igb\_priv->\hyperlink{structigb__private__data_a4699ce469a0376905a64dfccc9999ff6}{userpages} = userpage->\hyperlink{structigb__user__page_a5f0fc326c29a26312987e7c21babb4a2}{next};
10708 
10709         vfree(userpage);
10710         mutex\_unlock(&adapter->\hyperlink{structigb__adapter_af635d65f26e31c345ef21c333feb3910}{lock});
10711     \}
10712     \textcolor{keywordflow}{return} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
10713 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae7cebf4dcf256e27213909f389b11469_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{igb__main_8c_ae7cebf4dcf256e27213909f389b11469_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+up@{igb\+\_\+up}}
\index{igb\+\_\+up@{igb\+\_\+up}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+up(struct igb\+\_\+adapter $\ast$adapter)}{igb_up(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+up (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079}{}\label{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079}
igb\+\_\+up -\/ Open the interface and prepare it to handle traffic \+: board private structure 

igb\+\_\+main.\+c 파일의 1829 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1830 \{
1831     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1832     \textcolor{keywordtype}{int} i;
1833 
1834     \textcolor{comment}{/* hardware has been reset, we need to reload some things */}
1835     \hyperlink{igb__main_8c_a622aa65f69c7e0e656f26103b522b9e3}{igb\_configure}(adapter);
1836 
1837     clear\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state});
1838 
1839     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
1840         napi\_enable(&(adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i]->\hyperlink{structigb__q__vector_ad7946e6f4ab63e48db691b15b9a961d5}{napi}));
1841 
1842     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries})
1843         \hyperlink{igb__main_8c_af03d05f8d47f0a91edafb7693857e62d}{igb\_configure\_msix}(adapter);
1844     \textcolor{keywordflow}{else}
1845         \hyperlink{igb__main_8c_a10319a282e14f211bc084aa2a46a4115}{igb\_assign\_vector}(adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[0], 0);
1846 
1847     \hyperlink{igb__main_8c_a5cf85f1e32162097db9f35fa944a1239}{igb\_configure\_lli}(adapter);
1848 
1849     \textcolor{comment}{/* Clear any pending interrupts. */}
1850     \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae3769f563a652045f35d90625fd7a4d9}{E1000\_ICR});
1851     \hyperlink{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{igb\_irq\_enable}(adapter);
1852 
1853     \textcolor{comment}{/* notify VFs that reset has been completed */}
1854     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) \{
1855         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg\_data = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
1856 
1857         reg\_data |= \hyperlink{kmod_2igb_2e1000__defines_8h_abe6fe3344762e83af46ce4fca4b328ff}{E1000\_CTRL\_EXT\_PFRSTD};
1858         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT}, reg\_data);
1859     \}
1860 
1861     netif\_tx\_start\_all\_queues(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
1862 
1863     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a83404f5873d691941d3b7b89d842e575}{IGB\_FLAG\_DETECT\_BAD\_DMA})
1864         schedule\_work(&adapter->\hyperlink{structigb__adapter_a6cbe39db8d0f9cc3f2ab5180f975b468}{dma\_err\_task});
1865     \textcolor{comment}{/* start the watchdog. */}
1866     hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa7d2ab66f2a3ad9607f0edbfd81d1a17}{get\_link\_status} = 1;
1867     schedule\_work(&adapter->\hyperlink{structigb__adapter_a9993a1d4be5ad0cac1e37cdca3d06021}{watchdog\_task});
1868 
1869     \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a4e01db8ae25eb96bd17de4bb94bd895e}{IGB\_FLAG\_EEE}) &&
1870         (!hw->\hyperlink{structe1000__hw_a498aa966bd77b214f1d67900bf6b8236}{dev\_spec}.\hyperlink{structe1000__hw_a65abf35e3ce1758616d7990fdb4d356e}{\_82575}.\hyperlink{structe1000__dev__spec__82575_a147d593355a5b316988a14544732b4a6}{eee\_disable}))
1871         adapter->\hyperlink{structigb__adapter_a2792341c9e7952578b25d76bedd9a5e4}{eee\_advert} = MDIO\_EEE\_100TX | MDIO\_EEE\_1000T;
1872 
1873 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa5e5e68b281ec591be03ac1f022ca079_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+update\+\_\+itr@{igb\+\_\+update\+\_\+itr}}
\index{igb\+\_\+update\+\_\+itr@{igb\+\_\+update\+\_\+itr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+update\+\_\+itr(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector, struct igb\+\_\+ring\+\_\+container $\ast$ring\+\_\+container)}{igb_update_itr(struct igb_q_vector *q_vector, struct igb_ring_container *ring_container)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+update\+\_\+itr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector, }
\item[{struct {\bf igb\+\_\+ring\+\_\+container} $\ast$}]{ring\+\_\+container}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4b26bdd8e9656c8595ea05edc21999fe}{}\label{igb__main_8c_a4b26bdd8e9656c8595ea05edc21999fe}
igb\+\_\+update\+\_\+itr -\/ update the dynamic I\+TR value based on statistics Stores a new I\+TR value based on packets and byte counts during the last interrupt. The advantage of per interrupt computation is faster updates and more accurate I\+TR for the current traffic pattern. Constants in this function were computed based on theoretical maximum wire speed and thresholds were set based on testing data as well as attempting to minimize response time while increasing bulk throughput. this functionality is controlled by the Interrupt\+Throttle\+Rate module parameter (see igb\+\_\+param.\+c) N\+O\+TE\+: These calculations are only valid when operating in a single-\/ queue environment. \+: pointer to q\+\_\+vector \+: ring info to update the itr for 

igb\+\_\+main.\+c 파일의 5149 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5151 \{
5152     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} packets = ring\_container->\hyperlink{structigb__ring__container_a6faab394a49c8462592c339de9d60855}{total\_packets};
5153     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bytes = ring\_container->\hyperlink{structigb__ring__container_a3ba0a002e956c88f2433d97977c92b59}{total\_bytes};
5154     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} itrval = ring\_container->\hyperlink{structigb__ring__container_ab2e0be8050c2da59d1821499950a92d7}{itr};
5155 
5156     \textcolor{comment}{/* no packets, exit with status unchanged */}
5157     \textcolor{keywordflow}{if} (packets == 0)
5158         \textcolor{keywordflow}{return};
5159 
5160     \textcolor{keywordflow}{switch} (itrval) \{
5161     \textcolor{keywordflow}{case} \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\_latency}:
5162         \textcolor{comment}{/* handle TSO and jumbo frames */}
5163         \textcolor{keywordflow}{if} (bytes/packets > 8000)
5164             itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency};
5165         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((packets < 5) && (bytes > 512))
5166             itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency};
5167         \textcolor{keywordflow}{break};
5168     \textcolor{keywordflow}{case} \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency}:  \textcolor{comment}{/* 50 usec aka 20000 ints/s */}
5169         \textcolor{keywordflow}{if} (bytes > 10000) \{
5170             \textcolor{comment}{/* this if handles the TSO accounting */}
5171             \textcolor{keywordflow}{if} (bytes/packets > 8000)
5172                 itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency};
5173             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((packets < 10) || ((bytes/packets) > 1200))
5174                 itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency};
5175             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((packets > 35))
5176                 itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\_latency};
5177         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bytes/packets > 2000) \{
5178             itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency};
5179         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (packets <= 2 && bytes < 512) \{
5180             itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfadfb9011629105abdc4a631683e7d3c64}{lowest\_latency};
5181         \}
5182         \textcolor{keywordflow}{break};
5183     \textcolor{keywordflow}{case} \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfa1ca7b9d7cc5d13be03aecd0ca2b07fb6}{bulk\_latency}: \textcolor{comment}{/* 250 usec aka 4000 ints/s */}
5184         \textcolor{keywordflow}{if} (bytes > 25000) \{
5185             \textcolor{keywordflow}{if} (packets > 35)
5186                 itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency};
5187         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (bytes < 1500) \{
5188             itrval = \hyperlink{igb__main_8c_a6717a5ed862d5438a350fecc4fba4adfab8046441c80786dfd7ee51b75283b62e}{low\_latency};
5189         \}
5190         \textcolor{keywordflow}{break};
5191     \}
5192 
5193     \textcolor{comment}{/* clear work counters since we have the values we need */}
5194     ring\_container->\hyperlink{structigb__ring__container_a3ba0a002e956c88f2433d97977c92b59}{total\_bytes} = 0;
5195     ring\_container->\hyperlink{structigb__ring__container_a6faab394a49c8462592c339de9d60855}{total\_packets} = 0;
5196 
5197     \textcolor{comment}{/* write updated itr to ring container */}
5198     ring\_container->\hyperlink{structigb__ring__container_ab2e0be8050c2da59d1821499950a92d7}{itr} = itrval;
5199 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a4b26bdd8e9656c8595ea05edc21999fe_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+update\+\_\+mng\+\_\+vlan@{igb\+\_\+update\+\_\+mng\+\_\+vlan}}
\index{igb\+\_\+update\+\_\+mng\+\_\+vlan@{igb\+\_\+update\+\_\+mng\+\_\+vlan}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+update\+\_\+mng\+\_\+vlan(struct igb\+\_\+adapter $\ast$adapter)}{igb_update_mng_vlan(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+update\+\_\+mng\+\_\+vlan (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ab2a4a1c9c29637b276f842858d39b99e}{}\label{igb__main_8c_ab2a4a1c9c29637b276f842858d39b99e}


igb\+\_\+main.\+c 파일의 1509 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1510 \{
1511     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
1512     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} vid = adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_a81aab50e7ccea033c6c4306545157b32}{mng\_cookie}.\hyperlink{structe1000__host__mng__dhcp__cookie_a4d0bbf63fb5b0662f44a2ccfa1f3d6fe}{vlan\_id};
1513     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} old\_vid = adapter->\hyperlink{structigb__adapter_a4cc29a4612e6f7cbe2c49b41ad1637a3}{mng\_vlan\_id};
1514 
1515     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a81aab50e7ccea033c6c4306545157b32}{mng\_cookie}.\hyperlink{structe1000__host__mng__dhcp__cookie_aa648386576736be0dd25c95b6edd37d2}{status} & 
      \hyperlink{e1000__manage_8h_ae0dfef0a4863fec7ecde311025aacea0}{E1000\_MNG\_DHCP\_COOKIE\_STATUS\_VLAN}) \{
1516         \textcolor{comment}{/* add VID to filter table */}
1517         \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, vid, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1518         adapter->\hyperlink{structigb__adapter_a4cc29a4612e6f7cbe2c49b41ad1637a3}{mng\_vlan\_id} = vid;
1519     \} \textcolor{keywordflow}{else} \{
1520         adapter->\hyperlink{structigb__adapter_a4cc29a4612e6f7cbe2c49b41ad1637a3}{mng\_vlan\_id} = \hyperlink{kmod_2igb_2igb_8h_abefa6f2b637b26635a4fabe79585c217}{IGB\_MNG\_VLAN\_NONE};
1521     \}
1522 
1523     \textcolor{keywordflow}{if} ((old\_vid != (\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16})\hyperlink{kmod_2igb_2igb_8h_abefa6f2b637b26635a4fabe79585c217}{IGB\_MNG\_VLAN\_NONE}) &&
1524         (vid != old\_vid) &&
1525 #ifdef HAVE\_VLAN\_RX\_REGISTER
1526         !vlan\_group\_get\_device(adapter->vlgrp, old\_vid)) \{
1527 \textcolor{preprocessor}{#else}
1528         !test\_bit(old\_vid, adapter->\hyperlink{structigb__adapter_acb1f06f1c2bb78264a0e21e01633e869}{active\_vlans})) \{
1529 \textcolor{preprocessor}{#endif}
1530         \textcolor{comment}{/* remove VID from filter table */}
1531         \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, old\_vid, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1532     \}
1533 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab2a4a1c9c29637b276f842858d39b99e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab2a4a1c9c29637b276f842858d39b99e_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+update\+\_\+phy\+\_\+info@{igb\+\_\+update\+\_\+phy\+\_\+info}}
\index{igb\+\_\+update\+\_\+phy\+\_\+info@{igb\+\_\+update\+\_\+phy\+\_\+info}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+update\+\_\+phy\+\_\+info(struct timer\+\_\+list $\ast$)}{igb_update_phy_info(struct timer_list *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+update\+\_\+phy\+\_\+info (
\begin{DoxyParamCaption}
\item[{struct timer\+\_\+list $\ast$}]{timer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ae09af2b1a9afa91c0778637e52893429}{}\label{igb__main_8c_ae09af2b1a9afa91c0778637e52893429}


igb\+\_\+main.\+c 파일의 4700 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4704 \{
4705     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
4706 
4707 \textcolor{preprocessor}{#if LINUX\_VERSION\_CODE >= KERNEL\_VERSION(4,15,0)}
4708     adapter = container\_of(timer, \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}, \hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer});
4709 \textcolor{preprocessor}{#else}
4710     adapter = (\textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *) data;
4711 \textcolor{preprocessor}{#endif}
4712 
4713     \hyperlink{e1000__api_8c_a918dac2279f47434d7c1e186f0915134}{e1000\_get\_phy\_info}(&adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw});
4714 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{igb__main_8c_ae09af2b1a9afa91c0778637e52893429_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae09af2b1a9afa91c0778637e52893429_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+update\+\_\+ring\+\_\+itr@{igb\+\_\+update\+\_\+ring\+\_\+itr}}
\index{igb\+\_\+update\+\_\+ring\+\_\+itr@{igb\+\_\+update\+\_\+ring\+\_\+itr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+update\+\_\+ring\+\_\+itr(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector)}{igb_update_ring_itr(struct igb_q_vector *q_vector)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+update\+\_\+ring\+\_\+itr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a5d1e40ba6141723d6502543947f35d48}{}\label{igb__main_8c_a5d1e40ba6141723d6502543947f35d48}
igb\+\_\+update\+\_\+ring\+\_\+itr -\/ update the dynamic I\+TR value based on packet size \begin{DoxyVerb} Stores a new ITR value based on strictly on packet size.  This
 algorithm is less sophisticated than that used in igb_update_itr,
 due to the difficulty of synchronizing statistics across multiple
 receive rings.  The divisors and thresholds used by this function
 were determined based on theoretical maximum wire speed and testing
 data, in order to minimize response time while increasing bulk
 throughput.
 This functionality is controlled by the InterruptThrottleRate module
 parameter (see igb_param.c)
 NOTE:  This function is called only when operating in a multiqueue
        receive environment.
\end{DoxyVerb}
 \+: pointer to q\+\_\+vector 

igb\+\_\+main.\+c 파일의 5071 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5072 \{
5073     \textcolor{keywordtype}{int} new\_val = q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val};
5074     \textcolor{keywordtype}{int} avg\_wire\_size = 0;
5075     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
5076     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} packets;
5077 
5078     \textcolor{comment}{/* For non-gigabit speeds, just fix the interrupt rate at 4000}
5079 \textcolor{comment}{     * ints/sec - ITR timer value of 120 ticks.}
5080 \textcolor{comment}{     */}
5081     \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed}) \{
5082     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10}:
5083     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a336e90e6c7a7d8bc7925752a13faf849}{SPEED\_100}:
5084         new\_val = \hyperlink{kmod_2igb_2igb_8h_a9c6ba24b05d82b75ac6496b9a35473fb}{IGB\_4K\_ITR};
5085         \textcolor{keywordflow}{goto} set\_itr\_val;
5086     \textcolor{keywordflow}{default}:
5087         \textcolor{keywordflow}{break};
5088     \}
5089 
5090     packets = q\_vector->rx.total\_packets;
5091     \textcolor{keywordflow}{if} (packets)
5092         avg\_wire\_size = q\_vector->rx.total\_bytes / packets;
5093 
5094     packets = q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a6faab394a49c8462592c339de9d60855}{total\_packets};
5095     \textcolor{keywordflow}{if} (packets)
5096         avg\_wire\_size = max\_t(\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32}, avg\_wire\_size,
5097                       q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a3ba0a002e956c88f2433d97977c92b59}{total\_bytes} / packets);
5098 
5099     \textcolor{comment}{/* if avg\_wire\_size isn't set no work was done */}
5100     \textcolor{keywordflow}{if} (!avg\_wire\_size)
5101         \textcolor{keywordflow}{goto} clear\_counts;
5102 
5103     \textcolor{comment}{/* Add 24 bytes to size to account for CRC, preamble, and gap */}
5104     avg\_wire\_size += 24;
5105 
5106     \textcolor{comment}{/* Don't starve jumbo frames */}
5107     avg\_wire\_size = min(avg\_wire\_size, 3000);
5108 
5109     \textcolor{comment}{/* Give a little boost to mid-size frames */}
5110     \textcolor{keywordflow}{if} ((avg\_wire\_size > 300) && (avg\_wire\_size < 1200))
5111         new\_val = avg\_wire\_size / 3;
5112     \textcolor{keywordflow}{else}
5113         new\_val = avg\_wire\_size / 2;
5114 
5115     \textcolor{comment}{/* conservative mode (itr 3) eliminates the lowest\_latency setting */}
5116     \textcolor{keywordflow}{if} (new\_val < \hyperlink{kmod_2igb_2igb_8h_ace13e4bb5470885e9feaa221efa342cb}{IGB\_20K\_ITR} &&
5117         ((q\_vector->rx.ring && adapter->\hyperlink{structigb__adapter_aebbc3c2e6199ad30f4dacdf1446543a4}{rx\_itr\_setting} == 3) ||
5118          (!q\_vector->rx.ring && adapter->\hyperlink{structigb__adapter_a656e1ed19f6d6550e41ef4f8c7522663}{tx\_itr\_setting} == 3)))
5119         new\_val = \hyperlink{kmod_2igb_2igb_8h_ace13e4bb5470885e9feaa221efa342cb}{IGB\_20K\_ITR};
5120 
5121 set\_itr\_val:
5122     \textcolor{keywordflow}{if} (new\_val != q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val}) \{
5123         q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} = new\_val;
5124         q\_vector->\hyperlink{structigb__q__vector_a8b09ab6906db061b3b98fe51c121631c}{set\_itr} = 1;
5125     \}
5126 clear\_counts:
5127     q\_vector->rx.total\_bytes = 0;
5128     q\_vector->rx.total\_packets = 0;
5129     q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a3ba0a002e956c88f2433d97977c92b59}{total\_bytes} = 0;
5130     q\_vector->\hyperlink{structigb__q__vector_aaec316360e83de6c7ecc366226b7125d}{tx}.\hyperlink{structigb__ring__container_a6faab394a49c8462592c339de9d60855}{total\_packets} = 0;
5131 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5d1e40ba6141723d6502543947f35d48_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+update\+\_\+stats@{igb\+\_\+update\+\_\+stats}}
\index{igb\+\_\+update\+\_\+stats@{igb\+\_\+update\+\_\+stats}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+update\+\_\+stats(struct igb\+\_\+adapter $\ast$adapter)}{igb_update_stats(struct igb_adapter *adapter)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+update\+\_\+stats (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677}{}\label{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677}
igb\+\_\+update\+\_\+stats -\/ Update the board statistics counters \+: board private structure 

igb\+\_\+main.\+c 파일의 5908 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5909 \{
5910 \textcolor{preprocessor}{#ifdef HAVE\_NETDEV\_STATS\_IN\_NETDEV}
5911     \textcolor{keyword}{struct }net\_device\_stats *net\_stats = &adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}->stats;
5912 \textcolor{preprocessor}{#else}
5913     \textcolor{keyword}{struct }net\_device\_stats *net\_stats = &adapter->net\_stats;
5914 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_NETDEV\_STATS\_IN\_NETDEV */}\textcolor{preprocessor}{}
5915     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
5916 \textcolor{preprocessor}{#ifdef HAVE\_PCI\_ERS}
5917     \textcolor{keyword}{struct }pci\_dev *pdev = adapter->\hyperlink{structigb__adapter_a8ac3abd3ce08c19e5087fe271ef3bcc8}{pdev};
5918 \textcolor{preprocessor}{#endif}
5919     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, mpc;
5920     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} phy\_tmp;
5921     \textcolor{keywordtype}{int} i;
5922     \hyperlink{lib_2igb_2e1000__osdep_8h_a1d8f78f95a414480659f3182e6067b80}{u64} bytes, packets;
5923 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
5924     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} flushed = 0, coal = 0;
5925     \textcolor{keyword}{struct }\hyperlink{structigb__q__vector}{igb\_q\_vector} *q\_vector;
5926 \textcolor{preprocessor}{#endif}
5927 
5928 \textcolor{preprocessor}{#define PHY\_IDLE\_ERROR\_COUNT\_MASK 0x00FF}
5929 
5930     \textcolor{comment}{/*}
5931 \textcolor{comment}{     * Prevent stats update while adapter is being reset, or if the pci}
5932 \textcolor{comment}{     * connection is down.}
5933 \textcolor{comment}{     */}
5934     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed} == 0)
5935         \textcolor{keywordflow}{return};
5936 \textcolor{preprocessor}{#ifdef HAVE\_PCI\_ERS}
5937     \textcolor{keywordflow}{if} (pci\_channel\_offline(pdev))
5938         \textcolor{keywordflow}{return};
5939 
5940 \textcolor{preprocessor}{#endif}
5941 \textcolor{preprocessor}{#ifndef IGB\_NO\_LRO}
5942     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++) \{
5943         q\_vector = adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i];
5944         \textcolor{keywordflow}{if} (!q\_vector)
5945             \textcolor{keywordflow}{continue};
5946         flushed += q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist}.\hyperlink{structigb__lro__list_a6f054dd96e8c1605385e4fea3ac0d1da}{stats}.\hyperlink{structigb__lro__stats_ac23518f6c232ca9567d2ab6c6ebd079a}{flushed};
5947         coal += q\_vector->\hyperlink{structigb__q__vector_a4b2f61a0e7855fe81e5423f51eee5d93}{lrolist}.\hyperlink{structigb__lro__list_a6f054dd96e8c1605385e4fea3ac0d1da}{stats}.\hyperlink{structigb__lro__stats_a745689cb434a6cbf4e4da6ab35a61b89}{coal};
5948     \}
5949     adapter->\hyperlink{structigb__adapter_adccef94bf73d9d366e6a2c97c5b30e6a}{lro\_stats}.\hyperlink{structigb__lro__stats_ac23518f6c232ca9567d2ab6c6ebd079a}{flushed} = flushed;
5950     adapter->\hyperlink{structigb__adapter_adccef94bf73d9d366e6a2c97c5b30e6a}{lro\_stats}.\hyperlink{structigb__lro__stats_a745689cb434a6cbf4e4da6ab35a61b89}{coal} = coal;
5951 
5952 \textcolor{preprocessor}{#endif}
5953     bytes = 0;
5954     packets = 0;
5955     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a8f87d5fa7b4dc32f72e10934549f161f}{num\_rx\_queues}; i++) \{
5956         \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *ring = adapter->\hyperlink{structigb__adapter_aba41465c4e7dcc3ba920c19a2d732ed5}{rx\_ring}[i];
5957         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rqdpc\_tmp = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acccbf8ea9471b7dc0269de3feda2dadb}{E1000\_RQDPC}(i)) & 0x0FFF;
5958 
5959         \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210})
5960             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acccbf8ea9471b7dc0269de3feda2dadb}{E1000\_RQDPC}(i), 0);
5961         ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a0e7ed04a01d0914efb49e588a8c49ea8}{drops} += rqdpc\_tmp;
5962         net\_stats->rx\_fifo\_errors += rqdpc\_tmp;
5963 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
5964         \textcolor{keywordflow}{if} (!ring->vmdq\_netdev) \{
5965             bytes += ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a1b0587fe9418ec065eee9e7593528b12}{bytes};
5966             packets += ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_ae5fef1d76642baa9a22fafc8c04907c5}{packets};
5967         \}
5968 \textcolor{preprocessor}{#else}
5969         bytes += ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_a1b0587fe9418ec065eee9e7593528b12}{bytes};
5970         packets += ring->\hyperlink{structigb__ring_a351b28c7fca553ca0c7523d1a9859624}{rx\_stats}.\hyperlink{structigb__rx__queue__stats_ae5fef1d76642baa9a22fafc8c04907c5}{packets};
5971 \textcolor{preprocessor}{#endif}
5972     \}
5973 
5974     net\_stats->rx\_bytes = bytes;
5975     net\_stats->rx\_packets = packets;
5976 
5977     bytes = 0;
5978     packets = 0;
5979     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; i++) \{
5980         \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *ring = adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i];
5981 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
5982         \textcolor{keywordflow}{if} (!ring->vmdq\_netdev) \{
5983             bytes += ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_a1b0587fe9418ec065eee9e7593528b12}{bytes};
5984             packets += ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_ae5fef1d76642baa9a22fafc8c04907c5}{packets};
5985         \}
5986 \textcolor{preprocessor}{#else}
5987         bytes += ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_a1b0587fe9418ec065eee9e7593528b12}{bytes};
5988         packets += ring->\hyperlink{structigb__ring_a792fc082f8347a1d1aaa623bbc35ed10}{tx\_stats}.\hyperlink{structigb__tx__queue__stats_ae5fef1d76642baa9a22fafc8c04907c5}{packets};
5989 \textcolor{preprocessor}{#endif}
5990     \}
5991     net\_stats->tx\_bytes = bytes;
5992     net\_stats->tx\_packets = packets;
5993 
5994     \textcolor{comment}{/* read stats registers */}
5995     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa49d7222d0aba7b0c611ed7afcd0b2bc}{crcerrs} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_aaf8b553302950ee2bfa80566fb71d90a}{E1000\_CRCERRS});
5996     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ab90e4f8c4448e3c778828af9ee227c6c}{gprc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a64d78f86e39d5f23c0daae64ac4c2f2d}{E1000\_GPRC});
5997     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a8afeb07966861fbd77e371eef140e07b}{gorc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a28277d6a025bc1bb21146ece3b83af4b}{E1000\_GORCL});
5998     \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a060ef863b3bcc278b7ecaf3daef3e6fb}{E1000\_GORCH}); \textcolor{comment}{/* clear GORCL */}
5999     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a06189842766bef9de920946e3ced6cf5}{bprc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acf22a752f3508c4f285a6ebb8a6d45d7}{E1000\_BPRC});
6000     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ae229a3f28b38be564ee22548acd6bbae}{mprc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aec1a82556f262f9036df9e5b3d6b1391}{E1000\_MPRC});
6001     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa2c345ea755e5e3c4e08f8276de64da3}{roc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_add928b77e5aed31a7ca5f49c316952ef}{E1000\_ROC});
6002 
6003     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa14e816d883f7e8d3387ab080c53e923}{prc64} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a480843fa6caadeca9c142800e3bcf8c9}{E1000\_PRC64});
6004     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a797652b7fe3d98c0801a47b1f3bf64b0}{prc127} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a38f41ccb9ded1a4bbfd2f9340b252caa}{E1000\_PRC127});
6005     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ac3ecc4756db0f3b6fe4fd4e5dc9343f8}{prc255} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a2d239c45c7eff6d28a25dd5d8eeb36de}{E1000\_PRC255});
6006     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_afa5ad4048ffa53907acbb32d6e922c82}{prc511} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_ad02d2ce4b08f628725edd157e5b5c276}{E1000\_PRC511});
6007     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a44ba9d37bbb3ffa8453819228ada5925}{prc1023} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_ac398a70f3f56d96894d0a69bd75bd9d3}{E1000\_PRC1023});
6008     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a63ad25badd9e73392a2d41cde278de61}{prc1522} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_aa77a0358edfcb22023257f34e943683f}{E1000\_PRC1522});
6009     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a98c824de7ee35d5569092a27dff44ca1}{symerrs} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_aa467713f50c1097277a8333be46751a6}{E1000\_SYMERRS});
6010     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_acc3ab40d907e4cef68a6d92d5bc3ca69}{sec} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9070d265549b57612c2cd2f5fa698286}{E1000\_SEC});
6011 
6012     mpc = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_acc249eca8b4015cb4aaa56731de6ddff}{E1000\_MPC});
6013     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a8c30a219ea0973c03af26f90b02b80dc}{mpc} += mpc;
6014     net\_stats->rx\_fifo\_errors += mpc;
6015     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ab7a906eeddb92af4758ab3b234305f83}{scc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a39c25626a9af76e7e98e0b568ff1e2ae}{E1000\_SCC});
6016     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_af90aeb2f5595acfee451da9ed1471201}{ecol} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1740c7a04c328f3105bde17898782008}{E1000\_ECOL});
6017     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_af9ca4a335a435ed3cfa526fb115de646}{mcc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9c0ab792ad99e8d99651ae8527767bee}{E1000\_MCC});
6018     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a9ac1db756a3675733787ddc316842d38}{latecol} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a7f51f1e6d7b5d8b40821961cbac2457c}{E1000\_LATECOL});
6019     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aabffcd10cc28d6a940a4cec903684bd4}{dc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a8fc540514ca8e34a03335887eb03d9d9}{E1000\_DC});
6020     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a219a2a1fc5534de9eed8e85764c09a7a}{rlec} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ab88d9be5df354d614df485987bd5c123}{E1000\_RLEC});
6021     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aeb7389891cfecff89e77880c8e7dbdb5}{xonrxc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a42214cb409a3a06ae503648c18cec061}{E1000\_XONRXC});
6022     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ac3b35c3807688713e21c725177a023d5}{xontxc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a581dc2b5d533df946500f649699bdab5}{E1000\_XONTXC});
6023     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ac515a044e95d32be8df03b4a3c9da4ac}{xoffrxc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_afab2c9745a9c05152d940176b42ce8ed}{E1000\_XOFFRXC});
6024     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aae14a6e5f5330207e220a147a5202c17}{xofftxc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a95389d81b176809c3ccb035ee4ae5de6}{E1000\_XOFFTXC});
6025     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a20bb386ef5857330e14c15f4424fa09a}{fcruc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_aeb21aa1d42cc9c62b4ae99fdd25f4ecc}{E1000\_FCRUC});
6026     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_abe6e55e8e33ce8233c590bb603245b89}{gptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a9556929d730cc391484558b1adafc6d1}{E1000\_GPTC});
6027     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a66dd623bc9ffa4200bef558e641312c6}{gotc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aed4ec1f5f3bbcb83dcb9675e2aff66fd}{E1000\_GOTCL});
6028     \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a6380b26c9ceb73cec04b5c116e85ad08}{E1000\_GOTCH}); \textcolor{comment}{/* clear GOTCL */}
6029     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a5cffa728a815753228e8089de68e002c}{rnbc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a618534386d791f82c0ad904de33349a9}{E1000\_RNBC});
6030     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ae89bad4f3c7d30018333da9705e86c5b}{ruc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa91f828832eb907599af78fc7f71f586}{E1000\_RUC});
6031     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a4c0e0425729b869de265cf14b7d698a2}{rfc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a032f908452e85a5f5af2f26e17eb3e52}{E1000\_RFC});
6032     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ae9236f80b267ba3ea02c4770456646b0}{rjc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a54a823b6747d3ca249316bccc00eeb01}{E1000\_RJC});
6033     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a31e3b0d862659a133493874cdbd16f14}{tor} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a05b37595f3de34a77088a149d6f51373}{E1000\_TORH});
6034     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ac4792034ec4a70754e35498ad5abe6bd}{tot} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a0c1cef2f3038fb408257756cbf3f4a73}{E1000\_TOTH});
6035     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0425907fec8d9ea68808d9cc1e81fae6}{tpr} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a459f46eec4479db0d94bfb69f650da13}{E1000\_TPR});
6036 
6037     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a5d78ae3c3bb9104a1831c47335b1e238}{ptc64} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_aeb31ce6186c124dd1f3a42a1ece3c03f}{E1000\_PTC64});
6038     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a7056c7143f22f703c1985389907e50de}{ptc127} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a1dbe8bd2565a797da52b9897840044ef}{E1000\_PTC127});
6039     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa6bebbf9ef188b96372a047e09288709}{ptc255} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a15b2ae617834dbdb485e0fe2c5417683}{E1000\_PTC255});
6040     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a85fb8ab661f8d5735ac24cb18fcce3cc}{ptc511} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a2345ebdef2a50865480445a0f45144c2}{E1000\_PTC511});
6041     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a4b11e51e69f500f159723e887018cf98}{ptc1023} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a9981d37c30f89d3637d3c749d91d5992}{E1000\_PTC1023});
6042     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0f233feaecf72e7fd6c40330aec0f1b2}{ptc1522} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a0c463f1186ea6031db5763751a8a677b}{E1000\_PTC1522});
6043 
6044     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a92c5a9be8dc8b758afe7c53a27d8bda6}{mptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a99e30082fd4c94884ddd007731054c8a}{E1000\_MPTC});
6045     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ad7c54ab2ca4cb53041e3545d93431ada}{bptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a6fe013a863dee93ba5d760c0629b3a5e}{E1000\_BPTC});
6046 
6047     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a40f5726ff7ad05027cbb76f5f4e8bb86}{tpt} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a38f0446fb562c83d085cc07c314d1178}{E1000\_TPT});
6048     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa2c07cd48b8cc63cf5751a8114e64c89}{colc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5aa819328aa527e8a6418ca4e510cc52}{E1000\_COLC});
6049 
6050     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0ca53edc7a4bef7b9d747c4258a34dfa}{algnerrc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a8af465229553dbc486a2feb4e540612f}{E1000\_ALGNERRC});
6051     \textcolor{comment}{/* read internal phy sepecific stats */}
6052     reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
6053     \textcolor{keywordflow}{if} (!(reg & \hyperlink{kmod_2igb_2e1000__defines_8h_a766e94480a68a8164b8cd8691454a6b5}{E1000\_CTRL\_EXT\_LINK\_MODE\_MASK})) \{
6054         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a3ccead9a9c9012010c58a0a2f8629f81}{rxerrc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a08e9c4b172c336c54dd0214d47c42e9d}{E1000\_RXERRC});
6055 
6056         \textcolor{comment}{/* this stat has invalid values on i210/i211 */}
6057         \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}) &&
6058             (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} != \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}))
6059             adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a73ddfa80b10207b1571b90a9511c9a4c}{tncrs} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a53fb418977ca3762107c1ff75d488724}{E1000\_TNCRS});
6060     \}
6061     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a8ed5e76020600dad05e5d54c1ce9295d}{tsctc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_af32fdf4ffbb2f597566b76402d48ab67}{E1000\_TSCTC});
6062     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a755889eab838ce46285dbd064c97e4b4}{tsctfc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_adbcf675b4e89836f18daea56b0a24852}{E1000\_TSCTFC});
6063 
6064     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a944343abcf124620cc6afd2527f24768}{iac} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aedada490343b0f8c45a50dafb08e3ad9}{E1000\_IAC});
6065     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ad4b569918befc62b1085f0c3b3227bb2}{icrxoc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a7800a15ffbda86baf432336a8b092b2b}{E1000\_ICRXOC});
6066     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a78ccf4ea18280715298f338c2621fce9}{icrxptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a481bc5a2d9d2ad07ed1c9a182af72fc9}{E1000\_ICRXPTC});
6067     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aea84f80117cb2a7671d49ff0d0a959a4}{icrxatc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a8ebbc07680d31bc4b2c80efa2621e7b7}{E1000\_ICRXATC});
6068     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a2969258198c67f9d9022448b98d1ea87}{ictxptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_ab9a3f2753a0cb22c7ad59503b1fd3ba2}{E1000\_ICTXPTC});
6069     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aade384e2287e919e91665a6b0334f9da}{ictxatc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a4e03d50ab2c3100e36514ebd61412a28}{E1000\_ICTXATC});
6070     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a18e1e3eaf7e99493c9fa8f2437dd24b4}{ictxqec} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a667fefee2a422aa52934bcdbb8f22f19}{E1000\_ICTXQEC});
6071     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa1df51dbaac03caa52f8033f1df82658}{ictxqmtc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a17fa67e2fe9a695c71e9a49a603ddbc8}{E1000\_ICTXQMTC});
6072     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a9211c0a358973eef7d0e99a595c4439d}{icrxdmtc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a3022ab0bd419066b97c64b612bced6bf}{E1000\_ICRXDMTC});
6073 
6074     \textcolor{comment}{/* Fill out the OS statistics structure */}
6075     net\_stats->multicast = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ae229a3f28b38be564ee22548acd6bbae}{mprc};
6076     net\_stats->collisions = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa2c07cd48b8cc63cf5751a8114e64c89}{colc};
6077 
6078     \textcolor{comment}{/* Rx Errors */}
6079 
6080     \textcolor{comment}{/* RLEC on some newer hardware can be incorrect so build}
6081 \textcolor{comment}{     * our own version based on RUC and ROC}
6082 \textcolor{comment}{     */}
6083     net\_stats->rx\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a3ccead9a9c9012010c58a0a2f8629f81}{rxerrc} +
6084         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa49d7222d0aba7b0c611ed7afcd0b2bc}{crcerrs} + adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0ca53edc7a4bef7b9d747c4258a34dfa}{algnerrc} +
6085         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ae89bad4f3c7d30018333da9705e86c5b}{ruc} + adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa2c345ea755e5e3c4e08f8276de64da3}{roc} +
6086         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ab82d9fff3dc76ed550be6bb7ea423d7a}{cexterr};
6087     net\_stats->rx\_length\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ae89bad4f3c7d30018333da9705e86c5b}{ruc} +
6088                       adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa2c345ea755e5e3c4e08f8276de64da3}{roc};
6089     net\_stats->rx\_crc\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aa49d7222d0aba7b0c611ed7afcd0b2bc}{crcerrs};
6090     net\_stats->rx\_frame\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a0ca53edc7a4bef7b9d747c4258a34dfa}{algnerrc};
6091     net\_stats->rx\_missed\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a8c30a219ea0973c03af26f90b02b80dc}{mpc};
6092 
6093     \textcolor{comment}{/* Tx Errors */}
6094     net\_stats->tx\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_af90aeb2f5595acfee451da9ed1471201}{ecol} +
6095                    adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a9ac1db756a3675733787ddc316842d38}{latecol};
6096     net\_stats->tx\_aborted\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_af90aeb2f5595acfee451da9ed1471201}{ecol};
6097     net\_stats->tx\_window\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a9ac1db756a3675733787ddc316842d38}{latecol};
6098     net\_stats->tx\_carrier\_errors = adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a73ddfa80b10207b1571b90a9511c9a4c}{tncrs};
6099 
6100     \textcolor{comment}{/* Tx Dropped needs to be maintained elsewhere */}
6101 
6102     \textcolor{comment}{/* Phy Stats */}
6103     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) \{
6104         \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed} == \hyperlink{kmod_2igb_2e1000__defines_8h_a4a779d35380578e71d9b3015e3441ab1}{SPEED\_1000}) &&
6105            (!\hyperlink{e1000__api_8c_af3a41f9699ad2dafa128509312519e45}{e1000\_read\_phy\_reg}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_aa15f16cc54234342572b2259221a41a6}{PHY\_1000T\_STATUS}, &phy\_tmp))) \{
6106             phy\_tmp &= \hyperlink{igb__main_8c_a1378ca6e1a98ab93ddb97d97e6c3eac1}{PHY\_IDLE\_ERROR\_COUNT\_MASK};
6107             adapter->\hyperlink{structigb__adapter_a822fe24ef28cf3be85e1d9597a11c6d3}{phy\_stats}.\hyperlink{structe1000__phy__stats_ad887e85e6e554233f79d12cccd018a15}{idle\_errors} += phy\_tmp;
6108         \}
6109     \}
6110 
6111     \textcolor{comment}{/* Management Stats */}
6112     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_aacbb3a29673462472463e2995cb0cf1c}{mgptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a9c5a035394cd3d343960cdb72597bb4e}{E1000\_MGTPTC});
6113     adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a849ab56a7d8878c0dfa5f0a51ced4c32}{mgprc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a8c1039015aec87f3a130870df679bb2c}{E1000\_MGTPRC});
6114     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} > \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}) \{
6115         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a2464d5099c45372f716e0e63eeab3b41}{o2bgptc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a7be05690531632801e8d258e45a2ad94}{E1000\_O2BGPTC});
6116         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a2269d54a46832c5a3d56f5425e18d02d}{o2bspc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_a197a4c48184adf5e9dc51836b2ba6758}{E1000\_O2BSPC});
6117         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_ac5cab6fb343563ff630864882a71f0b0}{b2ospc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_abb29ccd4e61337160e1a1ecfcc56177c}{E1000\_B2OSPC});
6118         adapter->\hyperlink{structigb__adapter_a203279ec85dedcf3113813d967644ee9}{stats}.\hyperlink{structe1000__hw__stats_a8ca8501632611b4de9beb7d7419f1591}{b2ogprc} += \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, 
      \hyperlink{kmod_2igb_2e1000__regs_8h_adc1f7656a457cc68d818fedd02dbe54f}{E1000\_B2OGPRC});
6119     \}
6120 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vf\+\_\+configure@{igb\+\_\+vf\+\_\+configure}}
\index{igb\+\_\+vf\+\_\+configure@{igb\+\_\+vf\+\_\+configure}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vf\+\_\+configure(struct igb\+\_\+adapter $\ast$adapter, int vf)}{igb_vf_configure(struct igb_adapter *adapter, int vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+vf\+\_\+configure (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{int}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a37d2c2f4d47a83396f2157c760d74e78}{}\label{igb__main_8c_a37d2c2f4d47a83396f2157c760d74e78}


igb\+\_\+main.\+c 파일의 6403 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6404 \{
6405     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} mac\_addr[\hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN}];
6406 
6407     random\_ether\_addr(mac\_addr);
6408     \hyperlink{igb__main_8c_a269d345f5dbca55abaad7350a743fd48}{igb\_set\_vf\_mac}(adapter, vf, mac\_addr);
6409 
6410 \textcolor{preprocessor}{#ifdef IFLA\_VF\_MAX}
6411 \textcolor{preprocessor}{#ifdef HAVE\_VF\_SPOOFCHK\_CONFIGURE}
6412     \textcolor{comment}{/* By default spoof check is enabled for all VFs */}
6413     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[vf].spoofchk\_enabled = \textcolor{keyword}{true};
6414 \textcolor{preprocessor}{#endif}
6415 \textcolor{preprocessor}{#endif}
6416 
6417     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
6418 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a37d2c2f4d47a83396f2157c760d74e78_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a37d2c2f4d47a83396f2157c760d74e78_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vf\+\_\+reset@{igb\+\_\+vf\+\_\+reset}}
\index{igb\+\_\+vf\+\_\+reset@{igb\+\_\+vf\+\_\+reset}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vf\+\_\+reset(struct igb\+\_\+adapter $\ast$adapter, u32 vf)}{igb_vf_reset(struct igb_adapter *adapter, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vf\+\_\+reset (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61}{}\label{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61}


igb\+\_\+main.\+c 파일의 6872 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6873 \{
6874     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6875 
6876     \textcolor{comment}{/* clear flags except flag that the PF has set the MAC */}
6877     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} &= \hyperlink{kmod_2igb_2igb_8h_ac095dacf7363b04986a67ea5bd20cd08}{IGB\_VF\_FLAG\_PF\_SET\_MAC};
6878     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_a2c046c18bb826921deb58929924410c3}{last\_nack} = jiffies;
6879 
6880     \textcolor{comment}{/* reset offloads to defaults */}
6881     \hyperlink{igb__main_8c_af094899cf6e9f4dff265d1d6edb5e639}{igb\_set\_vmolr}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}, \textcolor{keyword}{true});
6882 
6883     \textcolor{comment}{/* reset vlans for device */}
6884     \hyperlink{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5}{igb\_clear\_vf\_vfta}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6885 \textcolor{preprocessor}{#ifdef IFLA\_VF\_MAX}
6886     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].pf\_vlan)
6887 \textcolor{preprocessor}{#ifdef IFLA\_VF\_VLAN\_INFO\_MAX}
6888         igb\_ndo\_set\_vf\_vlan(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf},
6889                     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].pf\_vlan,
6890                     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].pf\_qos, 0);
6891 \textcolor{preprocessor}{#else}
6892 
6893         igb\_ndo\_set\_vf\_vlan(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev}, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf},
6894                     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].pf\_vlan,
6895                     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].pf\_qos);
6896 \textcolor{preprocessor}{#endif}
6897     \textcolor{keywordflow}{else}
6898         \hyperlink{igb__main_8c_a7387d777390a5195f1c7ee6ef35388b5}{igb\_clear\_vf\_vfta}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6899 \textcolor{preprocessor}{#endif}
6900 
6901     \textcolor{comment}{/* reset multicast table array for vf */}
6902     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_aff1c125b9a16972a063c1983a1c1ad16}{num\_vf\_mc\_hashes} = 0;
6903 
6904     \textcolor{comment}{/* Flush and reset the mta with the new values */}
6905     \hyperlink{igb__main_8c_aa7183e13e01c5dd4a35669c03acf63ea}{igb\_set\_rx\_mode}(adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
6906 
6907     \textcolor{comment}{/*}
6908 \textcolor{comment}{     * Reset the VFs TDWBAL and TDWBAH registers which are not}
6909 \textcolor{comment}{     * cleared by a VFLR}
6910 \textcolor{comment}{     */}
6911     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa967ef3b47e3b03bf24da8641625145b}{E1000\_TDWBAH}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}), 0);
6912     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a29af4ee3adf0e4badf8b7e21e68d00e9}{E1000\_TDWBAL}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}), 0);
6913     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}) \{
6914         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa967ef3b47e3b03bf24da8641625145b}{E1000\_TDWBAH}(
      \hyperlink{kmod_2igb_2igb_8h_ab57c5b05185a6cbccd5a86c889ff68f5}{IGB\_MAX\_VF\_FUNCTIONS} + \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}), 0);
6915         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a29af4ee3adf0e4badf8b7e21e68d00e9}{E1000\_TDWBAL}(
      \hyperlink{kmod_2igb_2igb_8h_ab57c5b05185a6cbccd5a86c889ff68f5}{IGB\_MAX\_VF\_FUNCTIONS} + \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}), 0);
6916     \}
6917 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vf\+\_\+reset\+\_\+event@{igb\+\_\+vf\+\_\+reset\+\_\+event}}
\index{igb\+\_\+vf\+\_\+reset\+\_\+event@{igb\+\_\+vf\+\_\+reset\+\_\+event}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vf\+\_\+reset\+\_\+event(struct igb\+\_\+adapter $\ast$adapter, u32 vf)}{igb_vf_reset_event(struct igb_adapter *adapter, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vf\+\_\+reset\+\_\+event (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_abf709e6b4ef8ed9c86ba108be592b96d}{}\label{igb__main_8c_abf709e6b4ef8ed9c86ba108be592b96d}


igb\+\_\+main.\+c 파일의 6919 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6920 \{
6921     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *vf\_mac = adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_af8b31ab04432231145129c4cf97564d7}{vf\_mac\_addresses};
6922 
6923     \textcolor{comment}{/* generate a new mac address as we were hotplug removed/added */}
6924     \textcolor{keywordflow}{if} (!(adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} & \hyperlink{kmod_2igb_2igb_8h_ac095dacf7363b04986a67ea5bd20cd08}{IGB\_VF\_FLAG\_PF\_SET\_MAC}))
6925         random\_ether\_addr(vf\_mac);
6926 
6927     \textcolor{comment}{/* process remaining reset events */}
6928     \hyperlink{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61}{igb\_vf\_reset}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6929 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_abf709e6b4ef8ed9c86ba108be592b96d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_abf709e6b4ef8ed9c86ba108be592b96d_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vf\+\_\+reset\+\_\+msg@{igb\+\_\+vf\+\_\+reset\+\_\+msg}}
\index{igb\+\_\+vf\+\_\+reset\+\_\+msg@{igb\+\_\+vf\+\_\+reset\+\_\+msg}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vf\+\_\+reset\+\_\+msg(struct igb\+\_\+adapter $\ast$adapter, u32 vf)}{igb_vf_reset_msg(struct igb_adapter *adapter, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vf\+\_\+reset\+\_\+msg (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a779e71661381fbdbdb18a6062b03e74f}{}\label{igb__main_8c_a779e71661381fbdbdb18a6062b03e74f}


igb\+\_\+main.\+c 파일의 6931 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6932 \{
6933     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6934     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *vf\_mac = adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_af8b31ab04432231145129c4cf97564d7}{vf\_mac\_addresses};
6935     \textcolor{keywordtype}{int} rar\_entry = hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count} - (\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf} + 1);
6936     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, \hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf}[3];
6937     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *addr = (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} *)(&msgbuf[1]);
6938 
6939     \textcolor{comment}{/* process all the same items cleared in a function level reset */}
6940     \hyperlink{igb__main_8c_ae871ae55e351861d1805f8a50fe2ff61}{igb\_vf\_reset}(adapter, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6941 
6942     \textcolor{comment}{/* set vf mac address */}
6943     \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\_rar\_set\_qsel}(adapter, vf\_mac, rar\_entry, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6944 
6945     \textcolor{comment}{/* enable transmit and receive for vf */}
6946     reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a303260dece570549bde496a65edf02aa}{E1000\_VFTE});
6947     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a303260dece570549bde496a65edf02aa}{E1000\_VFTE}, reg | (1 << \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}));
6948     reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa87ccb3cd4e6d7d69e81bef19f480391}{E1000\_VFRE});
6949     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa87ccb3cd4e6d7d69e81bef19f480391}{E1000\_VFRE}, reg | (1 << \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}));
6950 
6951     adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_a9fb2abd9f2594cefc48d6856e01f2879}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a16c4b3d189698d0f545fd4d847508984}{IGB\_VF\_FLAG\_CTS};
6952 
6953     \textcolor{comment}{/* reply to reset with ack and vf mac address */}
6954     msgbuf[0] = \hyperlink{e1000__mbx_8h_a9d28839043bc956f6552f4e791552c76}{E1000\_VF\_RESET} | \hyperlink{e1000__mbx_8h_aa1ea86ac6b939eb3b005d0dbee6a5260}{E1000\_VT\_MSGTYPE\_ACK};
6955     memcpy(addr, vf\_mac, 6);
6956     \hyperlink{e1000__mbx_8c_a4b6631c8a91bd82e91a36f9d7b20391a}{e1000\_write\_mbx}(hw, msgbuf, 3, \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6957 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a779e71661381fbdbdb18a6062b03e74f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a779e71661381fbdbdb18a6062b03e74f_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vfta\+\_\+set@{igb\+\_\+vfta\+\_\+set}}
\index{igb\+\_\+vfta\+\_\+set@{igb\+\_\+vfta\+\_\+set}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vfta\+\_\+set(struct igb\+\_\+adapter $\ast$adapter, u32 vid, bool add)}{igb_vfta_set(struct igb_adapter *adapter, u32 vid, bool add)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vfta\+\_\+set (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vid, }
\item[{{\bf bool}}]{add}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{}\label{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}


igb\+\_\+main.\+c 파일의 350 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
351 \{
352     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
353     \textcolor{keyword}{struct }\hyperlink{structe1000__host__mng__dhcp__cookie}{e1000\_host\_mng\_dhcp\_cookie} *mng\_cookie = &hw->
      \hyperlink{structe1000__hw_a81aab50e7ccea033c6c4306545157b32}{mng\_cookie};
354     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} index = (vid >> \hyperlink{e1000__manage_8h_ae796103f725f9c988c86eecbe8f498fd}{E1000\_VFTA\_ENTRY\_SHIFT}) & 
      \hyperlink{e1000__manage_8h_abe2d19e6dd1babc15e943601f49adf0f}{E1000\_VFTA\_ENTRY\_MASK};
355     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} mask = 1 << (vid & \hyperlink{e1000__manage_8h_ac269294acc615bcf07e7a5aa2b51f28d}{E1000\_VFTA\_ENTRY\_BIT\_SHIFT\_MASK});
356     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} vfta;
357 
358     \textcolor{comment}{/*}
359 \textcolor{comment}{     * if this is the management vlan the only option is to add it in so}
360 \textcolor{comment}{     * that the management pass through will continue to work}
361 \textcolor{comment}{     */}
362     \textcolor{keywordflow}{if} ((mng\_cookie->\hyperlink{structe1000__host__mng__dhcp__cookie_aa648386576736be0dd25c95b6edd37d2}{status} & \hyperlink{e1000__manage_8h_ae0dfef0a4863fec7ecde311025aacea0}{E1000\_MNG\_DHCP\_COOKIE\_STATUS\_VLAN}) &&
363         (vid == mng\_cookie->\hyperlink{structe1000__host__mng__dhcp__cookie_a4d0bbf63fb5b0662f44a2ccfa1f3d6fe}{vlan\_id}))
364         add = \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
365 
366     vfta = adapter->\hyperlink{structigb__adapter_aa7c8f797024e977910661594807f2c23}{shadow\_vfta}[index];
367 
368     \textcolor{keywordflow}{if} (add)
369         vfta |= mask;
370     \textcolor{keywordflow}{else}
371         vfta &= ~mask;
372 
373     \hyperlink{e1000__api_8c_a7a57b70f175db5a0e9f20759c28f217f}{e1000\_write\_vfta}(hw, index, vfta);
374     adapter->\hyperlink{structigb__adapter_aa7c8f797024e977910661594807f2c23}{shadow\_vfta}[index] = vfta;
375 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vlan\+\_\+mode@{igb\+\_\+vlan\+\_\+mode}}
\index{igb\+\_\+vlan\+\_\+mode@{igb\+\_\+vlan\+\_\+mode}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vlan\+\_\+mode(struct net\+\_\+device $\ast$netdev, u32 features)}{igb_vlan_mode(struct net_device *netdev, u32 features)}}]{\setlength{\rightskip}{0pt plus 5cm}void igb\+\_\+vlan\+\_\+mode (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{{\bf u32}}]{features}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}{}\label{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4}


igb\+\_\+main.\+c 파일의 8962 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
8964 \{
8965     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
8966     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
8967     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl, rctl;
8968     \textcolor{keywordtype}{int} i;
8969 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
8970     \textcolor{keywordtype}{bool} enable = !!vlgrp;
8971 
8972     \hyperlink{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}{igb\_irq\_disable}(adapter);
8973 
8974     adapter->vlgrp = vlgrp;
8975 
8976     \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
8977         \hyperlink{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{igb\_irq\_enable}(adapter);
8978 \textcolor{preprocessor}{#else}
8979 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
8980     \textcolor{keywordtype}{bool} enable = !!(\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & NETIF\_F\_HW\_VLAN\_CTAG\_RX);
8981 \textcolor{preprocessor}{#else}
8982     \textcolor{keywordtype}{bool} enable = !!(\hyperlink{avdecc-lib_2_c_make_files_2feature__tests_8c_a1582568e32f689337602a16bf8a5bff0}{features} & NETIF\_F\_HW\_VLAN\_RX);
8983 \textcolor{preprocessor}{#endif}
8984 \textcolor{preprocessor}{#endif}
8985 
8986     \textcolor{keywordflow}{if} (enable) \{
8987         \textcolor{comment}{/* enable VLAN tag insert/strip */}
8988         ctrl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL});
8989         ctrl |= \hyperlink{kmod_2igb_2e1000__defines_8h_aa10ed53565737f2c9ee429349329fdce}{E1000\_CTRL\_VME};
8990         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL}, ctrl);
8991 
8992         \textcolor{comment}{/* Disable CFI check */}
8993         rctl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL});
8994         rctl &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a6dc18c472c50ece33b4b9630d4e67880}{E1000\_RCTL\_CFIEN};
8995         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a5f1910b475d9e03e92a2500b9b15923d}{E1000\_RCTL}, rctl);
8996     \} \textcolor{keywordflow}{else} \{
8997         \textcolor{comment}{/* disable VLAN tag insert/strip */}
8998         ctrl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL});
8999         ctrl &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_aa10ed53565737f2c9ee429349329fdce}{E1000\_CTRL\_VME};
9000         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL}, ctrl);
9001     \}
9002 
9003 \textcolor{preprocessor}{#ifndef CONFIG\_IGB\_VMDQ\_NETDEV}
9004     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}; i++) \{
9005         \hyperlink{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{igb\_set\_vf\_vlan\_strip}(adapter,
9006                       adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} + i,
9007                       enable);
9008     \}
9009 
9010 \textcolor{preprocessor}{#else}
9011     \hyperlink{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{igb\_set\_vf\_vlan\_strip}(adapter,
9012                   adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count},
9013                   enable);
9014 
9015     \textcolor{keywordflow}{for} (i = 1; i < adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}; i++) \{
9016 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
9017         \textcolor{keyword}{struct }igb\_vmdq\_adapter *vadapter;
9018 
9019         vadapter = netdev\_priv(adapter->vmdq\_netdev[i-1]);
9020 
9021         enable = !!vadapter->vlgrp;
9022 \textcolor{preprocessor}{#else}
9023         \textcolor{keyword}{struct }net\_device *vnetdev;
9024 
9025         vnetdev = adapter->vmdq\_netdev[i-1];
9026 \textcolor{preprocessor}{#ifdef NETIF\_F\_HW\_VLAN\_CTAG\_RX}
9027         enable = !!(vnetdev->features & NETIF\_F\_HW\_VLAN\_CTAG\_RX);
9028 \textcolor{preprocessor}{#else}
9029         enable = !!(vnetdev->features & NETIF\_F\_HW\_VLAN\_RX);
9030 \textcolor{preprocessor}{#endif}
9031 \textcolor{preprocessor}{#endif}
9032         \hyperlink{igb__main_8c_a070755b64711c3d4a0d4c097c3430b79}{igb\_set\_vf\_vlan\_strip}(adapter,
9033                       adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} + i,
9034                       enable);
9035     \}
9036 
9037 \textcolor{preprocessor}{#endif}
9038     \hyperlink{igb__main_8c_a0249494762b540245daf3369f16b78c3}{igb\_rlpml\_set}(adapter);
9039 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a07d2dc539cd38a59f1e5ef13724ecef4_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid@{igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid}}
\index{igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid@{igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid(struct net\+\_\+device $\ast$, u16)}{igb_vlan_rx_add_vid(struct net_device *, u16)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+vlan\+\_\+rx\+\_\+add\+\_\+vid (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{{\bf u16}}]{vid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ade2bbcd9341909694727774a99077ea6}{}\label{igb__main_8c_ade2bbcd9341909694727774a99077ea6}


igb\+\_\+main.\+c 파일의 9046 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9051 \{
9052     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
9053     \textcolor{keywordtype}{int} pf\_id = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
9054 
9055     \textcolor{comment}{/* attempt to add filter to vlvf array */}
9056     \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\_vlvf\_set}(adapter, vid, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, pf\_id);
9057 
9058     \textcolor{comment}{/* add the filter since PF can receive vlans w/o entry in vlvf */}
9059     \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, vid, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
9060 \textcolor{preprocessor}{#ifndef HAVE\_NETDEV\_VLAN\_FEATURES}
9061 
9062     \textcolor{comment}{/* Copy feature flags from netdev to the vlan netdev for this vid.}
9063 \textcolor{comment}{     * This allows things like TSO to bubble down to our vlan device.}
9064 \textcolor{comment}{     * There is no need to update netdev for vlan 0 (DCB), since it}
9065 \textcolor{comment}{     * wouldn't has v\_netdev.}
9066 \textcolor{comment}{     */}
9067     \textcolor{keywordflow}{if} (adapter->vlgrp) \{
9068         \textcolor{keyword}{struct }vlan\_group *vlgrp = adapter->vlgrp;
9069         \textcolor{keyword}{struct }net\_device *v\_netdev = vlan\_group\_get\_device(vlgrp, vid);
9070 
9071         \textcolor{keywordflow}{if} (v\_netdev) \{
9072             v\_netdev->features |= netdev->features;
9073             vlan\_group\_set\_device(vlgrp, vid, v\_netdev);
9074         \}
9075     \}
9076 \textcolor{preprocessor}{#endif}
9077 \textcolor{preprocessor}{#ifndef HAVE\_VLAN\_RX\_REGISTER}
9078 
9079     set\_bit(vid, adapter->\hyperlink{structigb__adapter_acb1f06f1c2bb78264a0e21e01633e869}{active\_vlans});
9080 \textcolor{preprocessor}{#endif}
9081 \textcolor{preprocessor}{#ifdef HAVE\_INT\_NDO\_VLAN\_RX\_ADD\_VID}
9082     \textcolor{keywordflow}{return} 0;
9083 \textcolor{preprocessor}{#endif}
9084 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ade2bbcd9341909694727774a99077ea6_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ade2bbcd9341909694727774a99077ea6_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid@{igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid}}
\index{igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid@{igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid(struct net\+\_\+device $\ast$, u16)}{igb_vlan_rx_kill_vid(struct net_device *, u16)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+vlan\+\_\+rx\+\_\+kill\+\_\+vid (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev, }
\item[{{\bf u16}}]{vid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a224da460941ee3366b0136ae4446e7ab}{}\label{igb__main_8c_a224da460941ee3366b0136ae4446e7ab}


igb\+\_\+main.\+c 파일의 9091 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9096 \{
9097     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
9098     \textcolor{keywordtype}{int} pf\_id = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
9099     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{gst__avb__playbin_8c_a6ce68847c12434f60d1b2654a3dc3409}{err};
9100 
9101 \textcolor{preprocessor}{#ifdef HAVE\_VLAN\_RX\_REGISTER}
9102     \hyperlink{igb__main_8c_aaac6bcd9ab8763822bd68cb979cd4e46}{igb\_irq\_disable}(adapter);
9103 
9104     vlan\_group\_set\_device(adapter->vlgrp, vid, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
9105 
9106     \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
9107         \hyperlink{igb__main_8c_aacb49dea67be5c6b57bf50a59f0b574d}{igb\_irq\_enable}(adapter);
9108 
9109 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_VLAN\_RX\_REGISTER */}\textcolor{preprocessor}{}
9110     \textcolor{comment}{/* remove vlan from VLVF table array */}
9111     err = \hyperlink{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{igb\_vlvf\_set}(adapter, vid, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, pf\_id);
9112 
9113     \textcolor{comment}{/* if vid was not present in VLVF just remove it from table */}
9114     \textcolor{keywordflow}{if} (err)
9115         \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, vid, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
9116 \textcolor{preprocessor}{#ifndef HAVE\_VLAN\_RX\_REGISTER}
9117 
9118     clear\_bit(vid, adapter->\hyperlink{structigb__adapter_acb1f06f1c2bb78264a0e21e01633e869}{active\_vlans});
9119 \textcolor{preprocessor}{#endif}
9120 \textcolor{preprocessor}{#ifdef HAVE\_INT\_NDO\_VLAN\_RX\_ADD\_VID}
9121     \textcolor{keywordflow}{return} 0;
9122 \textcolor{preprocessor}{#endif}
9123 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a224da460941ee3366b0136ae4446e7ab_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a224da460941ee3366b0136ae4446e7ab_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vlvf\+\_\+set@{igb\+\_\+vlvf\+\_\+set}}
\index{igb\+\_\+vlvf\+\_\+set@{igb\+\_\+vlvf\+\_\+set}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vlvf\+\_\+set(struct igb\+\_\+adapter $\ast$adapter, u32 vid, bool add, u32 vf)}{igb_vlvf_set(struct igb_adapter *adapter, u32 vid, bool add, u32 vf)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} igb\+\_\+vlvf\+\_\+set (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter, }
\item[{{\bf u32}}]{vid, }
\item[{{\bf bool}}]{add, }
\item[{{\bf u32}}]{vf}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}{}\label{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b}


igb\+\_\+main.\+c 파일의 6606 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6607 \{
6608     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
6609     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg, i;
6610 
6611     \textcolor{comment}{/* The vlvf table only exists on 82576 hardware and newer */}
6612     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} < \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
6613         \textcolor{keywordflow}{return} -1;
6614 
6615     \textcolor{comment}{/* we only need to do this if VMDq is enabled */}
6616     \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools})
6617         \textcolor{keywordflow}{return} -1;
6618 
6619     \textcolor{comment}{/* Find the vlan filter for this id */}
6620     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__82575_8h_a9b65bd3932341dbf8102854360932f9b}{E1000\_VLVF\_ARRAY\_SIZE}; i++) \{
6621         reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i));
6622         \textcolor{keywordflow}{if} ((reg & \hyperlink{kmod_2igb_2e1000__82575_8h_aff96eb411f46db0aaceb1a4d561504fb}{E1000\_VLVF\_VLANID\_ENABLE}) &&
6623             vid == (reg & \hyperlink{kmod_2igb_2e1000__82575_8h_afc12f20bb2b0e134b07c1b7c1108d0b0}{E1000\_VLVF\_VLANID\_MASK}))
6624             \textcolor{keywordflow}{break};
6625     \}
6626 
6627     \textcolor{keywordflow}{if} (add) \{
6628         \textcolor{keywordflow}{if} (i == E1000\_VLVF\_ARRAY\_SIZE) \{
6629             \textcolor{comment}{/* Did not find a matching VLAN ID entry that was}
6630 \textcolor{comment}{             * enabled.  Search for a free filter entry, i.e.}
6631 \textcolor{comment}{             * one without the enable bit set}
6632 \textcolor{comment}{             */}
6633             \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__82575_8h_a9b65bd3932341dbf8102854360932f9b}{E1000\_VLVF\_ARRAY\_SIZE}; i++) \{
6634                 reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i));
6635                 \textcolor{keywordflow}{if} (!(reg & E1000\_VLVF\_VLANID\_ENABLE))
6636                     \textcolor{keywordflow}{break};
6637             \}
6638         \}
6639         \textcolor{keywordflow}{if} (i < E1000\_VLVF\_ARRAY\_SIZE) \{
6640             \textcolor{comment}{/* Found an enabled/available entry */}
6641             reg |= 1 << (\hyperlink{kmod_2igb_2e1000__82575_8h_a5c7a5332a9e9106640dc89d2dc2df806}{E1000\_VLVF\_POOLSEL\_SHIFT} + \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf});
6642 
6643             \textcolor{comment}{/* if !enabled we need to set this up in vfta */}
6644             \textcolor{keywordflow}{if} (!(reg & E1000\_VLVF\_VLANID\_ENABLE)) \{
6645                 \textcolor{comment}{/* add VID to filter table */}
6646                 \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, vid, \hyperlink{maap__log_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
6647                 reg |= \hyperlink{kmod_2igb_2e1000__82575_8h_aff96eb411f46db0aaceb1a4d561504fb}{E1000\_VLVF\_VLANID\_ENABLE};
6648             \}
6649             reg &= ~\hyperlink{kmod_2igb_2e1000__82575_8h_afc12f20bb2b0e134b07c1b7c1108d0b0}{E1000\_VLVF\_VLANID\_MASK};
6650             reg |= vid;
6651             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i), reg);
6652 
6653             \textcolor{comment}{/* do not modify RLPML for PF devices */}
6654             \textcolor{keywordflow}{if} (\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf} >= adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
6655                 \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
6656 
6657             \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_aaacbf33baac1c57aa21691925b0223c2}{vlans\_enabled}) \{
6658                 \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
6659 
6660                 reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}));
6661                 size = reg & \hyperlink{kmod_2igb_2e1000__82575_8h_a7ea3fa494acb72562f7d0470296652dd}{E1000\_VMOLR\_RLPML\_MASK};
6662                 size += 4;
6663                 reg &= ~E1000\_VMOLR\_RLPML\_MASK;
6664                 reg |= \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
6665                 \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}), reg);
6666             \}
6667 
6668             adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_aaacbf33baac1c57aa21691925b0223c2}{vlans\_enabled}++;
6669         \}
6670     \} \textcolor{keywordflow}{else} \{
6671         \textcolor{keywordflow}{if} (i < E1000\_VLVF\_ARRAY\_SIZE) \{
6672             \textcolor{comment}{/* remove vf from the pool */}
6673             reg &= ~(1 << (\hyperlink{kmod_2igb_2e1000__82575_8h_a5c7a5332a9e9106640dc89d2dc2df806}{E1000\_VLVF\_POOLSEL\_SHIFT} + \hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}));
6674             \textcolor{comment}{/* if pool is empty then remove entry from vfta */}
6675             \textcolor{keywordflow}{if} (!(reg & \hyperlink{kmod_2igb_2e1000__82575_8h_a0846631824d05adc60477eb370fdac48}{E1000\_VLVF\_POOLSEL\_MASK})) \{
6676                 reg = 0;
6677                 \hyperlink{igb__main_8c_a775810d9f823d63f50e14c9017cdc6be}{igb\_vfta\_set}(adapter, vid, \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
6678             \}
6679             \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a1f56a34a3ec98124b20408a0b7ad6b3b}{E1000\_VLVF}(i), reg);
6680 
6681             \textcolor{comment}{/* do not modify RLPML for PF devices */}
6682             \textcolor{keywordflow}{if} (\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf} >= adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count})
6683                 \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
6684 
6685             adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_aaacbf33baac1c57aa21691925b0223c2}{vlans\_enabled}--;
6686             \textcolor{keywordflow}{if} (!adapter->\hyperlink{structigb__adapter_a64f983b74b075dff5aacd4c5bd24dff7}{vf\_data}[\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}].\hyperlink{structvf__data__storage_aaacbf33baac1c57aa21691925b0223c2}{vlans\_enabled}) \{
6687                 \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
6688 
6689                 reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}));
6690                 size = reg & \hyperlink{kmod_2igb_2e1000__82575_8h_a7ea3fa494acb72562f7d0470296652dd}{E1000\_VMOLR\_RLPML\_MASK};
6691                 size -= 4;
6692                 reg &= ~E1000\_VMOLR\_RLPML\_MASK;
6693                 reg |= \hyperlink{gst__avb__playbin_8c_a439227feff9d7f55384e8780cfc2eb82}{size};
6694                 \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae0b9ff3e1ac5ef9ae1459feb24f21af6}{E1000\_VMOLR}(\hyperlink{structe1000__hw_a8900f357e8e40da8e0422aa25bda6cad}{vf}), reg);
6695             \}
6696         \}
6697     \}
6698     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
6699 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_ab3234c21e4cb477e602ef42f094a9c5b_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vm\+\_\+close@{igb\+\_\+vm\+\_\+close}}
\index{igb\+\_\+vm\+\_\+close@{igb\+\_\+vm\+\_\+close}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vm\+\_\+close(struct vm\+\_\+area\+\_\+struct $\ast$vma)}{igb_vm_close(struct vm_area_struct *vma)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vm\+\_\+close (
\begin{DoxyParamCaption}
\item[{struct vm\+\_\+area\+\_\+struct $\ast$}]{vma}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1391163aae4c801e33d16454dc40369e}{}\label{igb__main_8c_a1391163aae4c801e33d16454dc40369e}


igb\+\_\+main.\+c 파일의 10833 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10834 \{
10835 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vm\+\_\+fault@{igb\+\_\+vm\+\_\+fault}}
\index{igb\+\_\+vm\+\_\+fault@{igb\+\_\+vm\+\_\+fault}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vm\+\_\+fault(struct vm\+\_\+fault $\ast$fdata)}{igb_vm_fault(struct vm_fault *fdata)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+vm\+\_\+fault (
\begin{DoxyParamCaption}
\item[{struct vm\+\_\+fault $\ast$}]{fdata}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a1df79f624af7e65de42da01f08a3a755}{}\label{igb__main_8c_a1df79f624af7e65de42da01f08a3a755}


igb\+\_\+main.\+c 파일의 10837 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10841 \{
10842         \textcolor{keywordflow}{return} VM\_FAULT\_SIGBUS;
10843 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vm\+\_\+open@{igb\+\_\+vm\+\_\+open}}
\index{igb\+\_\+vm\+\_\+open@{igb\+\_\+vm\+\_\+open}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vm\+\_\+open(struct vm\+\_\+area\+\_\+struct $\ast$vma)}{igb_vm_open(struct vm_area_struct *vma)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vm\+\_\+open (
\begin{DoxyParamCaption}
\item[{struct vm\+\_\+area\+\_\+struct $\ast$}]{vma}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ae0d8eafe762b3a9360446cf45069c223}{}\label{igb__main_8c_ae0d8eafe762b3a9360446cf45069c223}


igb\+\_\+main.\+c 파일의 10829 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10830 \{
10831 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+vmm\+\_\+control@{igb\+\_\+vmm\+\_\+control}}
\index{igb\+\_\+vmm\+\_\+control@{igb\+\_\+vmm\+\_\+control}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+vmm\+\_\+control(struct igb\+\_\+adapter $\ast$)}{igb_vmm_control(struct igb_adapter *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+vmm\+\_\+control (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+adapter} $\ast$}]{adapter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a5a58dbc702a3439803e8f041d582cd47}{}\label{igb__main_8c_a5a58dbc702a3439803e8f041d582cd47}


igb\+\_\+main.\+c 파일의 9881 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
9882 \{
9883     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
9884     \textcolor{keywordtype}{int} count;
9885     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} reg;
9886 
9887     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
9888     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}:
9889     \textcolor{keywordflow}{default}:
9890         \textcolor{comment}{/* replication is not supported for 82575 */}
9891         \textcolor{keywordflow}{return};
9892     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
9893         \textcolor{comment}{/* notify HW that the MAC is adding vlan tags */}
9894         reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a65c5f0eb7e5586de4b8e165567de1c26}{E1000\_DTXCTL});
9895         reg |= (\hyperlink{kmod_2igb_2e1000__82575_8h_adec30740d78fab22e6af0f9059505b6c}{E1000\_DTXCTL\_VLAN\_ADDED} |
9896             \hyperlink{kmod_2igb_2e1000__82575_8h_a045af47a8885314cbeb6b32f668e6861}{E1000\_DTXCTL\_SPOOF\_INT});
9897         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a65c5f0eb7e5586de4b8e165567de1c26}{E1000\_DTXCTL}, reg);
9898         \textcolor{comment}{/* Fall through */}
9899     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}:
9900         \textcolor{comment}{/* enable replication vlan tag stripping */}
9901         reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ab8a6802cde8b6a7766457572d974ae31}{E1000\_RPLOLR});
9902         reg |= \hyperlink{kmod_2igb_2e1000__82575_8h_a6bae8f295d823ab9aeff9906f1f195cc}{E1000\_RPLOLR\_STRVLAN};
9903         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ab8a6802cde8b6a7766457572d974ae31}{E1000\_RPLOLR}, reg);
9904         \textcolor{comment}{/* Fall through */}
9905     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
9906     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a07834686c3b415230b07d3b27c10a897}{e1000\_i354}:
9907         \textcolor{comment}{/* none of the above registers are supported by i350 */}
9908         \textcolor{keywordflow}{break};
9909     \}
9910 
9911     \textcolor{comment}{/* Enable Malicious Driver Detection */}
9912     \textcolor{keywordflow}{if} ((adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count}) &&
9913         (adapter->\hyperlink{structigb__adapter_a0a2ce3d164da662fb8f57459c298a1f6}{mdd})) \{
9914         \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350})
9915             \hyperlink{igb__main_8c_ab86bc3bb633ca727bf776b726716bec3}{igb\_enable\_mdd}(adapter);
9916     \}
9917 
9918         \textcolor{comment}{/* enable replication and loopback support */}
9919         count = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} || adapter->
      \hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools};
9920         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ab7920a1f5efe50ab307151aa06fa5ec5}{IGB\_FLAG\_LOOPBACK\_ENABLE} && count)
9921             \hyperlink{e1000__82575_8c_a2c7369fc1093599133723aedda4cc1bc}{e1000\_vmdq\_set\_loopback\_pf}(hw, 1);
9922         \hyperlink{e1000__82575_8c_a696ad20508bb30046f256297e9624786}{e1000\_vmdq\_set\_anti\_spoofing\_pf}(hw,
9923             adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} || adapter->
      \hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools},
9924             adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count});
9925     \hyperlink{e1000__82575_8c_a8c613815c625c52173e1e26d08b02c84}{e1000\_vmdq\_set\_replication\_pf}(hw, adapter->
      \hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count} ||
9926                       adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools});
9927 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5a58dbc702a3439803e8f041d582cd47_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a5a58dbc702a3439803e8f041d582cd47_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+watchdog@{igb\+\_\+watchdog}}
\index{igb\+\_\+watchdog@{igb\+\_\+watchdog}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+watchdog(struct timer\+\_\+list $\ast$)}{igb_watchdog(struct timer_list *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+watchdog (
\begin{DoxyParamCaption}
\item[{struct timer\+\_\+list $\ast$}]{timer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa63ef354a4b7f05f30bb4b2f03768a3a}{}\label{igb__main_8c_aa63ef354a4b7f05f30bb4b2f03768a3a}
igb\+\_\+watchdog -\/ Timer Call-\/back \+: pointer to adapter cast into an unsigned long 

igb\+\_\+main.\+c 파일의 4762 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4766 \{
4767     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter};
4768 
4769 \textcolor{preprocessor}{#if LINUX\_VERSION\_CODE >= KERNEL\_VERSION(4,15,0)}
4770     adapter = container\_of(timer, \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter}, \hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer});
4771 \textcolor{preprocessor}{#else}
4772     adapter = (\textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *)data;
4773 \textcolor{preprocessor}{#endif}
4774 
4775     \textcolor{comment}{/* Do the rest outside of interrupt context */}
4776     schedule\_work(&adapter->\hyperlink{structigb__adapter_a9993a1d4be5ad0cac1e37cdca3d06021}{watchdog\_task});
4777 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa63ef354a4b7f05f30bb4b2f03768a3a_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+watchdog\+\_\+task@{igb\+\_\+watchdog\+\_\+task}}
\index{igb\+\_\+watchdog\+\_\+task@{igb\+\_\+watchdog\+\_\+task}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+watchdog\+\_\+task(struct work\+\_\+struct $\ast$)}{igb_watchdog_task(struct work_struct *)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+watchdog\+\_\+task (
\begin{DoxyParamCaption}
\item[{struct work\+\_\+struct $\ast$}]{work}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a10266793c4280f9d77a46f120a5d8edd}{}\label{igb__main_8c_a10266793c4280f9d77a46f120a5d8edd}


igb\+\_\+main.\+c 파일의 4779 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4780 \{
4781     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = container\_of(work,
4782                            \textcolor{keyword}{struct} \hyperlink{structigb__adapter}{igb\_adapter},
4783                            \hyperlink{structigb__adapter_a9993a1d4be5ad0cac1e37cdca3d06021}{watchdog\_task});
4784     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4785     \textcolor{keyword}{struct }net\_device *netdev = adapter->\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev};
4786     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} thstat, ctrl\_ext, link;
4787     \textcolor{keywordtype}{int} i;
4788     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} connsw;
4789 
4790     link = \hyperlink{igb__main_8c_ab64cb6706f8303113a7af937ca35934f}{igb\_has\_link}(adapter);
4791 
4792     \textcolor{comment}{/* Force link down if we have fiber to swap to */}
4793     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE}) \{
4794         \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} == \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) \{
4795             connsw = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa1392665f89135ad7c6e6de93779c033}{E1000\_CONNSW});
4796             \textcolor{keywordflow}{if} (!(connsw & \hyperlink{kmod_2igb_2e1000__defines_8h_acad7ea16b39f6885888961684f9b6191}{E1000\_CONNSW\_AUTOSENSE\_EN}))
4797                 link = 0;
4798         \}
4799     \}
4800     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE}) \{
4801         \textcolor{keywordflow}{if} (time\_after(jiffies, (adapter->\hyperlink{structigb__adapter_a254e631806307426cd9ce65dd92216db}{link\_check\_timeout} + HZ)))
4802             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} &= ~\hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE};
4803         \textcolor{keywordflow}{else}
4804             link = \hyperlink{maap__log_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
4805     \}
4806 
4807     \textcolor{keywordflow}{if} (link) \{
4808         \textcolor{comment}{/* Perform a reset if the media type changed. */}
4809         \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_a498aa966bd77b214f1d67900bf6b8236}{dev\_spec}.\hyperlink{structe1000__hw_a65abf35e3ce1758616d7990fdb4d356e}{\_82575}.\hyperlink{structe1000__dev__spec__82575_ab7ad55be07202708d12927b26dcce99c}{media\_changed}) \{
4810             hw->\hyperlink{structe1000__hw_a498aa966bd77b214f1d67900bf6b8236}{dev\_spec}.\hyperlink{structe1000__hw_a65abf35e3ce1758616d7990fdb4d356e}{\_82575}.\hyperlink{structe1000__dev__spec__82575_ab7ad55be07202708d12927b26dcce99c}{media\_changed} = \textcolor{keyword}{false};
4811             adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} |= \hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET};
4812             \hyperlink{igb__main_8c_adae425ed75c7d45052cc5bc15d7fada9}{igb\_reset}(adapter);
4813         \}
4814 
4815         \textcolor{comment}{/* Cancel scheduled suspend requests. */}
4816         pm\_runtime\_resume(netdev->dev.parent);
4817 
4818         \textcolor{keywordflow}{if} (!netif\_carrier\_ok(netdev)) \{
4819             \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl;
4820 
4821             \hyperlink{e1000__api_8c_a391083f3fce194c85d28f0fa6c59fd90}{e1000\_get\_speed\_and\_duplex}(hw,
4822                            &adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed},
4823                            &adapter->\hyperlink{structigb__adapter_a06adafe39ef2dfbceac0f31970c54196}{link\_duplex});
4824 
4825             ctrl = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aa2a002308931f109d3f659112ae9fdc8}{E1000\_CTRL});
4826             \textcolor{comment}{/* Links status message must follow this format */}
4827             netdev\_info(netdev,
4828                 \textcolor{stringliteral}{"igb: %s NIC Link is Up %d Mbps %s, Flow Control: %s\(\backslash\)n"},
4829                  netdev->name,
4830                 adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed},
4831                 adapter->\hyperlink{structigb__adapter_a06adafe39ef2dfbceac0f31970c54196}{link\_duplex} == \hyperlink{kmod_2igb_2e1000__defines_8h_af504250cb09e83fc0ccf68c2552f67c5}{FULL\_DUPLEX} ?
4832                  \textcolor{stringliteral}{"Full Duplex"} : \textcolor{stringliteral}{"Half Duplex"},
4833                 ((ctrl & \hyperlink{kmod_2igb_2e1000__defines_8h_a6683aa75eb61caf9b6838ba947de8c13}{E1000\_CTRL\_TFCE}) &&
4834                 (ctrl & \hyperlink{kmod_2igb_2e1000__defines_8h_acb0e5e4ce7d94087e1b773e4d18b6ded}{E1000\_CTRL\_RFCE})) ? \textcolor{stringliteral}{"RX/TX"} :
4835                 ((ctrl & E1000\_CTRL\_RFCE) ?  \textcolor{stringliteral}{"RX"} :
4836                 ((ctrl & E1000\_CTRL\_TFCE) ?  \textcolor{stringliteral}{"TX"} : \textcolor{stringliteral}{"None"})));
4837             \textcolor{comment}{/* adjust timeout factor according to speed/duplex */}
4838             adapter->\hyperlink{structigb__adapter_a490167cfddabd97a3d49c1b40ed9c6b6}{tx\_timeout\_factor} = 1;
4839             \textcolor{keywordflow}{switch} (adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed}) \{
4840             \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_ab830e8b55930052c8706c5aeae2497d0}{SPEED\_10}:
4841                 adapter->\hyperlink{structigb__adapter_a490167cfddabd97a3d49c1b40ed9c6b6}{tx\_timeout\_factor} = 14;
4842                 \textcolor{keywordflow}{break};
4843             \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__defines_8h_a336e90e6c7a7d8bc7925752a13faf849}{SPEED\_100}:
4844                 \textcolor{comment}{/* maybe add some timeout factor ? */}
4845                 \textcolor{keywordflow}{break};
4846             \textcolor{keywordflow}{default}:
4847                 \textcolor{keywordflow}{break};
4848             \}
4849 
4850             netif\_carrier\_on(netdev);
4851             netif\_tx\_wake\_all\_queues(netdev);
4852 
4853             \hyperlink{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a}{igb\_ping\_all\_vfs}(adapter);
4854 \textcolor{preprocessor}{#ifdef IFLA\_VF\_MAX}
4855             igb\_check\_vf\_rate\_limit(adapter);
4856 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* IFLA\_VF\_MAX */}\textcolor{preprocessor}{}
4857 
4858             \textcolor{comment}{/* link state has changed, schedule phy info update */}
4859             \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
4860                 mod\_timer(&adapter->\hyperlink{structigb__adapter_a7e23bd9ac9e32b5da3f8e807af5b0c5f}{phy\_info\_timer},
4861                       round\_jiffies(jiffies + 2 * HZ));
4862         \}
4863     \} \textcolor{keywordflow}{else} \{
4864         \textcolor{keywordflow}{if} (netif\_carrier\_ok(netdev)) \{
4865             adapter->\hyperlink{structigb__adapter_a769b08c3c5ef0960c66136e561a93b67}{link\_speed} = 0;
4866             adapter->\hyperlink{structigb__adapter_a06adafe39ef2dfbceac0f31970c54196}{link\_duplex} = 0;
4867             \textcolor{comment}{/* check for thermal sensor event on i350 */}
4868             \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}) \{
4869                 thstat = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_ae9e1db5d98dea7d0a342ec8347a388b6}{E1000\_THSTAT});
4870                 ctrl\_ext = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
4871                 \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_af1b2af2997be0540f732840feb2631c7}{phy}.\hyperlink{structe1000__phy__info_a6746876596daee9682d6aaba1a4b65fc}{media\_type} ==
4872                     \hyperlink{kmod_2igb_2e1000__hw_8h_aa95ace41ad77553b3ac625bdc1aa4981af5a87a1c9fec89ed7e9de1053b57cdb8}{e1000\_media\_type\_copper}) &&
4873                     !(ctrl\_ext &
4874                     \hyperlink{kmod_2igb_2e1000__defines_8h_a2d4b54310b331d372d455ec5ac831897}{E1000\_CTRL\_EXT\_LINK\_MODE\_SGMII})) \{
4875                     \textcolor{keywordflow}{if} (thstat & \hyperlink{kmod_2igb_2e1000__defines_8h_a52a06551502593117f0d31f252fc93a9}{E1000\_THSTAT\_PWR\_DOWN}) \{
4876                         netdev\_err(netdev,
4877                             \textcolor{stringliteral}{"igb: %s The network adapter was stopped because it overheated.\(\backslash\)n"},
4878                             netdev->name);
4879                     \}
4880                     \textcolor{keywordflow}{if} (thstat &
4881                         \hyperlink{kmod_2igb_2e1000__defines_8h_a8d0b025ac0e61ddc68339c9a4fc98a41}{E1000\_THSTAT\_LINK\_THROTTLE}) \{
4882                         netdev\_err(netdev,
4883                             \textcolor{stringliteral}{"igb: %s The network adapter supported link speed was downshifted because it
       overheated.\(\backslash\)n"},
4884                             netdev->name);
4885                     \}
4886                 \}
4887             \}
4888 
4889             \textcolor{comment}{/* Links status message must follow this format */}
4890             netdev\_info(netdev, \textcolor{stringliteral}{"igb: %s NIC Link is Down\(\backslash\)n"},
4891                    netdev->name);
4892             netif\_carrier\_off(netdev);
4893             netif\_tx\_stop\_all\_queues(netdev);
4894 
4895             \hyperlink{igb__main_8c_acca7c9aaf6c7c9f9487955303496077a}{igb\_ping\_all\_vfs}(adapter);
4896 
4897             \textcolor{comment}{/* link state has changed, schedule phy info update */}
4898             \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state}))
4899                 mod\_timer(&adapter->\hyperlink{structigb__adapter_a7e23bd9ac9e32b5da3f8e807af5b0c5f}{phy\_info\_timer},
4900                       round\_jiffies(jiffies + 2 * HZ));
4901             \textcolor{comment}{/* link is down, time to check for alternate media */}
4902             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE}) \{
4903                 \hyperlink{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90}{igb\_check\_swap\_media}(adapter);
4904                 \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET}) \{
4905                     schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
4906                     \textcolor{comment}{/* return immediately */}
4907                     \textcolor{keywordflow}{return};
4908                 \}
4909             \}
4910             pm\_schedule\_suspend(netdev->dev.parent,
4911                         MSEC\_PER\_SEC * 5);
4912 
4913         \textcolor{comment}{/* also check for alternate media here */}
4914         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!netif\_carrier\_ok(netdev) &&
4915                (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a65dacaeb1a18ea766319d9f56e0efca4}{IGB\_FLAG\_MAS\_ENABLE})) \{
4916             hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a6ac57b9c85404edae44f08fe43d7ff02}{ops}.\hyperlink{structe1000__mac__operations_a5e5165d542192868c5b17d04d7795097}{power\_up\_serdes}(hw);
4917             \hyperlink{igb__main_8c_ab16d40e72f12f58043b00d8a74f5db90}{igb\_check\_swap\_media}(adapter);
4918             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_a8b88328bdb6d5bc0ca5b69c5d1122138}{IGB\_FLAG\_MEDIA\_RESET}) \{
4919                 schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
4920                 \textcolor{comment}{/* return immediately */}
4921                 \textcolor{keywordflow}{return};
4922             \}
4923         \}
4924     \}
4925 
4926     \hyperlink{igb__main_8c_ad8fe7c12f11d515ceb91015bef9f0677}{igb\_update\_stats}(adapter);
4927 
4928     \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_ae32ed07b6dc31b3af2218c468eae8578}{num\_tx\_queues}; i++) \{
4929         \textcolor{keyword}{struct }\hyperlink{structigb__ring}{igb\_ring} *\hyperlink{structtx__ring}{tx\_ring} = adapter->\hyperlink{structigb__adapter_ae1c0ae9a78e113fa4a71c227dd155cd2}{tx\_ring}[i];
4930 
4931         \textcolor{keywordflow}{if} (!netif\_carrier\_ok(netdev)) \{
4932             \textcolor{comment}{/* We've lost link, so the controller stops DMA,}
4933 \textcolor{comment}{             * but we've got queued Tx work that's never going}
4934 \textcolor{comment}{             * to get done, so reset controller to flush Tx.}
4935 \textcolor{comment}{             * (Do the reset outside of interrupt context).}
4936 \textcolor{comment}{             */}
4937             \textcolor{keywordflow}{if} (\hyperlink{kmod_2igb_2igb_8h_a8eaef53b14521d2fb0a9db74f3ed1c97}{igb\_desc\_unused}(tx\_ring) + 1 < tx\_ring->\hyperlink{structigb__ring_a5e12546cd8600448c169facbe4d7d22f}{count}) \{
4938                 adapter->\hyperlink{structigb__adapter_a8b4aa773f6fd0df2ade5d5f231279c5f}{tx\_timeout\_count}++;
4939                 schedule\_work(&adapter->\hyperlink{structigb__adapter_a9f5bf98ace0cecae82cbc96104d62981}{reset\_task});
4940                 \textcolor{comment}{/* return immediately since reset is imminent */}
4941                 \textcolor{keywordflow}{return};
4942             \}
4943         \}
4944 
4945         \textcolor{comment}{/* Force detection of hung controller every watchdog period */}
4946         set\_bit(\hyperlink{kmod_2igb_2igb_8h_af01c3ce7a4485db5e7b3d3ed298244e2abae4dfce81b21d812fcfece888bb48c6}{IGB\_RING\_FLAG\_TX\_DETECT\_HANG}, &tx\_ring->
      \hyperlink{structigb__ring_a9e339c2784bd040b26a5112866700bff}{flags});
4947     \}
4948 
4949     \textcolor{comment}{/* Cause software interrupt to ensure rx ring is cleaned */}
4950     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_abfef94b7ce9785066c5cdc6c4afbf045}{msix\_entries}) \{
4951         \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eics = 0;
4952 
4953         \textcolor{keywordflow}{for} (i = 0; i < adapter->\hyperlink{structigb__adapter_a08d3d8f70cc7a1c49d1fe95041877238}{num\_q\_vectors}; i++)
4954             eics |= adapter->\hyperlink{structigb__adapter_a5853a9971831230abae4ae9a1afc0c0b}{q\_vector}[i]->\hyperlink{structigb__q__vector_a49e09972bdb0c5771225bae8a7d21c53}{eims\_value};
4955         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aefee694897d6ec49b71d34a018744d2a}{E1000\_EICS}, eics);
4956     \} \textcolor{keywordflow}{else} \{
4957         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_adc1e589100a235e416b5da13294c50b6}{E1000\_ICS}, \hyperlink{kmod_2igb_2e1000__defines_8h_af106661bd0346b1207d56859cff9af40}{E1000\_ICS\_RXDMT0});
4958     \}
4959 
4960     \hyperlink{igb__main_8c_af3069d38456c31b76552c10a53def1c9}{igb\_spoof\_check}(adapter);
4961 
4962     \textcolor{comment}{/* Reset the timer */}
4963     \textcolor{keywordflow}{if} (!test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state})) \{
4964         \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_ac92588540e8c1d014a08cd8a45462b19}{flags} & \hyperlink{kmod_2igb_2igb_8h_ad0e25ecf82e3f09fc4f61f5e0fb268cf}{IGB\_FLAG\_NEED\_LINK\_UPDATE})
4965             mod\_timer(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer},
4966                   round\_jiffies(jiffies +  HZ));
4967         \textcolor{keywordflow}{else}
4968             mod\_timer(&adapter->\hyperlink{structigb__adapter_a52832b6f86ae79e4262b75b36661be68}{watchdog\_timer},
4969                   round\_jiffies(jiffies + 2 * HZ));
4970     \}
4971 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a10266793c4280f9d77a46f120a5d8edd_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a10266793c4280f9d77a46f120a5d8edd_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+write@{igb\+\_\+write}}
\index{igb\+\_\+write@{igb\+\_\+write}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+write(struct file $\ast$file, const char \+\_\+\+\_\+user $\ast$buf, size\+\_\+t count, loff\+\_\+t $\ast$pos)}{igb_write(struct file *file, const char __user *buf, size_t count, loff_t *pos)}}]{\setlength{\rightskip}{0pt plus 5cm}static ssize\+\_\+t igb\+\_\+write (
\begin{DoxyParamCaption}
\item[{struct file $\ast$}]{file, }
\item[{const char \+\_\+\+\_\+user $\ast$}]{buf, }
\item[{size\+\_\+t}]{count, }
\item[{loff\+\_\+t $\ast$}]{pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a305f1185c76fe2d493a5566d24e9bd13}{}\label{igb__main_8c_a305f1185c76fe2d493a5566d24e9bd13}


igb\+\_\+main.\+c 파일의 10223 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
10225 \{
10226     \textcolor{keywordflow}{return} -EINVAL; \textcolor{comment}{/* don't support writes for any status or data */}
10227 \}
\end{DoxyCode}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+write\+\_\+itr@{igb\+\_\+write\+\_\+itr}}
\index{igb\+\_\+write\+\_\+itr@{igb\+\_\+write\+\_\+itr}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+write\+\_\+itr(struct igb\+\_\+q\+\_\+vector $\ast$q\+\_\+vector)}{igb_write_itr(struct igb_q_vector *q_vector)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+write\+\_\+itr (
\begin{DoxyParamCaption}
\item[{struct {\bf igb\+\_\+q\+\_\+vector} $\ast$}]{q\+\_\+vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a476db26ba6dcacc132d78aff94f77242}{}\label{igb__main_8c_a476db26ba6dcacc132d78aff94f77242}


igb\+\_\+main.\+c 파일의 6242 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
6243 \{
6244     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = q\_vector->\hyperlink{structigb__q__vector_a194d1b705839346098846e03d7ae3108}{adapter};
6245     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} itr\_val = q\_vector->\hyperlink{structigb__q__vector_a5c824c03246700ef6b4af1978dd2e604}{itr\_val} & 0x7FFC;
6246 
6247     \textcolor{keywordflow}{if} (!q\_vector->\hyperlink{structigb__q__vector_a8b09ab6906db061b3b98fe51c121631c}{set\_itr})
6248         \textcolor{keywordflow}{return};
6249 
6250     \textcolor{keywordflow}{if} (!itr\_val)
6251         itr\_val = 0x4;
6252 
6253     \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575})
6254         itr\_val |= itr\_val << 16;
6255     \textcolor{keywordflow}{else}
6256         itr\_val |= \hyperlink{kmod_2igb_2e1000__defines_8h_ada1d4b89d3fa257ea7471bfc4d623be7}{E1000\_EITR\_CNT\_IGNR};
6257 
6258     writel(itr\_val, q\_vector->\hyperlink{structigb__q__vector_a565de9cb041839ac468e909f96eda26b}{itr\_register});
6259     q\_vector->\hyperlink{structigb__q__vector_a8b09ab6906db061b3b98fe51c121631c}{set\_itr} = 0;
6260 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a476db26ba6dcacc132d78aff94f77242_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+write\+\_\+ivar@{igb\+\_\+write\+\_\+ivar}}
\index{igb\+\_\+write\+\_\+ivar@{igb\+\_\+write\+\_\+ivar}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+write\+\_\+ivar(struct e1000\+\_\+hw $\ast$hw, int msix\+\_\+vector, int index, int offset)}{igb_write_ivar(struct e1000_hw *hw, int msix_vector, int index, int offset)}}]{\setlength{\rightskip}{0pt plus 5cm}static void igb\+\_\+write\+\_\+ivar (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{int}]{msix\+\_\+vector, }
\item[{int}]{index, }
\item[{int}]{offset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a42400e89c163a760b1a69841301a92af}{}\label{igb__main_8c_a42400e89c163a760b1a69841301a92af}
igb\+\_\+write\+\_\+ivar -\/ configure ivar for given M\+S\+I-\/X vector \+: pointer to the HW structure \+: vector number we are allocating to a given ring \+: row index of I\+V\+AR register to write within I\+V\+AR table \+: column offset of in I\+V\+AR, should be multiple of 8

This function is intended to handle the writing of the I\+V\+AR register for adapters 82576 and newer. The I\+V\+AR table consists of 2 columns, each containing an cause allocation for an Rx and Tx ring, and a variable number of rows depending on the number of queues supported. 

igb\+\_\+main.\+c 파일의 540 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
542 \{
543     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ivar = \hyperlink{kmod_2igb_2e1000__osdep_8h_a96bc20a88eeb74ce9228b4d581a1ec63}{E1000\_READ\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a426a4d91c25e5d973c88823b88f3be1e}{E1000\_IVAR0}, index);
544 
545     \textcolor{comment}{/* clear any bits that are currently set */}
546     ivar &= ~((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})0xFF << offset);
547 
548     \textcolor{comment}{/* write vector and valid bit */}
549     ivar |= (msix\_vector | \hyperlink{kmod_2igb_2e1000__defines_8h_a810d2ffb68b2a8c9d256c2365caf8159}{E1000\_IVAR\_VALID}) << offset;
550 
551     \hyperlink{kmod_2igb_2e1000__osdep_8h_a573888f2e2956f04a7c2429d75c74c2f}{E1000\_WRITE\_REG\_ARRAY}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a426a4d91c25e5d973c88823b88f3be1e}{E1000\_IVAR0}, index, ivar);
552 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a42400e89c163a760b1a69841301a92af_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list@{igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list}}
\index{igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list@{igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list(struct net\+\_\+device $\ast$netdev)}{igb_write_mc_addr_list(struct net_device *netdev)}}]{\setlength{\rightskip}{0pt plus 5cm}int igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a7ebac13f17345226b32ae850e715a63e}{}\label{igb__main_8c_a7ebac13f17345226b32ae850e715a63e}
igb\+\_\+write\+\_\+mc\+\_\+addr\+\_\+list -\/ write multicast addresses to M\+TA \+: network interface device structure

Writes multicast address list to the M\+TA hash table. Returns\+: -\/\+E\+N\+O\+M\+EM on failure 0 on no addresses written X on writing X addresses to M\+TA 

igb\+\_\+main.\+c 파일의 4381 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4382 \{
4383     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
4384     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4385 \textcolor{preprocessor}{#ifdef NETDEV\_HW\_ADDR\_T\_MULTICAST}
4386     \textcolor{keyword}{struct }netdev\_hw\_addr *ha;
4387 \textcolor{preprocessor}{#else}
4388     \textcolor{keyword}{struct }dev\_mc\_list *ha;
4389 \textcolor{preprocessor}{#endif}
4390     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8}  *mta\_list;
4391     \textcolor{keywordtype}{int} i, count;
4392 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
4393     \textcolor{keywordtype}{int} vm;
4394 \textcolor{preprocessor}{#endif}
4395     count = netdev\_mc\_count(netdev);
4396 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
4397     \textcolor{keywordflow}{for} (vm = 1; vm < adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}; vm++) \{
4398         \textcolor{keywordflow}{if} (!adapter->vmdq\_netdev[vm])
4399             \textcolor{keywordflow}{break};
4400         \textcolor{keywordflow}{if} (!netif\_running(adapter->vmdq\_netdev[vm]))
4401             \textcolor{keywordflow}{continue};
4402         count += netdev\_mc\_count(adapter->vmdq\_netdev[vm]);
4403     \}
4404 \textcolor{preprocessor}{#endif}
4405 
4406     \textcolor{keywordflow}{if} (!count) \{
4407         \hyperlink{e1000__api_8c_aef568f14aee2c1f80ca670e2e85e7bb9}{e1000\_update\_mc\_addr\_list}(hw, \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0);
4408         \textcolor{keywordflow}{return} 0;
4409     \}
4410     mta\_list = kzalloc(count * 6, GFP\_ATOMIC);
4411     \textcolor{keywordflow}{if} (!mta\_list)
4412         \textcolor{keywordflow}{return} -ENOMEM;
4413 
4414     \textcolor{comment}{/* The shared function expects a packed array of only addresses. */}
4415     i = 0;
4416     netdev\_for\_each\_mc\_addr(ha, netdev)
4417 \textcolor{preprocessor}{#ifdef NETDEV\_HW\_ADDR\_T\_MULTICAST}
4418         memcpy(mta\_list + (i++ * \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN}), ha->addr, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
4419 \textcolor{preprocessor}{#else}
4420         memcpy(mta\_list + (i++ * \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN}), ha->dmi\_addr, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
4421 \textcolor{preprocessor}{#endif}
4422 \textcolor{preprocessor}{#ifdef CONFIG\_IGB\_VMDQ\_NETDEV}
4423     \textcolor{keywordflow}{for} (vm = 1; vm < adapter->\hyperlink{structigb__adapter_a060f1655e3aa667407ed63d23adbbe5d}{vmdq\_pools}; vm++) \{
4424         \textcolor{keywordflow}{if} (!adapter->vmdq\_netdev[vm])
4425             \textcolor{keywordflow}{break};
4426         \textcolor{keywordflow}{if} (!netif\_running(adapter->vmdq\_netdev[vm]) ||
4427             !netdev\_mc\_count(adapter->vmdq\_netdev[vm]))
4428             \textcolor{keywordflow}{continue};
4429         netdev\_for\_each\_mc\_addr(ha, adapter->vmdq\_netdev[vm])
4430 \textcolor{preprocessor}{#ifdef NETDEV\_HW\_ADDR\_T\_MULTICAST}
4431             memcpy(mta\_list + (i++ * \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN}),
4432                    ha->addr, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
4433 \textcolor{preprocessor}{#else}
4434             memcpy(mta\_list + (i++ * \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN}),
4435                    ha->dmi\_addr, \hyperlink{openavb__avdecc__pub_8h_a9822d89774e0d6ddaa06503950130423}{ETH\_ALEN});
4436 \textcolor{preprocessor}{#endif}
4437     \}
4438 \textcolor{preprocessor}{#endif}
4439     \hyperlink{e1000__api_8c_aef568f14aee2c1f80ca670e2e85e7bb9}{e1000\_update\_mc\_addr\_list}(hw, mta\_list, i);
4440     kfree(mta\_list);
4441 
4442     \textcolor{keywordflow}{return} count;
4443 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7ebac13f17345226b32ae850e715a63e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a7ebac13f17345226b32ae850e715a63e_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list@{igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list}}
\index{igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list@{igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list(struct net\+\_\+device $\ast$netdev)}{igb_write_uc_addr_list(struct net_device *netdev)}}]{\setlength{\rightskip}{0pt plus 5cm}static int igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list (
\begin{DoxyParamCaption}
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa5e79f95c7f883a2913619a8d4e69951}{}\label{igb__main_8c_aa5e79f95c7f883a2913619a8d4e69951}
igb\+\_\+write\+\_\+uc\+\_\+addr\+\_\+list -\/ write unicast addresses to R\+AR table \+: network interface device structure

Writes unicast address list to the R\+AR table. Returns\+: -\/\+E\+N\+O\+M\+EM on failure/insufficient address space 0 on no addresses written X on writing X addresses to the R\+AR table 

igb\+\_\+main.\+c 파일의 4515 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4516 \{
4517     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
4518     \textcolor{keyword}{struct }\hyperlink{structe1000__hw}{e1000\_hw} *hw = &adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw};
4519     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} vfn = adapter->\hyperlink{structigb__adapter_a2a0001d0468c7817f65c61ef6a6f4fa4}{vfs\_allocated\_count};
4520     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} rar\_entries = hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a15c5f7ae3e42f602b075822136f53238}{rar\_entry\_count} - (vfn + 1);
4521     \textcolor{keywordtype}{int} count = 0;
4522 
4523     \textcolor{comment}{/* return ENOMEM indicating insufficient memory for addresses */}
4524     \textcolor{keywordflow}{if} (netdev\_uc\_count(netdev) > \hyperlink{igb__main_8c_a5ea0d7eb9aa13571df752151a4305bfe}{igb\_available\_rars}(adapter))
4525         \textcolor{keywordflow}{return} -ENOMEM;
4526     \textcolor{keywordflow}{if} (!netdev\_uc\_empty(netdev) && rar\_entries) \{
4527 \textcolor{preprocessor}{#ifdef NETDEV\_HW\_ADDR\_T\_UNICAST}
4528         \textcolor{keyword}{struct }netdev\_hw\_addr *ha;
4529 \textcolor{preprocessor}{#else}
4530         \textcolor{keyword}{struct }dev\_mc\_list *ha;
4531 \textcolor{preprocessor}{#endif}
4532         netdev\_for\_each\_uc\_addr(ha, netdev) \{
4533 \textcolor{preprocessor}{#ifdef NETDEV\_HW\_ADDR\_T\_UNICAST}
4534             \textcolor{keywordflow}{if} (!rar\_entries)
4535                 \textcolor{keywordflow}{break};
4536             \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\_rar\_set\_qsel}(adapter, ha->addr,
4537                      rar\_entries--,
4538                      vfn);
4539 \textcolor{preprocessor}{#else}
4540             \hyperlink{igb__main_8c_a1ea2be91a707b7b0b4cd7d10a7366407}{igb\_rar\_set\_qsel}(adapter, ha->da\_addr,
4541                      rar\_entries--,
4542                      vfn);
4543 \textcolor{preprocessor}{#endif}
4544             count++;
4545         \}
4546     \}
4547 
4548     \textcolor{comment}{/* write the addresses in reverse order to avoid write combining */}
4549     \textcolor{keywordflow}{for} (; rar\_entries > 0 ; rar\_entries--) \{
4550         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a505199655b6c76ef205e6325561c69ea}{E1000\_RAH}(rar\_entries), 0);
4551         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aef2f9cf55ba75ef025ea8e83d2019494}{E1000\_RAL}(rar\_entries), 0);
4552     \}
4553     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
4554     \textcolor{keywordflow}{return} count;
4555 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{igb__main_8c_aa5e79f95c7f883a2913619a8d4e69951_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_aa5e79f95c7f883a2913619a8d4e69951_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+xmit\+\_\+frame@{igb\+\_\+xmit\+\_\+frame}}
\index{igb\+\_\+xmit\+\_\+frame@{igb\+\_\+xmit\+\_\+frame}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+xmit\+\_\+frame(struct sk\+\_\+buff $\ast$skb, struct net\+\_\+device $\ast$)}{igb_xmit_frame(struct sk_buff *skb, struct net_device *)}}]{\setlength{\rightskip}{0pt plus 5cm}static netdev\+\_\+tx\+\_\+t igb\+\_\+xmit\+\_\+frame (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{struct net\+\_\+device $\ast$}]{netdev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a97db7a6ae44c1bcee47c3b24e57938c6}{}\label{igb__main_8c_a97db7a6ae44c1bcee47c3b24e57938c6}


igb\+\_\+main.\+c 파일의 5770 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5772 \{
5773     \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(\hyperlink{structigb__adapter_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
5774 
5775     \textcolor{keywordflow}{if} (test\_bit(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aab1be9f6136fa1c3497705cab546c58a9}{\_\_IGB\_DOWN}, &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state})) \{
5776         dev\_kfree\_skb\_any(skb);
5777         \textcolor{keywordflow}{return} NETDEV\_TX\_OK;
5778     \}
5779 
5780     \textcolor{keywordflow}{if} (skb->len <= 0) \{
5781         dev\_kfree\_skb\_any(skb);
5782         \textcolor{keywordflow}{return} NETDEV\_TX\_OK;
5783     \}
5784 
5785     \textcolor{comment}{/*}
5786 \textcolor{comment}{     * The minimum packet size with TCTL.PSP set is 17 so pad the skb}
5787 \textcolor{comment}{     * in order to meet this minimum size requirement.}
5788 \textcolor{comment}{     */}
5789     \textcolor{keywordflow}{if} (skb->len < 17) \{
5790         \textcolor{keywordflow}{if} (skb\_padto(skb, 17))
5791             \textcolor{keywordflow}{return} NETDEV\_TX\_OK;
5792         skb->len = 17;
5793     \}
5794 
5795     \textcolor{keywordflow}{return} \hyperlink{igb__main_8c_a11149ed7be93cd983752d15eb0b5c7f2}{igb\_xmit\_frame\_ring}(skb, \hyperlink{igb__main_8c_ad91dca1907e6733eb86827110b9b27c3}{igb\_tx\_queue\_mapping}(adapter, 
      skb));
5796 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a97db7a6ae44c1bcee47c3b24e57938c6_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a97db7a6ae44c1bcee47c3b24e57938c6_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+xmit\+\_\+frame\+\_\+ring@{igb\+\_\+xmit\+\_\+frame\+\_\+ring}}
\index{igb\+\_\+xmit\+\_\+frame\+\_\+ring@{igb\+\_\+xmit\+\_\+frame\+\_\+ring}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+xmit\+\_\+frame\+\_\+ring(struct sk\+\_\+buff $\ast$skb, struct igb\+\_\+ring $\ast$tx\+\_\+ring)}{igb_xmit_frame_ring(struct sk_buff *skb, struct igb_ring *tx_ring)}}]{\setlength{\rightskip}{0pt plus 5cm}netdev\+\_\+tx\+\_\+t igb\+\_\+xmit\+\_\+frame\+\_\+ring (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{struct {\bf igb\+\_\+ring} $\ast$}]{tx\+\_\+ring}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a11149ed7be93cd983752d15eb0b5c7f2}{}\label{igb__main_8c_a11149ed7be93cd983752d15eb0b5c7f2}


igb\+\_\+main.\+c 파일의 5650 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
5652 \{
5653     \textcolor{keyword}{struct }\hyperlink{structigb__tx__buffer}{igb\_tx\_buffer} *first;
5654     \textcolor{keywordtype}{int} tso;
5655     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} \hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} = 0;
5656 \textcolor{preprocessor}{#if PAGE\_SIZE > IGB\_MAX\_DATA\_PER\_TXD}
5657     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} \hyperlink{_i_e_e_e754_plugin_test__c_8c_ac9a1bf077a6110a5f27b9bdd6030aa83}{f};
5658 \textcolor{preprocessor}{#endif}
5659     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} count = \hyperlink{kmod_2igb_2igb_8h_abe43ca0babafb6c51a544105214f8990}{TXD\_USE\_COUNT}(skb\_headlen(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb}));
5660     \_\_be16 \hyperlink{structigb__tx__buffer_ae6852c5fea84edd47e3d3ce930c41cf1}{protocol} = vlan\_get\_protocol(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb});
5661     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} hdr\_len = 0;
5662 
5663     \textcolor{comment}{/*}
5664 \textcolor{comment}{     * need: 1 descriptor per page * PAGE\_SIZE/IGB\_MAX\_DATA\_PER\_TXD,}
5665 \textcolor{comment}{     *       + 1 desc for skb\_headlen/IGB\_MAX\_DATA\_PER\_TXD,}
5666 \textcolor{comment}{     *       + 2 desc gap to keep tail from touching head,}
5667 \textcolor{comment}{     *       + 1 desc for context descriptor,}
5668 \textcolor{comment}{     * otherwise try next time}
5669 \textcolor{comment}{     */}
5670 \textcolor{preprocessor}{#if PAGE\_SIZE > IGB\_MAX\_DATA\_PER\_TXD}
5671     \textcolor{keywordflow}{for} (f = 0; f < skb\_shinfo(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb})->nr\_frags; f++)
5672         count += \hyperlink{kmod_2igb_2igb_8h_abe43ca0babafb6c51a544105214f8990}{TXD\_USE\_COUNT}(skb\_shinfo(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb})->frags[\hyperlink{_i_e_e_e754_plugin_test__c_8c_ac9a1bf077a6110a5f27b9bdd6030aa83}{f}].size);
5673 \textcolor{preprocessor}{#else}
5674     count += skb\_shinfo(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb})->nr\_frags;
5675 \textcolor{preprocessor}{#endif}
5676     \textcolor{keywordflow}{if} (\hyperlink{igb__main_8c_a07fa15ec03bb292010932287043d9bae}{igb\_maybe\_stop\_tx}(tx\_ring, count + 3)) \{
5677         \textcolor{comment}{/* this is a hard error */}
5678         \textcolor{keywordflow}{return} NETDEV\_TX\_BUSY;
5679     \}
5680 
5681     \textcolor{comment}{/* record the location of the first descriptor for this packet */}
5682     first = &tx\_ring->\hyperlink{structigb__ring_a597a573b63aa80ad839fab10dac560b8}{tx\_buffer\_info}[tx\_ring->\hyperlink{structigb__ring_a2684bbc8d097b888120edb2fb35b00f3}{next\_to\_use}];
5683     first->\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb} = \hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb};
5684     first->\hyperlink{structigb__tx__buffer_a6e36fbc12221f170fbaa8134ae4e5e7c}{bytecount} = \hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb}->len;
5685     first->\hyperlink{structigb__tx__buffer_a6c470eb193221275df0074f1af9faa47}{gso\_segs} = 1;
5686 
5687 \textcolor{preprocessor}{#ifdef HAVE\_PTP\_1588\_CLOCK}
5688 \textcolor{preprocessor}{#ifdef SKB\_SHARED\_TX\_IS\_UNION}
5689     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(skb\_tx(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb})->hardware)) \{
5690 \textcolor{preprocessor}{#else}
5691     \textcolor{keywordflow}{if} (\hyperlink{kcompat_8h_aba1e18067becc3e4b5ac1038c3f192e9}{unlikely}(skb\_shinfo(\hyperlink{structigb__tx__buffer_aeba6836824708325a83121030f092c30}{skb})->tx\_flags & SKBTX\_HW\_TSTAMP)) \{
5692 \textcolor{preprocessor}{#endif}
5693         \textcolor{keyword}{struct }\hyperlink{structigb__adapter}{igb\_adapter} *\hyperlink{structadapter}{adapter} = netdev\_priv(tx\_ring->
      \hyperlink{structigb__ring_a5b3eca5b24cb88421c27369d02ebe884}{netdev});
5694 
5695         \textcolor{keywordflow}{if} (!test\_and\_set\_bit\_lock(\hyperlink{kmod_2igb_2igb_8h_a25aa8d2a0320918ba1d960a606f52f0aa8f32c0849917c20d209bcda398552fe9}{\_\_IGB\_PTP\_TX\_IN\_PROGRESS},
5696                        &adapter->\hyperlink{structigb__adapter_af7504fc0e249186b115eb5f51a297878}{state})) \{
5697 \textcolor{preprocessor}{#ifdef SKB\_SHARED\_TX\_IS\_UNION}
5698             skb\_tx(skb)->in\_progress = 1;
5699 \textcolor{preprocessor}{#else}
5700             skb\_shinfo(skb)->tx\_flags |= SKBTX\_IN\_PROGRESS;
5701 \textcolor{preprocessor}{#endif}
5702             tx\_flags |= \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca71478ed676d09ddaac5b7c7ab55dee71}{IGB\_TX\_FLAGS\_TSTAMP};
5703 
5704             adapter->ptp\_tx\_skb = skb\_get(skb);
5705             adapter->ptp\_tx\_start = jiffies;
5706             \textcolor{keywordflow}{if} (adapter->\hyperlink{structigb__adapter_a7d5953861471302be6287c989e0b20ba}{hw}.\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576})
5707                 schedule\_work(&adapter->ptp\_tx\_work);
5708         \}
5709     \}
5710 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* HAVE\_PTP\_1588\_CLOCK */}\textcolor{preprocessor}{}
5711     skb\_tx\_timestamp(skb);
5712     \textcolor{keywordflow}{if} (skb\_vlan\_tag\_present(skb)) \{
5713         tx\_flags |= \hyperlink{kmod_2igb_2igb_8h_a43085c55834e259fd058565e4c0e821ca24dc911a1a7d7bc1185983228a876ca4}{IGB\_TX\_FLAGS\_VLAN};
5714         tx\_flags |= (skb\_vlan\_tag\_get(skb) << \hyperlink{kmod_2igb_2igb_8h_a5c20a1e6b1a3c99a39eda515f48bf4b7}{IGB\_TX\_FLAGS\_VLAN\_SHIFT});
5715     \}
5716 
5717     \textcolor{comment}{/* record initial flags and protocol */}
5718     first->\hyperlink{structigb__tx__buffer_a428012b2ca384e2898d6389025a7b6db}{tx\_flags} = tx\_flags;
5719     first->\hyperlink{structigb__tx__buffer_ae6852c5fea84edd47e3d3ce930c41cf1}{protocol} = protocol;
5720 
5721     tso = \hyperlink{igb__main_8c_ad351ae5337bfaac691faf23907d91e62}{igb\_tso}(tx\_ring, first, &hdr\_len);
5722     \textcolor{keywordflow}{if} (tso < 0)
5723         \textcolor{keywordflow}{goto} out\_drop;
5724     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!tso)
5725         \hyperlink{igb__main_8c_a4899351d862c42a504fd3e4e9dc26319}{igb\_tx\_csum}(tx\_ring, first);
5726 
5727     \hyperlink{igb__main_8c_aa0c9fcaa02f25bafdf7871fff48ae9c6}{igb\_tx\_map}(tx\_ring, first, hdr\_len);
5728 
5729 \textcolor{preprocessor}{#ifndef HAVE\_TRANS\_START\_IN\_QUEUE}
5730     \hyperlink{kmod_2igb_2igb_8h_a445eb115e99868b38353c69214669db8}{netdev\_ring}(tx\_ring)->trans\_start = jiffies;
5731 
5732 \textcolor{preprocessor}{#endif}
5733     \textcolor{comment}{/* Make sure there is space in the ring for the next send. */}
5734     \hyperlink{igb__main_8c_a07fa15ec03bb292010932287043d9bae}{igb\_maybe\_stop\_tx}(tx\_ring, \hyperlink{kmod_2igb_2igb_8h_af8de05bee6d805501dae4b0249c2e752}{DESC\_NEEDED});
5735 
5736     \textcolor{keywordflow}{return} NETDEV\_TX\_OK;
5737 
5738 out\_drop:
5739     \hyperlink{igb__main_8c_a5b413cff95b6dfd80c127049e6fecd89}{igb\_unmap\_and\_free\_tx\_resource}(tx\_ring, first);
5740 
5741     \textcolor{keywordflow}{return} NETDEV\_TX\_OK;
5742 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a11149ed7be93cd983752d15eb0b5c7f2_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{igb__main_8c_a11149ed7be93cd983752d15eb0b5c7f2_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+OR@{M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+OR}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+OR@{M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+OR}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+O\+R(""Intel Corporation, $<$e1000-\/devel"@lists.\+sourceforge.\+net$>$"")}{MODULE_AUTHOR("Intel Corporation, <e1000-devel@lists.sourceforge.net>")}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+A\+U\+T\+H\+OR (
\begin{DoxyParamCaption}
\item[{\char`\"{}Intel}]{Corporation, }
\item[{$<$ e1000-\/devel @lists.\+sourceforge.\+net $>$\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a60e5621c74b19d64f8b66a74f2b5cd38}{}\label{igb__main_8c_a60e5621c74b19d64f8b66a74f2b5cd38}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON@{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON@{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+O\+N(""Intel(\+R) Gigabit Ethernet Network Driver"")}{MODULE_DESCRIPTION("Intel(R) Gigabit Ethernet Network Driver")}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+S\+C\+R\+I\+P\+T\+I\+ON (
\begin{DoxyParamCaption}
\item[{\char`\"{}Intel(R) Gigabit Ethernet Network Driver\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aad730705652c3bde69196745879b3100}{}\label{igb__main_8c_aad730705652c3bde69196745879b3100}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+LE@{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+LE}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+LE@{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+LE}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+L\+E(pci, igb\+\_\+pci\+\_\+tbl)}{MODULE_DEVICE_TABLE(pci, igb_pci_tbl)}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+A\+B\+LE (
\begin{DoxyParamCaption}
\item[{pci}]{, }
\item[{{\bf igb\+\_\+pci\+\_\+tbl}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ac675c48b8e73c5511a61d23a7e5d78fe}{}\label{igb__main_8c_ac675c48b8e73c5511a61d23a7e5d78fe}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!module\+\_\+exit@{module\+\_\+exit}}
\index{module\+\_\+exit@{module\+\_\+exit}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{module\+\_\+exit(igb\+\_\+exit\+\_\+module)}{module_exit(igb_exit_module)}}]{\setlength{\rightskip}{0pt plus 5cm}module\+\_\+exit (
\begin{DoxyParamCaption}
\item[{{\bf igb\+\_\+exit\+\_\+module}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aa8bbe25623175b4758d092652c11af1a}{}\label{igb__main_8c_aa8bbe25623175b4758d092652c11af1a}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{igb__main_8c_aa8bbe25623175b4758d092652c11af1a_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!module\+\_\+init@{module\+\_\+init}}
\index{module\+\_\+init@{module\+\_\+init}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{module\+\_\+init(igb\+\_\+init\+\_\+module)}{module_init(igb_init_module)}}]{\setlength{\rightskip}{0pt plus 5cm}module\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf igb\+\_\+init\+\_\+module}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a3bbfaa48dfae072897e888501caa3e0b}{}\label{igb__main_8c_a3bbfaa48dfae072897e888501caa3e0b}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{igb__main_8c_a3bbfaa48dfae072897e888501caa3e0b_icgraph}
\end{center}
\end{figure}


\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+SE@{M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+SE}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+SE@{M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+SE}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+S\+E(""G\+PL"")}{MODULE_LICENSE("GPL")}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+L\+I\+C\+E\+N\+SE (
\begin{DoxyParamCaption}
\item[{\char`\"{}G\+PL\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ad94b36675e7eb067ea3ce6ff9e244a44}{}\label{igb__main_8c_ad94b36675e7eb067ea3ce6ff9e244a44}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!module\+\_\+param@{module\+\_\+param}}
\index{module\+\_\+param@{module\+\_\+param}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{module\+\_\+param(debug, int, 0)}{module_param(debug, int, 0)}}]{\setlength{\rightskip}{0pt plus 5cm}module\+\_\+param (
\begin{DoxyParamCaption}
\item[{{\bf debug}}]{, }
\item[{int}]{, }
\item[{0}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_af2ed732a8364b5952289a8dba5d9b820}{}\label{igb__main_8c_af2ed732a8364b5952289a8dba5d9b820}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!module\+\_\+param@{module\+\_\+param}}
\index{module\+\_\+param@{module\+\_\+param}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{module\+\_\+param(tx\+\_\+size, int, 0)}{module_param(tx_size, int, 0)}}]{\setlength{\rightskip}{0pt plus 5cm}module\+\_\+param (
\begin{DoxyParamCaption}
\item[{{\bf tx\+\_\+size}}]{, }
\item[{int}]{, }
\item[{0}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_aff834ff058ca6117efcc343f992cfbf4}{}\label{igb__main_8c_aff834ff058ca6117efcc343f992cfbf4}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC@{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC@{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+S\+C(debug,""Debug level (0=none, ..., 16=all)"")}{MODULE_PARM_DESC(debug,"Debug level (0=none, ..., 16=all)")}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC (
\begin{DoxyParamCaption}
\item[{{\bf debug}}]{, }
\item[{\char`\"{}Debug level (0=none, ..., 16=all)\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_ad6347f244a24c452c219dbe2f43bab21}{}\label{igb__main_8c_ad6347f244a24c452c219dbe2f43bab21}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC@{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC@{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+S\+C(tx\+\_\+size,""Tx Ring size passed in insmod parameter"")}{MODULE_PARM_DESC(tx_size,"Tx Ring size passed in insmod parameter")}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+P\+A\+R\+M\+\_\+\+D\+E\+SC (
\begin{DoxyParamCaption}
\item[{{\bf tx\+\_\+size}}]{, }
\item[{\char`\"{}Tx Ring {\bf size} passed {\bf in} insmod parameter\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_a1710462c697a0d57003326ad3b5a6e77}{}\label{igb__main_8c_a1710462c697a0d57003326ad3b5a6e77}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+ON@{M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+ON@{M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+ON}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+O\+N(\+D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+O\+N)}{MODULE_VERSION(DRV_VERSION)}}]{\setlength{\rightskip}{0pt plus 5cm}M\+O\+D\+U\+L\+E\+\_\+\+V\+E\+R\+S\+I\+ON (
\begin{DoxyParamCaption}
\item[{{\bf D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}}]{}
\end{DoxyParamCaption}
)}\hypertarget{igb__main_8c_af9693326f78b9c2c1e510d0d461e1e9d}{}\label{igb__main_8c_af9693326f78b9c2c1e510d0d461e1e9d}


\subsection{변수 문서화}
\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!debug@{debug}}
\index{debug@{debug}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{debug}{debug}}]{\setlength{\rightskip}{0pt plus 5cm}int debug = N\+E\+T\+I\+F\+\_\+\+M\+S\+G\+\_\+\+D\+RV $\vert$ N\+E\+T\+I\+F\+\_\+\+M\+S\+G\+\_\+\+P\+R\+O\+BE\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ac3e1795766a80ec63b157951b4b9a7d4}{}\label{igb__main_8c_ac3e1795766a80ec63b157951b4b9a7d4}


igb\+\_\+main.\+c 파일의 377 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+copyright@{igb\+\_\+copyright}}
\index{igb\+\_\+copyright@{igb\+\_\+copyright}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+copyright}{igb_copyright}}]{\setlength{\rightskip}{0pt plus 5cm}const char igb\+\_\+copyright\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a5a472f980d2c99065060c082a3f80376}{}\label{igb__main_8c_a5a472f980d2c99065060c082a3f80376}
{\bfseries 초기값\+:}
\begin{DoxyCode}
=
                \textcolor{stringliteral}{"Copyright (c) 2007-2015 Intel Corporation."}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 91 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+driver@{igb\+\_\+driver}}
\index{igb\+\_\+driver@{igb\+\_\+driver}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+driver}{igb_driver}}]{\setlength{\rightskip}{0pt plus 5cm}struct pci\+\_\+driver igb\+\_\+driver\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a45fd99b8fd5045e69f4ae20d76acbd1c}{}\label{igb__main_8c_a45fd99b8fd5045e69f4ae20d76acbd1c}
{\bfseries 초기값\+:}
\begin{DoxyCode}
= \{
    .name     = \hyperlink{igb__main_8c_a97163b5e0ff86098986aebe2b9e8ccfe}{igb\_driver\_name},
    .id\_table = \hyperlink{igb__main_8c_af07553d6773aa7c264ce9980b92e820e}{igb\_pci\_tbl},
    .probe    = \hyperlink{igb__main_8c_a3dc01fffcfed5bb0e37638d7eb52b14f}{igb\_probe},
    .remove   = \hyperlink{kcompat_8h_a38edda0e34904f65131652d822ab78d3}{\_\_devexit\_p}(\hyperlink{igb__main_8c_a3261c3d84d5f657f567d8c097bef6647}{igb\_remove}),







 

    .shutdown = \hyperlink{igb__main_8c_a2acc534a9271321a651905441e87b311}{igb\_shutdown},


    .err\_handler = &\hyperlink{igb__main_8c_aa6882dccbf4fcc9b1202808f7df1771d}{igb\_err\_handler}

\}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 322 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+driver\+\_\+name@{igb\+\_\+driver\+\_\+name}}
\index{igb\+\_\+driver\+\_\+name@{igb\+\_\+driver\+\_\+name}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+driver\+\_\+name}{igb_driver_name}}]{\setlength{\rightskip}{0pt plus 5cm}char igb\+\_\+driver\+\_\+name\mbox{[}$\,$\mbox{]} = \char`\"{}igb\+\_\+avb\char`\"{}}\hypertarget{igb__main_8c_a97163b5e0ff86098986aebe2b9e8ccfe}{}\label{igb__main_8c_a97163b5e0ff86098986aebe2b9e8ccfe}


igb\+\_\+main.\+c 파일의 87 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+driver\+\_\+string@{igb\+\_\+driver\+\_\+string}}
\index{igb\+\_\+driver\+\_\+string@{igb\+\_\+driver\+\_\+string}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+driver\+\_\+string}{igb_driver_string}}]{\setlength{\rightskip}{0pt plus 5cm}const char igb\+\_\+driver\+\_\+string\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a6015f0d20a636b9a059f712be80e052e}{}\label{igb__main_8c_a6015f0d20a636b9a059f712be80e052e}
{\bfseries 초기값\+:}
\begin{DoxyCode}
=
                \textcolor{stringliteral}{"Intel(R) Gigabit Ethernet Network Driver"}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 89 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+driver\+\_\+version@{igb\+\_\+driver\+\_\+version}}
\index{igb\+\_\+driver\+\_\+version@{igb\+\_\+driver\+\_\+version}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+driver\+\_\+version}{igb_driver_version}}]{\setlength{\rightskip}{0pt plus 5cm}char igb\+\_\+driver\+\_\+version\mbox{[}$\,$\mbox{]} = {\bf D\+R\+V\+\_\+\+V\+E\+R\+S\+I\+ON}}\hypertarget{igb__main_8c_a574edf7c28cc8e5a00702d7a581e710a}{}\label{igb__main_8c_a574edf7c28cc8e5a00702d7a581e710a}


igb\+\_\+main.\+c 파일의 88 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+err\+\_\+handler@{igb\+\_\+err\+\_\+handler}}
\index{igb\+\_\+err\+\_\+handler@{igb\+\_\+err\+\_\+handler}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+err\+\_\+handler}{igb_err_handler}}]{\setlength{\rightskip}{0pt plus 5cm}struct pci\+\_\+error\+\_\+handlers igb\+\_\+err\+\_\+handler\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa6882dccbf4fcc9b1202808f7df1771d}{}\label{igb__main_8c_aa6882dccbf4fcc9b1202808f7df1771d}
{\bfseries 초기값\+:}
\begin{DoxyCode}
= \{
    .error\_detected = \hyperlink{igb__main_8c_a93442300489d906fd231218bf887b541}{igb\_io\_error\_detected},
    .slot\_reset = \hyperlink{igb__main_8c_a214dc8ba6f8d109b33a01c70aa754e69}{igb\_io\_slot\_reset},
    .resume = \hyperlink{igb__main_8c_a2b8a714dd3d7f2dba5ed55175dcd17eb}{igb\_io\_resume},
\}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 291 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+fops@{igb\+\_\+fops}}
\index{igb\+\_\+fops@{igb\+\_\+fops}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+fops}{igb_fops}}]{\setlength{\rightskip}{0pt plus 5cm}struct file\+\_\+operations igb\+\_\+fops\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a4448e0d951f22c66111a3228355915ad}{}\label{igb__main_8c_a4448e0d951f22c66111a3228355915ad}
{\bfseries 초기값\+:}
\begin{DoxyCode}
= \{
        .owner   = THIS\_MODULE,
        .llseek  = no\_llseek,
        .read   = \hyperlink{igb__main_8c_a14930973d792b5c52741e66f7f2cacfe}{igb\_read},
        .write   = \hyperlink{igb__main_8c_a305f1185c76fe2d493a5566d24e9bd13}{igb\_write},
        .poll   = \hyperlink{igb__main_8c_a83853a0a7fe74843bcbfb5f430aee020}{igb\_pollfd},
        .open   = \hyperlink{igb__main_8c_a04f55556365079d831d0d93d07a2c38c}{igb\_open\_file},
        .release = \hyperlink{igb__main_8c_aa77102ece423b66b97a6f2377f427c08}{igb\_close\_file},
        .mmap   = \hyperlink{igb__main_8c_ab1b42c6a3058ce5f661f5b02d1a5d16c}{igb\_mmap},
        .unlocked\_ioctl = \hyperlink{igb__main_8c_ae5bd4c417e2489bb0385cab2a7489a9e}{igb\_ioctl\_file},



\}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 301 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+miscdev@{igb\+\_\+miscdev}}
\index{igb\+\_\+miscdev@{igb\+\_\+miscdev}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+miscdev}{igb_miscdev}}]{\setlength{\rightskip}{0pt plus 5cm}struct miscdevice igb\+\_\+miscdev\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a56502b636655b8aa8730204ae9e8dd28}{}\label{igb__main_8c_a56502b636655b8aa8730204ae9e8dd28}
{\bfseries 초기값\+:}
\begin{DoxyCode}
= \{
        .minor = MISC\_DYNAMIC\_MINOR,
        .name = \textcolor{stringliteral}{"igb\_avb"},
        .fops = &\hyperlink{igb__main_8c_a4448e0d951f22c66111a3228355915ad}{igb\_fops},
\}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 316 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+mmap\+\_\+ops@{igb\+\_\+mmap\+\_\+ops}}
\index{igb\+\_\+mmap\+\_\+ops@{igb\+\_\+mmap\+\_\+ops}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+mmap\+\_\+ops}{igb_mmap_ops}}]{\setlength{\rightskip}{0pt plus 5cm}struct vm\+\_\+operations\+\_\+struct igb\+\_\+mmap\+\_\+ops\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_a48307be98c937323bbdee49cbe7b9499}{}\label{igb__main_8c_a48307be98c937323bbdee49cbe7b9499}
{\bfseries 초기값\+:}
\begin{DoxyCode}
= \{
        .open   = \hyperlink{igb__main_8c_ae0d8eafe762b3a9360446cf45069c223}{igb\_vm\_open},
        .close  = \hyperlink{igb__main_8c_a1391163aae4c801e33d16454dc40369e}{igb\_vm\_close},
        .fault  = \hyperlink{igb__main_8c_a1df79f624af7e65de42da01f08a3a755}{igb\_vm\_fault}
\}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 236 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+netdev\+\_\+ops@{igb\+\_\+netdev\+\_\+ops}}
\index{igb\+\_\+netdev\+\_\+ops@{igb\+\_\+netdev\+\_\+ops}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+netdev\+\_\+ops}{igb_netdev_ops}}]{\setlength{\rightskip}{0pt plus 5cm}const struct net\+\_\+device\+\_\+ops igb\+\_\+netdev\+\_\+ops\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_ace4acbec9b710babfe6c7865609b49f7}{}\label{igb__main_8c_ace4acbec9b710babfe6c7865609b49f7}


igb\+\_\+main.\+c 파일의 2356 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!igb\+\_\+pci\+\_\+tbl@{igb\+\_\+pci\+\_\+tbl}}
\index{igb\+\_\+pci\+\_\+tbl@{igb\+\_\+pci\+\_\+tbl}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{igb\+\_\+pci\+\_\+tbl}{igb_pci_tbl}}]{\setlength{\rightskip}{0pt plus 5cm}const struct pci\+\_\+device\+\_\+id igb\+\_\+pci\+\_\+tbl\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_af07553d6773aa7c264ce9980b92e820e}{}\label{igb__main_8c_af07553d6773aa7c264ce9980b92e820e}
{\bfseries 초기값\+:}
\begin{DoxyCode}
= \{
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_a6ef33013b15c6f54c68ca8ee78d6558c}{E1000\_DEV\_ID\_I210\_COPPER}) \},
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_ab61426ff738177c7c6f789477c64f53c}{E1000\_DEV\_ID\_I210\_FIBER}) \},
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_a04906351eeddabd96f5be8c3da71ff68}{E1000\_DEV\_ID\_I210\_SERDES}) \},
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_aee379281a69dffb77588be761aec1a95}{E1000\_DEV\_ID\_I210\_SGMII}) \},
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_a18dbf291d9922d8dd01b1136bac39da0}{E1000\_DEV\_ID\_I210\_AUTOMOTIVE}) \},
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_aee2f070891e957588cd19b7ec16ae7cb}{E1000\_DEV\_ID\_I210\_COPPER\_FLASHLESS}) \},
    \{ PCI\_VDEVICE(INTEL, \hyperlink{kmod_2igb_2e1000__hw_8h_a7f2f322249c33d6bf280ca5797495732}{E1000\_DEV\_ID\_I210\_SERDES\_FLASHLESS}) \},
    
    \{0, \}
\}
\end{DoxyCode}


igb\+\_\+main.\+c 파일의 94 번째 라인에서 정의되었습니다.

\index{igb\+\_\+main.\+c@{igb\+\_\+main.\+c}!tx\+\_\+size@{tx\+\_\+size}}
\index{tx\+\_\+size@{tx\+\_\+size}!igb\+\_\+main.\+c@{igb\+\_\+main.\+c}}
\subsubsection[{\texorpdfstring{tx\+\_\+size}{tx_size}}]{\setlength{\rightskip}{0pt plus 5cm}int tx\+\_\+size = 256\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}{}\label{igb__main_8c_aa98bd497b57fdee54adb024f46bc6e82}


igb\+\_\+main.\+c 파일의 382 번째 라인에서 정의되었습니다.

