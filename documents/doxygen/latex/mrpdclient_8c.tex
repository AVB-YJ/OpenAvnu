\hypertarget{mrpdclient_8c}{}\section{examples/mrp\+\_\+client/mrpdclient.c 파일 참조}
\label{mrpdclient_8c}\index{examples/mrp\+\_\+client/mrpdclient.\+c@{examples/mrp\+\_\+client/mrpdclient.\+c}}
{\ttfamily \#include $<$fcntl.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}mrpd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mrpdclient.\+h\char`\"{}}\\*
mrpdclient.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mrpdclient_8c__incl}
\end{center}
\end{figure}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{mrpdclient_8c_a86398ff28353622452f6cb48917cc6ef}{mrpdclient\+\_\+init} (void)
\item 
int \hyperlink{mrpdclient_8c_aa4b8e8554b0dd71a41dab7280373d736}{mrpdclient\+\_\+close} (S\+O\+C\+K\+ET $\ast$\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\+\_\+sock})
\item 
int \hyperlink{mrpdclient_8c_aa06f3394689317153319bfcfc7a0b768}{mrpdclient\+\_\+recv} (S\+O\+C\+K\+ET \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\+\_\+sock}, \hyperlink{mrpdclient_8h_a73d1a21b9b797e95e2a8107ada4d7ba6}{ptr\+\_\+process\+\_\+mrpd\+\_\+msg} fn)
\item 
int \hyperlink{mrpdclient_8c_a7e64db75589496619f99fe18357d2761}{mrpdclient\+\_\+sendto} (S\+O\+C\+K\+ET \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\+\_\+sock}, char $\ast$notify\+\_\+data, int notify\+\_\+len)
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\index{mrpdclient.\+c@{mrpdclient.\+c}!mrpdclient\+\_\+close@{mrpdclient\+\_\+close}}
\index{mrpdclient\+\_\+close@{mrpdclient\+\_\+close}!mrpdclient.\+c@{mrpdclient.\+c}}
\subsubsection[{\texorpdfstring{mrpdclient\+\_\+close(\+S\+O\+C\+K\+E\+T $\ast$mrpd\+\_\+sock)}{mrpdclient_close(SOCKET *mrpd_sock)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpdclient\+\_\+close (
\begin{DoxyParamCaption}
\item[{S\+O\+C\+K\+ET $\ast$}]{mrpd\+\_\+sock}
\end{DoxyParamCaption}
)}\hypertarget{mrpdclient_8c_aa4b8e8554b0dd71a41dab7280373d736}{}\label{mrpdclient_8c_aa4b8e8554b0dd71a41dab7280373d736}


mrpdclient.\+c 파일의 90 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
91 \{
92     \textcolor{keywordtype}{int} rc;
93 
94     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock})
95         \textcolor{keywordflow}{return} -1;
96 
97     rc = \hyperlink{mrpdclient_8c_a7e64db75589496619f99fe18357d2761}{mrpdclient\_sendto}(*\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock}, \textcolor{stringliteral}{"BYE"}, strlen(\textcolor{stringliteral}{"BYE"}) + 1);
98     \textcolor{keywordflow}{if} (rc != strlen(\textcolor{stringliteral}{"BYE"}) + 1)
99         \textcolor{keywordflow}{return} -1;
100 
101     \textcolor{keywordflow}{if} (SOCKET\_ERROR != *\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock})
102         closesocket(*\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock});
103     *\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock} = SOCKET\_ERROR;
104 
105     \textcolor{keywordflow}{return} 0;
106 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{mrpdclient_8c_aa4b8e8554b0dd71a41dab7280373d736_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{mrpdclient_8c_aa4b8e8554b0dd71a41dab7280373d736_icgraph}
\end{center}
\end{figure}


\index{mrpdclient.\+c@{mrpdclient.\+c}!mrpdclient\+\_\+init@{mrpdclient\+\_\+init}}
\index{mrpdclient\+\_\+init@{mrpdclient\+\_\+init}!mrpdclient.\+c@{mrpdclient.\+c}}
\subsubsection[{\texorpdfstring{mrpdclient\+\_\+init(void)}{mrpdclient_init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpdclient\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{mrpdclient_8c_a86398ff28353622452f6cb48917cc6ef}{}\label{mrpdclient_8c_a86398ff28353622452f6cb48917cc6ef}


mrpdclient.\+c 파일의 53 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
54 \{
55     SOCKET \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock} = SOCKET\_ERROR;
56     \textcolor{keyword}{struct }sockaddr\_in addr;
57     \textcolor{keywordtype}{int} rc;
58 
59     mrpd\_sock = socket(AF\_INET, SOCK\_DGRAM, 0);
60     \textcolor{keywordflow}{if} (mrpd\_sock == \hyperlink{openavb__acmp__message_8c_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET})
61         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
62 
63     rc = setsockopt(mrpd\_sock, SOL\_SOCKET, SO\_RCVTIMEO,
64             (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)&rcv\_timeout, \textcolor{keyword}{sizeof}(rcv\_timeout));
65     \textcolor{keywordflow}{if} (rc != 0)
66         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
67     rc = setsockopt(mrpd\_sock, SOL\_SOCKET, SO\_SNDTIMEO,
68             (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)&rcv\_timeout, \textcolor{keyword}{sizeof}(rcv\_timeout));
69     \textcolor{keywordflow}{if} (rc != 0)
70         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
71 
72     memset(&addr, 0, \textcolor{keyword}{sizeof}(addr));
73     addr.sin\_family = AF\_INET;
74     addr.sin\_port = htons(0);
75 
76     rc = bind(mrpd\_sock, (\textcolor{keyword}{struct} sockaddr *)&addr,
77           \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} sockaddr));
78     \textcolor{keywordflow}{if} (rc <= SOCKET\_ERROR)
79         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
80 
81     \textcolor{keywordflow}{return} \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock};
82 
83  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
84     \textcolor{keywordflow}{if} (mrpd\_sock != SOCKET\_ERROR)
85         closesocket(mrpd\_sock);
86 
87     \textcolor{keywordflow}{return} SOCKET\_ERROR;
88 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{mrpdclient_8c_a86398ff28353622452f6cb48917cc6ef_icgraph}
\end{center}
\end{figure}


\index{mrpdclient.\+c@{mrpdclient.\+c}!mrpdclient\+\_\+recv@{mrpdclient\+\_\+recv}}
\index{mrpdclient\+\_\+recv@{mrpdclient\+\_\+recv}!mrpdclient.\+c@{mrpdclient.\+c}}
\subsubsection[{\texorpdfstring{mrpdclient\+\_\+recv(\+S\+O\+C\+K\+E\+T mrpd\+\_\+sock, ptr\+\_\+process\+\_\+mrpd\+\_\+msg fn)}{mrpdclient_recv(SOCKET mrpd_sock, ptr_process_mrpd_msg fn)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpdclient\+\_\+recv (
\begin{DoxyParamCaption}
\item[{S\+O\+C\+K\+ET}]{mrpd\+\_\+sock, }
\item[{{\bf ptr\+\_\+process\+\_\+mrpd\+\_\+msg}}]{fn}
\end{DoxyParamCaption}
)}\hypertarget{mrpdclient_8c_aa06f3394689317153319bfcfc7a0b768}{}\label{mrpdclient_8c_aa06f3394689317153319bfcfc7a0b768}


mrpdclient.\+c 파일의 108 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
109 \{
110     \textcolor{keywordtype}{char} *\hyperlink{mrp_validate_8c_a3820841c4bbf28f04505bea65d6b84f7}{msgbuf};
111     \textcolor{keywordtype}{int} bytes = 0;
112 
113     \textcolor{keywordflow}{if} (SOCKET\_ERROR == \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock})
114         \textcolor{keywordflow}{return} -1;
115 
116     msgbuf = (\textcolor{keywordtype}{char} *)\hyperlink{_memory_leak_detector_malloc_macros_8h_ab8b25cd8f16d4a6552afe4e65c4f082d}{malloc}(\hyperlink{mrpdclient_8h_ada01ce924300456eaad557ae8f1c52ae}{MRPDCLIENT\_MAX\_MSG\_SIZE});
117     \textcolor{keywordflow}{if} (\hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} == msgbuf)
118         \textcolor{keywordflow}{return} -1;
119 
120     memset(msgbuf, 0, \hyperlink{mrpdclient_8h_ada01ce924300456eaad557ae8f1c52ae}{MRPDCLIENT\_MAX\_MSG\_SIZE});
121     bytes = recv(\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock}, msgbuf, \hyperlink{mrpdclient_8h_ada01ce924300456eaad557ae8f1c52ae}{MRPDCLIENT\_MAX\_MSG\_SIZE}, 0);
122     \textcolor{keywordflow}{if} (bytes <= SOCKET\_ERROR) \{
123         \textcolor{keywordflow}{goto} \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out};
124     \}
125 
126     \textcolor{keywordflow}{return} fn(msgbuf, bytes);
127  \hyperlink{jack__listener_8c_a1cdcf0ac9be9edf74b8fcedb01e26cf3}{out}:
128     \hyperlink{_memory_leak_detector_malloc_macros_8h_aa7157aa9480bb73f090dca36776419bf}{free}(msgbuf);
129     \textcolor{keywordflow}{return} (-1);
130 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mrpdclient_8c_aa06f3394689317153319bfcfc7a0b768_icgraph}
\end{center}
\end{figure}


\index{mrpdclient.\+c@{mrpdclient.\+c}!mrpdclient\+\_\+sendto@{mrpdclient\+\_\+sendto}}
\index{mrpdclient\+\_\+sendto@{mrpdclient\+\_\+sendto}!mrpdclient.\+c@{mrpdclient.\+c}}
\subsubsection[{\texorpdfstring{mrpdclient\+\_\+sendto(\+S\+O\+C\+K\+E\+T mrpd\+\_\+sock, char $\ast$notify\+\_\+data, int notify\+\_\+len)}{mrpdclient_sendto(SOCKET mrpd_sock, char *notify_data, int notify_len)}}]{\setlength{\rightskip}{0pt plus 5cm}int mrpdclient\+\_\+sendto (
\begin{DoxyParamCaption}
\item[{S\+O\+C\+K\+ET}]{mrpd\+\_\+sock, }
\item[{char $\ast$}]{notify\+\_\+data, }
\item[{int}]{notify\+\_\+len}
\end{DoxyParamCaption}
)}\hypertarget{mrpdclient_8c_a7e64db75589496619f99fe18357d2761}{}\label{mrpdclient_8c_a7e64db75589496619f99fe18357d2761}


mrpdclient.\+c 파일의 132 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
133 \{
134     \textcolor{keyword}{struct }sockaddr\_in addr;
135     socklen\_t addr\_len;
136 
137     \textcolor{keywordflow}{if} (SOCKET\_ERROR == \hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock})
138         \textcolor{keywordflow}{return} -1;
139 
140     memset(&addr, 0, \textcolor{keyword}{sizeof}(addr));
141     addr.sin\_family = AF\_INET;
142     addr.sin\_port = htons(\hyperlink{mrpd_8h_a957ecb95a01b342339073f6422eb2bf9}{MRPD\_PORT\_DEFAULT});
143     addr.sin\_addr.s\_addr = inet\_addr(\textcolor{stringliteral}{"127.0.0.1"});
144     addr\_len = \textcolor{keyword}{sizeof}(addr);
145 
146     \textcolor{keywordflow}{return} sendto(\hyperlink{mrp_validate_8c_a7c6126ba8f26829f864321a56ba52389}{mrpd\_sock}, notify\_data, notify\_len, 0,
147         (\textcolor{keyword}{struct} sockaddr *)&addr, addr\_len);
148 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{mrpdclient_8c_a7e64db75589496619f99fe18357d2761_icgraph}
\end{center}
\end{figure}


