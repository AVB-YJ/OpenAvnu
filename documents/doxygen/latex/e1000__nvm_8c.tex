\hypertarget{e1000__nvm_8c}{}\section{kmod/igb/e1000\+\_\+nvm.c 파일 참조}
\label{e1000__nvm_8c}\index{kmod/igb/e1000\+\_\+nvm.\+c@{kmod/igb/e1000\+\_\+nvm.\+c}}
{\ttfamily \#include \char`\"{}e1000\+\_\+api.\+h\char`\"{}}\\*
e1000\+\_\+nvm.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c__incl}
\end{center}
\end{figure}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{e1000__nvm_8c_a6cf2f625aa1fd3702d4c476a27fc7ac0}{e1000\+\_\+reload\+\_\+nvm\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
void \hyperlink{e1000__nvm_8c_ae1ddc7a8846baed54958b7e9ae0134fb}{e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a854c4eb7ef8215fbbc9b18140a587325}{e1000\+\_\+null\+\_\+read\+\_\+nvm} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} a, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} b, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$\hyperlink{shaper__daemon_8c_a4e1e0e72dd773439e333c84dd762a9c3}{c})
\item 
void \hyperlink{e1000__nvm_8c_a005c71ab5ed8b6b7335175eb5c048613}{e1000\+\_\+null\+\_\+nvm\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$hw)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a0cd552ac2ae4f58a2c214a53c04948b2}{e1000\+\_\+null\+\_\+led\+\_\+default} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$data)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a5b3ac4d8af03f6750dde529c274aa75a}{e1000\+\_\+null\+\_\+write\+\_\+nvm} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} a, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} b, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{kmod_2igb_2e1000__defines_8h_ae5905ef8e0121f9c2365fb4982da6756}{E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$\hyperlink{shaper__daemon_8c_a4e1e0e72dd773439e333c84dd762a9c3}{c})
\item 
static void \hyperlink{e1000__nvm_8c_a38eade06c369bb0942444d141f42a3e8}{e1000\+\_\+raise\+\_\+eec\+\_\+clk} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$eecd)
\item 
static void \hyperlink{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994}{e1000\+\_\+lower\+\_\+eec\+\_\+clk} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$eecd)
\item 
static void \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} data, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} count)
\item 
static \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e}{e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} count)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_ac4473fca912767af8d39e5db83e1f28a}{e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, int ee\+\_\+reg)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_ad7de08f9543503fd0d5e4c378c5fe69a}{e1000\+\_\+acquire\+\_\+nvm\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
static void \hyperlink{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{e1000\+\_\+standby\+\_\+nvm} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
static void \hyperlink{e1000__nvm_8c_aae7064ad10a7d90f1d85dbb38af3621e}{e1000\+\_\+stop\+\_\+nvm} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
void \hyperlink{e1000__nvm_8c_ab61cbe2ca912b2fd9bf44f0dcb3da728}{e1000\+\_\+release\+\_\+nvm\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
static \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d}{e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_aa395f4cb1eeb96aa8098525300070fb1}{e1000\+\_\+read\+\_\+nvm\+\_\+spi} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} offset, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} words, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$data)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a76cdc4849e49e06fae7e8fe0474b4ecb}{e1000\+\_\+read\+\_\+nvm\+\_\+eerd} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} offset, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} words, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$data)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a5261c4d513480fdab42dae202eaebc98}{e1000\+\_\+write\+\_\+nvm\+\_\+spi} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} offset, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} words, \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} $\ast$data)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a5d2119bd00236ef5a82e9a1b5a68cee5}{e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} $\ast$pba\+\_\+num, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} pba\+\_\+num\+\_\+size)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_aa72a4384d5e6c76426fa2e3d800959bc}{e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} $\ast$pba\+\_\+num\+\_\+size)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a50f297c99052ff736781b8c2b35b8827}{e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_ae3402541b253b31da66c2be503f2389a}{e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
\hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{e1000__nvm_8c_a4e7c937c56f8af64dc6b33974a986276}{e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw)
\item 
void \hyperlink{e1000__nvm_8c_a9a73f0cae8e849fee466507a8ab1e222}{e1000\+\_\+get\+\_\+fw\+\_\+version} (struct \hyperlink{structe1000__hw}{e1000\+\_\+hw} $\ast$hw, struct \hyperlink{structe1000__fw__version}{e1000\+\_\+fw\+\_\+version} $\ast$fw\+\_\+vers)
\end{DoxyCompactItemize}


\subsection{함수 문서화}
\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+acquire\+\_\+nvm\+\_\+generic@{e1000\+\_\+acquire\+\_\+nvm\+\_\+generic}}
\index{e1000\+\_\+acquire\+\_\+nvm\+\_\+generic@{e1000\+\_\+acquire\+\_\+nvm\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+acquire\+\_\+nvm\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_acquire_nvm_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+acquire\+\_\+nvm\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_ad7de08f9543503fd0d5e4c378c5fe69a}{}\label{e1000__nvm_8c_ad7de08f9543503fd0d5e4c378c5fe69a}
e1000\+\_\+acquire\+\_\+nvm\+\_\+generic -\/ Generic request for access to E\+E\+P\+R\+OM \+: pointer to the HW structure

Set the E\+E\+P\+R\+OM access request bit and wait for E\+E\+P\+R\+OM access grant bit. Return successful if access grant bit set, else clear the request for E\+E\+P\+R\+OM access and return -\/\+E1000\+\_\+\+E\+R\+R\+\_\+\+N\+VM (-\/1). 

e1000\+\_\+nvm.\+c 파일의 248 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
249 \{
250     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
251     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout} = \hyperlink{kmod_2igb_2e1000__defines_8h_a2a5789a488425f2a84d7d536ac22d0a9}{E1000\_NVM\_GRANT\_ATTEMPTS};
252 
253     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_acquire\_nvm\_generic"});
254 
255     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd | 
      \hyperlink{kmod_2igb_2e1000__defines_8h_abcb2c3d2e9fc7fb988abca6bd0206c76}{E1000\_EECD\_REQ});
256     eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
257 
258     \textcolor{keywordflow}{while} (timeout) \{
259         \textcolor{keywordflow}{if} (eecd & \hyperlink{kmod_2igb_2e1000__defines_8h_a72f52ebcc54f78be8b6acf693d211923}{E1000\_EECD\_GNT})
260             \textcolor{keywordflow}{break};
261         \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(5);
262         eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
263         timeout--;
264     \}
265 
266     \textcolor{keywordflow}{if} (!timeout) \{
267         eecd &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_abcb2c3d2e9fc7fb988abca6bd0206c76}{E1000\_EECD\_REQ};
268         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
269         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"Could not acquire NVM grant\(\backslash\)n"});
270         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
271     \}
272 
273     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
274 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ad7de08f9543503fd0d5e4c378c5fe69a_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ad7de08f9543503fd0d5e4c378c5fe69a_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+get\+\_\+fw\+\_\+version@{e1000\+\_\+get\+\_\+fw\+\_\+version}}
\index{e1000\+\_\+get\+\_\+fw\+\_\+version@{e1000\+\_\+get\+\_\+fw\+\_\+version}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+get\+\_\+fw\+\_\+version(struct e1000\+\_\+hw $\ast$hw, struct e1000\+\_\+fw\+\_\+version $\ast$fw\+\_\+vers)}{e1000_get_fw_version(struct e1000_hw *hw, struct e1000_fw_version *fw_vers)}}]{\setlength{\rightskip}{0pt plus 5cm}void e1000\+\_\+get\+\_\+fw\+\_\+version (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{struct {\bf e1000\+\_\+fw\+\_\+version} $\ast$}]{fw\+\_\+vers}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a9a73f0cae8e849fee466507a8ab1e222}{}\label{e1000__nvm_8c_a9a73f0cae8e849fee466507a8ab1e222}
e1000\+\_\+get\+\_\+fw\+\_\+version -\/ Get firmware version information \+: pointer to the HW structure \+: pointer to output version structure

unsupported/not present features return 0 in version structure 

e1000\+\_\+nvm.\+c 파일의 870 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
871 \{
872     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} eeprom\_verh, eeprom\_verl, etrack\_test, fw\_version;
873     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} q, hval, rem, result;
874     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} comb\_verh, comb\_verl, comb\_offset;
875 
876     memset(fw\_vers, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structe1000__fw__version}{e1000\_fw\_version}));
877 
878     \textcolor{comment}{/* basic eeprom version numbers, bits used vary by part and by tool}
879 \textcolor{comment}{     * used to create the nvm images */}
880     \textcolor{comment}{/* Check which data format we have */}
881     \textcolor{keywordflow}{switch} (hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type}) \{
882     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7acaa7f109a8c07e9c7264c1305b1046a7}{e1000\_i211}:
883         \hyperlink{e1000__i210_8c_ac31cdd1405474d6cc0f0e62477ee66f7}{e1000\_read\_invm\_version}(hw, fw\_vers);
884         \textcolor{keywordflow}{return};
885     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a4366a2107c9391602e6f5fc679fea7f4}{e1000\_82575}:
886     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a77501dd5b2063ff124729c98f2dd58ea}{e1000\_82576}:
887     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a01c25b7740b67b3962269dcd75aedacd}{e1000\_82580}:
888         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a63ef8b6f1d7e690548b0537fdf9fc4c3}{NVM\_ETRACK\_HIWORD}, 1, &etrack\_test);
889         \textcolor{comment}{/* Use this format, unless EETRACK ID exists,}
890 \textcolor{comment}{         * then use alternate format}
891 \textcolor{comment}{         */}
892         \textcolor{keywordflow}{if} ((etrack\_test &  \hyperlink{kmod_2igb_2e1000__defines_8h_a2a1d34c3bdf8d108e2f2d5cd99224e3f}{NVM\_MAJOR\_MASK}) != \hyperlink{kmod_2igb_2e1000__defines_8h_a04f3bc2cbfa70a54c31d95baf08e2d2e}{NVM\_ETRACK\_VALID}) \{
893             hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a38e98acb744f147eca459aa1ec365c15}{NVM\_VERSION}, 1, &fw\_version);
894             fw\_vers->\hyperlink{structe1000__fw__version_a74777043565bf2aae905b9f680d4cc3f}{eep\_major} = (fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_a2a1d34c3bdf8d108e2f2d5cd99224e3f}{NVM\_MAJOR\_MASK})
895                           >> \hyperlink{kmod_2igb_2e1000__defines_8h_ade10676c5cc61268ef373698bae4fa82}{NVM\_MAJOR\_SHIFT};
896             fw\_vers->\hyperlink{structe1000__fw__version_aee00c21800209af164647f2061126ac8}{eep\_minor} = (fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_a3996ede4e20171ecedea3f4a325aeb03}{NVM\_MINOR\_MASK})
897                           >> \hyperlink{kmod_2igb_2e1000__defines_8h_abf0926fe12c6875fd29ce711b9c24222}{NVM\_MINOR\_SHIFT};
898             fw\_vers->\hyperlink{structe1000__fw__version_a78c491b19e35afae6fdac85b6d691de3}{eep\_build} = (fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_aa5df750beac871c502c5992151b61223}{NVM\_IMAGE\_ID\_MASK});
899             \textcolor{keywordflow}{goto} etrack\_id;
900         \}
901         \textcolor{keywordflow}{break};
902     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}:
903         \textcolor{keywordflow}{if} (!(\hyperlink{e1000__i210_8c_a6453a35ac95a4cfdc8ed86d70ef30f15}{e1000\_get\_flash\_presence\_i210}(hw))) \{
904             \hyperlink{e1000__i210_8c_ac31cdd1405474d6cc0f0e62477ee66f7}{e1000\_read\_invm\_version}(hw, fw\_vers);
905             \textcolor{keywordflow}{return};
906         \}
907         \textcolor{comment}{/* fall through */}
908     \textcolor{keywordflow}{case} \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a138a607af846034ccbc25c1552afcd75}{e1000\_i350}:
909         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a63ef8b6f1d7e690548b0537fdf9fc4c3}{NVM\_ETRACK\_HIWORD}, 1, &etrack\_test);
910         \textcolor{comment}{/* find combo image version */}
911         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_aeeae2c66afe99bffd08fa4c641e763e4}{NVM\_COMB\_VER\_PTR}, 1, &comb\_offset);
912         \textcolor{keywordflow}{if} ((comb\_offset != 0x0) &&
913             (comb\_offset != \hyperlink{kmod_2igb_2e1000__defines_8h_a6ddf5f3c8776ec32eb6bc4fbaed03997}{NVM\_VER\_INVALID})) \{
914 
915             hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, (\hyperlink{kmod_2igb_2e1000__defines_8h_ab410c9ce7ff81cd7a6dde3e9787d6042}{NVM\_COMB\_VER\_OFF} + comb\_offset
916                      + 1), 1, &comb\_verh);
917             hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, (\hyperlink{kmod_2igb_2e1000__defines_8h_ab410c9ce7ff81cd7a6dde3e9787d6042}{NVM\_COMB\_VER\_OFF} + comb\_offset),
918                      1, &comb\_verl);
919 
920             \textcolor{comment}{/* get Option Rom version if it exists and is valid */}
921             \textcolor{keywordflow}{if} ((comb\_verh && comb\_verl) &&
922                 ((comb\_verh != \hyperlink{kmod_2igb_2e1000__defines_8h_a6ddf5f3c8776ec32eb6bc4fbaed03997}{NVM\_VER\_INVALID}) &&
923                  (comb\_verl != \hyperlink{kmod_2igb_2e1000__defines_8h_a6ddf5f3c8776ec32eb6bc4fbaed03997}{NVM\_VER\_INVALID}))) \{
924 
925                 fw\_vers->\hyperlink{structe1000__fw__version_aac61628b4847b8546bbe2475b17b382f}{or\_valid} = \textcolor{keyword}{true};
926                 fw\_vers->\hyperlink{structe1000__fw__version_a9d2710084fb7ff3586782f286a10488c}{or\_major} =
927                     comb\_verl >> \hyperlink{kmod_2igb_2e1000__defines_8h_ab710d41c8b2b923d7ef31efba7e3d618}{NVM\_COMB\_VER\_SHFT};
928                 fw\_vers->\hyperlink{structe1000__fw__version_a6a386b87d0516b416926b25af0fef70a}{or\_build} =
929                     (comb\_verl << \hyperlink{kmod_2igb_2e1000__defines_8h_ab710d41c8b2b923d7ef31efba7e3d618}{NVM\_COMB\_VER\_SHFT})
930                     | (comb\_verh >> NVM\_COMB\_VER\_SHFT);
931                 fw\_vers->\hyperlink{structe1000__fw__version_a61eb65e8189191d63067cf877e6c5dac}{or\_patch} =
932                     comb\_verh & \hyperlink{kmod_2igb_2e1000__defines_8h_a1d16f264ae28c5c0b8f402eb73925672}{NVM\_COMB\_VER\_MASK};
933             \}
934         \}
935         \textcolor{keywordflow}{break};
936     \textcolor{keywordflow}{default}:
937         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a63ef8b6f1d7e690548b0537fdf9fc4c3}{NVM\_ETRACK\_HIWORD}, 1, &etrack\_test);
938         \textcolor{keywordflow}{return};
939     \}
940     hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a38e98acb744f147eca459aa1ec365c15}{NVM\_VERSION}, 1, &fw\_version);
941     fw\_vers->\hyperlink{structe1000__fw__version_a74777043565bf2aae905b9f680d4cc3f}{eep\_major} = (fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_a2a1d34c3bdf8d108e2f2d5cd99224e3f}{NVM\_MAJOR\_MASK})
942                   >> \hyperlink{kmod_2igb_2e1000__defines_8h_ade10676c5cc61268ef373698bae4fa82}{NVM\_MAJOR\_SHIFT};
943 
944     \textcolor{comment}{/* check for old style version format in newer images*/}
945     \textcolor{keywordflow}{if} ((fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_aff7fbec15dbfbe1f01e1602a3fde8c43}{NVM\_NEW\_DEC\_MASK}) == 0x0) \{
946         eeprom\_verl = (fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_a1d16f264ae28c5c0b8f402eb73925672}{NVM\_COMB\_VER\_MASK});
947     \} \textcolor{keywordflow}{else} \{
948         eeprom\_verl = (fw\_version & \hyperlink{kmod_2igb_2e1000__defines_8h_a3996ede4e20171ecedea3f4a325aeb03}{NVM\_MINOR\_MASK})
949                 >> \hyperlink{kmod_2igb_2e1000__defines_8h_abf0926fe12c6875fd29ce711b9c24222}{NVM\_MINOR\_SHIFT};
950     \}
951     \textcolor{comment}{/* Convert minor value to hex before assigning to output struct}
952 \textcolor{comment}{     * Val to be converted will not be higher than 99, per tool output}
953 \textcolor{comment}{     */}
954     q = eeprom\_verl / \hyperlink{kmod_2igb_2e1000__defines_8h_a20676b9d3ef272994d7537e74becd01f}{NVM\_HEX\_CONV};
955     hval = q * \hyperlink{kmod_2igb_2e1000__defines_8h_a2dbd74532d0f80a7a85cdfb95ef32cdb}{NVM\_HEX\_TENS};
956     rem = eeprom\_verl % \hyperlink{kmod_2igb_2e1000__defines_8h_a20676b9d3ef272994d7537e74becd01f}{NVM\_HEX\_CONV};
957     result = hval + rem;
958     fw\_vers->\hyperlink{structe1000__fw__version_aee00c21800209af164647f2061126ac8}{eep\_minor} = result;
959 
960 etrack\_id:
961     \textcolor{keywordflow}{if} ((etrack\_test &  NVM\_MAJOR\_MASK) == \hyperlink{kmod_2igb_2e1000__defines_8h_a04f3bc2cbfa70a54c31d95baf08e2d2e}{NVM\_ETRACK\_VALID}) \{
962         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_acff8ca2f9c22a3b8406cd7bc303e755a}{NVM\_ETRACK\_WORD}, 1, &eeprom\_verl);
963         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, (\hyperlink{kmod_2igb_2e1000__defines_8h_acff8ca2f9c22a3b8406cd7bc303e755a}{NVM\_ETRACK\_WORD} + 1), 1, &eeprom\_verh);
964         fw\_vers->\hyperlink{structe1000__fw__version_a9025df95cb081ea9caf184460b72fd62}{etrack\_id} = (eeprom\_verh << \hyperlink{kmod_2igb_2e1000__defines_8h_a867cbec17884094b6d645e1ea2207142}{NVM\_ETRACK\_SHIFT})
965             | eeprom\_verl;
966     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((etrack\_test & \hyperlink{kmod_2igb_2e1000__defines_8h_a04f3bc2cbfa70a54c31d95baf08e2d2e}{NVM\_ETRACK\_VALID}) == 0) \{
967         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_acff8ca2f9c22a3b8406cd7bc303e755a}{NVM\_ETRACK\_WORD}, 1, &eeprom\_verh);
968         hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, (\hyperlink{kmod_2igb_2e1000__defines_8h_acff8ca2f9c22a3b8406cd7bc303e755a}{NVM\_ETRACK\_WORD} + 1), 1, &eeprom\_verl);
969         fw\_vers->\hyperlink{structe1000__fw__version_a9025df95cb081ea9caf184460b72fd62}{etrack\_id} = (eeprom\_verh << \hyperlink{kmod_2igb_2e1000__defines_8h_a867cbec17884094b6d645e1ea2207142}{NVM\_ETRACK\_SHIFT}) |
970                      eeprom\_verl;
971     \}
972 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a9a73f0cae8e849fee466507a8ab1e222_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a9a73f0cae8e849fee466507a8ab1e222_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic@{e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic}}
\index{e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic@{e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_init_nvm_ops_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}void e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_ae1ddc7a8846baed54958b7e9ae0134fb}{}\label{e1000__nvm_8c_ae1ddc7a8846baed54958b7e9ae0134fb}
e1000\+\_\+init\+\_\+nvm\+\_\+ops\+\_\+generic -\/ Initialize N\+VM function pointers \+: pointer to the HW structure

Setups up the function pointers to no-\/op functions 

e1000\+\_\+nvm.\+c 파일의 35 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
36 \{
37     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
38     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_init\_nvm\_ops\_generic"});
39 
40     \textcolor{comment}{/* Initialize function pointers */}
41     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9697a81cd453237323e05ff88409b12e}{init\_params} = \hyperlink{e1000__mac_8c_aeaae47f3913d63cb38f43a97867e4bfd}{e1000\_null\_ops\_generic};
42     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a8509a9e3db6050cb00cecc1a855a70ed}{acquire} = \hyperlink{e1000__mac_8c_aeaae47f3913d63cb38f43a97867e4bfd}{e1000\_null\_ops\_generic};
43     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read} = \hyperlink{e1000__nvm_8c_a854c4eb7ef8215fbbc9b18140a587325}{e1000\_null\_read\_nvm};
44     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a057bf49d5a21aeee7fcfd364257cb772}{release} = \hyperlink{e1000__nvm_8c_a005c71ab5ed8b6b7335175eb5c048613}{e1000\_null\_nvm\_generic};
45     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_ab94130734905b02321cb0166060d2274}{reload} = \hyperlink{e1000__nvm_8c_a6cf2f625aa1fd3702d4c476a27fc7ac0}{e1000\_reload\_nvm\_generic};
46     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_af7bafd33db48aa69d8bde41f4bfab4b4}{update} = \hyperlink{e1000__mac_8c_aeaae47f3913d63cb38f43a97867e4bfd}{e1000\_null\_ops\_generic};
47     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_ac7a5a4a2819c68f6a87aa59d9f365eac}{valid\_led\_default} = \hyperlink{e1000__nvm_8c_a0cd552ac2ae4f58a2c214a53c04948b2}{e1000\_null\_led\_default};
48     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a3bb1c3774b8f27706478ebdb0996cd72}{validate} = \hyperlink{e1000__mac_8c_aeaae47f3913d63cb38f43a97867e4bfd}{e1000\_null\_ops\_generic};
49     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_ad977e40c9bb9fb3573455e2614560108}{write} = \hyperlink{e1000__nvm_8c_a5b3ac4d8af03f6750dde529c274aa75a}{e1000\_null\_write\_nvm};
50 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ae1ddc7a8846baed54958b7e9ae0134fb_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ae1ddc7a8846baed54958b7e9ae0134fb_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+lower\+\_\+eec\+\_\+clk@{e1000\+\_\+lower\+\_\+eec\+\_\+clk}}
\index{e1000\+\_\+lower\+\_\+eec\+\_\+clk@{e1000\+\_\+lower\+\_\+eec\+\_\+clk}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+lower\+\_\+eec\+\_\+clk(struct e1000\+\_\+hw $\ast$hw, u32 $\ast$eecd)}{e1000_lower_eec_clk(struct e1000_hw *hw, u32 *eecd)}}]{\setlength{\rightskip}{0pt plus 5cm}static void e1000\+\_\+lower\+\_\+eec\+\_\+clk (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32} $\ast$}]{eecd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994}{}\label{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994}
e1000\+\_\+lower\+\_\+eec\+\_\+clk -\/ Lower E\+E\+P\+R\+OM clock \+: pointer to the HW structure \+: pointer to the E\+E\+P\+R\+OM

Clear/\+Lower the E\+E\+P\+R\+OM clock bit. 

e1000\+\_\+nvm.\+c 파일의 119 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
120 \{
121     *eecd = *eecd & ~\hyperlink{kmod_2igb_2e1000__defines_8h_af3fa51cbbb990115a803f87956eb5c4e}{E1000\_EECD\_SK};
122     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, *eecd);
123     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
124     \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a3d6025c25095a2fa2809b29fd4fc5f8d}{delay\_usec});
125 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+null\+\_\+led\+\_\+default@{e1000\+\_\+null\+\_\+led\+\_\+default}}
\index{e1000\+\_\+null\+\_\+led\+\_\+default@{e1000\+\_\+null\+\_\+led\+\_\+default}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+null\+\_\+led\+\_\+default(struct e1000\+\_\+hw E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$hw, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$data)}{e1000_null_led_default(struct e1000_hw E1000_UNUSEDARG *hw, u16 E1000_UNUSEDARG *data)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+null\+\_\+led\+\_\+default (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{hw, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a0cd552ac2ae4f58a2c214a53c04948b2}{}\label{e1000__nvm_8c_a0cd552ac2ae4f58a2c214a53c04948b2}
e1000\+\_\+null\+\_\+led\+\_\+default -\/ No-\/op function, return 0 \+: pointer to the HW structure 

e1000\+\_\+nvm.\+c 파일의 78 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
80 \{
81     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_null\_led\_default"});
82     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
83 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a0cd552ac2ae4f58a2c214a53c04948b2_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+null\+\_\+nvm\+\_\+generic@{e1000\+\_\+null\+\_\+nvm\+\_\+generic}}
\index{e1000\+\_\+null\+\_\+nvm\+\_\+generic@{e1000\+\_\+null\+\_\+nvm\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+null\+\_\+nvm\+\_\+generic(struct e1000\+\_\+hw E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$hw)}{e1000_null_nvm_generic(struct e1000_hw E1000_UNUSEDARG *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}void e1000\+\_\+null\+\_\+nvm\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a005c71ab5ed8b6b7335175eb5c048613}{}\label{e1000__nvm_8c_a005c71ab5ed8b6b7335175eb5c048613}
e1000\+\_\+null\+\_\+nvm\+\_\+generic -\/ No-\/op function, return void \+: pointer to the HW structure 

e1000\+\_\+nvm.\+c 파일의 68 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
69 \{
70     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_null\_nvm\_generic"});
71     \textcolor{keywordflow}{return};
72 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a005c71ab5ed8b6b7335175eb5c048613_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+null\+\_\+read\+\_\+nvm@{e1000\+\_\+null\+\_\+read\+\_\+nvm}}
\index{e1000\+\_\+null\+\_\+read\+\_\+nvm@{e1000\+\_\+null\+\_\+read\+\_\+nvm}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+null\+\_\+read\+\_\+nvm(struct e1000\+\_\+hw E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$hw, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G a, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G b, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$c)}{e1000_null_read_nvm(struct e1000_hw E1000_UNUSEDARG *hw, u16 E1000_UNUSEDARG a, u16 E1000_UNUSEDARG b, u16 E1000_UNUSEDARG *c)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+null\+\_\+read\+\_\+nvm (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{hw, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG}}]{a, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG}}]{b, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{c}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a854c4eb7ef8215fbbc9b18140a587325}{}\label{e1000__nvm_8c_a854c4eb7ef8215fbbc9b18140a587325}
e1000\+\_\+null\+\_\+nvm\+\_\+read -\/ No-\/op function, return 0 \+: pointer to the HW structure 

e1000\+\_\+nvm.\+c 파일의 56 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
59 \{
60     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_null\_read\_nvm"});
61     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
62 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a854c4eb7ef8215fbbc9b18140a587325_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+null\+\_\+write\+\_\+nvm@{e1000\+\_\+null\+\_\+write\+\_\+nvm}}
\index{e1000\+\_\+null\+\_\+write\+\_\+nvm@{e1000\+\_\+null\+\_\+write\+\_\+nvm}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+null\+\_\+write\+\_\+nvm(struct e1000\+\_\+hw E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$hw, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G a, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G b, u16 E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+R\+G $\ast$c)}{e1000_null_write_nvm(struct e1000_hw E1000_UNUSEDARG *hw, u16 E1000_UNUSEDARG a, u16 E1000_UNUSEDARG b, u16 E1000_UNUSEDARG *c)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+null\+\_\+write\+\_\+nvm (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{hw, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG}}]{a, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG}}]{b, }
\item[{{\bf u16} {\bf E1000\+\_\+\+U\+N\+U\+S\+E\+D\+A\+RG} $\ast$}]{c}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a5b3ac4d8af03f6750dde529c274aa75a}{}\label{e1000__nvm_8c_a5b3ac4d8af03f6750dde529c274aa75a}
e1000\+\_\+null\+\_\+write\+\_\+nvm -\/ No-\/op function, return 0 \+: pointer to the HW structure 

e1000\+\_\+nvm.\+c 파일의 89 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
92 \{
93     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_null\_write\_nvm"});
94     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
95 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a5b3ac4d8af03f6750dde529c274aa75a_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done@{e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done}}
\index{e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done@{e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done(struct e1000\+\_\+hw $\ast$hw, int ee\+\_\+reg)}{e1000_poll_eerd_eewr_done(struct e1000_hw *hw, int ee_reg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{int}]{ee\+\_\+reg}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_ac4473fca912767af8d39e5db83e1f28a}{}\label{e1000__nvm_8c_ac4473fca912767af8d39e5db83e1f28a}
e1000\+\_\+poll\+\_\+eerd\+\_\+eewr\+\_\+done -\/ Poll for E\+E\+P\+R\+OM read/write completion \+: pointer to the HW structure \+: E\+E\+P\+R\+OM flag for polling

Polls the E\+E\+P\+R\+OM status bit for either read or write completion based upon the value of \textquotesingle{}ee\+\_\+reg\textquotesingle{}. 

e1000\+\_\+nvm.\+c 파일의 218 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
219 \{
220     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} attempts = 100000;
221     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} i, reg = 0;
222 
223     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_poll\_eerd\_eewr\_done"});
224 
225     \textcolor{keywordflow}{for} (i = 0; i < attempts; i++) \{
226         \textcolor{keywordflow}{if} (ee\_reg == \hyperlink{kmod_2igb_2e1000__defines_8h_aca9c8aceea464f4e85d2a77c27e5c3a2}{E1000\_NVM\_POLL\_READ})
227             reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a633b15806cb839909b844987b1a4f1ed}{E1000\_EERD});
228         \textcolor{keywordflow}{else}
229             reg = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a7714714fc46b2ccf7f2b3664b07703c1}{E1000\_EEWR});
230 
231         \textcolor{keywordflow}{if} (reg & \hyperlink{kmod_2igb_2e1000__defines_8h_a0e0f10ba8fa72629254cc23e787af667}{E1000\_NVM\_RW\_REG\_DONE})
232             \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
233 
234         \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(5);
235     \}
236 
237     \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
238 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ac4473fca912767af8d39e5db83e1f28a_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+raise\+\_\+eec\+\_\+clk@{e1000\+\_\+raise\+\_\+eec\+\_\+clk}}
\index{e1000\+\_\+raise\+\_\+eec\+\_\+clk@{e1000\+\_\+raise\+\_\+eec\+\_\+clk}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+raise\+\_\+eec\+\_\+clk(struct e1000\+\_\+hw $\ast$hw, u32 $\ast$eecd)}{e1000_raise_eec_clk(struct e1000_hw *hw, u32 *eecd)}}]{\setlength{\rightskip}{0pt plus 5cm}static void e1000\+\_\+raise\+\_\+eec\+\_\+clk (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32} $\ast$}]{eecd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_a38eade06c369bb0942444d141f42a3e8}{}\label{e1000__nvm_8c_a38eade06c369bb0942444d141f42a3e8}
e1000\+\_\+raise\+\_\+eec\+\_\+clk -\/ Raise E\+E\+P\+R\+OM clock \+: pointer to the HW structure \+: pointer to the E\+E\+P\+R\+OM

Enable/\+Raise the E\+E\+P\+R\+OM clock bit. 

e1000\+\_\+nvm.\+c 파일의 104 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
105 \{
106     *eecd = *eecd | \hyperlink{kmod_2igb_2e1000__defines_8h_af3fa51cbbb990115a803f87956eb5c4e}{E1000\_EECD\_SK};
107     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, *eecd);
108     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
109     \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a3d6025c25095a2fa2809b29fd4fc5f8d}{delay\_usec});
110 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a38eade06c369bb0942444d141f42a3e8_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic@{e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic}}
\index{e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic@{e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_read_mac_addr_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a50f297c99052ff736781b8c2b35b8827}{}\label{e1000__nvm_8c_a50f297c99052ff736781b8c2b35b8827}
e1000\+\_\+read\+\_\+mac\+\_\+addr\+\_\+generic -\/ Read device M\+AC address \+: pointer to the HW structure

Reads the device M\+AC address from the E\+E\+P\+R\+OM and stores the value. Since devices with two ports use the same E\+E\+P\+R\+OM, we increment the last bit in the M\+AC address for the second port. 

e1000\+\_\+nvm.\+c 파일의 758 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
759 \{
760     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rar\_high;
761     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} rar\_low;
762     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i;
763 
764     rar\_high = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a505199655b6c76ef205e6325561c69ea}{E1000\_RAH}(0));
765     rar\_low = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aef2f9cf55ba75ef025ea8e83d2019494}{E1000\_RAL}(0));
766 
767     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__defines_8h_afb0a338c456e808198e313f492636f4c}{E1000\_RAL\_MAC\_ADDR\_LEN}; i++)
768         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a3d29a6a963467666bcb77c7e0b40fbf8}{perm\_addr}[i] = (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8})(rar\_low >> (i*8));
769 
770     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__defines_8h_abe498b9047282600f17029c7705caa9d}{E1000\_RAH\_MAC\_ADDR\_LEN}; i++)
771         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a3d29a6a963467666bcb77c7e0b40fbf8}{perm\_addr}[i+4] = (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8})(rar\_high >> (i*8));
772 
773     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__defines_8h_a78fc3e3fe5c33412e9f47a214f6e0415}{ETH\_ADDR\_LEN}; i++)
774         hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_afee13f7d77f1101ef9c6c76654220344}{addr}[i] = hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_a3d29a6a963467666bcb77c7e0b40fbf8}{perm\_addr}[i];
775 
776     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
777 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a50f297c99052ff736781b8c2b35b8827_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+read\+\_\+nvm\+\_\+eerd@{e1000\+\_\+read\+\_\+nvm\+\_\+eerd}}
\index{e1000\+\_\+read\+\_\+nvm\+\_\+eerd@{e1000\+\_\+read\+\_\+nvm\+\_\+eerd}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+nvm\+\_\+eerd(struct e1000\+\_\+hw $\ast$hw, u16 offset, u16 words, u16 $\ast$data)}{e1000_read_nvm_eerd(struct e1000_hw *hw, u16 offset, u16 words, u16 *data)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+read\+\_\+nvm\+\_\+eerd (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u16}}]{offset, }
\item[{{\bf u16}}]{words, }
\item[{{\bf u16} $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a76cdc4849e49e06fae7e8fe0474b4ecb}{}\label{e1000__nvm_8c_a76cdc4849e49e06fae7e8fe0474b4ecb}
e1000\+\_\+read\+\_\+nvm\+\_\+eerd -\/ Reads E\+E\+P\+R\+OM using E\+E\+RD register \+: pointer to the HW structure \+: offset of word in the E\+E\+P\+R\+OM to read \+: number of words to read \+: word read from the E\+E\+P\+R\+OM

Reads a 16 bit word from the E\+E\+P\+R\+OM using the E\+E\+RD register. 

e1000\+\_\+nvm.\+c 파일의 459 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
460 \{
461     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
462     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} i, eerd = 0;
463     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val = \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
464 
465     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_read\_nvm\_eerd"});
466 
467     \textcolor{comment}{/* A check for invalid values:  offset too large, too many words,}
468 \textcolor{comment}{     * too many words for the offset, and not enough words.}
469 \textcolor{comment}{     */}
470     \textcolor{keywordflow}{if} ((offset >= nvm->\hyperlink{structe1000__nvm__info_af882c5e0880f3f4119b0aef0f7aa9357}{word\_size}) || (words > (nvm->\hyperlink{structe1000__nvm__info_af882c5e0880f3f4119b0aef0f7aa9357}{word\_size} - offset)) ||
471         (words == 0)) \{
472         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"nvm parameter(s) out of bounds\(\backslash\)n"});
473         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
474     \}
475 
476     \textcolor{keywordflow}{for} (i = 0; i < words; i++) \{
477         eerd = ((offset+i) << \hyperlink{kmod_2igb_2e1000__defines_8h_a76762f7d19888230f1492fa4a0c1baec}{E1000\_NVM\_RW\_ADDR\_SHIFT}) +
478                \hyperlink{kmod_2igb_2e1000__defines_8h_ab230c1b2a5d94b4ecb411269acaa6882}{E1000\_NVM\_RW\_REG\_START};
479 
480         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a633b15806cb839909b844987b1a4f1ed}{E1000\_EERD}, eerd);
481         ret\_val = \hyperlink{e1000__nvm_8c_ac4473fca912767af8d39e5db83e1f28a}{e1000\_poll\_eerd\_eewr\_done}(hw, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_aca9c8aceea464f4e85d2a77c27e5c3a2}{E1000\_NVM\_POLL\_READ});
482         \textcolor{keywordflow}{if} (ret\_val)
483             \textcolor{keywordflow}{break};
484 
485         data[i] = (\hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_a633b15806cb839909b844987b1a4f1ed}{E1000\_EERD}) >>
486                \hyperlink{kmod_2igb_2e1000__defines_8h_a75615c63fb65225d4dc7c90484fa4e50}{E1000\_NVM\_RW\_REG\_DATA});
487     \}
488 
489     \textcolor{keywordflow}{if} (ret\_val)
490         \hyperlink{kmod_2igb_2e1000__osdep_8h_a2dcfef142e9fe61af923f15e09a3b59b}{DEBUGOUT1}(\textcolor{stringliteral}{"NVM read error: %d\(\backslash\)n"}, ret\_val);
491 
492     \textcolor{keywordflow}{return} ret\_val;
493 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a76cdc4849e49e06fae7e8fe0474b4ecb_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a76cdc4849e49e06fae7e8fe0474b4ecb_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+read\+\_\+nvm\+\_\+spi@{e1000\+\_\+read\+\_\+nvm\+\_\+spi}}
\index{e1000\+\_\+read\+\_\+nvm\+\_\+spi@{e1000\+\_\+read\+\_\+nvm\+\_\+spi}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+nvm\+\_\+spi(struct e1000\+\_\+hw $\ast$hw, u16 offset, u16 words, u16 $\ast$data)}{e1000_read_nvm_spi(struct e1000_hw *hw, u16 offset, u16 words, u16 *data)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+read\+\_\+nvm\+\_\+spi (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u16}}]{offset, }
\item[{{\bf u16}}]{words, }
\item[{{\bf u16} $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_aa395f4cb1eeb96aa8098525300070fb1}{}\label{e1000__nvm_8c_aa395f4cb1eeb96aa8098525300070fb1}
e1000\+\_\+read\+\_\+nvm\+\_\+spi -\/ Read E\+E\+P\+R\+OM\textquotesingle{}s using S\+PI \+: pointer to the HW structure \+: offset of word in the E\+E\+P\+R\+OM to read \+: number of words to read \+: word read from the E\+E\+P\+R\+OM

Reads a 16 bit word from the E\+E\+P\+R\+OM. 

e1000\+\_\+nvm.\+c 파일의 399 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
400 \{
401     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
402     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} i = 0;
403     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val;
404     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} word\_in;
405     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} read\_opcode = \hyperlink{kmod_2igb_2e1000__defines_8h_a0c05d39863adda71d95cb2fb3fb4ad7a}{NVM\_READ\_OPCODE\_SPI};
406 
407     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_read\_nvm\_spi"});
408 
409     \textcolor{comment}{/* A check for invalid values:  offset too large, too many words,}
410 \textcolor{comment}{     * and not enough words.}
411 \textcolor{comment}{     */}
412     \textcolor{keywordflow}{if} ((offset >= nvm->\hyperlink{structe1000__nvm__info_af882c5e0880f3f4119b0aef0f7aa9357}{word\_size}) || (words > (nvm->\hyperlink{structe1000__nvm__info_af882c5e0880f3f4119b0aef0f7aa9357}{word\_size} - offset)) ||
413         (words == 0)) \{
414         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"nvm parameter(s) out of bounds\(\backslash\)n"});
415         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
416     \}
417 
418     ret\_val = nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a8509a9e3db6050cb00cecc1a855a70ed}{acquire}(hw);
419     \textcolor{keywordflow}{if} (ret\_val)
420         \textcolor{keywordflow}{return} ret\_val;
421 
422     ret\_val = \hyperlink{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d}{e1000\_ready\_nvm\_eeprom}(hw);
423     \textcolor{keywordflow}{if} (ret\_val)
424         \textcolor{keywordflow}{goto} release;
425 
426     \hyperlink{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{e1000\_standby\_nvm}(hw);
427 
428     \textcolor{keywordflow}{if} ((nvm->\hyperlink{structe1000__nvm__info_abb01723804d22f0c3c8a4fd503f26bf8}{address\_bits} == 8) && (offset >= 128))
429         read\_opcode |= \hyperlink{kmod_2igb_2e1000__defines_8h_af39cd489266cd36d0b3f0534dc2a1e2a}{NVM\_A8\_OPCODE\_SPI};
430 
431     \textcolor{comment}{/* Send the READ command (opcode + addr) */}
432     \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, read\_opcode, nvm->
      \hyperlink{structe1000__nvm__info_a2a55e8d34044fa25950d407750b10128}{opcode\_bits});
433     \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, (\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16})(offset*2), nvm->
      \hyperlink{structe1000__nvm__info_abb01723804d22f0c3c8a4fd503f26bf8}{address\_bits});
434 
435     \textcolor{comment}{/* Read the data.  SPI NVMs increment the address with each byte}
436 \textcolor{comment}{     * read and will roll over if reading beyond the end.  This allows}
437 \textcolor{comment}{     * us to read the whole NVM from any offset}
438 \textcolor{comment}{     */}
439     \textcolor{keywordflow}{for} (i = 0; i < words; i++) \{
440         word\_in = \hyperlink{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e}{e1000\_shift\_in\_eec\_bits}(hw, 16);
441         data[i] = (word\_in >> 8) | (word\_in << 8);
442     \}
443 
444 release:
445     nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a057bf49d5a21aeee7fcfd364257cb772}{release}(hw);
446 
447     \textcolor{keywordflow}{return} ret\_val;
448 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_aa395f4cb1eeb96aa8098525300070fb1_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_aa395f4cb1eeb96aa8098525300070fb1_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic@{e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic}}
\index{e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic@{e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic(struct e1000\+\_\+hw $\ast$hw, u32 $\ast$pba\+\_\+num\+\_\+size)}{e1000_read_pba_length_generic(struct e1000_hw *hw, u32 *pba_num_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u32} $\ast$}]{pba\+\_\+num\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_aa72a4384d5e6c76426fa2e3d800959bc}{}\label{e1000__nvm_8c_aa72a4384d5e6c76426fa2e3d800959bc}
e1000\+\_\+read\+\_\+pba\+\_\+length\+\_\+generic -\/ Read device part number length \+: pointer to the HW structure \+: size of part number buffer

Reads the product board assembly (P\+BA) number length from the E\+E\+P\+R\+OM and stores the value in pba\+\_\+num\+\_\+size. 

e1000\+\_\+nvm.\+c 파일의 699 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
700 \{
701     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val;
702     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} nvm\_data;
703     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} pba\_ptr;
704     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} length;
705 
706     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_read\_pba\_length\_generic"});
707 
708     \textcolor{keywordflow}{if} (pba\_num\_size == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
709         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"PBA buffer size was null\(\backslash\)n"});
710         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_ac693cafed8a6b88c042eb01d6f0912f5}{E1000\_ERR\_INVALID\_ARGUMENT};
711     \}
712 
713     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_acf535d2347f87ab44cabd7c4b8649c5d}{NVM\_PBA\_OFFSET\_0}, 1, &nvm\_data);
714     \textcolor{keywordflow}{if} (ret\_val) \{
715         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
716         \textcolor{keywordflow}{return} ret\_val;
717     \}
718 
719     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a406f1cbc62644b41a3aca73a50b2d705}{NVM\_PBA\_OFFSET\_1}, 1, &pba\_ptr);
720     \textcolor{keywordflow}{if} (ret\_val) \{
721         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
722         \textcolor{keywordflow}{return} ret\_val;
723     \}
724 
725      \textcolor{comment}{/* if data is not ptr guard the PBA must be in legacy format */}
726     \textcolor{keywordflow}{if} (nvm\_data != \hyperlink{kmod_2igb_2e1000__defines_8h_a4dd120c8232f6b59ac955ac36f16e1e1}{NVM\_PBA\_PTR\_GUARD}) \{
727         *pba\_num\_size = \hyperlink{kmod_2igb_2e1000__defines_8h_a25fdb78debcaab2148f074f17c07a365}{E1000\_PBANUM\_LENGTH};
728         \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
729     \}
730 
731     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, pba\_ptr, 1, &length);
732     \textcolor{keywordflow}{if} (ret\_val) \{
733         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
734         \textcolor{keywordflow}{return} ret\_val;
735     \}
736 
737     \textcolor{keywordflow}{if} (length == 0xFFFF || length == 0) \{
738         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM PBA number section invalid length\(\backslash\)n"});
739         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_a65415ecb7b38aa98dfbfc982d40da7a1}{E1000\_ERR\_NVM\_PBA\_SECTION};
740     \}
741 
742     \textcolor{comment}{/* Convert from length in u16 values to u8 chars, add 1 for NULL,}
743 \textcolor{comment}{     * and subtract 2 because length field is included in length.}
744 \textcolor{comment}{     */}
745     *pba\_num\_size = ((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})length * 2) - 1;
746 
747     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
748 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_aa72a4384d5e6c76426fa2e3d800959bc_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic@{e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic}}
\index{e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic@{e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic(struct e1000\+\_\+hw $\ast$hw, u8 $\ast$pba\+\_\+num, u32 pba\+\_\+num\+\_\+size)}{e1000_read_pba_string_generic(struct e1000_hw *hw, u8 *pba_num, u32 pba_num_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u8} $\ast$}]{pba\+\_\+num, }
\item[{{\bf u32}}]{pba\+\_\+num\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a5d2119bd00236ef5a82e9a1b5a68cee5}{}\label{e1000__nvm_8c_a5d2119bd00236ef5a82e9a1b5a68cee5}
e1000\+\_\+read\+\_\+pba\+\_\+string\+\_\+generic -\/ Read device part number \+: pointer to the HW structure \+: pointer to device part number \+: size of part number buffer

Reads the product board assembly (P\+BA) number from the E\+E\+P\+R\+OM and stores the value in pba\+\_\+num. 

e1000\+\_\+nvm.\+c 파일의 584 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
586 \{
587     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val;
588     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} nvm\_data;
589     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} pba\_ptr;
590     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} offset;
591     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} length;
592 
593     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_read\_pba\_string\_generic"});
594 
595     \textcolor{keywordflow}{if} ((hw->\hyperlink{structe1000__hw_aab7fce7aa13ba97459b3b65acf02f520}{mac}.\hyperlink{structe1000__mac__info_aa278e9fd67ac539e410e444a48db5455}{type} >= \hyperlink{kmod_2igb_2e1000__hw_8h_a7f5871256d483a73ddb176218998f3a7a0a02928ffbcef71081d6ed205e44c5b2}{e1000\_i210}) &&
596         !\hyperlink{e1000__i210_8c_a6453a35ac95a4cfdc8ed86d70ef30f15}{e1000\_get\_flash\_presence\_i210}(hw)) \{
597         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"Flashless no PBA string\(\backslash\)n"});
598         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_a65415ecb7b38aa98dfbfc982d40da7a1}{E1000\_ERR\_NVM\_PBA\_SECTION};
599     \}
600 
601     \textcolor{keywordflow}{if} (pba\_num == \hyperlink{openavb__types__base__pub_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
602         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"PBA string buffer was null\(\backslash\)n"});
603         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_ac693cafed8a6b88c042eb01d6f0912f5}{E1000\_ERR\_INVALID\_ARGUMENT};
604     \}
605 
606     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_acf535d2347f87ab44cabd7c4b8649c5d}{NVM\_PBA\_OFFSET\_0}, 1, &nvm\_data);
607     \textcolor{keywordflow}{if} (ret\_val) \{
608         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
609         \textcolor{keywordflow}{return} ret\_val;
610     \}
611 
612     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_a406f1cbc62644b41a3aca73a50b2d705}{NVM\_PBA\_OFFSET\_1}, 1, &pba\_ptr);
613     \textcolor{keywordflow}{if} (ret\_val) \{
614         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
615         \textcolor{keywordflow}{return} ret\_val;
616     \}
617 
618     \textcolor{comment}{/* if nvm\_data is not ptr guard the PBA must be in legacy format which}
619 \textcolor{comment}{     * means pba\_ptr is actually our second data word for the PBA number}
620 \textcolor{comment}{     * and we can decode it into an ascii string}
621 \textcolor{comment}{     */}
622     \textcolor{keywordflow}{if} (nvm\_data != \hyperlink{kmod_2igb_2e1000__defines_8h_a4dd120c8232f6b59ac955ac36f16e1e1}{NVM\_PBA\_PTR\_GUARD}) \{
623         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM PBA number is not stored as string\(\backslash\)n"});
624 
625         \textcolor{comment}{/* make sure callers buffer is big enough to store the PBA */}
626         \textcolor{keywordflow}{if} (pba\_num\_size < \hyperlink{kmod_2igb_2e1000__defines_8h_a25fdb78debcaab2148f074f17c07a365}{E1000\_PBANUM\_LENGTH}) \{
627             \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"PBA string buffer too small\(\backslash\)n"});
628             \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_a84b153cb14a498a289cb81c0a5d0318f}{E1000\_ERR\_NO\_SPACE};
629         \}
630 
631         \textcolor{comment}{/* extract hex string from data and pba\_ptr */}
632         pba\_num[0] = (nvm\_data >> 12) & 0xF;
633         pba\_num[1] = (nvm\_data >> 8) & 0xF;
634         pba\_num[2] = (nvm\_data >> 4) & 0xF;
635         pba\_num[3] = nvm\_data & 0xF;
636         pba\_num[4] = (pba\_ptr >> 12) & 0xF;
637         pba\_num[5] = (pba\_ptr >> 8) & 0xF;
638         pba\_num[6] = \textcolor{charliteral}{'-'};
639         pba\_num[7] = 0;
640         pba\_num[8] = (pba\_ptr >> 4) & 0xF;
641         pba\_num[9] = pba\_ptr & 0xF;
642 
643         \textcolor{comment}{/* put a null character on the end of our string */}
644         pba\_num[10] = \textcolor{charliteral}{'\(\backslash\)0'};
645 
646         \textcolor{comment}{/* switch all the data but the '-' to hex char */}
647         \textcolor{keywordflow}{for} (offset = 0; offset < 10; offset++) \{
648             \textcolor{keywordflow}{if} (pba\_num[offset] < 0xA)
649                 pba\_num[offset] += \textcolor{charliteral}{'0'};
650             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pba\_num[offset] < 0x10)
651                 pba\_num[offset] += \textcolor{charliteral}{'A'} - 0xA;
652         \}
653 
654         \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
655     \}
656 
657     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, pba\_ptr, 1, &length);
658     \textcolor{keywordflow}{if} (ret\_val) \{
659         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
660         \textcolor{keywordflow}{return} ret\_val;
661     \}
662 
663     \textcolor{keywordflow}{if} (length == 0xFFFF || length == 0) \{
664         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM PBA number section invalid length\(\backslash\)n"});
665         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_a65415ecb7b38aa98dfbfc982d40da7a1}{E1000\_ERR\_NVM\_PBA\_SECTION};
666     \}
667     \textcolor{comment}{/* check if pba\_num buffer is big enough */}
668     \textcolor{keywordflow}{if} (pba\_num\_size < (((\hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32})length * 2) - 1)) \{
669         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"PBA string buffer too small\(\backslash\)n"});
670         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_a84b153cb14a498a289cb81c0a5d0318f}{E1000\_ERR\_NO\_SPACE};
671     \}
672 
673     \textcolor{comment}{/* trim pba length from start of string */}
674     pba\_ptr++;
675     length--;
676 
677     \textcolor{keywordflow}{for} (offset = 0; offset < length; offset++) \{
678         ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, pba\_ptr + offset, 1, &nvm\_data);
679         \textcolor{keywordflow}{if} (ret\_val) \{
680             \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
681             \textcolor{keywordflow}{return} ret\_val;
682         \}
683         pba\_num[offset * 2] = (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8})(nvm\_data >> 8);
684         pba\_num[(offset * 2) + 1] = (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8})(nvm\_data & 0xFF);
685     \}
686     pba\_num[offset * 2] = \textcolor{charliteral}{'\(\backslash\)0'};
687 
688     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
689 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a5d2119bd00236ef5a82e9a1b5a68cee5_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a5d2119bd00236ef5a82e9a1b5a68cee5_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom@{e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom}}
\index{e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom@{e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom(struct e1000\+\_\+hw $\ast$hw)}{e1000_ready_nvm_eeprom(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf s32} e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d}{}\label{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d}
e1000\+\_\+ready\+\_\+nvm\+\_\+eeprom -\/ Prepares E\+E\+P\+R\+OM for read/write \+: pointer to the HW structure

Setups the E\+E\+P\+R\+OM for reading and writing. 

e1000\+\_\+nvm.\+c 파일의 347 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
348 \{
349     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
350     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
351     \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} spi\_stat\_reg;
352 
353     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_ready\_nvm\_eeprom"});
354 
355     \textcolor{keywordflow}{if} (nvm->\hyperlink{structe1000__nvm__info_aed407b4a0d2f26f9223d7bfa7bb2ad5b}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_ab9395833db36010a400eea73d9f90effa41816c9f61f1d97dacdccaeb203f90f9}{e1000\_nvm\_eeprom\_spi}) \{
356         \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} \hyperlink{aaf-listener_8c_a869c60cb165af7b6177060c00c5c416c}{timeout} = \hyperlink{kmod_2igb_2e1000__defines_8h_a33852d8b304fd6be95aac58d82be48f3}{NVM\_MAX\_RETRY\_SPI};
357 
358         \textcolor{comment}{/* Clear SK and CS */}
359         eecd &= ~(\hyperlink{kmod_2igb_2e1000__defines_8h_a63b5ea13cbee48d279b7b62f7b5d4cab}{E1000\_EECD\_CS} | \hyperlink{kmod_2igb_2e1000__defines_8h_af3fa51cbbb990115a803f87956eb5c4e}{E1000\_EECD\_SK});
360         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
361         \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
362         \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(1);
363 
364         \textcolor{comment}{/* Read "Status Register" repeatedly until the LSB is cleared.}
365 \textcolor{comment}{         * The EEPROM will signal that the command has been completed}
366 \textcolor{comment}{         * by clearing bit 0 of the internal status register.  If it's}
367 \textcolor{comment}{         * not cleared within 'timeout', then error out.}
368 \textcolor{comment}{         */}
369         \textcolor{keywordflow}{while} (timeout) \{
370             \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, 
      \hyperlink{kmod_2igb_2e1000__defines_8h_ab486c3bc3f8f655dc16ebfd21259f4b5}{NVM\_RDSR\_OPCODE\_SPI},
371                          hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a2a55e8d34044fa25950d407750b10128}{opcode\_bits});
372             spi\_stat\_reg = (\hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8})\hyperlink{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e}{e1000\_shift\_in\_eec\_bits}(hw, 8);
373             \textcolor{keywordflow}{if} (!(spi\_stat\_reg & \hyperlink{kmod_2igb_2e1000__defines_8h_a96e69ae9ad74647f5759a1c912ac6b40}{NVM\_STATUS\_RDY\_SPI}))
374                 \textcolor{keywordflow}{break};
375 
376             \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(5);
377             \hyperlink{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{e1000\_standby\_nvm}(hw);
378             timeout--;
379         \}
380 
381         \textcolor{keywordflow}{if} (!timeout) \{
382             \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"SPI NVM Status error\(\backslash\)n"});
383             \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
384         \}
385     \}
386 
387     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
388 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+release\+\_\+nvm\+\_\+generic@{e1000\+\_\+release\+\_\+nvm\+\_\+generic}}
\index{e1000\+\_\+release\+\_\+nvm\+\_\+generic@{e1000\+\_\+release\+\_\+nvm\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+release\+\_\+nvm\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_release_nvm_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}void e1000\+\_\+release\+\_\+nvm\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_ab61cbe2ca912b2fd9bf44f0dcb3da728}{}\label{e1000__nvm_8c_ab61cbe2ca912b2fd9bf44f0dcb3da728}
e1000\+\_\+release\+\_\+nvm\+\_\+generic -\/ Release exclusive access to E\+E\+P\+R\+OM \+: pointer to the HW structure

Stop any current commands to the E\+E\+P\+R\+OM and clear the E\+E\+P\+R\+OM request bit. 

e1000\+\_\+nvm.\+c 파일의 328 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
329 \{
330     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd;
331 
332     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_release\_nvm\_generic"});
333 
334     \hyperlink{e1000__nvm_8c_aae7064ad10a7d90f1d85dbb38af3621e}{e1000\_stop\_nvm}(hw);
335 
336     eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
337     eecd &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_abcb2c3d2e9fc7fb988abca6bd0206c76}{E1000\_EECD\_REQ};
338     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
339 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ab61cbe2ca912b2fd9bf44f0dcb3da728_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ab61cbe2ca912b2fd9bf44f0dcb3da728_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+reload\+\_\+nvm\+\_\+generic@{e1000\+\_\+reload\+\_\+nvm\+\_\+generic}}
\index{e1000\+\_\+reload\+\_\+nvm\+\_\+generic@{e1000\+\_\+reload\+\_\+nvm\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+reload\+\_\+nvm\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_reload_nvm_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}static void e1000\+\_\+reload\+\_\+nvm\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_a6cf2f625aa1fd3702d4c476a27fc7ac0}{}\label{e1000__nvm_8c_a6cf2f625aa1fd3702d4c476a27fc7ac0}
e1000\+\_\+reload\+\_\+nvm\+\_\+generic -\/ Reloads E\+E\+P\+R\+OM \+: pointer to the HW structure

Reloads the E\+E\+P\+R\+OM by setting the \char`\"{}\+Reinitialize from E\+E\+P\+R\+O\+M\char`\"{} bit in the extended control register. 

e1000\+\_\+nvm.\+c 파일의 850 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
851 \{
852     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} ctrl\_ext;
853 
854     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_reload\_nvm\_generic"});
855 
856     \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(10);
857     ctrl\_ext = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT});
858     ctrl\_ext |= \hyperlink{kmod_2igb_2e1000__defines_8h_ae7e2d2c5d47c9ee7f286e641dd7a2858}{E1000\_CTRL\_EXT\_EE\_RST};
859     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_af846c197c3825894a920b85a32115762}{E1000\_CTRL\_EXT}, ctrl\_ext);
860     \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
861 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a6cf2f625aa1fd3702d4c476a27fc7ac0_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits@{e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits}}
\index{e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits@{e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits(struct e1000\+\_\+hw $\ast$hw, u16 count)}{e1000_shift_in_eec_bits(struct e1000_hw *hw, u16 count)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf u16} e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u16}}]{count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e}{}\label{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e}
e1000\+\_\+shift\+\_\+in\+\_\+eec\+\_\+bits -\/ Shift data bits in from the E\+E\+P\+R\+OM \+: pointer to the HW structure \+: number of bits to shift in

In order to read a register from the E\+E\+P\+R\+OM, we need to shift \textquotesingle{}count\textquotesingle{} bits in from the E\+E\+P\+R\+OM. Bits are \char`\"{}shifted in\char`\"{} by raising the clock input to the E\+E\+P\+R\+OM (setting the SK bit), and then reading the value of the data out \char`\"{}\+D\+O\char`\"{} bit. During this \char`\"{}shifting in\char`\"{} process the data in \char`\"{}\+D\+I\char`\"{} bit should always be clear. 

e1000\+\_\+nvm.\+c 파일의 181 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
182 \{
183     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd;
184     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} i;
185     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} data;
186 
187     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_shift\_in\_eec\_bits"});
188 
189     eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
190 
191     eecd &= ~(\hyperlink{kmod_2igb_2e1000__defines_8h_ac1d4f4aed7a6928e3e69ca4782c9d484}{E1000\_EECD\_DO} | \hyperlink{kmod_2igb_2e1000__defines_8h_a5865d052fccc49fa8539538a41ac7a94}{E1000\_EECD\_DI});
192     data = 0;
193 
194     \textcolor{keywordflow}{for} (i = 0; i < count; i++) \{
195         data <<= 1;
196         \hyperlink{e1000__nvm_8c_a38eade06c369bb0942444d141f42a3e8}{e1000\_raise\_eec\_clk}(hw, &eecd);
197 
198         eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
199 
200         eecd &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a5865d052fccc49fa8539538a41ac7a94}{E1000\_EECD\_DI};
201         \textcolor{keywordflow}{if} (eecd & \hyperlink{kmod_2igb_2e1000__defines_8h_ac1d4f4aed7a6928e3e69ca4782c9d484}{E1000\_EECD\_DO})
202             data |= 1;
203 
204         \hyperlink{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994}{e1000\_lower\_eec\_clk}(hw, &eecd);
205     \}
206 
207     \textcolor{keywordflow}{return} data;
208 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_abfbbeaa0bc7f08c5dc267c091db8987e_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits@{e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits}}
\index{e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits@{e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits(struct e1000\+\_\+hw $\ast$hw, u16 data, u16 count)}{e1000_shift_out_eec_bits(struct e1000_hw *hw, u16 data, u16 count)}}]{\setlength{\rightskip}{0pt plus 5cm}static void e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u16}}]{data, }
\item[{{\bf u16}}]{count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{}\label{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}
e1000\+\_\+shift\+\_\+out\+\_\+eec\+\_\+bits -\/ Shift data bits our to the E\+E\+P\+R\+OM \+: pointer to the HW structure \+: data to send to the E\+E\+P\+R\+OM \+: number of bits to shift out

We need to shift \textquotesingle{}count\textquotesingle{} bits out to the E\+E\+P\+R\+OM. So, the value in the \char`\"{}data\char`\"{} parameter will be shifted out to the E\+E\+P\+R\+OM one bit at a time. In order to do this, \char`\"{}data\char`\"{} must be broken down into bits. 

e1000\+\_\+nvm.\+c 파일의 137 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
138 \{
139     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
140     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
141     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} mask;
142 
143     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_shift\_out\_eec\_bits"});
144 
145     mask = 0x01 << (count - 1);
146     \textcolor{keywordflow}{if} (nvm->\hyperlink{structe1000__nvm__info_aed407b4a0d2f26f9223d7bfa7bb2ad5b}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_ab9395833db36010a400eea73d9f90effa41816c9f61f1d97dacdccaeb203f90f9}{e1000\_nvm\_eeprom\_spi})
147         eecd |= \hyperlink{kmod_2igb_2e1000__defines_8h_ac1d4f4aed7a6928e3e69ca4782c9d484}{E1000\_EECD\_DO};
148 
149     \textcolor{keywordflow}{do} \{
150         eecd &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a5865d052fccc49fa8539538a41ac7a94}{E1000\_EECD\_DI};
151 
152         \textcolor{keywordflow}{if} (data & mask)
153             eecd |= \hyperlink{kmod_2igb_2e1000__defines_8h_a5865d052fccc49fa8539538a41ac7a94}{E1000\_EECD\_DI};
154 
155         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
156         \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
157 
158         \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(nvm->\hyperlink{structe1000__nvm__info_a3d6025c25095a2fa2809b29fd4fc5f8d}{delay\_usec});
159 
160         \hyperlink{e1000__nvm_8c_a38eade06c369bb0942444d141f42a3e8}{e1000\_raise\_eec\_clk}(hw, &eecd);
161         \hyperlink{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994}{e1000\_lower\_eec\_clk}(hw, &eecd);
162 
163         mask >>= 1;
164     \} \textcolor{keywordflow}{while} (mask);
165 
166     eecd &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a5865d052fccc49fa8539538a41ac7a94}{E1000\_EECD\_DI};
167     \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
168 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+standby\+\_\+nvm@{e1000\+\_\+standby\+\_\+nvm}}
\index{e1000\+\_\+standby\+\_\+nvm@{e1000\+\_\+standby\+\_\+nvm}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+standby\+\_\+nvm(struct e1000\+\_\+hw $\ast$hw)}{e1000_standby_nvm(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}static void e1000\+\_\+standby\+\_\+nvm (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{}\label{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}
e1000\+\_\+standby\+\_\+nvm -\/ Return E\+E\+P\+R\+OM to standby state \+: pointer to the HW structure

Return the E\+E\+P\+R\+OM to a standby state. 

e1000\+\_\+nvm.\+c 파일의 282 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
283 \{
284     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
285     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
286 
287     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_standby\_nvm"});
288 
289     \textcolor{keywordflow}{if} (nvm->\hyperlink{structe1000__nvm__info_aed407b4a0d2f26f9223d7bfa7bb2ad5b}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_ab9395833db36010a400eea73d9f90effa41816c9f61f1d97dacdccaeb203f90f9}{e1000\_nvm\_eeprom\_spi}) \{
290         \textcolor{comment}{/* Toggle CS to flush commands */}
291         eecd |= \hyperlink{kmod_2igb_2e1000__defines_8h_a63b5ea13cbee48d279b7b62f7b5d4cab}{E1000\_EECD\_CS};
292         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
293         \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
294         \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(nvm->\hyperlink{structe1000__nvm__info_a3d6025c25095a2fa2809b29fd4fc5f8d}{delay\_usec});
295         eecd &= ~\hyperlink{kmod_2igb_2e1000__defines_8h_a63b5ea13cbee48d279b7b62f7b5d4cab}{E1000\_EECD\_CS};
296         \hyperlink{kmod_2igb_2e1000__osdep_8h_a1abfc0be38040f1742629204b6e61865}{E1000\_WRITE\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD}, eecd);
297         \hyperlink{kmod_2igb_2e1000__osdep_8h_abd4ee915cc9a2dadc190fa88437f8792}{E1000\_WRITE\_FLUSH}(hw);
298         \hyperlink{kmod_2igb_2e1000__osdep_8h_a43e7beeb12e2b50153ba0f215b68bb85}{usec\_delay}(nvm->\hyperlink{structe1000__nvm__info_a3d6025c25095a2fa2809b29fd4fc5f8d}{delay\_usec});
299     \}
300 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+stop\+\_\+nvm@{e1000\+\_\+stop\+\_\+nvm}}
\index{e1000\+\_\+stop\+\_\+nvm@{e1000\+\_\+stop\+\_\+nvm}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+stop\+\_\+nvm(struct e1000\+\_\+hw $\ast$hw)}{e1000_stop_nvm(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}static void e1000\+\_\+stop\+\_\+nvm (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{e1000__nvm_8c_aae7064ad10a7d90f1d85dbb38af3621e}{}\label{e1000__nvm_8c_aae7064ad10a7d90f1d85dbb38af3621e}
e1000\+\_\+stop\+\_\+nvm -\/ Terminate E\+E\+P\+R\+OM command \+: pointer to the HW structure

Terminates the current command by inverting the E\+E\+P\+R\+OM\textquotesingle{}s chip select pin. 

e1000\+\_\+nvm.\+c 파일의 308 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
309 \{
310     \hyperlink{lib_2igb_2e1000__osdep_8h_a64e91c10a0d8fb627e92932050284264}{u32} eecd;
311 
312     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_stop\_nvm"});
313 
314     eecd = \hyperlink{kmod_2igb_2e1000__osdep_8h_a28390efdfdfb1e1cd1b033d021906a47}{E1000\_READ\_REG}(hw, \hyperlink{kmod_2igb_2e1000__regs_8h_aecafc628fdb535d6ee60009e3460ada9}{E1000\_EECD});
315     \textcolor{keywordflow}{if} (hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_aed407b4a0d2f26f9223d7bfa7bb2ad5b}{type} == \hyperlink{kmod_2igb_2e1000__hw_8h_ab9395833db36010a400eea73d9f90effa41816c9f61f1d97dacdccaeb203f90f9}{e1000\_nvm\_eeprom\_spi}) \{
316         \textcolor{comment}{/* Pull CS high */}
317         eecd |= \hyperlink{kmod_2igb_2e1000__defines_8h_a63b5ea13cbee48d279b7b62f7b5d4cab}{E1000\_EECD\_CS};
318         \hyperlink{e1000__nvm_8c_abede7a60885fbdd90a7715da2e2b5994}{e1000\_lower\_eec\_clk}(hw, &eecd);
319     \}
320 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{e1000__nvm_8c_aae7064ad10a7d90f1d85dbb38af3621e_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_aae7064ad10a7d90f1d85dbb38af3621e_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic@{e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic}}
\index{e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic@{e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_update_nvm_checksum_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a4e7c937c56f8af64dc6b33974a986276}{}\label{e1000__nvm_8c_a4e7c937c56f8af64dc6b33974a986276}
e1000\+\_\+update\+\_\+nvm\+\_\+checksum\+\_\+generic -\/ Update E\+E\+P\+R\+OM checksum \+: pointer to the HW structure

Updates the E\+E\+P\+R\+OM checksum by reading/adding each word of the E\+E\+P\+R\+OM up to the checksum. Then calculates the E\+E\+P\+R\+OM checksum and writes the value to the E\+E\+P\+R\+OM. 

e1000\+\_\+nvm.\+c 파일의 819 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
820 \{
821     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val;
822     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} checksum = 0;
823     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i, nvm\_data;
824 
825     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_update\_nvm\_checksum"});
826 
827     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{kmod_2igb_2e1000__defines_8h_ac9d067abb7c0d057f3303579ecd36059}{NVM\_CHECKSUM\_REG}; i++) \{
828         ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, i, 1, &nvm\_data);
829         \textcolor{keywordflow}{if} (ret\_val) \{
830             \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error while updating checksum.\(\backslash\)n"});
831             \textcolor{keywordflow}{return} ret\_val;
832         \}
833         checksum += nvm\_data;
834     \}
835     checksum = (\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16}) \hyperlink{kmod_2igb_2e1000__defines_8h_acdf2bf8160ceaf1cd1765f5b72832c85}{NVM\_SUM} - checksum;
836     ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_ad977e40c9bb9fb3573455e2614560108}{write}(hw, NVM\_CHECKSUM\_REG, 1, &checksum);
837     \textcolor{keywordflow}{if} (ret\_val)
838         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Write Error while updating checksum.\(\backslash\)n"});
839 
840     \textcolor{keywordflow}{return} ret\_val;
841 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a4e7c937c56f8af64dc6b33974a986276_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic@{e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic}}
\index{e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic@{e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic(struct e1000\+\_\+hw $\ast$hw)}{e1000_validate_nvm_checksum_generic(struct e1000_hw *hw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_ae3402541b253b31da66c2be503f2389a}{}\label{e1000__nvm_8c_ae3402541b253b31da66c2be503f2389a}
e1000\+\_\+validate\+\_\+nvm\+\_\+checksum\+\_\+generic -\/ Validate E\+E\+P\+R\+OM checksum \+: pointer to the HW structure

Calculates the E\+E\+P\+R\+OM checksum by reading/adding each word of the E\+E\+P\+R\+OM and then verifies that the sum of the E\+E\+P\+R\+OM is equal to 0x\+B\+A\+BA. 

e1000\+\_\+nvm.\+c 파일의 786 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
787 \{
788     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val;
789     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} checksum = 0;
790     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} i, nvm\_data;
791 
792     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_validate\_nvm\_checksum\_generic"});
793 
794     \textcolor{keywordflow}{for} (i = 0; i < (\hyperlink{kmod_2igb_2e1000__defines_8h_ac9d067abb7c0d057f3303579ecd36059}{NVM\_CHECKSUM\_REG} + 1); i++) \{
795         ret\_val = hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm}.\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a9941dbe5edf45a3e1dc201339ebe8855}{read}(hw, i, 1, &nvm\_data);
796         \textcolor{keywordflow}{if} (ret\_val) \{
797             \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Read Error\(\backslash\)n"});
798             \textcolor{keywordflow}{return} ret\_val;
799         \}
800         checksum += nvm\_data;
801     \}
802 
803     \textcolor{keywordflow}{if} (checksum != (\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16}) \hyperlink{kmod_2igb_2e1000__defines_8h_acdf2bf8160ceaf1cd1765f5b72832c85}{NVM\_SUM}) \{
804         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"NVM Checksum Invalid\(\backslash\)n"});
805         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
806     \}
807 
808     \textcolor{keywordflow}{return} \hyperlink{kmod_2igb_2e1000__defines_8h_ade686b442ce8b2b1dede6968fec28c10}{E1000\_SUCCESS};
809 \}
\end{DoxyCode}


이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_ae3402541b253b31da66c2be503f2389a_icgraph}
\end{center}
\end{figure}


\index{e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}!e1000\+\_\+write\+\_\+nvm\+\_\+spi@{e1000\+\_\+write\+\_\+nvm\+\_\+spi}}
\index{e1000\+\_\+write\+\_\+nvm\+\_\+spi@{e1000\+\_\+write\+\_\+nvm\+\_\+spi}!e1000\+\_\+nvm.\+c@{e1000\+\_\+nvm.\+c}}
\subsubsection[{\texorpdfstring{e1000\+\_\+write\+\_\+nvm\+\_\+spi(struct e1000\+\_\+hw $\ast$hw, u16 offset, u16 words, u16 $\ast$data)}{e1000_write_nvm_spi(struct e1000_hw *hw, u16 offset, u16 words, u16 *data)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s32} e1000\+\_\+write\+\_\+nvm\+\_\+spi (
\begin{DoxyParamCaption}
\item[{struct {\bf e1000\+\_\+hw} $\ast$}]{hw, }
\item[{{\bf u16}}]{offset, }
\item[{{\bf u16}}]{words, }
\item[{{\bf u16} $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{e1000__nvm_8c_a5261c4d513480fdab42dae202eaebc98}{}\label{e1000__nvm_8c_a5261c4d513480fdab42dae202eaebc98}
e1000\+\_\+write\+\_\+nvm\+\_\+spi -\/ Write to E\+E\+P\+R\+OM using S\+PI \+: pointer to the HW structure \+: offset within the E\+E\+P\+R\+OM to be written to \+: number of words to write \+: 16 bit word(s) to be written to the E\+E\+P\+R\+OM

Writes data to E\+E\+P\+R\+OM at offset using S\+PI interface.

If e1000\+\_\+update\+\_\+nvm\+\_\+checksum is not called after this function , the E\+E\+P\+R\+OM will most likely contain an invalid checksum. 

e1000\+\_\+nvm.\+c 파일의 507 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
508 \{
509     \textcolor{keyword}{struct }\hyperlink{structe1000__nvm__info}{e1000\_nvm\_info} *nvm = &hw->\hyperlink{structe1000__hw_ac6844c747771b07e1682238abdb95fdd}{nvm};
510     \hyperlink{lib_2igb_2e1000__osdep_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32} ret\_val = -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
511     \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} widx = 0;
512 
513     \hyperlink{kmod_2igb_2e1000__osdep_8h_aa7aa4601bde10555b6aa50cd14dba16d}{DEBUGFUNC}(\textcolor{stringliteral}{"e1000\_write\_nvm\_spi"});
514 
515     \textcolor{comment}{/* A check for invalid values:  offset too large, too many words,}
516 \textcolor{comment}{     * and not enough words.}
517 \textcolor{comment}{     */}
518     \textcolor{keywordflow}{if} ((offset >= nvm->\hyperlink{structe1000__nvm__info_af882c5e0880f3f4119b0aef0f7aa9357}{word\_size}) || (words > (nvm->\hyperlink{structe1000__nvm__info_af882c5e0880f3f4119b0aef0f7aa9357}{word\_size} - offset)) ||
519         (words == 0)) \{
520         \hyperlink{kmod_2igb_2e1000__osdep_8h_a3732dd7571f0d578b722df9d5a6e8c9a}{DEBUGOUT}(\textcolor{stringliteral}{"nvm parameter(s) out of bounds\(\backslash\)n"});
521         \textcolor{keywordflow}{return} -\hyperlink{kmod_2igb_2e1000__defines_8h_af3a521f3b56094a2f9019e0aa48ada4a}{E1000\_ERR\_NVM};
522     \}
523 
524     \textcolor{keywordflow}{while} (widx < words) \{
525         \hyperlink{lib_2igb_2e1000__osdep_8h_a8baca7e76da9e0e11ce3a275dd19130c}{u8} write\_opcode = \hyperlink{kmod_2igb_2e1000__defines_8h_ac7f85702cacc0ac9fdf7a19557dceae0}{NVM\_WRITE\_OPCODE\_SPI};
526 
527         ret\_val = nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a8509a9e3db6050cb00cecc1a855a70ed}{acquire}(hw);
528         \textcolor{keywordflow}{if} (ret\_val)
529             \textcolor{keywordflow}{return} ret\_val;
530 
531         ret\_val = \hyperlink{e1000__nvm_8c_a2fed109b18d37e2c46c3a8a1ddc5b95d}{e1000\_ready\_nvm\_eeprom}(hw);
532         \textcolor{keywordflow}{if} (ret\_val) \{
533             nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a057bf49d5a21aeee7fcfd364257cb772}{release}(hw);
534             \textcolor{keywordflow}{return} ret\_val;
535         \}
536 
537         \hyperlink{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{e1000\_standby\_nvm}(hw);
538 
539         \textcolor{comment}{/* Send the WRITE ENABLE command (8 bit opcode) */}
540         \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, \hyperlink{kmod_2igb_2e1000__defines_8h_acb772fb36dfd1848bd1b045cc0b8ba1c}{NVM\_WREN\_OPCODE\_SPI},
541                      nvm->\hyperlink{structe1000__nvm__info_a2a55e8d34044fa25950d407750b10128}{opcode\_bits});
542 
543         \hyperlink{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{e1000\_standby\_nvm}(hw);
544 
545         \textcolor{comment}{/* Some SPI eeproms use the 8th address bit embedded in the}
546 \textcolor{comment}{         * opcode}
547 \textcolor{comment}{         */}
548         \textcolor{keywordflow}{if} ((nvm->\hyperlink{structe1000__nvm__info_abb01723804d22f0c3c8a4fd503f26bf8}{address\_bits} == 8) && (offset >= 128))
549             write\_opcode |= \hyperlink{kmod_2igb_2e1000__defines_8h_af39cd489266cd36d0b3f0534dc2a1e2a}{NVM\_A8\_OPCODE\_SPI};
550 
551         \textcolor{comment}{/* Send the Write command (8-bit opcode + addr) */}
552         \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, write\_opcode, nvm->
      \hyperlink{structe1000__nvm__info_a2a55e8d34044fa25950d407750b10128}{opcode\_bits});
553         \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, (\hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16})((offset + widx) * 2),
554                      nvm->\hyperlink{structe1000__nvm__info_abb01723804d22f0c3c8a4fd503f26bf8}{address\_bits});
555 
556         \textcolor{comment}{/* Loop to allow for up to whole page write of eeprom */}
557         \textcolor{keywordflow}{while} (widx < words) \{
558             \hyperlink{lib_2igb_2e1000__osdep_8h_acdc9cf0314be0ae5a01d6d4379a95edd}{u16} word\_out = data[widx];
559             word\_out = (word\_out >> 8) | (word\_out << 8);
560             \hyperlink{e1000__nvm_8c_a0ad26b09b23d73e6804defd28ddec82f}{e1000\_shift\_out\_eec\_bits}(hw, word\_out, 16);
561             widx++;
562 
563             \textcolor{keywordflow}{if} ((((offset + widx) * 2) % nvm->\hyperlink{structe1000__nvm__info_a34d2a526ef0e03267a60568ead677ab5}{page\_size}) == 0) \{
564                 \hyperlink{e1000__nvm_8c_a0c54e21e9d21703c8b97f99b4fd20d78}{e1000\_standby\_nvm}(hw);
565                 \textcolor{keywordflow}{break};
566             \}
567         \}
568         \hyperlink{kmod_2igb_2e1000__osdep_8h_a112d66cf3347afa4dcb69db64604682f}{msec\_delay}(10);
569         nvm->\hyperlink{structe1000__nvm__info_a12baf99f899cbc083e85c8d1331a7773}{ops}.\hyperlink{structe1000__nvm__operations_a057bf49d5a21aeee7fcfd364257cb772}{release}(hw);
570     \}
571 
572     \textcolor{keywordflow}{return} ret\_val;
573 \}
\end{DoxyCode}


이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a5261c4d513480fdab42dae202eaebc98_cgraph}
\end{center}
\end{figure}




이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{e1000__nvm_8c_a5261c4d513480fdab42dae202eaebc98_icgraph}
\end{center}
\end{figure}


